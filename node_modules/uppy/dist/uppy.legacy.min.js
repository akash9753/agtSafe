"use strict";(function(){var jZ=Object.create;var eh=Object.defineProperty;var NZ=Object.getOwnPropertyDescriptor;var DZ=Object.getOwnPropertyNames;var UZ=Object.getPrototypeOf,MZ=Object.prototype.hasOwnProperty;var i=function(t,e){return eh(t,"name",{value:e,configurable:!0})};var N=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Hl=function(t,e){for(var r in e)eh(t,r,{get:e[r],enumerable:!0})},BZ=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var a=DZ(e),o=0,u=a.length,s;o<u;o++)s=a[o],!MZ.call(t,s)&&s!==r&&eh(t,s,{get:function(c){return e[c]}.bind(null,s),enumerable:!(n=NZ(e,s))||n.enumerable});return t};var Te=function(t,e,r){return r=t!=null?jZ(UZ(t)):{},BZ(e||!t||!t.__esModule?eh(r,"default",{value:t,enumerable:!0}):r,t)};var ve=N(function(Rit,A2){function Yu(t){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}i(Yu,"_typeof");var th=i(function(e){return e&&e.Math==Math&&e},"check");A2.exports=th((typeof globalThis=="undefined"?"undefined":Yu(globalThis))=="object"&&globalThis)||th((typeof window=="undefined"?"undefined":Yu(window))=="object"&&window)||th((typeof self=="undefined"?"undefined":Yu(self))=="object"&&self)||th((typeof global=="undefined"?"undefined":Yu(global))=="object"&&global)||function(){return this}()||Function("return this")()});var se=N(function(Tit,I2){I2.exports=function(t){try{return!!t()}catch(e){return!0}}});var Oe=N(function(Ait,k2){var $Z=se();k2.exports=!$Z(function(){return Object.defineProperty({},1,{get:i(function(){return 7},"get")})[1]!=7})});var Xu=N(function(Iit,q2){var zZ=se();q2.exports=!zZ(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var ce=N(function(kit,x2){var GZ=Xu(),rh=Function.prototype.call;x2.exports=GZ?rh.bind(rh):function(){return rh.apply(rh,arguments)}});var Vl=N(function(L2){"use strict";var C2={}.propertyIsEnumerable,F2=Object.getOwnPropertyDescriptor,HZ=F2&&!C2.call({1:2},1);L2.f=HZ?i(function(e){var r=F2(this,e);return!!r&&r.enumerable},"propertyIsEnumerable"):C2});var Cr=N(function(xit,j2){j2.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var le=N(function(Cit,U2){var N2=Xu(),D2=Function.prototype,VZ=D2.bind,_w=D2.call,WZ=N2&&VZ.bind(_w,_w);U2.exports=N2?function(t){return t&&WZ(t)}:function(t){return t&&function(){return _w.apply(t,arguments)}}});var mr=N(function(Fit,B2){var M2=le(),KZ=M2({}.toString),YZ=M2("".slice);B2.exports=function(t){return YZ(KZ(t),8,-1)}});var wi=N(function(Lit,$2){var XZ=le(),JZ=se(),QZ=mr(),Pw=Object,ZZ=XZ("".split);$2.exports=JZ(function(){return!Pw("z").propertyIsEnumerable(0)})?function(t){return QZ(t)=="String"?ZZ(t,""):Pw(t)}:Pw});var gt=N(function(jit,z2){var eee=TypeError;z2.exports=function(t){if(t==null)throw eee("Can't call method on "+t);return t}});var bt=N(function(Nit,G2){var tee=wi(),ree=gt();G2.exports=function(t){return tee(ree(t))}});var Pe=N(function(Dit,H2){H2.exports=function(t){return typeof t=="function"}});var Re=N(function(Uit,V2){function Ew(t){return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}i(Ew,"_typeof");var nee=Pe();V2.exports=function(t){return Ew(t)=="object"?t!==null:nee(t)}});var me=N(function(Mit,W2){var Rw=ve(),iee=Pe(),oee=i(function(e){return iee(e)?e:void 0},"aFunction");W2.exports=function(t,e){return arguments.length<2?oee(Rw[t]):Rw[t]&&Rw[t][e]}});var rr=N(function(Bit,K2){var aee=le();K2.exports=aee({}.isPrototypeOf)});var Oi=N(function($it,Y2){var uee=me();Y2.exports=uee("navigator","userAgent")||""});var go=N(function(zit,tx){var ex=ve(),Tw=Oi(),X2=ex.process,J2=ex.Deno,Q2=X2&&X2.versions||J2&&J2.version,Z2=Q2&&Q2.v8,wn,nh;Z2&&(wn=Z2.split("."),nh=wn[0]>0&&wn[0]<4?1:+(wn[0]+wn[1]));!nh&&Tw&&(wn=Tw.match(/Edge\/(\d+)/),(!wn||wn[1]>=74)&&(wn=Tw.match(/Chrome\/(\d+)/),wn&&(nh=+wn[1])));tx.exports=nh});var ya=N(function(Git,nx){var rx=go(),see=se();nx.exports=!!Object.getOwnPropertySymbols&&!see(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rx&&rx<41})});var Iw=N(function(Hit,ix){function Aw(t){return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}i(Aw,"_typeof");var lee=ya();ix.exports=lee&&!Symbol.sham&&Aw(Symbol.iterator)=="symbol"});var bo=N(function(Vit,ox){function kw(t){return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}i(kw,"_typeof");var cee=me(),fee=Pe(),pee=rr(),dee=Iw(),hee=Object;ox.exports=dee?function(t){return kw(t)=="symbol"}:function(t){var e=cee("Symbol");return fee(e)&&pee(e.prototype,hee(t))}});var wo=N(function(Wit,ax){var vee=String;ax.exports=function(t){try{return vee(t)}catch(e){return"Object"}}});var he=N(function(Kit,ux){var yee=Pe(),mee=wo(),gee=TypeError;ux.exports=function(t){if(yee(t))return t;throw gee(mee(t)+" is not a function")}});var It=N(function(Yit,sx){var bee=he();sx.exports=function(t,e){var r=t[e];return r==null?void 0:bee(r)}});var Fw=N(function(Xit,lx){var qw=ce(),xw=Pe(),Cw=Re(),wee=TypeError;lx.exports=function(t,e){var r,n;if(e==="string"&&xw(r=t.toString)&&!Cw(n=qw(r,t))||xw(r=t.valueOf)&&!Cw(n=qw(r,t))||e!=="string"&&xw(r=t.toString)&&!Cw(n=qw(r,t)))return n;throw wee("Can't convert object to primitive value")}});var rt=N(function(Jit,cx){cx.exports=!1});var ih=N(function(Qit,px){var fx=ve(),Oee=Object.defineProperty;px.exports=function(t,e){try{Oee(fx,t,{value:e,configurable:!0,writable:!0})}catch(r){fx[t]=e}return e}});var Wl=N(function(Zit,hx){var See=ve(),_ee=ih(),dx="__core-js_shared__",Pee=See[dx]||_ee(dx,{});hx.exports=Pee});var Oo=N(function(eot,yx){var Eee=rt(),vx=Wl();(yx.exports=function(t,e){return vx[t]||(vx[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.24.1",mode:Eee?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var xe=N(function(tot,mx){var Ree=gt(),Tee=Object;mx.exports=function(t){return Tee(Ree(t))}});var Ae=N(function(rot,gx){var Aee=le(),Iee=xe(),kee=Aee({}.hasOwnProperty);gx.exports=Object.hasOwn||i(function(e,r){return kee(Iee(e),r)},"hasOwn")});var ma=N(function(not,bx){var qee=le(),xee=0,Cee=Math.random(),Fee=qee(1 .toString);bx.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Fee(++xee+Cee,36)}});var be=N(function(iot,Px){var Lee=ve(),jee=Oo(),wx=Ae(),Nee=ma(),Ox=ya(),_x=Iw(),Ju=jee("wks"),ga=Lee.Symbol,Sx=ga&&ga.for,Dee=_x?ga:ga&&ga.withoutSetter||Nee;Px.exports=function(t){if(!wx(Ju,t)||!(Ox||typeof Ju[t]=="string")){var e="Symbol."+t;Ox&&wx(ga,t)?Ju[t]=ga[t]:_x&&Sx?Ju[t]=Sx(e):Ju[t]=Dee(e)}return Ju[t]}});var oh=N(function(oot,Tx){var Uee=ce(),Ex=Re(),Rx=bo(),Mee=It(),Bee=Fw(),$ee=be(),zee=TypeError,Gee=$ee("toPrimitive");Tx.exports=function(t,e){if(!Ex(t)||Rx(t))return t;var r=Mee(t,Gee),n;if(r){if(e===void 0&&(e="default"),n=Uee(r,t,e),!Ex(n)||Rx(n))return n;throw zee("Can't convert object to primitive value")}return e===void 0&&(e="number"),Bee(t,e)}});var Bn=N(function(aot,Ax){var Hee=oh(),Vee=bo();Ax.exports=function(t){var e=Hee(t,"string");return Vee(e)?e:e+""}});var Kl=N(function(uot,kx){var Wee=ve(),Ix=Re(),Lw=Wee.document,Kee=Ix(Lw)&&Ix(Lw.createElement);kx.exports=function(t){return Kee?Lw.createElement(t):{}}});var jw=N(function(sot,qx){var Yee=Oe(),Xee=se(),Jee=Kl();qx.exports=!Yee&&!Xee(function(){return Object.defineProperty(Jee("div"),"a",{get:i(function(){return 7},"get")}).a!=7})});var Mt=N(function(Cx){var Qee=Oe(),Zee=ce(),ete=Vl(),tte=Cr(),rte=bt(),nte=Bn(),ite=Ae(),ote=jw(),xx=Object.getOwnPropertyDescriptor;Cx.f=Qee?xx:i(function(e,r){if(e=rte(e),r=nte(r),ote)try{return xx(e,r)}catch(n){}if(ite(e,r))return tte(!Zee(ete.f,e,r),e[r])},"getOwnPropertyDescriptor")});var Nw=N(function(cot,Fx){var ate=Oe(),ute=se();Fx.exports=ate&&ute(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var te=N(function(fot,Lx){var ste=Re(),lte=String,cte=TypeError;Lx.exports=function(t){if(ste(t))return t;throw cte(lte(t)+" is not an object")}});var We=N(function(Nx){var fte=Oe(),pte=jw(),dte=Nw(),ah=te(),jx=Bn(),hte=TypeError,Dw=Object.defineProperty,vte=Object.getOwnPropertyDescriptor,Uw="enumerable",Mw="configurable",Bw="writable";Nx.f=fte?dte?i(function(e,r,n){if(ah(e),r=jx(r),ah(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Bw in n&&!n[Bw]){var a=vte(e,r);a&&a[Bw]&&(e[r]=n.value,n={configurable:Mw in n?n[Mw]:a[Mw],enumerable:Uw in n?n[Uw]:a[Uw],writable:!1})}return Dw(e,r,n)},"defineProperty"):Dw:i(function(e,r,n){if(ah(e),r=jx(r),ah(n),pte)try{return Dw(e,r,n)}catch(a){}if("get"in n||"set"in n)throw hte("Accessors not supported");return"value"in n&&(e[r]=n.value),e},"defineProperty")});var kt=N(function(dot,Dx){var yte=Oe(),mte=We(),gte=Cr();Dx.exports=yte?function(t,e,r){return mte.f(t,e,gte(1,r))}:function(t,e,r){return t[e]=r,t}});var ba=N(function(hot,Mx){var $w=Oe(),bte=Ae(),Ux=Function.prototype,wte=$w&&Object.getOwnPropertyDescriptor,zw=bte(Ux,"name"),Ote=zw&&i(function(){},"something").name==="something",Ste=zw&&(!$w||$w&&wte(Ux,"name").configurable);Mx.exports={EXISTS:zw,PROPER:Ote,CONFIGURABLE:Ste}});var Qu=N(function(vot,Bx){var _te=le(),Pte=Pe(),Gw=Wl(),Ete=_te(Function.toString);Pte(Gw.inspectSource)||(Gw.inspectSource=function(t){return Ete(t)});Bx.exports=Gw.inspectSource});var Hw=N(function(yot,zx){var Rte=ve(),Tte=Pe(),Ate=Qu(),$x=Rte.WeakMap;zx.exports=Tte($x)&&/native code/.test(Ate($x))});var Yl=N(function(mot,Hx){var Ite=Oo(),kte=ma(),Gx=Ite("keys");Hx.exports=function(t){return Gx[t]||(Gx[t]=kte(t))}});var Zu=N(function(got,Vx){Vx.exports={}});var Ye=N(function(bot,Jx){var qte=Hw(),Xx=ve(),Vw=le(),xte=Re(),Cte=kt(),Ww=Ae(),Kw=Wl(),Fte=Yl(),Lte=Zu(),Wx="Object already initialized",Xw=Xx.TypeError,jte=Xx.WeakMap,uh,Xl,sh,Nte=i(function(e){return sh(e)?Xl(e):uh(e,{})},"enforce"),Dte=i(function(e){return function(r){var n;if(!xte(r)||(n=Xl(r)).type!==e)throw Xw("Incompatible receiver, "+e+" required");return n}},"getterFor");qte||Kw.state?(So=Kw.state||(Kw.state=new jte),Kx=Vw(So.get),Yw=Vw(So.has),Yx=Vw(So.set),uh=i(function(e,r){if(Yw(So,e))throw new Xw(Wx);return r.facade=e,Yx(So,e,r),r},"set"),Xl=i(function(e){return Kx(So,e)||{}},"get"),sh=i(function(e){return Yw(So,e)},"has")):(wa=Fte("state"),Lte[wa]=!0,uh=i(function(e,r){if(Ww(e,wa))throw new Xw(Wx);return r.facade=e,Cte(e,wa,r),r},"set"),Xl=i(function(e){return Ww(e,wa)?e[wa]:{}},"get"),sh=i(function(e){return Ww(e,wa)},"has"));var So,Kx,Yw,Yx,wa;Jx.exports={set:uh,get:Xl,has:sh,enforce:Nte,getterFor:Dte}});var fh=N(function(wot,Zx){var Ute=se(),Mte=Pe(),lh=Ae(),Jw=Oe(),Bte=ba().CONFIGURABLE,$te=Qu(),Qx=Ye(),zte=Qx.enforce,Gte=Qx.get,ch=Object.defineProperty,Hte=Jw&&!Ute(function(){return ch(function(){},"length",{value:8}).length!==8}),Vte=String(String).split("String"),Wte=Zx.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!lh(t,"name")||Bte&&t.name!==e)&&(Jw?ch(t,"name",{value:e,configurable:!0}):t.name=e),Hte&&r&&lh(r,"arity")&&t.length!==r.arity&&ch(t,"length",{value:r.arity});try{r&&lh(r,"constructor")&&r.constructor?Jw&&ch(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(a){}var n=zte(t);return lh(n,"source")||(n.source=Vte.join(typeof e=="string"?e:"")),t};Function.prototype.toString=Wte(i(function(){return Mte(this)&&Gte(this).source||$te(this)},"toString"),"toString")});var nt=N(function(Oot,eC){var Kte=Pe(),Yte=We(),Xte=fh(),Jte=ih();eC.exports=function(t,e,r,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:e;if(Kte(r)&&Xte(r,o,n),n.global)a?t[e]=r:Jte(e,r);else{try{n.unsafe?t[e]&&(a=!0):delete t[e]}catch(u){}a?t[e]=r:Yte.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var Qw=N(function(Sot,tC){var Qte=Math.ceil,Zte=Math.floor;tC.exports=Math.trunc||i(function(e){var r=+e;return(r>0?Zte:Qte)(r)},"trunc")});var ut=N(function(_ot,rC){var ere=Qw();rC.exports=function(t){var e=+t;return e!==e||e===0?0:ere(e)}});var On=N(function(Pot,nC){var tre=ut(),rre=Math.max,nre=Math.min;nC.exports=function(t,e){var r=tre(t);return r<0?rre(r+e,0):nre(r,e)}});var Fr=N(function(Eot,iC){var ire=ut(),ore=Math.min;iC.exports=function(t){return t>0?ore(ire(t),9007199254740991):0}});var Le=N(function(Rot,oC){var are=Fr();oC.exports=function(t){return are(t.length)}});var Jl=N(function(Tot,uC){var ure=bt(),sre=On(),lre=Le(),aC=i(function(e){return function(r,n,a){var o=ure(r),u=lre(o),s=sre(a,u),c;if(e&&n!=n){for(;u>s;)if(c=o[s++],c!=c)return!0}else for(;u>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},"createMethod");uC.exports={includes:aC(!0),indexOf:aC(!1)}});var e0=N(function(Aot,lC){var cre=le(),Zw=Ae(),fre=bt(),pre=Jl().indexOf,dre=Zu(),sC=cre([].push);lC.exports=function(t,e){var r=fre(t),n=0,a=[],o;for(o in r)!Zw(dre,o)&&Zw(r,o)&&sC(a,o);for(;e.length>n;)Zw(r,o=e[n++])&&(~pre(a,o)||sC(a,o));return a}});var ph=N(function(Iot,cC){cC.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Si=N(function(fC){var hre=e0(),vre=ph(),yre=vre.concat("length","prototype");fC.f=Object.getOwnPropertyNames||i(function(e){return hre(e,yre)},"getOwnPropertyNames")});var Ql=N(function(pC){pC.f=Object.getOwnPropertySymbols});var dh=N(function(xot,dC){var mre=me(),gre=le(),bre=Si(),wre=Ql(),Ore=te(),Sre=gre([].concat);dC.exports=mre("Reflect","ownKeys")||i(function(e){var r=bre.f(Ore(e)),n=wre.f;return n?Sre(r,n(e)):r},"ownKeys")});var Zl=N(function(Cot,vC){var hC=Ae(),_re=dh(),Pre=Mt(),Ere=We();vC.exports=function(t,e,r){for(var n=_re(e),a=Ere.f,o=Pre.f,u=0;u<n.length;u++){var s=n[u];!hC(t,s)&&!(r&&hC(r,s))&&a(t,s,o(e,s))}}});var es=N(function(Fot,yC){var Rre=se(),Tre=Pe(),Are=/#|\.prototype\./,ec=i(function(e,r){var n=kre[Ire(e)];return n==xre?!0:n==qre?!1:Tre(r)?Rre(r):!!r},"isForced"),Ire=ec.normalize=function(t){return String(t).replace(Are,".").toLowerCase()},kre=ec.data={},qre=ec.NATIVE="N",xre=ec.POLYFILL="P";yC.exports=ec});var D=N(function(Lot,mC){function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}i(hh,"_typeof");var t0=ve(),Cre=Mt().f,Fre=kt(),Lre=nt(),jre=ih(),Nre=Zl(),Dre=es();mC.exports=function(t,e){var r=t.target,n=t.global,a=t.stat,o,u,s,c,f,d;if(n?u=t0:a?u=t0[r]||jre(r,{}):u=(t0[r]||{}).prototype,u)for(s in e){if(f=e[s],t.dontCallGetSet?(d=Cre(u,s),c=d&&d.value):c=u[s],o=Dre(n?s:r+(a?".":"#")+s,t.forced),!o&&c!==void 0){if(hh(f)==hh(c))continue;Nre(f,c)}(t.sham||c&&c.sham)&&Fre(f,"sham",!0),Lre(u,s,f,t)}}});var vh=N(function(jot,bC){var Ure=be(),Mre=Ure("toStringTag"),gC={};gC[Mre]="z";bC.exports=String(gC)==="[object z]"});var Sn=N(function(Not,wC){var Bre=vh(),$re=Pe(),yh=mr(),zre=be(),Gre=zre("toStringTag"),Hre=Object,Vre=yh(function(){return arguments}())=="Arguments",Wre=i(function(e,r){try{return e[r]}catch(n){}},"tryGet");wC.exports=Bre?yh:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Wre(e=Hre(t),Gre))=="string"?r:Vre?yh(e):(n=yh(e))=="Object"&&$re(e.callee)?"Arguments":n}});var je=N(function(Dot,OC){var Kre=Sn(),Yre=String;OC.exports=function(t){if(Kre(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Yre(t)}});var Oa=N(function(Uot,SC){var Xre=e0(),Jre=ph();SC.exports=Object.keys||i(function(e){return Xre(e,Jre)},"keys")});var mh=N(function(_C){var Qre=Oe(),Zre=Nw(),ene=We(),tne=te(),rne=bt(),nne=Oa();_C.f=Qre&&!Zre?Object.defineProperties:i(function(e,r){tne(e);for(var n=rne(r),a=nne(r),o=a.length,u=0,s;o>u;)ene.f(e,s=a[u++],n[s]);return e},"defineProperties")});var r0=N(function(Bot,PC){var ine=me();PC.exports=ine("document","documentElement")});var wt=N(function($ot,qC){var one=te(),ane=mh(),EC=ph(),une=Zu(),sne=r0(),lne=Kl(),cne=Yl(),RC=">",TC="<",i0="prototype",o0="script",IC=cne("IE_PROTO"),n0=i(function(){},"EmptyConstructor"),kC=i(function(e){return TC+o0+RC+e+TC+"/"+o0+RC},"scriptTag"),AC=i(function(e){e.write(kC("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),fne=i(function(){var e=lne("iframe"),r="java"+o0+":",n;return e.style.display="none",sne.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(kC("document.F=Object")),n.close(),n.F},"NullProtoObjectViaIFrame"),gh,bh=i(function(){try{gh=new ActiveXObject("htmlfile")}catch(r){}bh=typeof document!="undefined"?document.domain&&gh?AC(gh):fne():AC(gh);for(var e=EC.length;e--;)delete bh[i0][EC[e]];return bh()},"NullProtoObject");une[IC]=!0;qC.exports=Object.create||i(function(e,r){var n;return e!==null?(n0[i0]=one(e),n=new n0,n0[i0]=null,n[IC]=e):n=bh(),r===void 0?n:ane.f(n,r)},"create")});var $n=N(function(zot,xC){"use strict";var pne=Bn(),dne=We(),hne=Cr();xC.exports=function(t,e,r){var n=pne(e);n in t?dne.f(t,n,hne(0,r)):t[n]=r}});var ts=N(function(Got,FC){var CC=On(),vne=Le(),yne=$n(),mne=Array,gne=Math.max;FC.exports=function(t,e,r){for(var n=vne(t),a=CC(e,n),o=CC(r===void 0?n:r,n),u=mne(gne(o-a,0)),s=0;a<o;a++,s++)yne(u,s,t[a]);return u.length=s,u}});var wh=N(function(Hot,NC){function a0(t){return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}i(a0,"_typeof");var bne=mr(),wne=bt(),LC=Si().f,One=ts(),jC=(typeof window=="undefined"?"undefined":a0(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Sne=i(function(e){try{return LC(e)}catch(r){return One(jC)}},"getWindowNames");NC.exports.f=i(function(e){return jC&&bne(e)=="Window"?Sne(e):LC(wne(e))},"getOwnPropertyNames")});var u0=N(function(DC){var _ne=be();DC.f=_ne});var MC=N(function(Wot,UC){var Pne=ve();UC.exports=Pne});var st=N(function(Kot,$C){var BC=MC(),Ene=Ae(),Rne=u0(),Tne=We().f;$C.exports=function(t){var e=BC.Symbol||(BC.Symbol={});Ene(e,t)||Tne(e,t,{value:Rne.f(t)})}});var s0=N(function(Yot,zC){var Ane=ce(),Ine=me(),kne=be(),qne=nt();zC.exports=function(){var t=Ine("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=kne("toPrimitive");e&&!e[n]&&qne(e,n,function(a){return Ane(r,this)},{arity:1})}});var gr=N(function(Xot,HC){var xne=We().f,Cne=Ae(),Fne=be(),GC=Fne("toStringTag");HC.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Cne(t,GC)&&xne(t,GC,{configurable:!0,value:e})}});var Xe=N(function(Jot,WC){var VC=le(),Lne=he(),jne=Xu(),Nne=VC(VC.bind);WC.exports=function(t,e){return Lne(t),e===void 0?t:jne?Nne(t,e):function(){return t.apply(e,arguments)}}});var Sa=N(function(Qot,KC){var Dne=mr();KC.exports=Array.isArray||i(function(e){return Dne(e)=="Array"},"isArray")});var _n=N(function(Zot,ZC){var Une=le(),Mne=se(),YC=Pe(),Bne=Sn(),$ne=me(),zne=Qu(),XC=i(function(){},"noop"),Gne=[],JC=$ne("Reflect","construct"),l0=/^\s*(?:class|function)\b/,Hne=Une(l0.exec),Vne=!l0.exec(XC),tc=i(function(e){if(!YC(e))return!1;try{return JC(XC,Gne,e),!0}catch(r){return!1}},"isConstructor"),QC=i(function(e){if(!YC(e))return!1;switch(Bne(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Vne||!!Hne(l0,zne(e))}catch(r){return!0}},"isConstructor");QC.sham=!0;ZC.exports=!JC||Mne(function(){var t;return tc(tc.call)||!tc(Object)||!tc(function(){t=!0})||t})?QC:tc});var nF=N(function(eat,rF){var eF=Sa(),Wne=_n(),Kne=Re(),Yne=be(),Xne=Yne("species"),tF=Array;rF.exports=function(t){var e;return eF(t)&&(e=t.constructor,Wne(e)&&(e===tF||eF(e.prototype))?e=void 0:Kne(e)&&(e=e[Xne],e===null&&(e=void 0))),e===void 0?tF:e}});var _a=N(function(tat,iF){var Jne=nF();iF.exports=function(t,e){return new(Jne(t))(e===0?0:e)}});var Ot=N(function(rat,aF){var Qne=Xe(),Zne=le(),eie=wi(),tie=xe(),rie=Le(),nie=_a(),oF=Zne([].push),_o=i(function(e){var r=e==1,n=e==2,a=e==3,o=e==4,u=e==6,s=e==7,c=e==5||u;return function(f,d,y,m){for(var w=tie(f),_=eie(w),R=Qne(d,y),T=rie(_),E=0,A=m||nie,x=r?A(f,T):n||s?A(f,0):void 0,U,G;T>E;E++)if((c||E in _)&&(U=_[E],G=R(U,E,w),e))if(r)x[E]=G;else if(G)switch(e){case 3:return!0;case 5:return U;case 6:return E;case 2:oF(x,U)}else switch(e){case 4:return!1;case 7:oF(x,U)}return u?-1:a||o?o:x}},"createMethod");aF.exports={forEach:_o(0),map:_o(1),filter:_o(2),some:_o(3),every:_o(4),find:_o(5),findIndex:_o(6),filterReject:_o(7)}});var SF=N(function(){"use strict";var Oh=D(),g0=ve(),b0=ce(),iie=le(),oie=rt(),rs=Oe(),ns=ya(),aie=se(),Nt=Ae(),uie=rr(),d0=te(),Sh=bt(),w0=Bn(),sie=je(),h0=Cr(),nc=wt(),lF=Oa(),lie=Si(),cF=wh(),cie=Ql(),fF=Mt(),pF=We(),fie=mh(),dF=Vl(),c0=nt(),O0=Oo(),pie=Yl(),hF=Zu(),uF=ma(),die=be(),hie=u0(),vie=st(),yie=s0(),mie=gr(),vF=Ye(),_h=Ot().forEach,br=pie("hidden"),Ph="Symbol",ic="prototype",gie=vF.set,sF=vF.getterFor(Ph),en=Object[ic],Pa=g0.Symbol,rc=Pa&&Pa[ic],bie=g0.TypeError,f0=g0.QObject,yF=fF.f,Po=pF.f,mF=cF.f,wie=dF.f,gF=iie([].push),_i=O0("symbols"),oc=O0("op-symbols"),Oie=O0("wks"),v0=!f0||!f0[ic]||!f0[ic].findChild,y0=rs&&aie(function(){return nc(Po({},"a",{get:i(function(){return Po(this,"a",{value:7}).a},"get")})).a!=7})?function(t,e,r){var n=yF(en,e);n&&delete en[e],Po(t,e,r),n&&t!==en&&Po(en,e,n)}:Po,p0=i(function(e,r){var n=_i[e]=nc(rc);return gie(n,{type:Ph,tag:e,description:r}),rs||(n.description=r),n},"wrap"),Eh=i(function(e,r,n){e===en&&Eh(oc,r,n),d0(e);var a=w0(r);return d0(n),Nt(_i,a)?(n.enumerable?(Nt(e,br)&&e[br][a]&&(e[br][a]=!1),n=nc(n,{enumerable:h0(0,!1)})):(Nt(e,br)||Po(e,br,h0(1,{})),e[br][a]=!0),y0(e,a,n)):Po(e,a,n)},"defineProperty"),S0=i(function(e,r){d0(e);var n=Sh(r),a=lF(n).concat(OF(n));return _h(a,function(o){(!rs||b0(m0,n,o))&&Eh(e,o,n[o])}),e},"defineProperties"),Sie=i(function(e,r){return r===void 0?nc(e):S0(nc(e),r)},"create"),m0=i(function(e){var r=w0(e),n=b0(wie,this,r);return this===en&&Nt(_i,r)&&!Nt(oc,r)?!1:n||!Nt(this,r)||!Nt(_i,r)||Nt(this,br)&&this[br][r]?n:!0},"propertyIsEnumerable"),bF=i(function(e,r){var n=Sh(e),a=w0(r);if(!(n===en&&Nt(_i,a)&&!Nt(oc,a))){var o=yF(n,a);return o&&Nt(_i,a)&&!(Nt(n,br)&&n[br][a])&&(o.enumerable=!0),o}},"getOwnPropertyDescriptor"),wF=i(function(e){var r=mF(Sh(e)),n=[];return _h(r,function(a){!Nt(_i,a)&&!Nt(hF,a)&&gF(n,a)}),n},"getOwnPropertyNames"),OF=i(function(e){var r=e===en,n=mF(r?oc:Sh(e)),a=[];return _h(n,function(o){Nt(_i,o)&&(!r||Nt(en,o))&&gF(a,_i[o])}),a},"$getOwnPropertySymbols");ns||(Pa=i(function(){if(uie(rc,this))throw bie("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:sie(arguments[0]),r=uF(e),n=i(function a(o){this===en&&b0(a,oc,o),Nt(this,br)&&Nt(this[br],r)&&(this[br][r]=!1),y0(this,r,h0(1,o))},"setter");return rs&&v0&&y0(en,r,{configurable:!0,set:n}),p0(r,e)},"_Symbol"),rc=Pa[ic],c0(rc,"toString",i(function(){return sF(this).tag},"toString")),c0(Pa,"withoutSetter",function(t){return p0(uF(t),t)}),dF.f=m0,pF.f=Eh,fie.f=S0,fF.f=bF,lie.f=cF.f=wF,cie.f=OF,hie.f=function(t){return p0(die(t),t)},rs&&(Po(rc,"description",{configurable:!0,get:i(function(){return sF(this).description},"description")}),oie||c0(en,"propertyIsEnumerable",m0,{unsafe:!0})));Oh({global:!0,constructor:!0,wrap:!0,forced:!ns,sham:!ns},{Symbol:Pa});_h(lF(Oie),function(t){vie(t)});Oh({target:Ph,stat:!0,forced:!ns},{useSetter:i(function(){v0=!0},"useSetter"),useSimple:i(function(){v0=!1},"useSimple")});Oh({target:"Object",stat:!0,forced:!ns,sham:!rs},{create:Sie,defineProperty:Eh,defineProperties:S0,getOwnPropertyDescriptor:bF});Oh({target:"Object",stat:!0,forced:!ns},{getOwnPropertyNames:wF});yie();mie(Pa,Ph);hF[br]=!0});var _0=N(function(oat,_F){var _ie=ya();_F.exports=_ie&&!!Symbol.for&&!!Symbol.keyFor});var EF=N(function(){var Pie=D(),Eie=me(),Rie=Ae(),Tie=je(),PF=Oo(),Aie=_0(),P0=PF("string-to-symbol-registry"),Iie=PF("symbol-to-string-registry");Pie({target:"Symbol",stat:!0,forced:!Aie},{for:i(function(e){var r=Tie(e);if(Rie(P0,r))return P0[r];var n=Eie("Symbol")(r);return P0[r]=n,Iie[n]=r,n},"_for")})});var TF=N(function(){var kie=D(),qie=Ae(),xie=bo(),Cie=wo(),Fie=Oo(),Lie=_0(),RF=Fie("symbol-to-string-registry");kie({target:"Symbol",stat:!0,forced:!Lie},{keyFor:i(function(e){if(!xie(e))throw TypeError(Cie(e)+" is not a symbol");if(qie(RF,e))return RF[e]},"keyFor")})});var wr=N(function(cat,qF){function E0(t){return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}i(E0,"_typeof");var jie=Xu(),kF=Function.prototype,AF=kF.apply,IF=kF.call;qF.exports=(typeof Reflect=="undefined"?"undefined":E0(Reflect))=="object"&&Reflect.apply||(jie?IF.bind(AF):function(){return IF.apply(AF,arguments)})});var Eo=N(function(fat,xF){var Nie=le();xF.exports=Nie([].slice)});var R0=N(function(){var Die=D(),UF=me(),MF=wr(),Uie=ce(),ac=le(),BF=se(),Mie=Sa(),Bie=Pe(),$ie=Re(),CF=bo(),$F=Eo(),zie=ya(),Ro=UF("JSON","stringify"),Rh=ac(/./.exec),FF=ac("".charAt),Gie=ac("".charCodeAt),Hie=ac("".replace),Vie=ac(1 .toString),Wie=/[\uD800-\uDFFF]/g,LF=/^[\uD800-\uDBFF]$/,jF=/^[\uDC00-\uDFFF]$/,NF=!zie||BF(function(){var t=UF("Symbol")();return Ro([t])!="[null]"||Ro({a:t})!="{}"||Ro(Object(t))!="{}"}),DF=BF(function(){return Ro("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ro("\uDEAD")!=='"\\udead"'}),Kie=i(function(e,r){var n=$F(arguments),a=r;if(!(!$ie(r)&&e===void 0||CF(e)))return Mie(r)||(r=i(function(u,s){if(Bie(a)&&(s=Uie(a,this,u,s)),!CF(s))return s},"replacer")),n[1]=r,MF(Ro,null,n)},"stringifyWithSymbolsFix"),Yie=i(function(e,r,n){var a=FF(n,r-1),o=FF(n,r+1);return Rh(LF,e)&&!Rh(jF,o)||Rh(jF,e)&&!Rh(LF,a)?"\\u"+Vie(Gie(e,0),16):e},"fixIllFormed");Ro&&Die({target:"JSON",stat:!0,arity:3,forced:NF||DF},{stringify:i(function(e,r,n){var a=$F(arguments),o=MF(NF?Kie:Ro,null,a);return DF&&typeof o=="string"?Hie(o,Wie,Yie):o},"stringify")})});var GF=N(function(){var Xie=D(),Jie=ya(),Qie=se(),zF=Ql(),Zie=xe(),eoe=!Jie||Qie(function(){zF.f(1)});Xie({target:"Object",stat:!0,forced:eoe},{getOwnPropertySymbols:i(function(e){var r=zF.f;return r?r(Zie(e)):[]},"getOwnPropertySymbols")})});var I0=N(function(yat,JF){function A0(t){return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}i(A0,"_typeof");var Roe=Pe(),Toe=String,Aoe=TypeError;JF.exports=function(t){if(A0(t)=="object"||Roe(t))return t;throw Aoe("Can't set "+Toe(t)+" as a prototype")}});var zn=N(function(mat,QF){var Ioe=le(),koe=te(),qoe=I0();QF.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Ioe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return i(function(a,o){return koe(a),qoe(o),t?r(a,o):a.__proto__=o,a},"setPrototypeOf")}():void 0)});var k0=N(function(gat,ZF){var xoe=We().f;ZF.exports=function(t,e,r){r in t||xoe(t,r,{configurable:!0,get:i(function(){return e[r]},"get"),set:i(function(a){e[r]=a},"set")})}});var Ra=N(function(bat,tL){var Coe=Pe(),Foe=Re(),eL=zn();tL.exports=function(t,e,r){var n,a;return eL&&Coe(n=e.constructor)&&n!==r&&Foe(a=n.prototype)&&a!==r.prototype&&eL(t,a),t}});var is=N(function(wat,rL){var Loe=je();rL.exports=function(t,e){return t===void 0?arguments.length<2?"":e:Loe(t)}});var q0=N(function(Oat,nL){var joe=Re(),Noe=kt();nL.exports=function(t,e){joe(e)&&"cause"in e&&Noe(t,"cause",e.cause)}});var sc=N(function(Sat,aL){var Doe=le(),iL=Error,Uoe=Doe("".replace),Moe=function(t){return String(iL(t).stack)}("zxcasd"),oL=/\n\s*at [^:]*:[^\n]*/,Boe=oL.test(Moe);aL.exports=function(t,e){if(Boe&&typeof t=="string"&&!iL.prepareStackTrace)for(;e--;)t=Uoe(t,oL,"");return t}});var Ah=N(function(_at,uL){var $oe=se(),zoe=Cr();uL.exports=!$oe(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",zoe(1,7)),t.stack!==7):!0})});var C0=N(function(Pat,dL){"use strict";var sL=me(),Goe=Ae(),x0=kt(),Hoe=rr(),lL=zn(),cL=Zl(),fL=k0(),Voe=Ra(),Woe=is(),Koe=q0(),Yoe=sc(),Xoe=Ah(),Joe=Oe(),pL=rt();dL.exports=function(t,e,r,n){var a="stackTraceLimit",o=n?2:1,u=t.split("."),s=u[u.length-1],c=sL.apply(null,u);if(!!c){var f=c.prototype;if(!pL&&Goe(f,"cause")&&delete f.cause,!r)return c;var d=sL("Error"),y=e(function(m,w){var _=Woe(n?w:m,void 0),R=n?new c(m):new c;return _!==void 0&&x0(R,"message",_),Xoe&&x0(R,"stack",Yoe(R.stack,2)),this&&Hoe(f,this)&&Voe(R,this,y),arguments.length>o&&Koe(R,arguments[o]),R});if(y.prototype=f,s!=="Error"?lL?lL(y,d):cL(y,d,{name:!0}):Joe&&a in c&&(fL(y,c,a),fL(y,c,"prepareStackTrace")),cL(y,c),!pL)try{f.name!==s&&x0(f,"name",s),f.constructor=y}catch(m){}return y}}});var kh=N(function(Eat,mL){var Zoe=se();mL.exports=!Zoe(function(){function t(){}return i(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Bt=N(function(Rat,bL){var eae=Ae(),tae=Pe(),rae=xe(),nae=Yl(),iae=kh(),gL=nae("IE_PROTO"),j0=Object,oae=j0.prototype;bL.exports=iae?j0.getPrototypeOf:function(t){var e=rae(t);if(eae(e,gL))return e[gL];var r=e.constructor;return tae(r)&&e instanceof r?r.prototype:e instanceof j0?oae:null}});var os=N(function(Tat,wL){wL.exports={}});var qh=N(function(Aat,OL){var aae=be(),uae=os(),sae=aae("iterator"),lae=Array.prototype;OL.exports=function(t){return t!==void 0&&(uae.Array===t||lae[sae]===t)}});var Hn=N(function(Iat,_L){var cae=Sn(),SL=It(),fae=os(),pae=be(),dae=pae("iterator");_L.exports=function(t){if(t!=null)return SL(t,dae)||SL(t,"@@iterator")||fae[cae(t)]}});var tn=N(function(kat,PL){var hae=ce(),vae=he(),yae=te(),mae=wo(),gae=Hn(),bae=TypeError;PL.exports=function(t,e){var r=arguments.length<2?gae(t):e;if(vae(r))return yae(hae(r,t));throw bae(mae(t)+" is not iterable")}});var Aa=N(function(qat,RL){var wae=ce(),EL=te(),Oae=It();RL.exports=function(t,e,r){var n,a;EL(t);try{if(n=Oae(t,"return"),!n){if(e==="throw")throw r;return r}n=wae(n,t)}catch(o){a=!0,n=o}if(e==="throw")throw r;if(a)throw n;return EL(n),r}});var we=N(function(xat,kL){function N0(t){return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}i(N0,"_typeof");var Sae=Xe(),_ae=ce(),Pae=te(),Eae=wo(),Rae=qh(),Tae=Le(),TL=rr(),Aae=tn(),Iae=Hn(),AL=Aa(),kae=TypeError,xh=i(function(e,r){this.stopped=e,this.result=r},"Result"),IL=xh.prototype;kL.exports=function(t,e,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),c=Sae(e,n),f,d,y,m,w,_,R,T=i(function(x){return f&&AL(f,"normal",x),new xh(!0,x)},"stop"),E=i(function(x){return a?(Pae(x),s?c(x[0],x[1],T):c(x[0],x[1])):s?c(x,T):c(x)},"callFn");if(o)f=t.iterator;else if(u)f=t;else{if(d=Iae(t),!d)throw kae(Eae(t)+" is not iterable");if(Rae(d)){for(y=0,m=Tae(t);m>y;y++)if(w=E(t[y]),w&&TL(IL,w))return w;return new xh(!1)}f=Aae(t,d)}for(_=o?t.next:f.next;!(R=_ae(_,f)).done;){try{w=E(R.value)}catch(A){AL(f,"throw",A)}if(N0(w)=="object"&&w&&TL(IL,w))return w}return new xh(!1)}});var xL=N(function(){"use strict";var qae=D(),xae=rr(),Cae=Bt(),Fh=zn(),Fae=Zl(),qL=wt(),Ch=kt(),D0=Cr(),Lae=sc(),jae=q0(),Nae=we(),Dae=is(),Uae=be(),Mae=Ah(),Bae=Uae("toStringTag"),Lh=Error,$ae=[].push,lc=i(function(e,r){var n=arguments.length>2?arguments[2]:void 0,a=xae(U0,this),o;Fh?o=Fh(new Lh,a?Cae(this):U0):(o=a?this:qL(U0),Ch(o,Bae,"Error")),r!==void 0&&Ch(o,"message",Dae(r)),Mae&&Ch(o,"stack",Lae(o.stack,1)),jae(o,n);var u=[];return Nae(e,$ae,{that:u}),Ch(o,"errors",u),o},"AggregateError");Fh?Fh(lc,Lh):Fae(lc,Lh,{name:!0});var U0=lc.prototype=qL(Lh.prototype,{constructor:D0(1,lc),message:D0(1,""),name:D0(1,"AggregateError")});qae({global:!0,constructor:!0,arity:2},{AggregateError:lc})});var it=N(function(Lat,jL){var Wae=be(),Kae=wt(),Yae=We().f,B0=Wae("unscopables"),$0=Array.prototype;$0[B0]==null&&Yae($0,B0,{configurable:!0,value:Kae(null)});jL.exports=function(t){$0[B0][t]=!0}});var Ia=N(function(jat,NL){var tue=TypeError,rue=9007199254740991;NL.exports=function(t){if(t>rue)throw tue("Maximum allowed index exceeded");return t}});var as=N(function(Nat,DL){var nue=se(),iue=be(),oue=go(),aue=iue("species");DL.exports=function(t){return oue>=51||!nue(function(){var e=[],r=e.constructor={};return r[aue]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var jh=N(function(Dat,zL){"use strict";var $L=wo(),Oue=TypeError;zL.exports=function(t,e){if(!delete t[e])throw Oue("Cannot delete property "+$L(e)+" of "+$L(t))}});var G0=N(function(Uat,GL){"use strict";var Sue=xe(),z0=On(),_ue=Le(),Pue=jh(),Eue=Math.min;GL.exports=[].copyWithin||i(function(e,r){var n=Sue(this),a=_ue(n),o=z0(e,a),u=z0(r,a),s=arguments.length>2?arguments[2]:void 0,c=Eue((s===void 0?a:z0(s,a))-u,a-o),f=1;for(u<o&&o<u+c&&(f=-1,u+=c-1,o+=c-1);c-- >0;)u in n?n[o]=n[u]:Pue(n,o),o+=f,u+=f;return n},"copyWithin")});var Nh=N(function(Mat,VL){"use strict";var Iue=xe(),HL=On(),kue=Le();VL.exports=i(function(e){for(var r=Iue(this),n=kue(r),a=arguments.length,o=HL(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=u===void 0?n:HL(u,n);s>o;)r[o++]=e;return r},"fill")});var cc=N(function(Bat,XL){var Gue=Xe(),Hue=wi(),Vue=xe(),Wue=Le(),YL=i(function(e){var r=e==1;return function(n,a,o){for(var u=Vue(n),s=Hue(u),c=Gue(a,o),f=Wue(s),d,y;f-- >0;)if(d=s[f],y=c(d,f,u),y)switch(e){case 0:return d;case 1:return f}return r?-1:void 0}},"createMethod");XL.exports={findLast:YL(0),findLastIndex:YL(1)}});var W0=N(function($at,JL){"use strict";var ese=Sa(),tse=Le(),rse=Ia(),nse=Xe(),ise=i(function t(e,r,n,a,o,u,s,c){for(var f=o,d=0,y=s?nse(s,c):!1,m,w;d<a;)d in n&&(m=y?y(n[d],d,r):n[d],u>0&&ese(m)?(w=tse(m),f=t(e,r,m,w,f,u-1)-1):(rse(f+1),e[f]=m),f++),d++;return f},"flattenIntoArray");JL.exports=ise});var Dh=N(function(zat,QL){var mse=te(),gse=Aa();QL.exports=function(t,e,r,n){try{return n?e(mse(r)[0],r[1]):e(r)}catch(a){gse(t,"throw",a)}}});var K0=N(function(Gat,tj){"use strict";var bse=Xe(),wse=ce(),Ose=xe(),Sse=Dh(),_se=qh(),Pse=_n(),Ese=Le(),ZL=$n(),Rse=tn(),Tse=Hn(),ej=Array;tj.exports=i(function(e){var r=Ose(e),n=Pse(this),a=arguments.length,o=a>1?arguments[1]:void 0,u=o!==void 0;u&&(o=bse(o,a>2?arguments[2]:void 0));var s=Tse(r),c=0,f,d,y,m,w,_;if(s&&!(this===ej&&_se(s)))for(m=Rse(r,s),w=m.next,d=n?new this:[];!(y=wse(w,m)).done;c++)_=u?Sse(m,o,[y.value,c],!0):y.value,ZL(d,c,_);else for(f=Ese(r),d=n?new this(f):ej(f);f>c;c++)_=u?o(r[c],c):r[c],ZL(d,c,_);return d.length=c,d},"from")});var fc=N(function(Hat,oj){var Ase=be(),nj=Ase("iterator"),ij=!1;try{rj=0,Y0={next:i(function(){return{done:!!rj++}},"next"),return:i(function(){ij=!0},"_return")},Y0[nj]=function(){return this},Array.from(Y0,function(){throw 2})}catch(t){}var rj,Y0;oj.exports=function(t,e){if(!e&&!ij)return!1;var r=!1;try{var n={};n[nj]=function(){return{next:i(function(){return{done:r=!0}},"next")}},t(n)}catch(a){}return r}});var us=N(function(Vat,sj){"use strict";var Dse=se(),Use=Pe(),Mse=wt(),aj=Bt(),Bse=nt(),$se=be(),zse=rt(),Q0=$se("iterator"),uj=!1,Ei,X0,J0;[].keys&&(J0=[].keys(),"next"in J0?(X0=aj(aj(J0)),X0!==Object.prototype&&(Ei=X0)):uj=!0);var Gse=Ei==null||Dse(function(){var t={};return Ei[Q0].call(t)!==t});Gse?Ei={}:zse&&(Ei=Mse(Ei));Use(Ei[Q0])||Bse(Ei,Q0,function(){return this});sj.exports={IteratorPrototype:Ei,BUGGY_SAFARI_ITERATORS:uj}});var To=N(function(Wat,lj){"use strict";var Hse=us().IteratorPrototype,Vse=wt(),Wse=Cr(),Kse=gr(),Yse=os(),Xse=i(function(){return this},"returnThis");lj.exports=function(t,e,r,n){var a=e+" Iterator";return t.prototype=Vse(Hse,{next:Wse(+!n,r)}),Kse(t,a,!1,!0),Yse[a]=Xse,t}});var Bh=N(function(Kat,bj){"use strict";var Jse=D(),Qse=ce(),Uh=rt(),mj=ba(),Zse=Pe(),ele=To(),cj=Bt(),fj=zn(),tle=gr(),rle=kt(),Z0=nt(),nle=be(),pj=os(),gj=us(),ile=mj.PROPER,ole=mj.CONFIGURABLE,dj=gj.IteratorPrototype,Mh=gj.BUGGY_SAFARI_ITERATORS,pc=nle("iterator"),hj="keys",dc="values",vj="entries",yj=i(function(){return this},"returnThis");bj.exports=function(t,e,r,n,a,o,u){ele(r,e,n);var s=i(function(A){if(A===a&&m)return m;if(!Mh&&A in d)return d[A];switch(A){case hj:return i(function(){return new r(this,A)},"keys");case dc:return i(function(){return new r(this,A)},"values");case vj:return i(function(){return new r(this,A)},"entries")}return function(){return new r(this)}},"getIterationMethod"),c=e+" Iterator",f=!1,d=t.prototype,y=d[pc]||d["@@iterator"]||a&&d[a],m=!Mh&&y||s(a),w=e=="Array"&&d.entries||y,_,R,T;if(w&&(_=cj(w.call(new t)),_!==Object.prototype&&_.next&&(!Uh&&cj(_)!==dj&&(fj?fj(_,dj):Zse(_[pc])||Z0(_,pc,yj)),tle(_,c,!0,!0),Uh&&(pj[c]=yj))),ile&&a==dc&&y&&y.name!==dc&&(!Uh&&ole?rle(d,"name",dc):(f=!0,m=i(function(){return Qse(y,this)},"values"))),a)if(R={values:s(dc),keys:o?m:s(hj),entries:s(vj)},u)for(T in R)(Mh||f||!(T in d))&&Z0(d,T,R[T]);else Jse({target:e,proto:!0,forced:Mh||f},R);return(!Uh||u)&&d[pc]!==m&&Z0(d,pc,m,{name:a}),pj[e]=m,R}});var hc=N(function(Yat,Pj){"use strict";var ale=bt(),eO=it(),wj=os(),Sj=Ye(),ule=We().f,sle=Bh(),lle=rt(),cle=Oe(),_j="Array Iterator",fle=Sj.set,ple=Sj.getterFor(_j);Pj.exports=sle(Array,"Array",function(t,e){fle(this,{type:_j,target:ale(t),index:0,kind:e})},function(){var t=ple(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var Oj=wj.Arguments=wj.Array;eO("keys");eO("values");eO("entries");if(!lle&&cle&&Oj.name!=="values")try{ule(Oj,"name",{value:"values"})}catch(t){}});var ka=N(function(Xat,Ej){"use strict";var dle=se();Ej.exports=function(t,e){var r=[][t];return!!r&&dle(function(){r.call(null,e||function(){return 1},1)})}});var $h=N(function(Jat,kj){var Ij=ts(),Xle=Math.floor,Jle=i(function t(e,r){var n=e.length,a=Xle(n/2);return n<8?Qle(e,r):Zle(e,t(Ij(e,0,a),r),t(Ij(e,a),r),r)},"mergeSort"),Qle=i(function(e,r){for(var n=e.length,a=1,o,u;a<n;){for(u=a,o=e[a];u&&r(e[u-1],o)>0;)e[u]=e[--u];u!==a++&&(e[u]=o)}return e},"insertionSort"),Zle=i(function(e,r,n,a){for(var o=r.length,u=n.length,s=0,c=0;s<o||c<u;)e[s+c]=s<o&&c<u?a(r[s],n[c])<=0?r[s++]:n[c++]:s<o?r[s++]:n[c++];return e},"merge");kj.exports=Jle});var rO=N(function(Qat,xj){var ece=Oi(),qj=ece.match(/firefox\/(\d+)/i);xj.exports=!!qj&&+qj[1]});var nO=N(function(Zat,Cj){var tce=Oi();Cj.exports=/MSIE|Trident/.test(tce)});var zh=N(function(eut,Lj){var rce=Oi(),Fj=rce.match(/AppleWebKit\/(\d+)\./);Lj.exports=!!Fj&&+Fj[1]});var Io=N(function(tut,Gj){"use strict";var mce=me(),gce=We(),bce=be(),wce=Oe(),zj=bce("species");Gj.exports=function(t){var e=mce(t),r=gce.f;wce&&e&&!e[zj]&&r(e,zj,{configurable:!0,get:i(function(){return this},"get")})}});var aO=N(function(rut,Hj){Hj.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var Vn=N(function(nut,Vj){var jce=nt();Vj.exports=function(t,e,r){for(var n in e)jce(t,n,e[n],r);return t}});var Or=N(function(iut,Wj){var Nce=rr(),Dce=TypeError;Wj.exports=function(t,e){if(Nce(e,t))return t;throw Dce("Incorrect invocation")}});var uO=N(function(out,Kj){var Uce=ut(),Mce=Fr(),Bce=RangeError;Kj.exports=function(t){if(t===void 0)return 0;var e=Uce(t),r=Mce(e);if(e!==r)throw Bce("Wrong length or index");return r}});var Xj=N(function(aut,Yj){var $ce=Array,zce=Math.abs,Ri=Math.pow,Gce=Math.floor,Hce=Math.log,Vce=Math.LN2,Wce=i(function(e,r,n){var a=$ce(n),o=n*8-r-1,u=(1<<o)-1,s=u>>1,c=r===23?Ri(2,-24)-Ri(2,-77):0,f=e<0||e===0&&1/e<0?1:0,d=0,y,m,w;for(e=zce(e),e!=e||e===1/0?(m=e!=e?1:0,y=u):(y=Gce(Hce(e)/Vce),w=Ri(2,-y),e*w<1&&(y--,w*=2),y+s>=1?e+=c/w:e+=c*Ri(2,1-s),e*w>=2&&(y++,w/=2),y+s>=u?(m=0,y=u):y+s>=1?(m=(e*w-1)*Ri(2,r),y=y+s):(m=e*Ri(2,s-1)*Ri(2,r),y=0));r>=8;)a[d++]=m&255,m/=256,r-=8;for(y=y<<r|m,o+=r;o>0;)a[d++]=y&255,y/=256,o-=8;return a[--d]|=f*128,a},"pack"),Kce=i(function(e,r){var n=e.length,a=n*8-r-1,o=(1<<a)-1,u=o>>1,s=a-7,c=n-1,f=e[c--],d=f&127,y;for(f>>=7;s>0;)d=d*256+e[c--],s-=8;for(y=d&(1<<-s)-1,d>>=-s,s+=r;s>0;)y=y*256+e[c--],s-=8;if(d===0)d=1-u;else{if(d===o)return y?NaN:f?-1/0:1/0;y=y+Ri(2,r),d=d-u}return(f?-1:1)*y*Ri(2,d-r)},"unpack");Yj.exports={pack:Wce,unpack:Kce}});var vO=N(function(uut,vN){"use strict";var Xh=ve(),hO=le(),sO=Oe(),Yce=aO(),sN=ba(),Jj=kt(),Qj=Vn(),lO=se(),Gh=Or(),Xce=ut(),Jce=Fr(),Wh=uO(),lN=Xj(),Qce=Bt(),Zj=zn(),Zce=Si().f,efe=We().f,tfe=Nh(),rfe=ts(),cN=gr(),fN=Ye(),nfe=sN.PROPER,eN=sN.CONFIGURABLE,cs=fN.get,tN=fN.set,Kh="ArrayBuffer",pN="DataView",ls="prototype",ife="Wrong length",dN="Wrong index",Pn=Xh[Kh],Lr=Pn,ss=Lr&&Lr[ls],Wn=Xh[pN],qa=Wn&&Wn[ls],rN=Object.prototype,ofe=Xh.Array,Yh=Xh.RangeError,afe=hO(tfe),ufe=hO([].reverse),hN=lN.pack,nN=lN.unpack,iN=i(function(e){return[e&255]},"packInt8"),oN=i(function(e){return[e&255,e>>8&255]},"packInt16"),aN=i(function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},"packInt32"),uN=i(function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},"unpackInt32"),sfe=i(function(e){return hN(e,23,4)},"packFloat32"),lfe=i(function(e){return hN(e,52,8)},"packFloat64"),Hh=i(function(e,r){efe(e[ls],r,{get:i(function(){return cs(this)[r]},"get")})},"addGetter"),ko=i(function(e,r,n,a){var o=Wh(n),u=cs(e);if(o+r>u.byteLength)throw Yh(dN);var s=cs(u.buffer).bytes,c=o+u.byteOffset,f=rfe(s,c,c+r);return a?f:ufe(f)},"get"),qo=i(function(e,r,n,a,o,u){var s=Wh(n),c=cs(e);if(s+r>c.byteLength)throw Yh(dN);for(var f=cs(c.buffer).bytes,d=s+c.byteOffset,y=a(+o),m=0;m<r;m++)f[d+m]=y[u?m:r-m-1]},"set");if(!Yce)Lr=i(function(e){Gh(this,ss);var r=Wh(e);tN(this,{bytes:afe(ofe(r),0),byteLength:r}),sO||(this.byteLength=r)},"ArrayBuffer"),ss=Lr[ls],Wn=i(function(e,r,n){Gh(this,qa),Gh(e,ss);var a=cs(e).byteLength,o=Xce(r);if(o<0||o>a)throw Yh("Wrong offset");if(n=n===void 0?a-o:Jce(n),o+n>a)throw Yh(ife);tN(this,{buffer:e,byteLength:n,byteOffset:o}),sO||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},"DataView"),qa=Wn[ls],sO&&(Hh(Lr,"byteLength"),Hh(Wn,"buffer"),Hh(Wn,"byteLength"),Hh(Wn,"byteOffset")),Qj(qa,{getInt8:i(function(e){return ko(this,1,e)[0]<<24>>24},"getInt8"),getUint8:i(function(e){return ko(this,1,e)[0]},"getUint8"),getInt16:i(function(e){var r=ko(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},"getInt16"),getUint16:i(function(e){var r=ko(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},"getUint16"),getInt32:i(function(e){return uN(ko(this,4,e,arguments.length>1?arguments[1]:void 0))},"getInt32"),getUint32:i(function(e){return uN(ko(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},"getUint32"),getFloat32:i(function(e){return nN(ko(this,4,e,arguments.length>1?arguments[1]:void 0),23)},"getFloat32"),getFloat64:i(function(e){return nN(ko(this,8,e,arguments.length>1?arguments[1]:void 0),52)},"getFloat64"),setInt8:i(function(e,r){qo(this,1,e,iN,r)},"setInt8"),setUint8:i(function(e,r){qo(this,1,e,iN,r)},"setUint8"),setInt16:i(function(e,r){qo(this,2,e,oN,r,arguments.length>2?arguments[2]:void 0)},"setInt16"),setUint16:i(function(e,r){qo(this,2,e,oN,r,arguments.length>2?arguments[2]:void 0)},"setUint16"),setInt32:i(function(e,r){qo(this,4,e,aN,r,arguments.length>2?arguments[2]:void 0)},"setInt32"),setUint32:i(function(e,r){qo(this,4,e,aN,r,arguments.length>2?arguments[2]:void 0)},"setUint32"),setFloat32:i(function(e,r){qo(this,4,e,sfe,r,arguments.length>2?arguments[2]:void 0)},"setFloat32"),setFloat64:i(function(e,r){qo(this,8,e,lfe,r,arguments.length>2?arguments[2]:void 0)},"setFloat64")});else{if(cO=nfe&&Pn.name!==Kh,!lO(function(){Pn(1)})||!lO(function(){new Pn(-1)})||lO(function(){return new Pn,new Pn(1.5),new Pn(NaN),cO&&!eN})){for(Lr=i(function(e){return Gh(this,ss),new Pn(Wh(e))},"ArrayBuffer"),Lr[ls]=ss,fO=Zce(Pn),pO=0;fO.length>pO;)(Vh=fO[pO++])in Lr||Jj(Lr,Vh,Pn[Vh]);ss.constructor=Lr}else cO&&eN&&Jj(Pn,"name",Kh);Zj&&Qce(qa)!==rN&&Zj(qa,rN),vc=new Wn(new Lr(2)),dO=hO(qa.setInt8),vc.setInt8(0,2147483648),vc.setInt8(1,2147483649),(vc.getInt8(0)||!vc.getInt8(1))&&Qj(qa,{setInt8:i(function(e,r){dO(this,e,r<<24>>24)},"setInt8"),setUint8:i(function(e,r){dO(this,e,r<<24>>24)},"setUint8")},{unsafe:!0})}var cO,fO,pO,Vh,vc,dO;cN(Lr,Kh);cN(Wn,pN);vN.exports={ArrayBuffer:Lr,DataView:Wn}});var gN=N(function(sut,mN){"use strict";var vfe=te(),yfe=Fw(),mfe=TypeError;mN.exports=function(t){if(vfe(this),t==="string"||t==="default")t="string";else if(t!=="number")throw mfe("Incorrect hint");return yfe(this,t)}});var Jh=N(function(lut,RN){var Nfe=se();RN.exports=Nfe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var yc=N(function(cut,AN){var Dfe=se(),Ufe=Re(),Mfe=mr(),TN=Jh(),Qh=Object.isExtensible,Bfe=Dfe(function(){Qh(1)});AN.exports=Bfe||TN?i(function(e){return!Ufe(e)||TN&&Mfe(e)=="ArrayBuffer"?!1:Qh?Qh(e):!0},"isExtensible"):Qh});var fs=N(function(fut,IN){var $fe=se();IN.exports=!$fe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var xo=N(function(put,xN){function gO(t){return gO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gO(t)}i(gO,"_typeof");var zfe=D(),Gfe=le(),Hfe=Zu(),Vfe=Re(),bO=Ae(),Wfe=We().f,kN=Si(),Kfe=wh(),wO=yc(),Yfe=ma(),Xfe=fs(),qN=!1,Ti=Yfe("meta"),Jfe=0,OO=i(function(e){Wfe(e,Ti,{value:{objectID:"O"+Jfe++,weakData:{}}})},"setMetadata"),Qfe=i(function(e,r){if(!Vfe(e))return gO(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!bO(e,Ti)){if(!wO(e))return"F";if(!r)return"E";OO(e)}return e[Ti].objectID},"fastKey"),Zfe=i(function(e,r){if(!bO(e,Ti)){if(!wO(e))return!0;if(!r)return!1;OO(e)}return e[Ti].weakData},"getWeakData"),epe=i(function(e){return Xfe&&qN&&wO(e)&&!bO(e,Ti)&&OO(e),e},"onFreeze"),tpe=i(function(){rpe.enable=function(){},qN=!0;var e=kN.f,r=Gfe([].splice),n={};n[Ti]=1,e(n).length&&(kN.f=function(a){for(var o=e(a),u=0,s=o.length;u<s;u++)if(o[u]===Ti){r(o,u,1);break}return o},zfe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Kfe.f}))},"enable"),rpe=xN.exports={enable:tpe,fastKey:Qfe,getWeakData:Zfe,onFreeze:epe};Hfe[Ti]=!0});var mc=N(function(dut,FN){"use strict";var npe=D(),ipe=ve(),ope=le(),CN=es(),ape=nt(),upe=xo(),spe=we(),lpe=Or(),cpe=Pe(),SO=Re(),_O=se(),fpe=fc(),ppe=gr(),dpe=Ra();FN.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,a=t.indexOf("Weak")!==-1,o=n?"set":"add",u=ipe[t],s=u&&u.prototype,c=u,f={},d=i(function(A){var x=ope(s[A]);ape(s,A,A=="add"?i(function(G){return x(this,G===0?0:G),this},"add"):A=="delete"?function(U){return a&&!SO(U)?!1:x(this,U===0?0:U)}:A=="get"?i(function(G){return a&&!SO(G)?void 0:x(this,G===0?0:G)},"get"):A=="has"?i(function(G){return a&&!SO(G)?!1:x(this,G===0?0:G)},"has"):i(function(G,M){return x(this,G===0?0:G,M),this},"set"))},"fixMethod"),y=CN(t,!cpe(u)||!(a||s.forEach&&!_O(function(){new u().entries().next()})));if(y)c=r.getConstructor(e,t,n,o),upe.enable();else if(CN(t,!0)){var m=new c,w=m[o](a?{}:-0,1)!=m,_=_O(function(){m.has(1)}),R=fpe(function(E){new u(E)}),T=!a&&_O(function(){for(var E=new u,A=5;A--;)E[o](A,A);return!E.has(-0)});R||(c=e(function(E,A){lpe(E,s);var x=dpe(new u,E,c);return A!=null&&spe(A,x[o],{that:x,AS_ENTRIES:n}),x}),c.prototype=s,s.constructor=c),(_||T)&&(d("delete"),d("has"),n&&d("get")),(T||w)&&d(o),a&&s.clear&&delete s.clear}return f[t]=c,npe({global:!0,constructor:!0,forced:c!=u},f),ppe(c,t),a||r.setStrong(c,t,n),c}});var EO=N(function(hut,UN){"use strict";var hpe=We().f,vpe=wt(),LN=Vn(),ype=Xe(),mpe=Or(),gpe=we(),bpe=Bh(),wpe=Io(),gc=Oe(),jN=xo().fastKey,DN=Ye(),NN=DN.set,PO=DN.getterFor;UN.exports={getConstructor:i(function(e,r,n,a){var o=e(function(d,y){mpe(d,u),NN(d,{type:r,index:vpe(null),first:void 0,last:void 0,size:0}),gc||(d.size=0),y!=null&&gpe(y,d[a],{that:d,AS_ENTRIES:n})}),u=o.prototype,s=PO(r),c=i(function(y,m,w){var _=s(y),R=f(y,m),T,E;return R?R.value=w:(_.last=R={index:E=jN(m,!0),key:m,value:w,previous:T=_.last,next:void 0,removed:!1},_.first||(_.first=R),T&&(T.next=R),gc?_.size++:y.size++,E!=="F"&&(_.index[E]=R)),y},"define"),f=i(function(y,m){var w=s(y),_=jN(m),R;if(_!=="F")return w.index[_];for(R=w.first;R;R=R.next)if(R.key==m)return R},"getEntry");return LN(u,{clear:i(function(){for(var y=this,m=s(y),w=m.index,_=m.first;_;)_.removed=!0,_.previous&&(_.previous=_.previous.next=void 0),delete w[_.index],_=_.next;m.first=m.last=void 0,gc?m.size=0:y.size=0},"clear"),delete:i(function(y){var m=this,w=s(m),_=f(m,y);if(_){var R=_.next,T=_.previous;delete w.index[_.index],_.removed=!0,T&&(T.next=R),R&&(R.previous=T),w.first==_&&(w.first=R),w.last==_&&(w.last=T),gc?w.size--:m.size--}return!!_},"_delete"),forEach:i(function(y){for(var m=s(this),w=ype(y,arguments.length>1?arguments[1]:void 0),_;_=_?_.next:m.first;)for(w(_.value,_.key,this);_&&_.removed;)_=_.previous},"forEach"),has:i(function(y){return!!f(this,y)},"has")}),LN(u,n?{get:i(function(y){var m=f(this,y);return m&&m.value},"get"),set:i(function(y,m){return c(this,y===0?0:y,m)},"set")}:{add:i(function(y){return c(this,y=y===0?0:y,y)},"add")}),gc&&hpe(u,"size",{get:i(function(){return s(this).size},"get")}),o},"getConstructor"),setStrong:i(function(e,r,n){var a=r+" Iterator",o=PO(r),u=PO(a);bpe(e,r,function(s,c){NN(this,{type:a,target:s,state:o(s),kind:c,last:void 0})},function(){for(var s=u(this),c=s.kind,f=s.last;f&&f.removed;)f=f.previous;return!s.target||!(s.last=f=f?f.next:s.state.first)?(s.target=void 0,{value:void 0,done:!0}):c=="keys"?{value:f.key,done:!1}:c=="values"?{value:f.value,done:!1}:{value:[f.key,f.value],done:!1}},n?"entries":"values",!n,!0),wpe(r)},"setStrong")}});var MN=N(function(){"use strict";var Ope=mc(),Spe=EO();Ope("Map",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Map")},Spe)});var Zh=N(function(){MN()});var RO=N(function(but,BN){var _pe=Math.log;BN.exports=Math.log1p||i(function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:_pe(1+r)},"log1p")});var ev=N(function(wut,VN){VN.exports=Math.sign||i(function(e){var r=+e;return r==0||r!=r?r:r<0?-1:1},"sign")});var wc=N(function(Out,WN){var bc=Math.expm1,$pe=Math.exp;WN.exports=!bc||bc(10)>22025.465794806718||bc(10)<22025.465794806718||bc(-2e-17)!=-2e-17?i(function(e){var r=+e;return r==0?r:r>-1e-6&&r<1e-6?r+r*r/2:$pe(r)-1},"expm1"):bc});var qO=N(function(Sut,XN){var Wpe=ev(),Kpe=Math.abs,rv=Math.pow,kO=rv(2,-52),tv=rv(2,-23),Ype=rv(2,127)*(2-tv),IO=rv(2,-126),Xpe=i(function(e){return e+1/kO-1/kO},"roundTiesToEven");XN.exports=Math.fround||i(function(e){var r=+e,n=Kpe(r),a=Wpe(r),o,u;return n<IO?a*Xpe(n/IO/tv)*IO*tv:(o=(1+tv/kO)*n,u=o-(o-n),u>Ype||u!=u?a*(1/0):a*u)},"fround")});var xO=N(function(_ut,ZN){var ade=Math.log,ude=Math.LOG10E;ZN.exports=Math.log10||i(function(e){return ade(e)*ude},"log10")});var nv=N(function(Put,iD){var Rde=le();iD.exports=Rde(1 .valueOf)});var Oc=N(function(Eut,oD){oD.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var xa=N(function(Rut,uD){var Tde=le(),Ade=gt(),Ide=je(),kde=Oc(),aD=Tde("".replace),iv="["+kde+"]",qde=RegExp("^"+iv+iv+"*"),xde=RegExp(iv+iv+"*$"),CO=i(function(e){return function(r){var n=Ide(Ade(r));return e&1&&(n=aD(n,qde,"")),e&2&&(n=aD(n,xde,"")),n}},"createMethod");uD.exports={start:CO(1),end:CO(2),trim:CO(3)}});var DO=N(function(Tut,fD){var Xde=ve(),Jde=Xde.isFinite;fD.exports=Number.isFinite||i(function(e){return typeof e=="number"&&Jde(e)},"isFinite")});var uv=N(function(Aut,pD){var ehe=Re(),the=Math.floor;pD.exports=Number.isInteger||i(function(e){return!ehe(e)&&isFinite(e)&&the(e)===e},"isInteger")});var mD=N(function(Iut,yD){var vD=ve(),che=se(),fhe=le(),phe=je(),dhe=xa().trim,hhe=Oc(),vhe=fhe("".charAt),sv=vD.parseFloat,dD=vD.Symbol,hD=dD&&dD.iterator,yhe=1/sv(hhe+"-0")!==-1/0||hD&&!che(function(){sv(Object(hD))});yD.exports=yhe?i(function(e){var r=dhe(phe(e)),n=sv(r);return n===0&&vhe(r,0)=="-"?-0:n},"parseFloat"):sv});var UO=N(function(kut,PD){var SD=ve(),ghe=se(),bhe=le(),whe=je(),Ohe=xa().trim,bD=Oc(),_c=SD.parseInt,wD=SD.Symbol,OD=wD&&wD.iterator,_D=/^[+-]?0x/i,She=bhe(_D.exec),_he=_c(bD+"08")!==8||_c(bD+"0x16")!==22||OD&&!ghe(function(){_c(Object(OD))});PD.exports=_he?i(function(e,r){var n=Ohe(whe(e));return _c(n,r>>>0||(She(_D,n)?16:10))},"parseInt"):_c});var Pc=N(function(qut,RD){"use strict";var Ehe=ut(),Rhe=je(),The=gt(),Ahe=RangeError;RD.exports=i(function(e){var r=Rhe(The(this)),n="",a=Ehe(e);if(a<0||a==1/0)throw Ahe("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))a&1&&(n+=r);return n},"repeat")});var HO=N(function(xut,DD){"use strict";var jD=Oe(),Xhe=le(),Jhe=ce(),Qhe=se(),GO=Oa(),Zhe=Ql(),eve=Vl(),tve=xe(),rve=wi(),ds=Object.assign,ND=Object.defineProperty,nve=Xhe([].concat);DD.exports=!ds||Qhe(function(){if(jD&&ds({b:1},ds(ND({},"a",{enumerable:!0,get:i(function(){ND(this,"b",{value:3,enumerable:!1})},"get")}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(a){e[a]=a}),ds({},t)[r]!=7||GO(ds({},e)).join("")!=n})?i(function(e,r){for(var n=tve(e),a=arguments.length,o=1,u=Zhe.f,s=eve.f;a>o;)for(var c=rve(arguments[o++]),f=u?nve(GO(c),u(c)):GO(c),d=f.length,y=0,m;d>y;)m=f[y++],(!jD||Jhe(s,c,m))&&(n[m]=c[m]);return n},"assign"):ds});var Rc=N(function(Cut,BD){"use strict";var ove=rt(),ave=ve(),uve=se(),MD=zh();BD.exports=ove||!uve(function(){if(!(MD&&MD<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete ave[t]}})});var VO=N(function(Fut,GD){var wve=Oe(),zD=le(),Ove=Oa(),Sve=bt(),_ve=Vl().f,Pve=zD(_ve),Eve=zD([].push),$D=i(function(e){return function(r){for(var n=Sve(r),a=Ove(n),o=a.length,u=0,s=[],c;o>u;)c=a[u++],(!wve||Pve(n,c))&&Eve(s,e?[c,n[c]]:n[c]);return s}},"createMethod");GD.exports={entries:$D(!0),values:$D(!1)}});var KO=N(function(Lut,KD){KD.exports=Object.is||i(function(e,r){return e===r?e!==0||1/e===1/r:e!=e&&r!=r},"is")});var e3=N(function(jut,ZD){"use strict";var Kye=vh(),Yye=Sn();ZD.exports=Kye?{}.toString:i(function(){return"[object "+Yye(this)+"]"},"toString")});var Fo=N(function(Nut,t3){var tme=mr(),rme=ve();t3.exports=tme(rme.process)=="process"});var hs=N(function(Dut,r3){var nme=_n(),ime=wo(),ome=TypeError;r3.exports=function(t){if(nme(t))return t;throw ome(ime(t)+" is not a constructor")}});var nr=N(function(Uut,i3){var n3=te(),ame=hs(),ume=be(),sme=ume("species");i3.exports=function(t,e){var r=n3(t).constructor,n;return r===void 0||(n=n3(r)[sme])==null?e:ame(n)}});var Lo=N(function(Mut,o3){var lme=TypeError;o3.exports=function(t,e){if(t<e)throw lme("Not enough arguments");return t}});var ZO=N(function(But,a3){var cme=Oi();a3.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(cme)});var sS=N(function($ut,h3){var jr=ve(),fme=wr(),pme=Xe(),u3=Pe(),dme=Ae(),hme=se(),s3=r0(),vme=Eo(),l3=Kl(),yme=Lo(),mme=ZO(),gme=Fo(),oS=jr.setImmediate,aS=jr.clearImmediate,bme=jr.process,eS=jr.Dispatch,wme=jr.Function,c3=jr.MessageChannel,Ome=jr.String,tS=0,Tc={},f3="onreadystatechange",Ac,Fa,rS,nS;try{Ac=jr.location}catch(t){}var uS=i(function(e){if(dme(Tc,e)){var r=Tc[e];delete Tc[e],r()}},"run"),iS=i(function(e){return function(){uS(e)}},"runner"),p3=i(function(e){uS(e.data)},"listener"),d3=i(function(e){jr.postMessage(Ome(e),Ac.protocol+"//"+Ac.host)},"post");(!oS||!aS)&&(oS=i(function(e){yme(arguments.length,1);var r=u3(e)?e:wme(e),n=vme(arguments,1);return Tc[++tS]=function(){fme(r,void 0,n)},Fa(tS),tS},"setImmediate"),aS=i(function(e){delete Tc[e]},"clearImmediate"),gme?Fa=i(function(e){bme.nextTick(iS(e))},"defer"):eS&&eS.now?Fa=i(function(e){eS.now(iS(e))},"defer"):c3&&!mme?(rS=new c3,nS=rS.port2,rS.port1.onmessage=p3,Fa=pme(nS.postMessage,nS)):jr.addEventListener&&u3(jr.postMessage)&&!jr.importScripts&&Ac&&Ac.protocol!=="file:"&&!hme(d3)?(Fa=d3,jr.addEventListener("message",p3,!1)):f3 in l3("script")?Fa=i(function(e){s3.appendChild(l3("script"))[f3]=function(){s3.removeChild(this),uS(e)}},"defer"):Fa=i(function(e){setTimeout(iS(e),0)},"defer"));h3.exports={set:oS,clear:aS}});var y3=N(function(zut,v3){var Sme=Oi(),_me=ve();v3.exports=/ipad|iphone|ipod/i.test(Sme)&&_me.Pebble!==void 0});var g3=N(function(Gut,m3){var Pme=Oi();m3.exports=/web0s(?!.*chrome)/i.test(Pme)});var dS=N(function(Hut,R3){var ja=ve(),b3=Xe(),Eme=Mt().f,lS=sS().set,Rme=ZO(),Tme=y3(),Ame=g3(),cS=Fo(),w3=ja.MutationObserver||ja.WebKitMutationObserver,O3=ja.document,S3=ja.process,fv=ja.Promise,_3=Eme(ja,"queueMicrotask"),E3=_3&&_3.value,Ic,La,kc,vs,fS,pS,pv,P3;E3||(Ic=i(function(){var e,r;for(cS&&(e=S3.domain)&&e.exit();La;){r=La.fn,La=La.next;try{r()}catch(n){throw La?vs():kc=void 0,n}}kc=void 0,e&&e.enter()},"flush"),!Rme&&!cS&&!Ame&&w3&&O3?(fS=!0,pS=O3.createTextNode(""),new w3(Ic).observe(pS,{characterData:!0}),vs=i(function(){pS.data=fS=!fS},"notify")):!Tme&&fv&&fv.resolve?(pv=fv.resolve(void 0),pv.constructor=fv,P3=b3(pv.then,pv),vs=i(function(){P3(Ic)},"notify")):cS?vs=i(function(){S3.nextTick(Ic)},"notify"):(lS=b3(lS,ja),vs=i(function(){lS(Ic)},"notify")));R3.exports=E3||function(t){var e={fn:t,next:void 0};kc&&(kc.next=e),La||(La=e,vs()),kc=e}});var hS=N(function(Vut,T3){var Ime=ve();T3.exports=function(t,e){var r=Ime.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var jo=N(function(Wut,A3){A3.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var q3=N(function(Kut,k3){var I3=i(function(){this.head=null,this.tail=null},"Queue");I3.prototype={add:i(function(e){var r={item:e,next:null};this.head?this.tail.next=r:this.head=r,this.tail=r},"add"),get:i(function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item},"get")};k3.exports=I3});var Na=N(function(Yut,x3){var kme=ve();x3.exports=kme.Promise});var hv=N(function(Xut,C3){function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}i(dv,"_typeof");C3.exports=(typeof Deno=="undefined"?"undefined":dv(Deno))=="object"&&Deno&&dv(Deno.version)=="object"});var vS=N(function(Jut,F3){function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}i(vv,"_typeof");var qme=hv(),xme=Fo();F3.exports=!qme&&!xme&&(typeof window=="undefined"?"undefined":vv(window))=="object"&&(typeof document=="undefined"?"undefined":vv(document))=="object"});var ys=N(function(Qut,N3){var Cme=ve(),qc=Na(),Fme=Pe(),Lme=es(),jme=Qu(),Nme=be(),Dme=vS(),Ume=hv(),Mme=rt(),yS=go(),L3=qc&&qc.prototype,Bme=Nme("species"),mS=!1,j3=Fme(Cme.PromiseRejectionEvent),$me=Lme("Promise",function(){var t=jme(qc),e=t!==String(qc);if(!e&&yS===66||Mme&&!(L3.catch&&L3.finally))return!0;if(!yS||yS<51||!/native code/.test(t)){var r=new qc(function(o){o(1)}),n=i(function(u){u(function(){},function(){})},"FakePromise"),a=r.constructor={};if(a[Bme]=n,mS=r.then(function(){})instanceof n,!mS)return!0}return!e&&(Dme||Ume)&&!j3});N3.exports={CONSTRUCTOR:$me,REJECTION_EVENT:j3,SUBCLASSING:mS}});var Ai=N(function(Zut,U3){"use strict";var D3=he(),zme=i(function(e){var r,n;this.promise=new e(function(a,o){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=a,n=o}),this.resolve=D3(r),this.reject=D3(n)},"PromiseCapability");U3.exports.f=function(t){return new zme(t)}});var oU=N(function(){"use strict";var Gme=D(),Hme=rt(),bv=Fo(),No=ve(),ws=ce(),M3=nt(),B3=zn(),Vme=gr(),Wme=Io(),Kme=he(),gv=Pe(),Yme=Re(),Xme=Or(),Jme=nr(),W3=sS().set,OS=dS(),Qme=hS(),Zme=jo(),ege=q3(),K3=Ye(),wv=Na(),SS=ys(),Y3=Ai(),Ov="Promise",X3=SS.CONSTRUCTOR,tge=SS.REJECTION_EVENT,rge=SS.SUBCLASSING,gS=K3.getterFor(Ov),nge=K3.set,ms=wv&&wv.prototype,Da=wv,yv=ms,J3=No.TypeError,bS=No.document,_S=No.process,wS=Y3.f,ige=wS,oge=!!(bS&&bS.createEvent&&No.dispatchEvent),Q3="unhandledrejection",age="rejectionhandled",$3=0,Z3=1,uge=2,PS=1,eU=2,mv,z3,sge,G3,tU=i(function(e){var r;return Yme(e)&&gv(r=e.then)?r:!1},"isThenable"),rU=i(function(e,r){var n=r.value,a=r.state==Z3,o=a?e.ok:e.fail,u=e.resolve,s=e.reject,c=e.domain,f,d,y;try{o?(a||(r.rejection===eU&&cge(r),r.rejection=PS),o===!0?f=n:(c&&c.enter(),f=o(n),c&&(c.exit(),y=!0)),f===e.promise?s(J3("Promise-chain cycle")):(d=tU(f))?ws(d,f,u,s):u(f)):s(n)}catch(m){c&&!y&&c.exit(),s(m)}},"callReaction"),nU=i(function(e,r){e.notified||(e.notified=!0,OS(function(){for(var n=e.reactions,a;a=n.get();)rU(a,e);e.notified=!1,r&&!e.rejection&&lge(e)}))},"notify"),iU=i(function(e,r,n){var a,o;oge?(a=bS.createEvent("Event"),a.promise=r,a.reason=n,a.initEvent(e,!1,!0),No.dispatchEvent(a)):a={promise:r,reason:n},!tge&&(o=No["on"+e])?o(a):e===Q3&&Qme("Unhandled promise rejection",n)},"dispatchEvent"),lge=i(function(e){ws(W3,No,function(){var r=e.facade,n=e.value,a=H3(e),o;if(a&&(o=Zme(function(){bv?_S.emit("unhandledRejection",n,r):iU(Q3,r,n)}),e.rejection=bv||H3(e)?eU:PS,o.error))throw o.value})},"onUnhandled"),H3=i(function(e){return e.rejection!==PS&&!e.parent},"isUnhandled"),cge=i(function(e){ws(W3,No,function(){var r=e.facade;bv?_S.emit("rejectionHandled",r):iU(age,r,e.value)})},"onHandleUnhandled"),gs=i(function(e,r,n){return function(a){e(r,a,n)}},"bind"),bs=i(function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=uge,nU(e,!0))},"internalReject"),V3=i(function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw J3("Promise can't be resolved itself");var a=tU(r);a?OS(function(){var o={done:!1};try{ws(a,r,gs(t,o,e),gs(bs,o,e))}catch(u){bs(o,u,e)}}):(e.value=r,e.state=Z3,nU(e,!1))}catch(o){bs({done:!1},o,e)}}},"internalResolve");if(X3&&(Da=i(function(e){Xme(this,yv),Kme(e),ws(mv,this);var r=gS(this);try{e(gs(V3,r),gs(bs,r))}catch(n){bs(r,n)}},"Promise"),yv=Da.prototype,mv=i(function(e){nge(this,{type:Ov,done:!1,notified:!1,parent:!1,reactions:new ege,rejection:!1,state:$3,value:void 0})},"Promise"),mv.prototype=M3(yv,"then",i(function(e,r){var n=gS(this),a=wS(Jme(this,Da));return n.parent=!0,a.ok=gv(e)?e:!0,a.fail=gv(r)&&r,a.domain=bv?_S.domain:void 0,n.state==$3?n.reactions.add(a):OS(function(){rU(a,n)}),a.promise},"then")),z3=i(function(){var e=new mv,r=gS(e);this.promise=e,this.resolve=gs(V3,r),this.reject=gs(bs,r)},"OwnPromiseCapability"),Y3.f=wS=i(function(e){return e===Da||e===sge?new z3(e):ige(e)},"newPromiseCapability"),!Hme&&gv(wv)&&ms!==Object.prototype)){G3=ms.then,rge||M3(ms,"then",i(function(e,r){var n=this;return new Da(function(a,o){ws(G3,n,a,o)}).then(e,r)},"then"),{unsafe:!0});try{delete ms.constructor}catch(t){}B3&&B3(ms,yv)}Gme({global:!0,constructor:!0,wrap:!0,forced:X3},{Promise:Da});Vme(Da,Ov,!1,!0);Wme(Ov)});var ES=N(function(rst,aU){var fge=Na(),pge=fc(),dge=ys().CONSTRUCTOR;aU.exports=dge||!pge(function(t){fge.all(t).then(void 0,function(){})})});var uU=N(function(){"use strict";var hge=D(),vge=ce(),yge=he(),mge=Ai(),gge=jo(),bge=we(),wge=ES();hge({target:"Promise",stat:!0,forced:wge},{all:i(function(e){var r=this,n=mge.f(r),a=n.resolve,o=n.reject,u=gge(function(){var s=yge(r.resolve),c=[],f=0,d=1;bge(e,function(y){var m=f++,w=!1;d++,vge(s,r,y).then(function(_){w||(w=!0,c[m]=_,--d||a(c))},o)}),--d||a(c)});return u.error&&o(u.value),n.promise},"all")})});var lU=N(function(){"use strict";var Oge=D(),Sge=rt(),_ge=ys().CONSTRUCTOR,TS=Na(),Pge=me(),Ege=Pe(),Rge=nt(),sU=TS&&TS.prototype;Oge({target:"Promise",proto:!0,forced:_ge,real:!0},{catch:i(function(e){return this.then(void 0,e)},"_catch")});!Sge&&Ege(TS)&&(RS=Pge("Promise").prototype.catch,sU.catch!==RS&&Rge(sU,"catch",RS,{unsafe:!0}));var RS});var cU=N(function(){"use strict";var Tge=D(),Age=ce(),Ige=he(),kge=Ai(),qge=jo(),xge=we(),Cge=ES();Tge({target:"Promise",stat:!0,forced:Cge},{race:i(function(e){var r=this,n=kge.f(r),a=n.reject,o=qge(function(){var u=Ige(r.resolve);xge(e,function(s){Age(u,r,s).then(n.resolve,a)})});return o.error&&a(o.value),n.promise},"race")})});var fU=N(function(){"use strict";var Fge=D(),Lge=ce(),jge=Ai(),Nge=ys().CONSTRUCTOR;Fge({target:"Promise",stat:!0,forced:Nge},{reject:i(function(e){var r=jge.f(this);return Lge(r.reject,void 0,e),r.promise},"reject")})});var AS=N(function(fst,pU){var Dge=te(),Uge=Re(),Mge=Ai();pU.exports=function(t,e){if(Dge(t),Uge(e)&&e.constructor===t)return e;var r=Mge.f(t),n=r.resolve;return n(e),r.promise}});var vU=N(function(){"use strict";var Bge=D(),$ge=me(),dU=rt(),zge=Na(),hU=ys().CONSTRUCTOR,Gge=AS(),Hge=$ge("Promise"),Vge=dU&&!hU;Bge({target:"Promise",stat:!0,forced:dU||hU},{resolve:i(function(e){return Gge(Vge&&this===Hge?zge:this,e)},"resolve")})});var PU=N(function(hst,_U){"use strict";var OU=le(),gbe=he(),bbe=Re(),wbe=Ae(),wU=Eo(),Obe=Xu(),SU=Function,Sbe=OU([].concat),_be=OU([].join),qS={},Pbe=i(function(e,r,n){if(!wbe(qS,r)){for(var a=[],o=0;o<r;o++)a[o]="a["+o+"]";qS[r]=SU("C,a","return new C("+_be(a,",")+")")}return qS[r](e,n)},"construct");_U.exports=Obe?SU.bind:i(function(e){var r=gbe(this),n=r.prototype,a=wU(arguments,1),o=i(function(){var s=Sbe(a,wU(arguments));return this instanceof o?Pbe(r,s.length,s):r.apply(e,s)},"bound");return bbe(n)&&(o.prototype=n),o},"bind")});var FS=N(function(vst,FU){var CU=Ae();FU.exports=function(t){return t!==void 0&&(CU(t,"value")||CU(t,"writable"))}});var Os=N(function(yst,BU){var Pwe=Re(),Ewe=mr(),Rwe=be(),Twe=Rwe("match");BU.exports=function(t){var e;return Pwe(t)&&((e=t[Twe])!==void 0?!!e:Ewe(t)=="RegExp")}});var _v=N(function(mst,$U){"use strict";var Awe=te();$U.exports=function(){var t=Awe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var Ss=N(function(gst,GU){var Iwe=ce(),kwe=Ae(),qwe=rr(),xwe=_v(),zU=RegExp.prototype;GU.exports=function(t){var e=t.flags;return e===void 0&&!("flags"in zU)&&!kwe(t,"flags")&&qwe(zU,t)?Iwe(xwe,t):e}});var xc=N(function(bst,HU){var jS=se(),Cwe=ve(),NS=Cwe.RegExp,DS=jS(function(){var t=NS("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),Fwe=DS||jS(function(){return!NS("a","y").sticky}),Lwe=DS||jS(function(){var t=NS("^r","gy");return t.lastIndex=2,t.exec("str")!=null});HU.exports={BROKEN_CARET:Lwe,MISSED_STICKY:Fwe,UNSUPPORTED_Y:DS}});var Pv=N(function(wst,VU){var jwe=se(),Nwe=ve(),Dwe=Nwe.RegExp;VU.exports=jwe(function(){var t=Dwe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var US=N(function(Ost,WU){var Uwe=se(),Mwe=ve(),Bwe=Mwe.RegExp;WU.exports=Uwe(function(){var t=Bwe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var Ii=N(function(Sst,nM){var rM=fh(),p0e=We();nM.exports=function(t,e,r){return r.get&&rM(r.get,e,{getter:!0}),r.set&&rM(r.set,e,{setter:!0}),p0e.f(t,e,r)}});var Fc=N(function(_st,aM){"use strict";var Ps=ce(),Tv=le(),b0e=je(),w0e=_v(),O0e=xc(),S0e=Oo(),_0e=wt(),P0e=Ye().get,E0e=Pv(),R0e=US(),T0e=S0e("native-string-replace",String.prototype.replace),Rv=RegExp.prototype.exec,HS=Rv,A0e=Tv("".charAt),I0e=Tv("".indexOf),k0e=Tv("".replace),GS=Tv("".slice),VS=function(){var t=/a/,e=/b*/g;return Ps(Rv,t,"a"),Ps(Rv,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),oM=O0e.BROKEN_CARET,WS=/()??/.exec("")[1]!==void 0,q0e=VS||WS||oM||E0e||R0e;q0e&&(HS=i(function(e){var r=this,n=P0e(r),a=b0e(e),o=n.raw,u,s,c,f,d,y,m;if(o)return o.lastIndex=r.lastIndex,u=Ps(HS,o,a),r.lastIndex=o.lastIndex,u;var w=n.groups,_=oM&&r.sticky,R=Ps(w0e,r),T=r.source,E=0,A=a;if(_&&(R=k0e(R,"y",""),I0e(R,"g")===-1&&(R+="g"),A=GS(a,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&A0e(a,r.lastIndex-1)!=="\n")&&(T="(?: "+T+")",A=" "+A,E++),s=new RegExp("^(?:"+T+")",R)),WS&&(s=new RegExp("^"+T+"$(?!\\s)",R)),VS&&(c=r.lastIndex),f=Ps(Rv,_?s:r,A),_?f?(f.input=GS(f.input,E),f[0]=GS(f[0],E),f.index=r.lastIndex,r.lastIndex+=f[0].length):r.lastIndex=0:VS&&f&&(r.lastIndex=r.global?f.index+f[0].length:c),WS&&f&&f.length>1&&Ps(T0e,f[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(f[d]=void 0)}),f&&w)for(f.groups=y=_0e(null),d=0;d<w.length;d++)m=w[d],y[m[0]]=f[m[1]];return f},"exec"));aM.exports=HS});var Av=N(function(){"use strict";var x0e=D(),uM=Fc();x0e({target:"RegExp",proto:!0,forced:/./.exec!==uM},{exec:uM})});var dM=N(function(){"use strict";var uOe=mc(),sOe=EO();uOe("Set",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"Set")},sOe)});var Ma=N(function(Ast,yM){var YS=le(),mOe=ut(),gOe=je(),bOe=gt(),wOe=YS("".charAt),hM=YS("".charCodeAt),OOe=YS("".slice),vM=i(function(e){return function(r,n){var a=gOe(bOe(r)),o=mOe(n),u=a.length,s,c;return o<0||o>=u?e?"":void 0:(s=hM(a,o),s<55296||s>56319||o+1===u||(c=hM(a,o+1))<56320||c>57343?e?wOe(a,o):s:e?OOe(a,o,o+2):(s-55296<<10)+(c-56320)+65536)}},"createMethod");yM.exports={codeAt:vM(!1),charAt:vM(!0)}});var Iv=N(function(Ist,mM){var POe=Os(),EOe=TypeError;mM.exports=function(t){if(POe(t))throw EOe("The method doesn't accept regular expressions");return t}});var kv=N(function(kst,gM){var ROe=be(),TOe=ROe("match");gM.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[TOe]=!1,"/./"[t](e)}catch(n){}}return!1}});var XS=N(function(){"use strict";var XOe=Ma().charAt,JOe=je(),RM=Ye(),QOe=Bh(),TM="String Iterator",ZOe=RM.set,eSe=RM.getterFor(TM);QOe(String,"String",function(t){ZOe(this,{type:TM,string:JOe(t),index:0})},i(function(){var e=eSe(this),r=e.string,n=e.index,a;return n>=r.length?{value:void 0,done:!0}:(a=XOe(r,n),e.index+=a.length,{value:a,done:!1})},"next"))});var Lc=N(function(Cst,xM){"use strict";Av();var AM=le(),IM=nt(),tSe=Fc(),kM=se(),qM=be(),rSe=kt(),nSe=qM("species"),JS=RegExp.prototype;xM.exports=function(t,e,r,n){var a=qM(t),o=!kM(function(){var f={};return f[a]=function(){return 7},""[t](f)!=7}),u=o&&!kM(function(){var f=!1,d=/a/;return t==="split"&&(d={},d.constructor={},d.constructor[nSe]=function(){return d},d.flags="",d[a]=/./[a]),d.exec=function(){return f=!0,null},d[a](""),!f});if(!o||!u||r){var s=AM(/./[a]),c=e(a,""[t],function(f,d,y,m,w){var _=AM(f),R=d.exec;return R===tSe||R===JS.exec?o&&!w?{done:!0,value:s(d,y,m)}:{done:!0,value:_(y,d,m)}:{done:!1}});IM(String.prototype,t,c[0]),IM(JS,a,c[1])}n&&rSe(JS[a],"sham",!0)}});var jc=N(function(Fst,CM){"use strict";var iSe=Ma().charAt;CM.exports=function(t,e,r){return e+(r?iSe(t,e).length:1)}});var Es=N(function(Lst,LM){var FM=ce(),oSe=te(),aSe=Pe(),uSe=mr(),sSe=Fc(),lSe=TypeError;LM.exports=function(t,e){var r=t.exec;if(aSe(r)){var n=FM(r,t,e);return n!==null&&oSe(n),n}if(uSe(t)==="RegExp")return FM(sSe,t,e);throw lSe("RegExp#exec called on incompatible receiver")}});var n_=N(function(jst,YM){var KM=le(),CSe=Fr(),VM=je(),FSe=Pc(),LSe=gt(),jSe=KM(FSe),NSe=KM("".slice),DSe=Math.ceil,WM=i(function(e){return function(r,n,a){var o=VM(LSe(r)),u=CSe(n),s=o.length,c=a===void 0?" ":VM(a),f,d;return u<=s||c==""?o:(f=u-s,d=jSe(c,DSe(f/c.length)),d.length>f&&(d=NSe(d,0,f)),e?o+d:d+o)}},"createMethod");YM.exports={start:WM(!1),end:WM(!0)}});var i_=N(function(Nst,XM){var USe=Oi();XM.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(USe)});var s_=N(function(Dst,e5){var u_=le(),ZSe=xe(),e_e=Math.floor,o_=u_("".charAt),t_e=u_("".replace),a_=u_("".slice),r_e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,n_e=/\$([$&'`]|\d{1,2})/g;e5.exports=function(t,e,r,n,a,o){var u=r+t.length,s=n.length,c=n_e;return a!==void 0&&(a=ZSe(a),c=r_e),t_e(o,c,function(f,d){var y;switch(o_(d,0)){case"$":return"$";case"&":return t;case"`":return a_(e,0,r);case"'":return a_(e,u);case"<":y=a[a_(d,1,-1)];break;default:var m=+d;if(m===0)return f;if(m>s){var w=e_e(m/10);return w===0?f:w<=s?n[w-1]===void 0?o_(d,1):n[w-1]+o_(d,1):f}y=n[m-1]}return y===void 0?"":y})}});var Fv=N(function(Ust,S5){var p1e=ba().PROPER,d1e=se(),w5=Oc(),O5="\u200B\x85\u180E";S5.exports=function(t){return d1e(function(){return!!w5[t]()||O5[t]()!==O5||p1e&&w5[t].name!==t})}});var h_=N(function(Mst,_5){"use strict";var m1e=xa().end,g1e=Fv();_5.exports=g1e("trimEnd")?i(function(){return m1e(this)},"trimEnd"):"".trimEnd});var E5=N(function(){var b1e=D(),P5=h_();b1e({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==P5},{trimRight:P5})});var v_=N(function(zst,T5){"use strict";var O1e=xa().start,S1e=Fv();T5.exports=S1e("trimStart")?i(function(){return O1e(this)},"trimStart"):"".trimStart});var I5=N(function(){var _1e=D(),A5=v_();_1e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==A5},{trimLeft:A5})});var Sr=N(function(Vst,x5){var E1e=le(),R1e=gt(),q5=je(),T1e=/"/g,A1e=E1e("".replace);x5.exports=function(t,e,r,n){var a=q5(R1e(t)),o="<"+e;return r!==""&&(o+=" "+r+'="'+A1e(q5(n),T1e,"&quot;")+'"'),o+">"+a+"</"+e+">"}});var _r=N(function(Wst,C5){var I1e=se();C5.exports=function(t){return I1e(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var _e=N(function(Kst,$5){"use strict";var vPe=aO(),b_=Oe(),ir=ve(),N5=Pe(),Nv=Re(),Bo=Ae(),w_=Sn(),yPe=wo(),mPe=kt(),y_=nt(),gPe=We().f,bPe=rr(),Dv=Bt(),qs=zn(),wPe=be(),OPe=ma(),D5=Ye(),U5=D5.enforce,SPe=D5.get,Lv=ir.Int8Array,m_=Lv&&Lv.prototype,F5=ir.Uint8ClampedArray,L5=F5&&F5.prototype,Yn=Lv&&Dv(Lv),En=m_&&Dv(m_),_Pe=Object.prototype,O_=ir.TypeError,j5=wPe("toStringTag"),g_=OPe("TYPED_ARRAY_TAG"),jv="TypedArrayConstructor",ki=vPe&&!!qs&&w_(ir.opera)!=="Opera",M5=!1,Pr,Mo,ks,qi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},S_={BigInt64Array:8,BigUint64Array:8},PPe=i(function(e){if(!Nv(e))return!1;var r=w_(e);return r==="DataView"||Bo(qi,r)||Bo(S_,r)},"isView"),EPe=i(function t(e){var r=Dv(e);if(!!Nv(r)){var n=SPe(r);return n&&Bo(n,jv)?n[jv]:t(r)}},"getTypedArrayConstructor"),B5=i(function(e){if(!Nv(e))return!1;var r=w_(e);return Bo(qi,r)||Bo(S_,r)},"isTypedArray"),RPe=i(function(e){if(B5(e))return e;throw O_("Target is not a typed array")},"aTypedArray"),TPe=i(function(e){if(N5(e)&&(!qs||bPe(Yn,e)))return e;throw O_(yPe(e)+" is not a typed array constructor")},"aTypedArrayConstructor"),APe=i(function(e,r,n,a){if(!!b_){if(n)for(var o in qi){var u=ir[o];if(u&&Bo(u.prototype,e))try{delete u.prototype[e]}catch(s){try{u.prototype[e]=r}catch(c){}}}(!En[e]||n)&&y_(En,e,n?r:ki&&m_[e]||r,a)}},"exportTypedArrayMethod"),IPe=i(function(e,r,n){var a,o;if(!!b_){if(qs){if(n){for(a in qi)if(o=ir[a],o&&Bo(o,e))try{delete o[e]}catch(u){}}if(!Yn[e]||n)try{return y_(Yn,e,n?r:ki&&Yn[e]||r)}catch(u){}else return}for(a in qi)o=ir[a],o&&(!o[e]||n)&&y_(o,e,r)}},"exportTypedArrayStaticMethod");for(Pr in qi)Mo=ir[Pr],ks=Mo&&Mo.prototype,ks?U5(ks)[jv]=Mo:ki=!1;for(Pr in S_)Mo=ir[Pr],ks=Mo&&Mo.prototype,ks&&(U5(ks)[jv]=Mo);if((!ki||!N5(Yn)||Yn===Function.prototype)&&(Yn=i(function(){throw O_("Incorrect invocation")},"TypedArray"),ki))for(Pr in qi)ir[Pr]&&qs(ir[Pr],Yn);if((!ki||!En||En===_Pe)&&(En=Yn.prototype,ki))for(Pr in qi)ir[Pr]&&qs(ir[Pr].prototype,En);ki&&Dv(L5)!==En&&qs(L5,En);if(b_&&!Bo(En,j5)){M5=!0,gPe(En,j5,{get:i(function(){return Nv(this)?this[g_]:void 0},"get")});for(Pr in qi)ir[Pr]&&mPe(ir[Pr],g_,Pr)}$5.exports={NATIVE_ARRAY_BUFFER_VIEWS:ki,TYPED_ARRAY_TAG:M5&&g_,aTypedArray:RPe,aTypedArrayConstructor:TPe,exportTypedArrayMethod:APe,exportTypedArrayStaticMethod:IPe,getTypedArrayConstructor:EPe,isView:PPe,isTypedArray:B5,TypedArray:Yn,TypedArrayPrototype:En}});var Uv=N(function(Yst,G5){var z5=ve(),__=se(),kPe=fc(),qPe=_e().NATIVE_ARRAY_BUFFER_VIEWS,xPe=z5.ArrayBuffer,Ba=z5.Int8Array;G5.exports=!qPe||!__(function(){Ba(1)})||!__(function(){new Ba(-1)})||!kPe(function(t){new Ba,new Ba(null),new Ba(1.5),new Ba(t)},!0)||__(function(){return new Ba(new xPe(2),1,void 0).length!==1})});var xs=N(function(Xst,H5){var CPe=ut(),FPe=RangeError;H5.exports=function(t){var e=CPe(t);if(e<0)throw FPe("The argument can't be less than 0");return e}});var P_=N(function(Jst,V5){var LPe=xs(),jPe=RangeError;V5.exports=function(t,e){var r=LPe(t);if(r%e)throw jPe("Wrong offset");return r}});var E_=N(function(Qst,W5){var NPe=Xe(),DPe=ce(),UPe=hs(),MPe=xe(),BPe=Le(),$Pe=tn(),zPe=Hn(),GPe=qh(),HPe=_e().aTypedArrayConstructor;W5.exports=i(function(e){var r=UPe(this),n=MPe(e),a=arguments.length,o=a>1?arguments[1]:void 0,u=o!==void 0,s=zPe(n),c,f,d,y,m,w;if(s&&!GPe(s))for(m=$Pe(n,s),w=m.next,n=[];!(y=DPe(w,m)).done;)n.push(y.value);for(u&&a>2&&(o=NPe(o,arguments[2])),f=BPe(n),d=new(HPe(r))(f),c=0;f>c;c++)d[c]=u?o(n[c],c):n[c];return d},"from")});var Xn=N(function(Zst,x_){"use strict";var K5=D(),oB=ve(),Y5=ce(),VPe=Oe(),WPe=Uv(),Cs=_e(),aB=vO(),X5=Or(),KPe=Cr(),Mc=kt(),YPe=uv(),XPe=Fr(),J5=uO(),R_=P_(),uB=Bn(),Bc=Ae(),JPe=Sn(),I_=Re(),QPe=bo(),ZPe=wt(),eEe=rr(),Mv=zn(),tEe=Si().f,Q5=E_(),rEe=Ot().forEach,nEe=Io(),sB=We(),lB=Mt(),C_=Ye(),iEe=Ra(),k_=C_.get,oEe=C_.set,aEe=C_.enforce,F_=sB.f,uEe=lB.f,sEe=Math.round,T_=oB.RangeError,cB=aB.ArrayBuffer,lEe=cB.prototype,cEe=aB.DataView,Bv=Cs.NATIVE_ARRAY_BUFFER_VIEWS,Z5=Cs.TYPED_ARRAY_TAG,eB=Cs.TypedArray,$c=Cs.TypedArrayPrototype,fEe=Cs.aTypedArrayConstructor,q_=Cs.isTypedArray,$v="BYTES_PER_ELEMENT",A_="Wrong length",tB=i(function(e,r){fEe(e);for(var n=0,a=r.length,o=new e(a);a>n;)o[n]=r[n++];return o},"fromList"),zv=i(function(e,r){F_(e,r,{get:i(function(){return k_(this)[r]},"get")})},"addGetter"),rB=i(function(e){var r;return eEe(lEe,e)||(r=JPe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},"isArrayBuffer"),fB=i(function(e,r){return q_(e)&&!QPe(r)&&r in e&&YPe(+r)&&r>=0},"isTypedArrayIndex"),nB=i(function(e,r){return r=uB(r),fB(e,r)?KPe(2,e[r]):uEe(e,r)},"getOwnPropertyDescriptor"),iB=i(function(e,r,n){return r=uB(r),fB(e,r)&&I_(n)&&Bc(n,"value")&&!Bc(n,"get")&&!Bc(n,"set")&&!n.configurable&&(!Bc(n,"writable")||n.writable)&&(!Bc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):F_(e,r,n)},"defineProperty");VPe?(Bv||(lB.f=nB,sB.f=iB,zv($c,"buffer"),zv($c,"byteOffset"),zv($c,"byteLength"),zv($c,"length")),K5({target:"Object",stat:!0,forced:!Bv},{getOwnPropertyDescriptor:nB,defineProperty:iB}),x_.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,a=t+(r?"Clamped":"")+"Array",o="get"+t,u="set"+t,s=oB[a],c=s,f=c&&c.prototype,d={},y=i(function(T,E){var A=k_(T);return A.view[o](E*n+A.byteOffset,!0)},"getter"),m=i(function(T,E,A){var x=k_(T);r&&(A=(A=sEe(A))<0?0:A>255?255:A&255),x.view[u](E*n+x.byteOffset,A,!0)},"setter"),w=i(function(T,E){F_(T,E,{get:i(function(){return y(this,E)},"get"),set:i(function(x){return m(this,E,x)},"set"),enumerable:!0})},"addElement");Bv?WPe&&(c=e(function(R,T,E,A){return X5(R,f),iEe(function(){return I_(T)?rB(T)?A!==void 0?new s(T,R_(E,n),A):E!==void 0?new s(T,R_(E,n)):new s(T):q_(T)?tB(c,T):Y5(Q5,c,T):new s(J5(T))}(),R,c)}),Mv&&Mv(c,eB),rEe(tEe(s),function(R){R in c||Mc(c,R,s[R])}),c.prototype=f):(c=e(function(R,T,E,A){X5(R,f);var x=0,U=0,G,M,z;if(!I_(T))z=J5(T),M=z*n,G=new cB(M);else if(rB(T)){G=T,U=R_(E,n);var W=T.byteLength;if(A===void 0){if(W%n||(M=W-U,M<0))throw T_(A_)}else if(M=XPe(A)*n,M+U>W)throw T_(A_);z=M/n}else return q_(T)?tB(c,T):Y5(Q5,c,T);for(oEe(R,{buffer:G,byteOffset:U,byteLength:M,length:z,view:new cEe(G)});x<z;)w(R,x++)}),Mv&&Mv(c,eB),f=c.prototype=ZPe($c)),f.constructor!==c&&Mc(f,"constructor",c),aEe(f).TypedArrayConstructor=c,Z5&&Mc(f,Z5,a);var _=c!=s;d[a]=c,K5({global:!0,constructor:!0,forced:_,sham:!Bv},d),$v in c||Mc(c,$v,n),$v in f||Mc(f,$v,n),nEe(a)}):x_.exports=function(){}});var L_=N(function(elt,vB){var CEe=oh(),FEe=TypeError;vB.exports=function(t){var e=CEe(t,"number");if(typeof e=="number")throw FEe("Can't convert number to bigint");return BigInt(e)}});var Fs=N(function(tlt,mB){var HEe=Le();mB.exports=function(t,e){for(var r=0,n=HEe(e),a=new t(n);n>r;)a[r]=e[r++];return a}});var Ls=N(function(rlt,bB){var gB=_e(),VEe=nr(),WEe=gB.aTypedArrayConstructor,KEe=gB.getTypedArrayConstructor;bB.exports=function(t){return WEe(VEe(t,KEe(t)))}});var zc=N(function(nlt,wB){var YEe=Fs(),XEe=Ls();wB.exports=function(t,e){return YEe(XEe(t),e)}});var jB=N(function(ilt,LB){"use strict";var LRe=wr(),jRe=bt(),NRe=ut(),DRe=Le(),URe=ka(),MRe=Math.min,M_=[].lastIndexOf,FB=!!M_&&1/[1].lastIndexOf(1,-0)<0,BRe=URe("lastIndexOf"),$Re=FB||!BRe;LB.exports=$Re?i(function(e){if(FB)return LRe(M_,this,arguments)||0;var r=jRe(this),n=DRe(r),a=n-1;for(arguments.length>1&&(a=MRe(a,NRe(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in r&&r[a]===e)return a||0;return-1},"lastIndexOf"):M_});var B_=N(function(olt,BB){var eTe=he(),tTe=xe(),rTe=wi(),nTe=Le(),iTe=TypeError,MB=i(function(e){return function(r,n,a,o){eTe(n);var u=tTe(r),s=rTe(u),c=nTe(u),f=e?c-1:0,d=e?-1:1;if(a<2)for(;;){if(f in s){o=s[f],f+=d;break}if(f+=d,e?f<0:c<=f)throw iTe("Reduce of empty array with no initial value")}for(;e?f>=0:c>f;f+=d)f in s&&(o=n(o,s[f],f,u));return o}},"createMethod");BB.exports={left:MB(!1),right:MB(!0)}});var Y_=N(function(alt,v8){"use strict";var tAe=le(),c8=Vn(),Kv=xo().getWeakData,rAe=te(),W_=Re(),nAe=Or(),iAe=we(),p8=Ot(),f8=Ae(),d8=Ye(),oAe=d8.set,aAe=d8.getterFor,uAe=p8.find,sAe=p8.findIndex,lAe=tAe([].splice),cAe=0,Yv=i(function(e){return e.frozen||(e.frozen=new h8)},"uncaughtFrozenStore"),h8=i(function(){this.entries=[]},"UncaughtFrozenStore"),K_=i(function(e,r){return uAe(e.entries,function(n){return n[0]===r})},"findUncaughtFrozen");h8.prototype={get:i(function(e){var r=K_(this,e);if(r)return r[1]},"get"),has:i(function(e){return!!K_(this,e)},"has"),set:i(function(e,r){var n=K_(this,e);n?n[1]=r:this.entries.push([e,r])},"set"),delete:i(function(e){var r=sAe(this.entries,function(n){return n[0]===e});return~r&&lAe(this.entries,r,1),!!~r},"_delete")};v8.exports={getConstructor:i(function(e,r,n,a){var o=e(function(f,d){nAe(f,u),oAe(f,{type:r,id:cAe++,frozen:void 0}),d!=null&&iAe(d,f[a],{that:f,AS_ENTRIES:n})}),u=o.prototype,s=aAe(r),c=i(function(d,y,m){var w=s(d),_=Kv(rAe(y),!0);return _===!0?Yv(w).set(y,m):_[w.id]=m,d},"define");return c8(u,{delete:i(function(d){var y=s(this);if(!W_(d))return!1;var m=Kv(d);return m===!0?Yv(y).delete(d):m&&f8(m,y.id)&&delete m[y.id]},"_delete"),has:i(function(d){var y=s(this);if(!W_(d))return!1;var m=Kv(d);return m===!0?Yv(y).has(d):m&&f8(m,y.id)},"has")}),c8(u,n?{get:i(function(d){var y=s(this);if(W_(d)){var m=Kv(d);return m===!0?Yv(y).get(d):m?m[y.id]:void 0}},"get"),set:i(function(d,y){return c(this,d,y)},"set")}:{add:i(function(d){return c(this,d,!0)},"add")}),o},"getConstructor")}});var b8=N(function(){"use strict";var y8=ve(),Xv=le(),fAe=Vn(),pAe=xo(),dAe=mc(),m8=Y_(),Jv=Re(),Qv=yc(),Zv=Ye().enforce,hAe=Hw(),vAe=!y8.ActiveXObject&&"ActiveXObject"in y8,Hc,g8=i(function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"WeakMap")},"wrapper"),yAe=dAe("WeakMap",g8,m8);hAe&&vAe&&(Hc=m8.getConstructor(g8,"WeakMap",!0),pAe.enable(),Ds=yAe.prototype,X_=Xv(Ds.delete),Vc=Xv(Ds.has),J_=Xv(Ds.get),Q_=Xv(Ds.set),fAe(Ds,{delete:i(function(e){if(Jv(e)&&!Qv(e)){var r=Zv(this);return r.frozen||(r.frozen=new Hc),X_(this,e)||r.frozen.delete(e)}return X_(this,e)},"_delete"),has:i(function(e){if(Jv(e)&&!Qv(e)){var r=Zv(this);return r.frozen||(r.frozen=new Hc),Vc(this,e)||r.frozen.has(e)}return Vc(this,e)},"has"),get:i(function(e){if(Jv(e)&&!Qv(e)){var r=Zv(this);return r.frozen||(r.frozen=new Hc),Vc(this,e)?J_(this,e):r.frozen.get(e)}return J_(this,e)},"get"),set:i(function(e,r){if(Jv(e)&&!Qv(e)){var n=Zv(this);n.frozen||(n.frozen=new Hc),Vc(this,e)?Q_(this,e,r):n.frozen.set(e,r)}else Q_(this,e,r);return this},"set")}));var Ds,X_,Vc,J_,Q_});var ey=N(function(){b8()});var w8=N(function(){"use strict";var mAe=mc(),gAe=Y_();mAe("WeakSet",function(t){return i(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakSet")},gAe)});var Wc=N(function(dlt,A8){var E8=ve(),R8=Wl(),T8=Pe(),bAe=wt(),ty=Bt(),wAe=nt(),OAe=be(),SAe=rt(),O8="USE_FUNCTION_CONSTRUCTOR",S8=OAe("asyncIterator"),_8=E8.AsyncIterator,P8=R8.AsyncIteratorPrototype,Jn,Z_;if(P8)Jn=P8;else if(T8(_8))Jn=_8.prototype;else if(R8[O8]||E8[O8])try{Z_=ty(ty(ty(Function("return async function*(){}()")()))),ty(Z_)===Object.prototype&&(Jn=Z_)}catch(t){}Jn?SAe&&(Jn=bAe(Jn)):Jn={};T8(Jn[S8])||wAe(Jn,S8,function(){return this});A8.exports=Jn});var Kc=N(function(hlt,L8){"use strict";var I8=ce(),e1=te(),_Ae=wt(),PAe=It(),EAe=Vn(),x8=Ye(),RAe=me(),TAe=Wc(),t1=RAe("Promise"),C8="AsyncFromSyncIterator",AAe=x8.set,k8=x8.getterFor(C8),q8=i(function(e,r,n){var a=e.done;t1.resolve(e.value).then(function(o){r({done:a,value:o})},n)},"asyncFromSyncIteratorContinuation"),F8=i(function(e){AAe(this,{type:C8,iterator:e1(e),next:e.next})},"AsyncIterator");F8.prototype=EAe(_Ae(TAe),{next:i(function(){var e=k8(this);return new t1(function(r,n){var a=e1(I8(e.next,e.iterator));q8(a,r,n)})},"next"),return:i(function(){var e=k8(this).iterator;return new t1(function(r,n){var a=PAe(e,"return");if(a===void 0)return r({done:!0,value:void 0});var o=e1(I8(a,e));q8(o,r,n)})},"_return")});L8.exports=F8});var ry=N(function(vlt,j8){var IAe=ce(),kAe=Kc(),qAe=te(),xAe=tn(),CAe=It(),FAe=be(),LAe=FAe("asyncIterator");j8.exports=function(t,e){var r=arguments.length<2?CAe(t,LAe):e;return r?qAe(IAe(r,t)):new kAe(xAe(t))}});var r1=N(function(ylt,N8){var jAe=ve();N8.exports=function(t){return jAe[t].prototype}});var ot=N(function(mlt,D8){var NAe=he(),DAe=te();D8.exports=function(t){return{iterator:t,next:NAe(DAe(t).next)}}});var Us=N(function(glt,U8){var UAe=ce(),MAe=me(),BAe=It();U8.exports=function(t,e,r,n){try{var a=BAe(t,"return");if(a)return MAe("Promise").resolve(UAe(a,t)).then(function(){e(r)},function(o){n(o)})}catch(o){return n(o)}e(r)}});var $a=N(function(blt,B8){"use strict";var $Ae=ce(),zAe=he(),M8=te(),GAe=Ia(),HAe=me(),VAe=ot(),n1=Us(),Yc=i(function(e){var r=e==0,n=e==1,a=e==2,o=e==3;return function(u,s,c){var f=VAe(u),d=HAe("Promise"),y=f.iterator,m=f.next,w=0,_=s!==void 0;return(_||!r)&&zAe(s),new d(function(R,T){var E=i(function(U){n1(y,T,U,T)},"ifAbruptCloseAsyncIterator"),A=i(function x(){try{if(r&&_)try{GAe(w)}catch(U){E(U)}d.resolve(M8($Ae(m,y))).then(function(U){try{if(M8(U).done)r?(c.length=w,R(c)):R(o?!1:a||void 0);else{var G=U.value;try{_?d.resolve(r?s(G,w):s(G)).then(function(M){if(n)x();else if(a)M?x():n1(y,R,!1,T);else if(r)try{c[w++]=M,x()}catch(z){E(z)}else M?n1(y,R,o||G,T):x()},E):(c[w++]=G,x())}catch(M){E(M)}}}catch(M){T(M)}},T)}catch(U){T(U)}},"loop");A()})}},"createMethod");B8.exports={toArray:Yc(0),forEach:Yc(1),every:Yc(2),some:Yc(3),find:Yc(4)}});var i1=N(function(wlt,$8){"use strict";var WAe=Xe(),KAe=xe(),YAe=_n(),XAe=ry(),JAe=tn(),QAe=Hn(),ZAe=It(),eIe=r1(),tIe=me(),rIe=be(),nIe=Kc(),iIe=$a().toArray,oIe=rIe("asyncIterator"),aIe=eIe("Array").values;$8.exports=i(function(e){var r=this,n=arguments.length,a=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(tIe("Promise"))(function(u){var s=KAe(e);a!==void 0&&(a=WAe(a,o));var c=ZAe(s,oIe),f=c?void 0:QAe(s)||aIe,d=YAe(r)?new r:[],y=c?XAe(s,c):new nIe(JAe(s,f));u(iIe(y,a,d))})},"fromAsync")});var ny=N(function(Olt,z8){var vIe=Xe(),yIe=le(),mIe=wi(),gIe=xe(),bIe=Bn(),wIe=Le(),OIe=wt(),SIe=Fs(),_Ie=Array,PIe=yIe([].push);z8.exports=function(t,e,r,n){for(var a=gIe(t),o=mIe(a),u=vIe(e,r),s=OIe(null),c=wIe(o),f=0,d,y,m;c>f;f++)m=o[f],y=bIe(u(m,f,a)),y in s?PIe(s[y],m):s[y]=[m];if(n&&(d=n(a),d!==_Ie))for(y in s)s[y]=SIe(d,s[y]);return s}});var a1=N(function(Slt,H8){"use strict";var xIe=me(),CIe=Xe(),iy=le(),FIe=wi(),LIe=xe(),jIe=Le(),G8=xIe("Map"),o1=G8.prototype,NIe=iy(o1.get),DIe=iy(o1.has),UIe=iy(o1.set),MIe=iy([].push);H8.exports=i(function(e){for(var r=LIe(this),n=FIe(r),a=CIe(e,arguments.length>1?arguments[1]:void 0),o=new G8,u=jIe(n),s=0,c,f;u>s;s++)f=n[s],c=a(f,s,r),DIe(o,c)?MIe(NIe(o,c),f):UIe(o,c,[f]);return o},"groupToMap")});var u1=N(function(_lt,X8){var ike=Le();X8.exports=function(t,e){for(var r=ike(t),n=new e(r),a=0;a<r;a++)n[a]=t[r-a-1];return n}});var ay=N(function(Plt,Q8){"use strict";var Ike=me(),oy=le(),kke=he(),qke=Le(),xke=xe(),Cke=_a(),J8=Ike("Map"),s1=J8.prototype,Fke=oy(s1.forEach),Lke=oy(s1.has),jke=oy(s1.set),Nke=oy([].push);Q8.exports=i(function(e){var r=xke(this),n=qke(r),a=Cke(r,0),o=new J8,u=e!=null?kke(e):function(d){return d},s,c,f;for(s=0;s<n;s++)c=r[s],f=u(c),Lke(o,f)||jke(o,f,c);return Fke(o,function(d){Nke(a,d)}),a},"uniqueBy")});var l1=N(function(Elt,Z8){var Bke=Le(),$ke=ut(),zke=RangeError;Z8.exports=function(t,e,r,n){var a=Bke(t),o=$ke(r),u=o<0?a+o:o;if(u>=a||u<0)throw zke("Incorrect index");for(var s=new e(a),c=0;c<a;c++)s[c]=c===u?n:t[c];return s}});var $o=N(function(Rlt,f4){"use strict";var Jke=ce(),i4=jo(),o4=te(),Qke=wt(),Zke=kt(),eqe=Vn(),tqe=be(),u4=Ye(),rqe=me(),nqe=It(),iqe=Wc(),a4=Aa(),Ga=rqe("Promise"),s4="AsyncIteratorHelper",l4="WrapForValidAsyncIterator",oqe=u4.set,aqe=tqe("toStringTag"),c4=i(function(e){var r=!e,n=e?l4:s4,a=u4.getterFor(n),o=i(function(f){var d=i4(function(){return a(f)}),y=d.error,m=d.value;return y||r&&m.done?{exit:!0,value:y?Ga.reject(m):Ga.resolve({done:!0,value:void 0})}:{exit:!1,value:m}},"getStateOrEarlyExit"),u=i(function(f,d){var y=i(function(){var w=d();if(r){f.awaiting=w;var _=i(function(){f.awaiting===w&&(f.awaiting=null)},"clean");w.then(_,_)}return w},"task");return f.awaiting?f.awaiting=f.awaiting.then(y,y):y()},"enqueue"),s=eqe(Qke(iqe),{next:i(function(){var f=o(this),d=f.exit,y=f.value;return d?y:u(y,function(){var m=i4(function(){return o4(y.nextHandler(Ga))}),w=m.error,_=m.value;return w&&(y.done=!0),w?Ga.reject(_):Ga.resolve(_)})},"next"),return:i(function(){var f=o(this),d=f.exit,y=f.value;return d?y:u(y,function(){return new Ga(function(m,w){var _=y.iterator,R=y.innerIterator;if(y.done=!0,R)try{a4(R,"return")}catch(E){return a4(_,"throw",E)}var T=nqe(_,"return");if(T===void 0)return m({done:!0,value:void 0});Ga.resolve(Jke(T,_)).then(function(E){o4(E),m({done:!0,value:void 0})},w)})})},"_return")});return r&&Zke(s,aqe,"Async Iterator Helper"),s},"createAsyncIteratorProxyPrototype"),uqe=c4(!1),sqe=c4(!0);f4.exports=function(t,e){var r=e?l4:s4,n=i(function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=r,u.nextHandler=t,u.done=!1,u.awaiting=null,oqe(this,u)},"AsyncIterator");return n.prototype=e?sqe:uqe,n}});var f1=N(function(Tlt,d4){"use strict";var lqe=ce(),p4=te(),cqe=ot(),fqe=$o(),pqe=fqe(function(t){var e=this,r=e.iterator;return t.resolve(p4(lqe(e.next,r))).then(function(n){return p4(n).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:[e.index++,n.value]}}).then(null,function(n){throw e.done=!0,n})});d4.exports=i(function(){return new pqe(cqe(this),{index:0})},"indexed")});var Xc=N(function(Alt,h4){var vqe=RangeError;h4.exports=function(t){if(t===t)return t;throw vqe("NaN is not allowed")}});var p1=N(function(Ilt,b4){var $qe=ce(),zqe=$o();b4.exports=zqe(function(){return $qe(this.next,this.iterator)},!0)});var y1=N(function(klt,T4){"use strict";function Ms(t){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}i(Ms,"_typeof");var P4=Ye(),k2e=To(),q2e=Re(),x2e=mh().f,E4=Oe(),Jc="Incorrect Number.range arguments",v1="NumericRangeIterator",C2e=P4.set,Qc=P4.getterFor(v1),_4=RangeError,h1=TypeError,R4=k2e(i(function(e,r,n,a,o,u){if(Ms(e)!=a||r!==1/0&&r!==-1/0&&Ms(r)!=a)throw new h1(Jc);if(e===1/0||e===-1/0)throw new _4(Jc);var s=r>e,c=!1,f;if(n===void 0)f=void 0;else if(q2e(n))f=n.step,c=!!n.inclusive;else if(Ms(n)==a)f=n;else throw new h1(Jc);if(f==null&&(f=s?u:-u),Ms(f)!=a)throw new h1(Jc);if(f===1/0||f===-1/0||f===o&&e!==r)throw new _4(Jc);var d=e!=e||r!=r||f!=f||r>e!=f>o;C2e(this,{type:v1,start:e,end:r,step:f,inclusiveEnd:c,hitsEnd:d,currentCount:o,zero:o}),E4||(this.start=e,this.end=r,this.step=f,this.inclusive=c)},"NumericRangeIterator"),v1,i(function(){var e=Qc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,a=e.step,o=r+a*e.currentCount++;o===n&&(e.hitsEnd=!0);var u=e.inclusiveEnd,s;return n>r?s=u?o>n:o>=n:s=u?n>o:n>=o,s?{value:void 0,done:e.hitsEnd=!0}:{value:o,done:!1}},"next")),sy=i(function(e){return{get:e,set:i(function(){},"set"),configurable:!0,enumerable:!1}},"getter");E4&&x2e(R4.prototype,{start:sy(function(){return Qc(this).start}),end:sy(function(){return Qc(this).end}),inclusive:sy(function(){return Qc(this).inclusiveEnd}),step:sy(function(){return Qc(this).step})});T4.exports=R4});var m1=N(function(qlt,q4){Zh();ey();var k4=me(),j2e=wt(),A4=Re(),N2e=Object,D2e=TypeError,U2e=k4("Map"),M2e=k4("WeakMap"),ly=i(function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=j2e(null)},"Node");ly.prototype.get=function(t,e){return this[t]||(this[t]=e())};ly.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new M2e):this.primitives||(this.primitives=new U2e),a=n.get(e);return a||n.set(e,a=new ly),a};var I4=new ly;q4.exports=function(){var t=I4,e=arguments.length,r,n;for(r=0;r<e;r++)A4(n=arguments[r])&&(t=t.next(r,n,!0));if(this===N2e&&t===I4)throw D2e("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)A4(n=arguments[r])||(t=t.next(r,n,!1));return t}});var Go=N(function(xlt,G4){"use strict";var mxe=ce(),gxe=te(),bxe=wt(),wxe=kt(),Oxe=Vn(),Sxe=be(),M4=Ye(),_xe=It(),Pxe=us().IteratorPrototype,U4=Aa(),B4="IteratorHelper",$4="WrapForValidIterator",Exe=M4.set,Rxe=Sxe("toStringTag"),z4=i(function(e){var r=e?$4:B4,n=M4.getterFor(r),a=Oxe(bxe(Pxe),{next:i(function(){var u=n(this);if(e)return u.nextHandler();try{var s=u.done?void 0:u.nextHandler();return{done:u.done,value:s}}catch(c){throw u.done=!0,c}},"next"),return:i(function(){var u=n(this),s=u.iterator,c=u.innerIterator;if(u.done=!0,c)try{U4(c,"return")}catch(d){return U4(s,"throw",d)}var f=_xe(s,"return");return{done:!0,value:f?gxe(mxe(f,s)).value:void 0}},"_return")});return e||wxe(a,Rxe,"Iterator Helper"),a},"createIteratorProxyPrototype"),Txe=z4(!1),Axe=z4(!0);G4.exports=function(t,e){var r=e?$4:B4,n=i(function(o,u){u?(u.iterator=o.iterator,u.next=o.next):u=o,u.type=r,u.nextHandler=t,u.done=!1,Exe(this,u)},"Iterator");return n.prototype=e?Axe:Txe,n}});var w1=N(function(Clt,H4){"use strict";var Ixe=ce(),kxe=te(),qxe=ot(),xxe=Go(),Cxe=xxe(function(){var t=kxe(Ixe(this.next,this.iterator)),e=this.done=!!t.done;if(!e)return[this.index++,t.value]});H4.exports=i(function(){return new Cxe(qxe(this),{index:0})},"indexed")});var Zc=N(function(Flt,X4){"use strict";var oFe=ce(),aFe=he(),uFe=te();X4.exports=i(function(){for(var e=uFe(this),r=aFe(e.delete),n=!0,a,o=0,u=arguments.length;o<u;o++)a=oFe(r,e,arguments[o]),n=n&&a;return!!n},"deleteAll")});var P1=N(function(Llt,J4){"use strict";var cy=ce(),_1=he(),cFe=te();J4.exports=i(function(e,r){var n=cFe(this),a=_1(n.get),o=_1(n.has),u=_1(n.set),s,c;return cy(o,n,e)?(s=cy(a,n,e),"update"in r&&(s=r.update(s,e,n),cy(u,n,e,s)),s):(c=r.insert(e,n),cy(u,n,e,c),c)},"emplace")});var Rn=N(function(jlt,Q4){var dFe=ce();Q4.exports=function(t){return dFe(Map.prototype.entries,t)}});var ef=N(function(Nlt,t6){"use strict";var DFe=Xe(),UFe=ce(),MFe=he(),BFe=hs(),Z4=we(),e6=[].push;t6.exports=i(function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,a,o,u,s;return BFe(this),a=n!==void 0,a&&MFe(n),e==null?new this:(o=[],a?(u=0,s=DFe(n,r>2?arguments[2]:void 0),Z4(e,function(c){UFe(e6,o,s(c,u++))})):Z4(e,e6,{that:o}),new this(o))},"from")});var n6=N(function(Dlt,r6){r6.exports=function(t,e){return t===e||t!=t&&e!=e}});var tf=N(function(Ult,o6){"use strict";var ILe=Eo();o6.exports=i(function(){return new this(ILe(arguments))},"of")});var hy=N(function(Mlt,a6){"use strict";var py=ce(),T1=he(),dy=Pe(),VLe=te(),WLe=TypeError;a6.exports=i(function(e,r){var n=VLe(this),a=T1(n.get),o=T1(n.has),u=T1(n.set),s=arguments.length>2?arguments[2]:void 0,c;if(!dy(r)&&!dy(s))throw WLe("At least one callback required");return py(o,n,e)?(c=py(a,n,e),dy(r)&&(c=r(c),py(u,n,e,c))):dy(s)&&(c=s(),py(u,n,e,c)),c},"upsert")});var A1=N(function(Blt,u6){u6.exports=Math.scale||i(function(e,r,n,a,o){var u=+e,s=+r,c=+n,f=+a,d=+o;return u!=u||s!=s||c!=c||f!=f||d!=d?NaN:u===1/0||u===-1/0?u:(u-s)*(d-f)/(c-s)+f},"scale")});var my=N(function($lt,h6){"use strict";var p6=Ye(),Dje=To(),Uje=Ae(),Mje=Oa(),Bje=xe(),d6="Object Iterator",$je=p6.set,zje=p6.getterFor(d6);h6.exports=Dje(i(function(e,r){var n=Bje(e);$je(this,{type:d6,mode:r,object:n,keys:Mje(n),index:0})},"ObjectIterator"),"Object",i(function(){for(var e=zje(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],a=e.object;if(!!Uje(a,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:a[n],done:!1}}return{value:[n,a[n]],done:!1}}}},"next"))});var gy=N(function(zlt,y6){var Xje=ve(),nf=Pe(),Jje=be(),Qje=Jje("observable"),of=Xje.Observable,v6=of&&of.prototype;y6.exports=!nf(of)||!nf(of.from)||!nf(of.of)||!nf(v6.subscribe)||!nf(v6[Qje])});var R6=N(function(){"use strict";var Zje=D(),by=ce(),af=Oe(),eNe=Io(),m6=he(),g6=Pe(),tNe=te(),rNe=Re(),nNe=Or(),wy=It(),iNe=nt(),k1=Vn(),b6=Ii(),Bs=hS(),oNe=be(),w6=Ye(),aNe=gy(),uNe=oNe("observable"),q1="Observable",O6="Subscription",S6="SubscriptionObserver",x1=w6.getterFor,C1=w6.set,sNe=x1(q1),_6=x1(O6),Oy=x1(S6),P6=i(function(e){this.observer=tNe(e),this.cleanup=void 0,this.subscriptionObserver=void 0},"SubscriptionState");P6.prototype={type:O6,clean:i(function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){Bs(r)}}},"clean"),close:i(function(){if(!af){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},"close"),isClosed:i(function(){return this.observer===void 0},"isClosed")};var F1=i(function(e,r){var n=C1(this,new P6(e)),a;af||(this.closed=!1);try{(a=wy(e,"start"))&&by(a,e,this)}catch(c){Bs(c)}if(!n.isClosed()){var o=n.subscriptionObserver=new L1(n);try{var u=r(o),s=u;u!=null&&(n.cleanup=g6(u.unsubscribe)?function(){s.unsubscribe()}:m6(u))}catch(c){o.error(c);return}n.isClosed()&&n.clean()}},"Subscription");F1.prototype=k1({},{unsubscribe:i(function(){var e=_6(this);e.isClosed()||(e.close(),e.clean())},"unsubscribe")});af&&b6(F1.prototype,"closed",{configurable:!0,get:i(function(){return _6(this).isClosed()},"closed")});var L1=i(function(e){C1(this,{type:S6,subscriptionState:e}),af||(this.closed=!1)},"SubscriptionObserver");L1.prototype=k1({},{next:i(function(e){var r=Oy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var a=wy(n,"next");a&&by(a,n,e)}catch(o){Bs(o)}}},"next"),error:i(function(e){var r=Oy(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var a=wy(n,"error");a?by(a,n,e):Bs(e)}catch(o){Bs(o)}r.clean()}},"error"),complete:i(function(){var e=Oy(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=wy(r,"complete");n&&by(n,r)}catch(a){Bs(a)}e.clean()}},"complete")});af&&b6(L1.prototype,"closed",{configurable:!0,get:i(function(){return Oy(this).subscriptionState.isClosed()},"closed")});var E6=i(function(e){nNe(this,j1),C1(this,{type:q1,subscriber:m6(e)})},"Observable"),j1=E6.prototype;k1(j1,{subscribe:i(function(e){var r=arguments.length;return new F1(g6(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:rNe(e)?e:{},sNe(this).subscriber)},"subscribe")});iNe(j1,uNe,function(){return this});Zje({global:!0,constructor:!0,forced:aNe},{Observable:E6});eNe(q1)});var A6=N(function(){"use strict";var lNe=D(),cNe=me(),fNe=ce(),T6=te(),pNe=_n(),dNe=tn(),hNe=It(),vNe=we(),yNe=be(),mNe=gy(),gNe=yNe("observable");lNe({target:"Observable",stat:!0,forced:mNe},{from:i(function(e){var r=pNe(this)?this:cNe("Observable"),n=hNe(T6(e),gNe);if(n){var a=T6(fNe(n,e));return a.constructor===r?a:new r(function(u){return a.subscribe(u)})}var o=dNe(e);return new r(function(u){vNe(o,function(s,c){if(u.next(s),u.closed)return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}),u.complete()})},"from")})});var k6=N(function(){"use strict";var bNe=D(),I6=me(),wNe=_n(),ONe=gy(),SNe=I6("Array");bNe({target:"Observable",stat:!0,forced:ONe},{of:i(function(){for(var e=wNe(this)?this:I6("Observable"),r=arguments.length,n=SNe(r),a=0;a<r;)n[a]=arguments[a++];return new e(function(o){for(var u=0;u<r;u++)if(o.next(n[u]),o.closed)return;o.complete()})},"of")})});var Qn=N(function(Xlt,F6){function N1(t){return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(t)}i(N1,"_typeof");Zh();ey();var C6=me(),RNe=le(),TNe=Oo(),q6=C6("Map"),ANe=C6("WeakMap"),INe=RNe([].push),x6=TNe("metadata"),D1=x6.store||(x6.store=new ANe),uf=i(function(e,r,n){var a=D1.get(e);if(!a){if(!n)return;D1.set(e,a=new q6)}var o=a.get(r);if(!o){if(!n)return;a.set(r,o=new q6)}return o},"getOrCreateMetadataMap"),kNe=i(function(e,r,n){var a=uf(r,n,!1);return a===void 0?!1:a.has(e)},"ordinaryHasOwnMetadata"),qNe=i(function(e,r,n){var a=uf(r,n,!1);return a===void 0?void 0:a.get(e)},"ordinaryGetOwnMetadata"),xNe=i(function(e,r,n,a){uf(n,a,!0).set(e,r)},"ordinaryDefineOwnMetadata"),CNe=i(function(e,r){var n=uf(e,r,!1),a=[];return n&&n.forEach(function(o,u){INe(a,u)}),a},"ordinaryOwnMetadataKeys"),FNe=i(function(e){return e===void 0||N1(e)=="symbol"?e:String(e)},"toMetadataKey");F6.exports={store:D1,getMap:uf,has:kNe,get:qNe,set:xNe,keys:CNe,toKey:FNe}});var B1=N(function(Jlt,G6){"use strict";var TDe=ce(),ADe=he(),IDe=te();G6.exports=i(function(){for(var e=IDe(this),r=ADe(e.add),n=0,a=arguments.length;n<a;n++)TDe(r,e,arguments[n]);return e},"addAll")});var Ho=N(function(Qlt,H6){var BDe=ce();H6.exports=function(t){return BDe(Set.prototype.values,t)}});var l7=N(function(Zlt,s7){var NMe=Sn(),DMe=le(),UMe=DMe("".slice);s7.exports=function(t){return UMe(NMe(t),0,3)==="Big"}});var H1=N(function(ect,p7){var c7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f7={};for(sf=0;sf<66;sf++)f7[c7.charAt(sf)]=sf;var sf;p7.exports={itoc:c7,ctoi:f7}});var J1=N(function(tct,R7){R7.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var Z1=N(function(rct,A7){var E5e=Kl(),Q1=E5e("span").classList,T7=Q1&&Q1.constructor&&Q1.constructor.prototype;A7.exports=T7===Object.prototype?void 0:T7});var k7=N(function(nct,I7){"use strict";var R5e=Ot().forEach,T5e=ka(),A5e=T5e("forEach");I7.exports=A5e?[].forEach:i(function(e){return R5e(this,e,arguments.length>1?arguments[1]:void 0)},"forEach")});var M7=N(function(ict,U7){var x5e=Fo();U7.exports=function(t){try{if(x5e)return Function('return require("'+t+'")')()}catch(e){}}});var z7=N(function(oct,$7){"use strict";var C5e=Oe(),F5e=se(),L5e=te(),j5e=wt(),B7=is(),Ey=Error.prototype.toString,N5e=F5e(function(){if(C5e){var t=j5e(Object.defineProperty({},"name",{get:i(function(){return this===t},"get")}));if(Ey.call(t)!=="true")return!0}return Ey.call({message:1,name:2})!=="2: 1"||Ey.call({})!=="Error"});$7.exports=N5e?i(function(){var e=L5e(this),r=B7(e.name,"Error"),n=B7(e.message);return r?n?r+": "+n:r:n},"toString"):Ey});var iP=N(function(act,G7){G7.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var CP=N(function(uct,g9){var XBe=se(),JBe=be(),QBe=rt(),ZBe=JBe("iterator");g9.exports=!XBe(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,a){e.delete("b"),r+=a+n}),QBe&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[ZBe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var T9=N(function(sct,R9){"use strict";var Wa=le(),FP=2147483647,Of=36,_9=1,NP=26,e8e=38,t8e=700,r8e=72,n8e=128,i8e="-",o8e=/[^\0-\u007E]/,P9=/[.\u3002\uFF0E\uFF61]/g,b9="Overflow: input needs wider integers to process",LP=Of-_9,w9=RangeError,a8e=Wa(P9.exec),Hs=Math.floor,jP=String.fromCharCode,O9=Wa("".charCodeAt),E9=Wa([].join),Ko=Wa([].push),u8e=Wa("".replace),s8e=Wa("".split),l8e=Wa("".toLowerCase),c8e=i(function(e){for(var r=[],n=0,a=e.length;n<a;){var o=O9(e,n++);if(o>=55296&&o<=56319&&n<a){var u=O9(e,n++);(u&64512)==56320?Ko(r,((o&1023)<<10)+(u&1023)+65536):(Ko(r,o),n--)}else Ko(r,o)}return r},"ucs2decode"),S9=i(function(e){return e+22+75*(e<26)},"digitToBasic"),f8e=i(function(e,r,n){var a=0;for(e=n?Hs(e/t8e):e>>1,e+=Hs(e/r);e>LP*NP>>1;)e=Hs(e/LP),a+=Of;return Hs(a+(LP+1)*e/(e+e8e))},"adapt"),p8e=i(function(e){var r=[];e=c8e(e);var n=e.length,a=n8e,o=0,u=r8e,s,c;for(s=0;s<e.length;s++)c=e[s],c<128&&Ko(r,jP(c));var f=r.length,d=f;for(f&&Ko(r,i8e);d<n;){var y=FP;for(s=0;s<e.length;s++)c=e[s],c>=a&&c<y&&(y=c);var m=d+1;if(y-a>Hs((FP-o)/m))throw w9(b9);for(o+=(y-a)*m,a=y,s=0;s<e.length;s++){if(c=e[s],c<a&&++o>FP)throw w9(b9);if(c==a){for(var w=o,_=Of;;){var R=_<=u?_9:_>=u+NP?NP:_-u;if(w<R)break;var T=w-R,E=Of-R;Ko(r,jP(S9(R+T%E))),w=Hs(T/E),_+=Of}Ko(r,jP(S9(w))),u=f8e(o,m,d==f),o=0,d++}}o++,a++}return E9(r,"")},"encode");R9.exports=function(t){var e=[],r=s8e(u8e(l8e(t),P9,"."),"."),n,a;for(n=0;n<r.length;n++)a=r[n],Ko(e,a8e(o8e,a)?"xn--"+p8e(a):a);return E9(e,".")}});var WP=N(function(lct,W9){"use strict";hc();var $P=D(),Ws=ve(),jy=ce(),Zn=le(),d8e=Oe(),U9=CP(),M9=nt(),h8e=Vn(),v8e=gr(),y8e=To(),HP=Ye(),B9=Or(),DP=Pe(),m8e=Ae(),g8e=Xe(),b8e=Sn(),w8e=te(),$9=Re(),Nr=je(),O8e=wt(),A9=Cr(),zP=tn(),S8e=Hn(),Vs=Lo(),_8e=be(),P8e=$h(),E8e=_8e("iterator"),Pf="URLSearchParams",z9=Pf+"Iterator",G9=HP.set,Tn=HP.getterFor(Pf),R8e=HP.getterFor(z9),T8e=Object.getOwnPropertyDescriptor,VP=i(function(e){if(!d8e)return Ws[e];var r=T8e(Ws,e);return r&&r.value},"safeGetBuiltIn"),I9=VP("fetch"),Dy=VP("Request"),Sf=VP("Headers"),UP=Dy&&Dy.prototype,k9=Sf&&Sf.prototype,A8e=Ws.RegExp,I8e=Ws.TypeError,H9=Ws.decodeURIComponent,k8e=Ws.encodeURIComponent,q8e=Zn("".charAt),q9=Zn([].join),Ka=Zn([].push),GP=Zn("".replace),x8e=Zn([].shift),x9=Zn([].splice),C9=Zn("".split),C8e=Zn("".slice),F8e=/\+/g,F9=Array(4),L8e=i(function(e){return F9[e-1]||(F9[e-1]=A8e("((?:%[\\da-f]{2}){"+e+"})","gi"))},"percentSequence"),j8e=i(function(e){try{return H9(e)}catch(r){return e}},"percentDecode"),L9=i(function(e){var r=GP(e,F8e," "),n=4;try{return H9(r)}catch(a){for(;n;)r=GP(r,L8e(n--),j8e);return r}},"deserialize"),N8e=/[!'()~]|%20/g,D8e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U8e=i(function(e){return D8e[e]},"replacer"),j9=i(function(e){return GP(k8e(e),N8e,U8e)},"serialize"),MP=y8e(i(function(e,r){G9(this,{type:z9,iterator:zP(Tn(e).entries),kind:r})},"Iterator"),"Iterator",i(function(){var e=R8e(this),r=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value=r==="keys"?a.key:r==="values"?a.value:[a.key,a.value]),n},"next"),!0),V9=i(function(e){this.entries=[],this.url=null,e!==void 0&&($9(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?q8e(e,0)==="?"?C8e(e,1):e:Nr(e)))},"URLSearchParamsState");V9.prototype={type:Pf,bindURL:i(function(e){this.url=e,this.update()},"bindURL"),parseObject:i(function(e){var r=S8e(e),n,a,o,u,s,c,f;if(r)for(n=zP(e,r),a=n.next;!(o=jy(a,n)).done;){if(u=zP(w8e(o.value)),s=u.next,(c=jy(s,u)).done||(f=jy(s,u)).done||!jy(s,u).done)throw I8e("Expected sequence with length 2");Ka(this.entries,{key:Nr(c.value),value:Nr(f.value)})}else for(var d in e)m8e(e,d)&&Ka(this.entries,{key:d,value:Nr(e[d])})},"parseObject"),parseQuery:i(function(e){if(e)for(var r=C9(e,"&"),n=0,a,o;n<r.length;)a=r[n++],a.length&&(o=C9(a,"="),Ka(this.entries,{key:L9(x8e(o)),value:L9(q9(o,"="))}))},"parseQuery"),serialize:i(function(){for(var e=this.entries,r=[],n=0,a;n<e.length;)a=e[n++],Ka(r,j9(a.key)+"="+j9(a.value));return q9(r,"&")},"serialize"),update:i(function(){this.entries.length=0,this.parseQuery(this.url.query)},"update"),updateURL:i(function(){this.url&&this.url.update()},"updateURL")};var Uy=i(function(){B9(this,_f);var e=arguments.length>0?arguments[0]:void 0;G9(this,new V9(e))},"URLSearchParams"),_f=Uy.prototype;h8e(_f,{append:i(function(e,r){Vs(arguments.length,2);var n=Tn(this);Ka(n.entries,{key:Nr(e),value:Nr(r)}),n.updateURL()},"append"),delete:i(function(e){Vs(arguments.length,1);for(var r=Tn(this),n=r.entries,a=Nr(e),o=0;o<n.length;)n[o].key===a?x9(n,o,1):o++;r.updateURL()},"_delete"),get:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=0;a<r.length;a++)if(r[a].key===n)return r[a].value;return null},"get"),getAll:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=[],o=0;o<r.length;o++)r[o].key===n&&Ka(a,r[o].value);return a},"getAll"),has:i(function(e){Vs(arguments.length,1);for(var r=Tn(this).entries,n=Nr(e),a=0;a<r.length;)if(r[a++].key===n)return!0;return!1},"has"),set:i(function(e,r){Vs(arguments.length,1);for(var n=Tn(this),a=n.entries,o=!1,u=Nr(e),s=Nr(r),c=0,f;c<a.length;c++)f=a[c],f.key===u&&(o?x9(a,c--,1):(o=!0,f.value=s));o||Ka(a,{key:u,value:s}),n.updateURL()},"set"),sort:i(function(){var e=Tn(this);P8e(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},"sort"),forEach:i(function(e){for(var r=Tn(this).entries,n=g8e(e,arguments.length>1?arguments[1]:void 0),a=0,o;a<r.length;)o=r[a++],n(o.value,o.key,this)},"forEach"),keys:i(function(){return new MP(this,"keys")},"keys"),values:i(function(){return new MP(this,"values")},"values"),entries:i(function(){return new MP(this,"entries")},"entries")},{enumerable:!0});M9(_f,E8e,_f.entries,{name:"entries"});M9(_f,"toString",i(function(){return Tn(this).serialize()},"toString"),{enumerable:!0});v8e(Uy,Pf);$P({global:!0,constructor:!0,forced:!U9},{URLSearchParams:Uy});!U9&&DP(Sf)&&(N9=Zn(k9.has),D9=Zn(k9.set),BP=i(function(e){if($9(e)){var r=e.body,n;if(b8e(r)===Pf)return n=e.headers?new Sf(e.headers):new Sf,N9(n,"content-type")||D9(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),O8e(e,{body:A9(0,Nr(r)),headers:A9(0,n)})}return e},"wrapRequestOptions"),DP(I9)&&$P({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:i(function(e){return I9(e,arguments.length>1?BP(arguments[1]):{})},"fetch")}),DP(Dy)&&(Ny=i(function(e){return B9(this,UP),new Dy(e,arguments.length>1?BP(arguments[1]):{})},"Request"),UP.constructor=Ny,Ny.prototype=UP,$P({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Ny})));var N9,D9,BP,Ny;W9.exports={URLSearchParams:Uy,getState:Tn}});var d$=N(function(){"use strict";function aE(t){return aE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(t)}i(aE,"_typeof");XS();var M8e=D(),cE=Oe(),B8e=CP(),fE=ve(),K9=Xe(),un=le(),Gy=nt(),rn=Ii(),$8e=Or(),uE=Ae(),pE=HO(),Ks=K0(),An=ts(),z8e=Ma().codeAt,G8e=T9(),Li=je(),H8e=gr(),V8e=Lo(),a$=WP(),u$=Ye(),W8e=u$.set,Hy=u$.getterFor("URL"),K8e=a$.URLSearchParams,Y8e=a$.getState,Ef=fE.URL,sE=fE.TypeError,Vy=fE.parseInt,X8e=Math.floor,Y9=Math.pow,an=un("".charAt),In=un(/./.exec),Tf=un([].join),J8e=un(1 .toString),Q8e=un([].pop),Xs=un([].push),X9=un("".replace),Z8e=un([].shift),e4e=un("".split),If=un("".slice),Wy=un("".toLowerCase),t4e=un([].unshift),r4e="Invalid authority",KP="Invalid scheme",Ya="Invalid host",J9="Invalid port",s$=/[a-z]/i,n4e=/[\d+-.a-z]/i,lE=/\d/,i4e=/^0x/i,o4e=/^[0-7]+$/,a4e=/^\d+$/,l$=/^[\da-f]+$/i,u4e=/[\0\t\n\r #%/:<>?@[\\\]^|]/,s4e=/[\0\t\n\r #/:<>?@[\\\]^|]/,l4e=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,c4e=/[\t\n\r]/g,nn,f4e=i(function(e){var r=e4e(e,"."),n,a,o,u,s,c,f;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(a=[],o=0;o<n;o++){if(u=r[o],u=="")return e;if(s=10,u.length>1&&an(u,0)=="0"&&(s=In(i4e,u)?16:8,u=If(u,s==8?1:2)),u==="")c=0;else{if(!In(s==10?a4e:s==8?o4e:l$,u))return e;c=Vy(u,s)}Xs(a,c)}for(o=0;o<n;o++)if(c=a[o],o==n-1){if(c>=Y9(256,5-n))return null}else if(c>255)return null;for(f=Q8e(a),o=0;o<a.length;o++)f+=a[o]*Y9(256,3-o);return f},"parseIPv4"),p4e=i(function(e){var r=[0,0,0,0,0,0,0,0],n=0,a=null,o=0,u,s,c,f,d,y,m,w=i(function(){return an(e,o)},"chr");if(w()==":"){if(an(e,1)!=":")return;o+=2,n++,a=n}for(;w();){if(n==8)return;if(w()==":"){if(a!==null)return;o++,n++,a=n;continue}for(u=s=0;s<4&&In(l$,w());)u=u*16+Vy(w(),16),o++,s++;if(w()=="."){if(s==0||(o-=s,n>6))return;for(c=0;w();){if(f=null,c>0)if(w()=="."&&c<4)o++;else return;if(!In(lE,w()))return;for(;In(lE,w());){if(d=Vy(w(),10),f===null)f=d;else{if(f==0)return;f=f*10+d}if(f>255)return;o++}r[n]=r[n]*256+f,c++,(c==2||c==4)&&n++}if(c!=4)return;break}else if(w()==":"){if(o++,!w())return}else if(w())return;r[n++]=u}if(a!==null)for(y=n-a,n=7;n!=0&&y>0;)m=r[n],r[n--]=r[a+y-1],r[a+--y]=m;else if(n!=8)return;return r},"parseIPv6"),d4e=i(function(e){for(var r=null,n=1,a=null,o=0,u=0;u<8;u++)e[u]!==0?(o>n&&(r=a,n=o),a=null,o=0):(a===null&&(a=u),++o);return o>n&&(r=a,n=o),r},"findLongestZeroSequence"),Rf=i(function(e){var r,n,a,o;if(typeof e=="number"){for(r=[],n=0;n<4;n++)t4e(r,e%256),e=X8e(e/256);return Tf(r,".")}else if(aE(e)=="object"){for(r="",a=d4e(e),n=0;n<8;n++)o&&e[n]===0||(o&&(o=!1),a===n?(r+=n?":":"::",o=!0):(r+=J8e(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},"serializeHost"),zy={},c$=pE({},zy,{" ":1,'"':1,"<":1,">":1,"`":1}),f$=pE({},c$,{"#":1,"?":1,"{":1,"}":1}),YP=pE({},f$,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Yo=i(function(e,r){var n=z8e(e,0);return n>32&&n<127&&!uE(r,e)?e:encodeURIComponent(e)},"percentEncode"),My={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Af=i(function(e,r){var n;return e.length==2&&In(s$,an(e,0))&&((n=an(e,1))==":"||!r&&n=="|")},"isWindowsDriveLetter"),Q9=i(function(e){var r;return e.length>1&&Af(If(e,0,2))&&(e.length==2||(r=an(e,2))==="/"||r==="\\"||r==="?"||r==="#")},"startsWithWindowsDriveLetter"),h4e=i(function(e){return e==="."||Wy(e)==="%2e"},"isSingleDot"),v4e=i(function(e){return e=Wy(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},"isDoubleDot"),XP={},Z9={},JP={},e$={},t$={},QP={},r$={},n$={},By={},$y={},ZP={},eE={},tE={},rE={},i$={},nE={},Ys={},ei={},o$={},Xa={},Fi={},p$=i(function t(e,r,n){var a=Li(e),o,u,s;if(r){if(u=this.parse(a),u)throw sE(u);this.searchParams=null}else{if(n!==void 0&&(o=new t(n,!0)),u=this.parse(a,null,o),u)throw sE(u);s=Y8e(new K8e),s.bindURL(this),this.searchParams=s}},"URLState");p$.prototype={type:"URL",parse:i(function(e,r,n){var a=this,o=r||XP,u=0,s="",c=!1,f=!1,d=!1,y,m,w,_;for(e=Li(e),r||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,e=X9(e,l4e,"")),e=X9(e,c4e,""),y=Ks(e);u<=y.length;){switch(m=y[u],o){case XP:if(m&&In(s$,m))s+=Wy(m),o=Z9;else{if(r)return KP;o=JP;continue}break;case Z9:if(m&&(In(n4e,m)||m=="+"||m=="-"||m=="."))s+=Wy(m);else if(m==":"){if(r&&(a.isSpecial()!=uE(My,s)||s=="file"&&(a.includesCredentials()||a.port!==null)||a.scheme=="file"&&!a.host))return;if(a.scheme=s,r){a.isSpecial()&&My[a.scheme]==a.port&&(a.port=null);return}s="",a.scheme=="file"?o=rE:a.isSpecial()&&n&&n.scheme==a.scheme?o=e$:a.isSpecial()?o=n$:y[u+1]=="/"?(o=t$,u++):(a.cannotBeABaseURL=!0,Xs(a.path,""),o=o$)}else{if(r)return KP;s="",o=JP,u=0;continue}break;case JP:if(!n||n.cannotBeABaseURL&&m!="#")return KP;if(n.cannotBeABaseURL&&m=="#"){a.scheme=n.scheme,a.path=An(n.path),a.query=n.query,a.fragment="",a.cannotBeABaseURL=!0,o=Fi;break}o=n.scheme=="file"?rE:QP;continue;case e$:if(m=="/"&&y[u+1]=="/")o=By,u++;else{o=QP;continue}break;case t$:if(m=="/"){o=$y;break}else{o=ei;continue}case QP:if(a.scheme=n.scheme,m==nn)a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query=n.query;else if(m=="/"||m=="\\"&&a.isSpecial())o=r$;else if(m=="?")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query="",o=Xa;else if(m=="#")a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.query=n.query,a.fragment="",o=Fi;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,a.path=An(n.path),a.path.length--,o=ei;continue}break;case r$:if(a.isSpecial()&&(m=="/"||m=="\\"))o=By;else if(m=="/")o=$y;else{a.username=n.username,a.password=n.password,a.host=n.host,a.port=n.port,o=ei;continue}break;case n$:if(o=By,m!="/"||an(s,u+1)!="/")continue;u++;break;case By:if(m!="/"&&m!="\\"){o=$y;continue}break;case $y:if(m=="@"){c&&(s="%40"+s),c=!0,w=Ks(s);for(var R=0;R<w.length;R++){var T=w[R];if(T==":"&&!d){d=!0;continue}var E=Yo(T,YP);d?a.password+=E:a.username+=E}s=""}else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()){if(c&&s=="")return r4e;u-=Ks(s).length+1,s="",o=ZP}else s+=m;break;case ZP:case eE:if(r&&a.scheme=="file"){o=nE;continue}else if(m==":"&&!f){if(s=="")return Ya;if(_=a.parseHost(s),_)return _;if(s="",o=tE,r==eE)return}else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()){if(a.isSpecial()&&s=="")return Ya;if(r&&s==""&&(a.includesCredentials()||a.port!==null))return;if(_=a.parseHost(s),_)return _;if(s="",o=Ys,r)return;continue}else m=="["?f=!0:m=="]"&&(f=!1),s+=m;break;case tE:if(In(lE,m))s+=m;else if(m==nn||m=="/"||m=="?"||m=="#"||m=="\\"&&a.isSpecial()||r){if(s!=""){var A=Vy(s,10);if(A>65535)return J9;a.port=a.isSpecial()&&A===My[a.scheme]?null:A,s=""}if(r)return;o=Ys;continue}else return J9;break;case rE:if(a.scheme="file",m=="/"||m=="\\")o=i$;else if(n&&n.scheme=="file")if(m==nn)a.host=n.host,a.path=An(n.path),a.query=n.query;else if(m=="?")a.host=n.host,a.path=An(n.path),a.query="",o=Xa;else if(m=="#")a.host=n.host,a.path=An(n.path),a.query=n.query,a.fragment="",o=Fi;else{Q9(Tf(An(y,u),""))||(a.host=n.host,a.path=An(n.path),a.shortenPath()),o=ei;continue}else{o=ei;continue}break;case i$:if(m=="/"||m=="\\"){o=nE;break}n&&n.scheme=="file"&&!Q9(Tf(An(y,u),""))&&(Af(n.path[0],!0)?Xs(a.path,n.path[0]):a.host=n.host),o=ei;continue;case nE:if(m==nn||m=="/"||m=="\\"||m=="?"||m=="#"){if(!r&&Af(s))o=ei;else if(s==""){if(a.host="",r)return;o=Ys}else{if(_=a.parseHost(s),_)return _;if(a.host=="localhost"&&(a.host=""),r)return;s="",o=Ys}continue}else s+=m;break;case Ys:if(a.isSpecial()){if(o=ei,m!="/"&&m!="\\")continue}else if(!r&&m=="?")a.query="",o=Xa;else if(!r&&m=="#")a.fragment="",o=Fi;else if(m!=nn&&(o=ei,m!="/"))continue;break;case ei:if(m==nn||m=="/"||m=="\\"&&a.isSpecial()||!r&&(m=="?"||m=="#")){if(v4e(s)?(a.shortenPath(),m!="/"&&!(m=="\\"&&a.isSpecial())&&Xs(a.path,"")):h4e(s)?m!="/"&&!(m=="\\"&&a.isSpecial())&&Xs(a.path,""):(a.scheme=="file"&&!a.path.length&&Af(s)&&(a.host&&(a.host=""),s=an(s,0)+":"),Xs(a.path,s)),s="",a.scheme=="file"&&(m==nn||m=="?"||m=="#"))for(;a.path.length>1&&a.path[0]==="";)Z8e(a.path);m=="?"?(a.query="",o=Xa):m=="#"&&(a.fragment="",o=Fi)}else s+=Yo(m,f$);break;case o$:m=="?"?(a.query="",o=Xa):m=="#"?(a.fragment="",o=Fi):m!=nn&&(a.path[0]+=Yo(m,zy));break;case Xa:!r&&m=="#"?(a.fragment="",o=Fi):m!=nn&&(m=="'"&&a.isSpecial()?a.query+="%27":m=="#"?a.query+="%23":a.query+=Yo(m,zy));break;case Fi:m!=nn&&(a.fragment+=Yo(m,c$));break}u++}},"parse"),parseHost:i(function(e){var r,n,a;if(an(e,0)=="["){if(an(e,e.length-1)!="]"||(r=p4e(If(e,1,-1)),!r))return Ya;this.host=r}else if(this.isSpecial()){if(e=G8e(e),In(u4e,e)||(r=f4e(e),r===null))return Ya;this.host=r}else{if(In(s4e,e))return Ya;for(r="",n=Ks(e),a=0;a<n.length;a++)r+=Yo(n[a],zy);this.host=r}},"parseHost"),cannotHaveUsernamePasswordPort:i(function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},"cannotHaveUsernamePasswordPort"),includesCredentials:i(function(){return this.username!=""||this.password!=""},"includesCredentials"),isSpecial:i(function(){return uE(My,this.scheme)},"isSpecial"),shortenPath:i(function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!Af(e[0],!0))&&e.length--},"shortenPath"),serialize:i(function(){var e=this,r=e.scheme,n=e.username,a=e.password,o=e.host,u=e.port,s=e.path,c=e.query,f=e.fragment,d=r+":";return o!==null?(d+="//",e.includesCredentials()&&(d+=n+(a?":"+a:"")+"@"),d+=Rf(o),u!==null&&(d+=":"+u)):r=="file"&&(d+="//"),d+=e.cannotBeABaseURL?s[0]:s.length?"/"+Tf(s,"/"):"",c!==null&&(d+="?"+c),f!==null&&(d+="#"+f),d},"serialize"),setHref:i(function(e){var r=this.parse(e);if(r)throw sE(r);this.searchParams.update()},"setHref"),getOrigin:i(function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new Js(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+Rf(this.host)+(r!==null?":"+r:"")},"getOrigin"),getProtocol:i(function(){return this.scheme+":"},"getProtocol"),setProtocol:i(function(e){this.parse(Li(e)+":",XP)},"setProtocol"),getUsername:i(function(){return this.username},"getUsername"),setUsername:i(function(e){var r=Ks(Li(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Yo(r[n],YP)}},"setUsername"),getPassword:i(function(){return this.password},"getPassword"),setPassword:i(function(e){var r=Ks(Li(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Yo(r[n],YP)}},"setPassword"),getHost:i(function(){var e=this.host,r=this.port;return e===null?"":r===null?Rf(e):Rf(e)+":"+r},"getHost"),setHost:i(function(e){this.cannotBeABaseURL||this.parse(e,ZP)},"setHost"),getHostname:i(function(){var e=this.host;return e===null?"":Rf(e)},"getHostname"),setHostname:i(function(e){this.cannotBeABaseURL||this.parse(e,eE)},"setHostname"),getPort:i(function(){var e=this.port;return e===null?"":Li(e)},"getPort"),setPort:i(function(e){this.cannotHaveUsernamePasswordPort()||(e=Li(e),e==""?this.port=null:this.parse(e,tE))},"setPort"),getPathname:i(function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Tf(e,"/"):""},"getPathname"),setPathname:i(function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ys))},"setPathname"),getSearch:i(function(){var e=this.query;return e?"?"+e:""},"getSearch"),setSearch:i(function(e){e=Li(e),e==""?this.query=null:(an(e,0)=="?"&&(e=If(e,1)),this.query="",this.parse(e,Xa)),this.searchParams.update()},"setSearch"),getSearchParams:i(function(){return this.searchParams.facade},"getSearchParams"),getHash:i(function(){var e=this.fragment;return e?"#"+e:""},"getHash"),setHash:i(function(e){if(e=Li(e),e==""){this.fragment=null;return}an(e,0)=="#"&&(e=If(e,1)),this.fragment="",this.parse(e,Fi)},"setHash"),update:i(function(){this.query=this.searchParams.serialize()||null},"update")};var Js=i(function(e){var r=$8e(this,ar),n=V8e(arguments.length,1)>1?arguments[1]:void 0,a=W8e(r,new p$(e,!1,n));cE||(r.href=a.serialize(),r.origin=a.getOrigin(),r.protocol=a.getProtocol(),r.username=a.getUsername(),r.password=a.getPassword(),r.host=a.getHost(),r.hostname=a.getHostname(),r.port=a.getPort(),r.pathname=a.getPathname(),r.search=a.getSearch(),r.searchParams=a.getSearchParams(),r.hash=a.getHash())},"URL"),ar=Js.prototype,on=i(function(e,r){return{get:i(function(){return Hy(this)[e]()},"get"),set:r&&function(n){return Hy(this)[r](n)},configurable:!0,enumerable:!0}},"accessorDescriptor");cE&&(rn(ar,"href",on("serialize","setHref")),rn(ar,"origin",on("getOrigin")),rn(ar,"protocol",on("getProtocol","setProtocol")),rn(ar,"username",on("getUsername","setUsername")),rn(ar,"password",on("getPassword","setPassword")),rn(ar,"host",on("getHost","setHost")),rn(ar,"hostname",on("getHostname","setHostname")),rn(ar,"port",on("getPort","setPort")),rn(ar,"pathname",on("getPathname","setPathname")),rn(ar,"search",on("getSearch","setSearch")),rn(ar,"searchParams",on("getSearchParams")),rn(ar,"hash",on("getHash","setHash")));Gy(ar,"toJSON",i(function(){return Hy(this).serialize()},"toJSON"),{enumerable:!0});Gy(ar,"toString",i(function(){return Hy(this).serialize()},"toString"),{enumerable:!0});Ef&&(iE=Ef.createObjectURL,oE=Ef.revokeObjectURL,iE&&Gy(Js,"createObjectURL",K9(iE,Ef)),oE&&Gy(Js,"revokeObjectURL",K9(oE,Ef)));var iE,oE;H8e(Js,"URL");M8e({global:!0,constructor:!0,forced:!B8e,sham:!cE},{URL:Js})});var T$=N(function(hct,Jy){function qf(t){return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}i(qf,"_typeof");var bE=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(P,q,L){return Object.defineProperty(P,q,{value:L,enumerable:!0,configurable:!0,writable:!0}),P[q]}i(c,"define");try{c({},"")}catch(P){c=i(function(L,O,I){return L[O]=I},"define")}function f(P,q,L,O){var I=q&&q.prototype instanceof T?q:T,j=Object.create(I.prototype),re=new v(O||[]);return j._invoke=Y(P,L,re),j}i(f,"wrap"),t.wrap=f;function d(P,q,L){try{return{type:"normal",arg:P.call(q,L)}}catch(O){return{type:"throw",arg:O}}}i(d,"tryCatch");var y="suspendedStart",m="suspendedYield",w="executing",_="completed",R={};function T(){}i(T,"Generator");function E(){}i(E,"GeneratorFunction");function A(){}i(A,"GeneratorFunctionPrototype");var x={};c(x,o,function(){return this});var U=Object.getPrototypeOf,G=U&&U(U(g([])));G&&G!==e&&r.call(G,o)&&(x=G);var M=A.prototype=T.prototype=Object.create(x);E.prototype=A,c(M,"constructor",A),c(A,"constructor",E),E.displayName=c(A,s,"GeneratorFunction");function z(P){["next","throw","return"].forEach(function(q){c(P,q,function(L){return this._invoke(q,L)})})}i(z,"defineIteratorMethods"),t.isGeneratorFunction=function(P){var q=typeof P=="function"&&P.constructor;return q?q===E||(q.displayName||q.name)==="GeneratorFunction":!1},t.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,A):(P.__proto__=A,c(P,s,"GeneratorFunction")),P.prototype=Object.create(M),P},t.awrap=function(P){return{__await:P}};function W(P,q){function L(j,re,ne,Q){var K=d(P[j],P,re);if(K.type==="throw")Q(K.arg);else{var Xt=K.arg,Ft=Xt.value;return Ft&&qf(Ft)==="object"&&r.call(Ft,"__await")?q.resolve(Ft.__await).then(function(Jt){L("next",Jt,ne,Q)},function(Jt){L("throw",Jt,ne,Q)}):q.resolve(Ft).then(function(Jt){Xt.value=Jt,ne(Xt)},function(Jt){return L("throw",Jt,ne,Q)})}}i(L,"invoke");var O;function I(j,re){function ne(){return new q(function(Q,K){L(j,re,Q,K)})}return i(ne,"callInvokeWithMethodAndArg"),O=O?O.then(ne,ne):ne()}i(I,"enqueue"),this._invoke=I}i(W,"AsyncIterator"),z(W.prototype),c(W.prototype,u,function(){return this}),t.AsyncIterator=W,t.async=function(P,q,L,O,I){I===void 0&&(I=Promise);var j=new W(f(P,q,L,O),I);return t.isGeneratorFunction(q)?j:j.next().then(function(re){return re.done?re.value:j.next()})};function Y(P,q,L){var O=y;return i(function(j,re){if(O===w)throw new Error("Generator is already running");if(O===_){if(j==="throw")throw re;return b()}for(L.method=j,L.arg=re;;){var ne=L.delegate;if(ne){var Q=p(ne,L);if(Q){if(Q===R)continue;return Q}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(O===y)throw O=_,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);O=w;var K=d(P,q,L);if(K.type==="normal"){if(O=L.done?_:m,K.arg===R)continue;return{value:K.arg,done:L.done}}else K.type==="throw"&&(O=_,L.method="throw",L.arg=K.arg)}},"invoke")}i(Y,"makeInvokeMethod");function p(P,q){var L=P.iterator[q.method];if(L===n){if(q.delegate=null,q.method==="throw"){if(P.iterator.return&&(q.method="return",q.arg=n,p(P,q),q.method==="throw"))return R;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var O=d(L,P.iterator,q.arg);if(O.type==="throw")return q.method="throw",q.arg=O.arg,q.delegate=null,R;var I=O.arg;if(!I)return q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,R;if(I.done)q[P.resultName]=I.value,q.next=P.nextLoc,q.method!=="return"&&(q.method="next",q.arg=n);else return I;return q.delegate=null,R}i(p,"maybeInvokeDelegate"),z(M),c(M,s,"Generator"),c(M,o,function(){return this}),c(M,"toString",function(){return"[object Generator]"});function l(P){var q={tryLoc:P[0]};1 in P&&(q.catchLoc=P[1]),2 in P&&(q.finallyLoc=P[2],q.afterLoc=P[3]),this.tryEntries.push(q)}i(l,"pushTryEntry");function h(P){var q=P.completion||{};q.type="normal",delete q.arg,P.completion=q}i(h,"resetTryEntry");function v(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(l,this),this.reset(!0)}i(v,"Context"),t.keys=function(P){var q=[];for(var L in P)q.push(L);return q.reverse(),i(function O(){for(;q.length;){var I=q.pop();if(I in P)return O.value=I,O.done=!1,O}return O.done=!0,O},"next")};function g(P){if(P){var q=P[o];if(q)return q.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var L=-1,O=i(function I(){for(;++L<P.length;)if(r.call(P,L))return I.value=P[L],I.done=!1,I;return I.value=n,I.done=!0,I},"next");return O.next=O}}return{next:b}}i(g,"values"),t.values=g;function b(){return{value:n,done:!0}}return i(b,"doneResult"),v.prototype={constructor:v,reset:i(function(q){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(h),!q)for(var L in this)L.charAt(0)==="t"&&r.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=n)},"reset"),stop:i(function(){this.done=!0;var q=this.tryEntries[0],L=q.completion;if(L.type==="throw")throw L.arg;return this.rval},"stop"),dispatchException:i(function(q){if(this.done)throw q;var L=this;function O(K,Xt){return re.type="throw",re.arg=q,L.next=K,Xt&&(L.method="next",L.arg=n),!!Xt}i(O,"handle");for(var I=this.tryEntries.length-1;I>=0;--I){var j=this.tryEntries[I],re=j.completion;if(j.tryLoc==="root")return O("end");if(j.tryLoc<=this.prev){var ne=r.call(j,"catchLoc"),Q=r.call(j,"finallyLoc");if(ne&&Q){if(this.prev<j.catchLoc)return O(j.catchLoc,!0);if(this.prev<j.finallyLoc)return O(j.finallyLoc)}else if(ne){if(this.prev<j.catchLoc)return O(j.catchLoc,!0)}else if(Q){if(this.prev<j.finallyLoc)return O(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},"dispatchException"),abrupt:i(function(q,L){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var j=I;break}}j&&(q==="break"||q==="continue")&&j.tryLoc<=L&&L<=j.finallyLoc&&(j=null);var re=j?j.completion:{};return re.type=q,re.arg=L,j?(this.method="next",this.next=j.finallyLoc,R):this.complete(re)},"abrupt"),complete:i(function(q,L){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&L&&(this.next=L),R},"complete"),finish:i(function(q){for(var L=this.tryEntries.length-1;L>=0;--L){var O=this.tryEntries[L];if(O.finallyLoc===q)return this.complete(O.completion,O.afterLoc),h(O),R}},"finish"),catch:i(function(q){for(var L=this.tryEntries.length-1;L>=0;--L){var O=this.tryEntries[L];if(O.tryLoc===q){var I=O.completion;if(I.type==="throw"){var j=I.arg;h(O)}return j}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(q,L,O){return this.delegate={iterator:g(q),resultName:L,nextLoc:O},this.method==="next"&&(this.arg=n),R},"delegateYield")},t}((typeof Jy=="undefined"?"undefined":qf(Jy))==="object"?Jy.exports:{});try{regeneratorRuntime=bE}catch(t){(typeof globalThis=="undefined"?"undefined":qf(globalThis))==="object"?globalThis.regeneratorRuntime=bE:Function("r","regeneratorRuntime = r")(bE)}});var OE=N(function(gct,x$){x$.exports=i(function(){var e={},r=e._fns={};e.emit=i(function(u,s,c,f,d,y,m){var w=n(u);w.length&&a(u,w,[s,c,f,d,y,m])},"emit"),e.on=i(function(u,s){r[u]||(r[u]=[]),r[u].push(s)},"on"),e.once=i(function(u,s){function c(){s.apply(this,arguments),e.off(u,c)}i(c,"one"),this.on(u,c)},"once"),e.off=i(function(u,s){var c=[];if(u&&s){var f=this._fns[u],d=0,y=f?f.length:0;for(d;d<y;d++)f[d]!==s&&c.push(f[d])}c.length?this._fns[u]=c:delete this._fns[u]},"off");function n(o){var u=r[o]?r[o]:[],s=o.indexOf(":"),c=s===-1?[o]:[o.substring(0,s),o.substring(s+1)],f=Object.keys(r),d=0,y=f.length;for(d;d<y;d++){var m=f[d];if(m==="*"&&(u=u.concat(r[m])),c.length===2&&c[0]===m){u=u.concat(r[m]);break}}return u}i(n,"getListeners");function a(o,u,s){var c=0,f=u.length;for(c;c<f&&u[c];c++)u[c].event=o,u[c].apply(u[c],s)}return i(a,"emitAll"),e},"createNamespaceEmitter")});var Cf=N(function(wct,j$){function Za(t){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}i(Za,"_typeof");var L$="Expected a function",C$=0/0,Z4e="[object Symbol]",e6e=/^\s+|\s+$/g,t6e=/^[-+]0x[0-9a-f]+$/i,r6e=/^0b[01]+$/i,n6e=/^0o[0-7]+$/i,i6e=parseInt,o6e=(typeof global=="undefined"?"undefined":Za(global))=="object"&&global&&global.Object===Object&&global,a6e=(typeof self=="undefined"?"undefined":Za(self))=="object"&&self&&self.Object===Object&&self,u6e=o6e||a6e||Function("return this")(),s6e=Object.prototype,l6e=s6e.toString,c6e=Math.max,f6e=Math.min,SE=i(function(){return u6e.Date.now()},"now");function p6e(t,e,r){var n,a,o,u,s,c,f=0,d=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(L$);e=F$(e)||0,em(r)&&(d=!!r.leading,y="maxWait"in r,o=y?c6e(F$(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=a;return n=a=void 0,f=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return f=M,s=setTimeout(E,e),d?w(M):u}i(_,"leadingEdge");function R(M){var z=M-c,W=M-f,Y=e-z;return y?f6e(Y,o-W):Y}i(R,"remainingWait");function T(M){var z=M-c,W=M-f;return c===void 0||z>=e||z<0||y&&W>=o}i(T,"shouldInvoke");function E(){var M=SE();if(T(M))return A(M);s=setTimeout(E,R(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=a=void 0,u)}i(A,"trailingEdge");function x(){s!==void 0&&clearTimeout(s),f=0,n=c=a=s=void 0}i(x,"cancel");function U(){return s===void 0?u:A(SE())}i(U,"flush");function G(){var M=SE(),z=T(M);if(n=arguments,a=this,c=M,z){if(s===void 0)return _(c);if(y)return s=setTimeout(E,e),w(c)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=x,G.flush=U,G}i(p6e,"debounce");function d6e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(L$);return em(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),p6e(t,e,{leading:n,maxWait:e,trailing:a})}i(d6e,"throttle");function em(t){var e=Za(t);return!!t&&(e=="object"||e=="function")}i(em,"isObject");function h6e(t){return!!t&&Za(t)=="object"}i(h6e,"isObjectLike");function v6e(t){return Za(t)=="symbol"||h6e(t)&&l6e.call(t)==Z4e}i(v6e,"isSymbol");function F$(t){if(typeof t=="number")return t;if(v6e(t))return C$;if(em(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=em(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(e6e,"");var r=r6e.test(t);return r||n6e.test(t)?i6e(t.slice(2),r?2:8):t6e.test(t)?C$:+t}i(F$,"toNumber");j$.exports=d6e});var nm=N(function(Cct,G$){function AE(t){return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}i(AE,"_typeof");G$.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(AE(e)));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return"".concat((r?"-":"")+e," B");var a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,a));var o=n[a];return e>=10||e%1===0?"".concat((r?"-":"")+e.toFixed(0)," ").concat(o):"".concat((r?"-":"")+e.toFixed(1)," ").concat(o)},"prettierBytes")});var W$=N(function(Fct,V$){"use strict";function IE(t){return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}i(IE,"_typeof");function H$(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}i(H$,"WildcardMatcher");H$.prototype.match=function(t){var e=!0,r=this.parts,n,a=r.length,o;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(o=(t||"").split(this.separator),n=0;e&&n<a;n++)r[n]!=="*"&&(n<o.length?e=r[n]===o[n]:e=!1);e=e&&o}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(IE(t)=="object"){e={};for(var u in t)this.match(u)&&(e[u]=t[u])}return e};V$.exports=function(t,e,r){var n=new H$(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var Y$=N(function(Lct,K$){var A6e=W$(),I6e=/[\/\+\.]/;K$.exports=function(t,e){function r(n){var a=A6e(n,t,I6e);return a&&a.length>=2}return i(r,"test"),e?r(e.split(";")[0]):r}});var Mr=N(function($ft,Pm){function Em(t){return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}i(Em,"_typeof");(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var a=arguments[n];if(!!a){var o=Em(a);if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var u=e.apply(null,a);u&&r.push(u)}}else if(o==="object")if(a.toString===Object.prototype.toString)for(var s in a)t.call(a,s)&&a[s]&&r.push(s);else r.push(a.toString())}}return r.join(" ")}i(e,"classNames"),typeof Pm!="undefined"&&Pm.exports?(e.default=e,Pm.exports=e):typeof define=="function"&&Em(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var cV=N(function(dht,lV){function pu(t){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}i(pu,"_typeof");var QGe="Expected a function",uV=0/0,ZGe="[object Symbol]",eHe=/^\s+|\s+$/g,tHe=/^[-+]0x[0-9a-f]+$/i,rHe=/^0b[01]+$/i,nHe=/^0o[0-7]+$/i,iHe=parseInt,oHe=(typeof global=="undefined"?"undefined":pu(global))=="object"&&global&&global.Object===Object&&global,aHe=(typeof self=="undefined"?"undefined":pu(self))=="object"&&self&&self.Object===Object&&self,uHe=oHe||aHe||Function("return this")(),sHe=Object.prototype,lHe=sHe.toString,cHe=Math.max,fHe=Math.min,wT=i(function(){return uHe.Date.now()},"now");function pHe(t,e,r){var n,a,o,u,s,c,f=0,d=!1,y=!1,m=!0;if(typeof t!="function")throw new TypeError(QGe);e=sV(e)||0,OT(r)&&(d=!!r.leading,y="maxWait"in r,o=y?cHe(sV(r.maxWait)||0,e):o,m="trailing"in r?!!r.trailing:m);function w(M){var z=n,W=a;return n=a=void 0,f=M,u=t.apply(W,z),u}i(w,"invokeFunc");function _(M){return f=M,s=setTimeout(E,e),d?w(M):u}i(_,"leadingEdge");function R(M){var z=M-c,W=M-f,Y=e-z;return y?fHe(Y,o-W):Y}i(R,"remainingWait");function T(M){var z=M-c,W=M-f;return c===void 0||z>=e||z<0||y&&W>=o}i(T,"shouldInvoke");function E(){var M=wT();if(T(M))return A(M);s=setTimeout(E,R(M))}i(E,"timerExpired");function A(M){return s=void 0,m&&n?w(M):(n=a=void 0,u)}i(A,"trailingEdge");function x(){s!==void 0&&clearTimeout(s),f=0,n=c=a=s=void 0}i(x,"cancel");function U(){return s===void 0?u:A(wT())}i(U,"flush");function G(){var M=wT(),z=T(M);if(n=arguments,a=this,c=M,z){if(s===void 0)return _(c);if(y)return s=setTimeout(E,e),w(c)}return s===void 0&&(s=setTimeout(E,e)),u}return i(G,"debounced"),G.cancel=x,G.flush=U,G}i(pHe,"debounce");function OT(t){var e=pu(t);return!!t&&(e=="object"||e=="function")}i(OT,"isObject");function dHe(t){return!!t&&pu(t)=="object"}i(dHe,"isObjectLike");function hHe(t){return pu(t)=="symbol"||dHe(t)&&lHe.call(t)==ZGe}i(hHe,"isSymbol");function sV(t){if(typeof t=="number")return t;if(hHe(t))return uV;if(OT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=OT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(eHe,"");var r=rHe.test(t);return r||nHe.test(t)?iHe(t.slice(2),r?2:8):tHe.test(t)?uV:+t}i(sV,"toNumber");lV.exports=pHe});var dV=N(function(ght,pV){pV.exports=i(function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0},"isShallowEqual")});var yV=N(function(Cht,vV){function TT(t){return TT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TT(t)}i(TT,"_typeof");vV.exports=i(function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+TT(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,a));var o=n[a];return e>=10||e%1===0?(r?"-":"")+e.toFixed(0)+" "+o:(r?"-":"")+e.toFixed(1)+" "+o},"prettierBytes")});var hW=N(function(Pg,sA){function uA(t){return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}i(uA,"_typeof2");(function(t,e){(typeof Pg=="undefined"?"undefined":uA(Pg))==="object"&&typeof sA!="undefined"?sA.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(Pg,function(){"use strict";function t(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=i(function(F){return typeof F},"_typeof"):t=i(function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},"_typeof"),t(B)}i(t,"_typeof");function e(B,k){if(!(B instanceof k))throw new TypeError("Cannot call a class as a function")}i(e,"_classCallCheck");function r(B,k){for(var F=0;F<k.length;F++){var C=k[F];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(B,C.key,C)}}i(r,"_defineProperties");function n(B,k,F){return k&&r(B.prototype,k),F&&r(B,F),B}i(n,"_createClass");function a(B,k,F){return k in B?Object.defineProperty(B,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):B[k]=F,B}i(a,"_defineProperty");function o(B,k){var F=Object.keys(B);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(B);k&&(C=C.filter(function(H){return Object.getOwnPropertyDescriptor(B,H).enumerable})),F.push.apply(F,C)}return F}i(o,"ownKeys");function u(B){for(var k=1;k<arguments.length;k++){var F=arguments[k]!=null?arguments[k]:{};k%2?o(Object(F),!0).forEach(function(C){a(B,C,F[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function(C){Object.defineProperty(B,C,Object.getOwnPropertyDescriptor(F,C))})}return B}i(u,"_objectSpread2");function s(B){return c(B)||f(B)||d(B)||m()}i(s,"_toConsumableArray");function c(B){if(Array.isArray(B))return y(B)}i(c,"_arrayWithoutHoles");function f(B){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(B))return Array.from(B)}i(f,"_iterableToArray");function d(B,k){if(!!B){if(typeof B=="string")return y(B,k);var F=Object.prototype.toString.call(B).slice(8,-1);if(F==="Object"&&B.constructor&&(F=B.constructor.name),F==="Map"||F==="Set")return Array.from(B);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return y(B,k)}}i(d,"_unsupportedIterableToArray");function y(B,k){(k==null||k>B.length)&&(k=B.length);for(var F=0,C=new Array(k);F<k;F++)C[F]=B[F];return C}i(y,"_arrayLikeToArray");function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(m,"_nonIterableSpread");var w=typeof window!="undefined"&&typeof window.document!="undefined",_=w?window:{},R=w&&_.document.documentElement?"ontouchstart"in _.document.documentElement:!1,T=w?"PointerEvent"in _:!1,E="cropper",A="all",x="crop",U="move",G="zoom",M="e",z="w",W="s",Y="n",p="ne",l="nw",h="se",v="sw",g="".concat(E,"-crop"),b="".concat(E,"-disabled"),P="".concat(E,"-hidden"),q="".concat(E,"-hide"),L="".concat(E,"-invisible"),O="".concat(E,"-modal"),I="".concat(E,"-move"),j="".concat(E,"Action"),re="".concat(E,"Preview"),ne="crop",Q="move",K="none",Xt="crop",Ft="cropend",Jt="cropmove",Gu="cropstart",$l="dblclick",Jd=R?"touchstart":"mousedown",a2=R?"touchmove":"mousemove",vw=R?"touchend touchcancel":"mouseup",u2=T?"pointerdown":Jd,s2=T?"pointermove":a2,l2=T?"pointerup pointercancel":vw,c2="ready",f2="resize",p2="wheel",yw="zoom",d2="image/jpeg",nZ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,iZ=/^data:/,oZ=/^data:image\/jpeg;base64,/,aZ=/^img|canvas$/i,h2={viewMode:0,dragMode:ne,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},uZ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',sZ=Number.isNaN||_.isNaN;function Fe(B){return typeof B=="number"&&!sZ(B)}i(Fe,"isNumber");var v2=i(function(k){return k>0&&k<1/0},"isPositiveNumber");function mw(B){return typeof B=="undefined"}i(mw,"isUndefined");function pa(B){return t(B)==="object"&&B!==null}i(pa,"isObject");var lZ=Object.prototype.hasOwnProperty;function Hu(B){if(!pa(B))return!1;try{var k=B.constructor,F=k.prototype;return k&&F&&lZ.call(F,"isPrototypeOf")}catch(C){return!1}}i(Hu,"isPlainObject");function vr(B){return typeof B=="function"}i(vr,"isFunction");var cZ=Array.prototype.slice;function y2(B){return Array.from?Array.from(B):cZ.call(B)}i(y2,"toArray");function yt(B,k){return B&&vr(k)&&(Array.isArray(B)||Fe(B.length)?y2(B).forEach(function(F,C){k.call(B,F,C,B)}):pa(B)&&Object.keys(B).forEach(function(F){k.call(B,B[F],F,B)})),B}i(yt,"forEach");var et=Object.assign||i(function(k){for(var F=arguments.length,C=new Array(F>1?F-1:0),H=1;H<F;H++)C[H-1]=arguments[H];return pa(k)&&C.length>0&&C.forEach(function($){pa($)&&Object.keys($).forEach(function(V){k[V]=$[V]})}),k},"assign"),fZ=/\.\d*(?:0|9){12}\d*$/;function Vu(B){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return fZ.test(B)?Math.round(B*k)/k:B}i(Vu,"normalizeDecimalNumber");var pZ=/^width|height|left|top|marginLeft|marginTop$/;function vo(B,k){var F=B.style;yt(k,function(C,H){pZ.test(H)&&Fe(C)&&(C="".concat(C,"px")),F[H]=C})}i(vo,"setStyle");function dZ(B,k){return B.classList?B.classList.contains(k):B.className.indexOf(k)>-1}i(dZ,"hasClass");function Lt(B,k){if(!!k){if(Fe(B.length)){yt(B,function(C){Lt(C,k)});return}if(B.classList){B.classList.add(k);return}var F=B.className.trim();F?F.indexOf(k)<0&&(B.className="".concat(F," ").concat(k)):B.className=k}}i(Lt,"addClass");function Un(B,k){if(!!k){if(Fe(B.length)){yt(B,function(F){Un(F,k)});return}if(B.classList){B.classList.remove(k);return}B.className.indexOf(k)>=0&&(B.className=B.className.replace(k,""))}}i(Un,"removeClass");function Wu(B,k,F){if(!!k){if(Fe(B.length)){yt(B,function(C){Wu(C,k,F)});return}F?Lt(B,k):Un(B,k)}}i(Wu,"toggleClass");var hZ=/([a-z\d])([A-Z])/g;function gw(B){return B.replace(hZ,"$1-$2").toLowerCase()}i(gw,"toParamCase");function bw(B,k){return pa(B[k])?B[k]:B.dataset?B.dataset[k]:B.getAttribute("data-".concat(gw(k)))}i(bw,"getData");function zl(B,k,F){pa(F)?B[k]=F:B.dataset?B.dataset[k]=F:B.setAttribute("data-".concat(gw(k)),F)}i(zl,"setData");function vZ(B,k){if(pa(B[k]))try{delete B[k]}catch(F){B[k]=void 0}else if(B.dataset)try{delete B.dataset[k]}catch(F){B.dataset[k]=void 0}else B.removeAttribute("data-".concat(gw(k)))}i(vZ,"removeData");var m2=/\s\s*/,g2=function(){var B=!1;if(w){var k=!1,F=i(function(){},"listener"),C=Object.defineProperty({},"once",{get:i(function(){return B=!0,k},"get"),set:i(function($){k=$},"set")});_.addEventListener("test",F,C),_.removeEventListener("test",F,C)}return B}();function bn(B,k,F){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;k.trim().split(m2).forEach(function($){if(!g2){var V=B.listeners;V&&V[$]&&V[$][F]&&(H=V[$][F],delete V[$][F],Object.keys(V[$]).length===0&&delete V[$],Object.keys(V).length===0&&delete B.listeners)}B.removeEventListener($,H,C)})}i(bn,"removeListener");function Qr(B,k,F){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=F;k.trim().split(m2).forEach(function($){if(C.once&&!g2){var V=B.listeners,X=V===void 0?{}:V;H=i(function(){delete X[$][F],B.removeEventListener($,H,C);for(var ee=arguments.length,Z=new Array(ee),J=0;J<ee;J++)Z[J]=arguments[J];F.apply(B,Z)},"handler"),X[$]||(X[$]={}),X[$][F]&&B.removeEventListener($,X[$][F],C),X[$][F]=H,B.listeners=X}B.addEventListener($,H,C)})}i(Qr,"addListener");function Ku(B,k,F){var C;return vr(Event)&&vr(CustomEvent)?C=new CustomEvent(k,{detail:F,bubbles:!0,cancelable:!0}):(C=document.createEvent("CustomEvent"),C.initCustomEvent(k,!0,!0,F)),B.dispatchEvent(C)}i(Ku,"dispatchEvent");function b2(B){var k=B.getBoundingClientRect();return{left:k.left+(window.pageXOffset-document.documentElement.clientLeft),top:k.top+(window.pageYOffset-document.documentElement.clientTop)}}i(b2,"getOffset");var ww=_.location,yZ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function w2(B){var k=B.match(yZ);return k!==null&&(k[1]!==ww.protocol||k[2]!==ww.hostname||k[3]!==ww.port)}i(w2,"isCrossOriginURL");function O2(B){var k="timestamp=".concat(new Date().getTime());return B+(B.indexOf("?")===-1?"?":"&")+k}i(O2,"addTimestamp");function Gl(B){var k=B.rotate,F=B.scaleX,C=B.scaleY,H=B.translateX,$=B.translateY,V=[];Fe(H)&&H!==0&&V.push("translateX(".concat(H,"px)")),Fe($)&&$!==0&&V.push("translateY(".concat($,"px)")),Fe(k)&&k!==0&&V.push("rotate(".concat(k,"deg)")),Fe(F)&&F!==1&&V.push("scaleX(".concat(F,")")),Fe(C)&&C!==1&&V.push("scaleY(".concat(C,")"));var X=V.length?V.join(" "):"none";return{WebkitTransform:X,msTransform:X,transform:X}}i(Gl,"getTransforms");function mZ(B){var k=u({},B),F=[];return yt(B,function(C,H){delete k[H],yt(k,function($){var V=Math.abs(C.startX-$.startX),X=Math.abs(C.startY-$.startY),oe=Math.abs(C.endX-$.endX),ee=Math.abs(C.endY-$.endY),Z=Math.sqrt(V*V+X*X),J=Math.sqrt(oe*oe+ee*ee),ie=(J-Z)/Z;F.push(ie)})}),F.sort(function(C,H){return Math.abs(C)<Math.abs(H)}),F[0]}i(mZ,"getMaxZoomRatio");function Qd(B,k){var F=B.pageX,C=B.pageY,H={endX:F,endY:C};return k?H:u({startX:F,startY:C},H)}i(Qd,"getPointer");function gZ(B){var k=0,F=0,C=0;return yt(B,function(H){var $=H.startX,V=H.startY;k+=$,F+=V,C+=1}),k/=C,F/=C,{pageX:k,pageY:F}}i(gZ,"getPointersCenter");function yo(B){var k=B.aspectRatio,F=B.height,C=B.width,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",$=v2(C),V=v2(F);if($&&V){var X=F*k;H==="contain"&&X>C||H==="cover"&&X<C?F=C/k:C=F*k}else $?F=C/k:V&&(C=F*k);return{width:C,height:F}}i(yo,"getAdjustedSizes");function bZ(B){var k=B.width,F=B.height,C=B.degree;if(C=Math.abs(C)%180,C===90)return{width:F,height:k};var H=C%90*Math.PI/180,$=Math.sin(H),V=Math.cos(H),X=k*V+F*$,oe=k*$+F*V;return C>90?{width:oe,height:X}:{width:X,height:oe}}i(bZ,"getRotatedSizes");function wZ(B,k,F,C){var H=k.aspectRatio,$=k.naturalWidth,V=k.naturalHeight,X=k.rotate,oe=X===void 0?0:X,ee=k.scaleX,Z=ee===void 0?1:ee,J=k.scaleY,ie=J===void 0?1:J,Ue=F.aspectRatio,Ne=F.naturalWidth,tt=F.naturalHeight,ze=C.fillColor,Tt=ze===void 0?"transparent":ze,jt=C.imageSmoothingEnabled,mt=jt===void 0?!0:jt,gi=C.imageSmoothingQuality,xr=gi===void 0?"low":gi,ue=C.maxWidth,Ge=ue===void 0?1/0:ue,At=C.maxHeight,Zr=At===void 0?1/0:At,bi=C.minWidth,da=bi===void 0?0:bi,ha=C.minHeight,mo=ha===void 0?0:ha,Mn=document.createElement("canvas"),yr=Mn.getContext("2d"),va=yo({aspectRatio:Ue,width:Ge,height:Zr}),Zd=yo({aspectRatio:Ue,width:da,height:mo},"cover"),Ow=Math.min(va.width,Math.max(Zd.width,Ne)),Sw=Math.min(va.height,Math.max(Zd.height,tt)),P2=yo({aspectRatio:H,width:Ge,height:Zr}),E2=yo({aspectRatio:H,width:da,height:mo},"cover"),R2=Math.min(P2.width,Math.max(E2.width,$)),T2=Math.min(P2.height,Math.max(E2.height,V)),FZ=[-R2/2,-T2/2,R2,T2];return Mn.width=Vu(Ow),Mn.height=Vu(Sw),yr.fillStyle=Tt,yr.fillRect(0,0,Ow,Sw),yr.save(),yr.translate(Ow/2,Sw/2),yr.rotate(oe*Math.PI/180),yr.scale(Z,ie),yr.imageSmoothingEnabled=mt,yr.imageSmoothingQuality=xr,yr.drawImage.apply(yr,[B].concat(s(FZ.map(function(LZ){return Math.floor(Vu(LZ))})))),yr.restore(),Mn}i(wZ,"getSourceCanvas");var S2=String.fromCharCode;function OZ(B,k,F){var C="";F+=k;for(var H=k;H<F;H+=1)C+=S2(B.getUint8(H));return C}i(OZ,"getStringFromCharCode");var SZ=/^data:.*,/;function _Z(B){var k=B.replace(SZ,""),F=atob(k),C=new ArrayBuffer(F.length),H=new Uint8Array(C);return yt(H,function($,V){H[V]=F.charCodeAt(V)}),C}i(_Z,"dataURLToArrayBuffer");function PZ(B,k){for(var F=[],C=8192,H=new Uint8Array(B);H.length>0;)F.push(S2.apply(null,y2(H.subarray(0,C)))),H=H.subarray(C);return"data:".concat(k,";base64,").concat(btoa(F.join("")))}i(PZ,"arrayBufferToDataURL");function EZ(B){var k=new DataView(B),F;try{var C,H,$;if(k.getUint8(0)===255&&k.getUint8(1)===216)for(var V=k.byteLength,X=2;X+1<V;){if(k.getUint8(X)===255&&k.getUint8(X+1)===225){H=X;break}X+=1}if(H){var oe=H+4,ee=H+10;if(OZ(k,oe,4)==="Exif"){var Z=k.getUint16(ee);if(C=Z===18761,(C||Z===19789)&&k.getUint16(ee+2,C)===42){var J=k.getUint32(ee+4,C);J>=8&&($=ee+J)}}}if($){var ie=k.getUint16($,C),Ue,Ne;for(Ne=0;Ne<ie;Ne+=1)if(Ue=$+Ne*12+2,k.getUint16(Ue,C)===274){Ue+=8,F=k.getUint16(Ue,C),k.setUint16(Ue,1,C);break}}}catch(tt){F=1}return F}i(EZ,"resetAndGetOrientation");function RZ(B){var k=0,F=1,C=1;switch(B){case 2:F=-1;break;case 3:k=-180;break;case 4:C=-1;break;case 5:k=90,C=-1;break;case 6:k=90;break;case 7:k=90,F=-1;break;case 8:k=-90;break}return{rotate:k,scaleX:F,scaleY:C}}i(RZ,"parseOrientation");var TZ={render:i(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:i(function(){var k=this.element,F=this.options,C=this.container,H=this.cropper;Lt(H,P),Un(k,P);var $={width:Math.max(C.offsetWidth,Number(F.minContainerWidth)||200),height:Math.max(C.offsetHeight,Number(F.minContainerHeight)||100)};this.containerData=$,vo(H,{width:$.width,height:$.height}),Lt(k,P),Un(H,P)},"initContainer"),initCanvas:i(function(){var k=this.containerData,F=this.imageData,C=this.options.viewMode,H=Math.abs(F.rotate)%180===90,$=H?F.naturalHeight:F.naturalWidth,V=H?F.naturalWidth:F.naturalHeight,X=$/V,oe=k.width,ee=k.height;k.height*X>k.width?C===3?oe=k.height*X:ee=k.width/X:C===3?ee=k.width/X:oe=k.height*X;var Z={aspectRatio:X,naturalWidth:$,naturalHeight:V,width:oe,height:ee};Z.left=(k.width-oe)/2,Z.top=(k.height-ee)/2,Z.oldLeft=Z.left,Z.oldTop=Z.top,this.canvasData=Z,this.limited=C===1||C===2,this.limitCanvas(!0,!0),this.initialImageData=et({},F),this.initialCanvasData=et({},Z)},"initCanvas"),limitCanvas:i(function(k,F){var C=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=C.viewMode,oe=$.aspectRatio,ee=this.cropped&&V;if(k){var Z=Number(C.minCanvasWidth)||0,J=Number(C.minCanvasHeight)||0;X>1?(Z=Math.max(Z,H.width),J=Math.max(J,H.height),X===3&&(J*oe>Z?Z=J*oe:J=Z/oe)):X>0&&(Z?Z=Math.max(Z,ee?V.width:0):J?J=Math.max(J,ee?V.height:0):ee&&(Z=V.width,J=V.height,J*oe>Z?Z=J*oe:J=Z/oe));var ie=yo({aspectRatio:oe,width:Z,height:J});Z=ie.width,J=ie.height,$.minWidth=Z,$.minHeight=J,$.maxWidth=1/0,$.maxHeight=1/0}if(F)if(X>(ee?0:1)){var Ue=H.width-$.width,Ne=H.height-$.height;$.minLeft=Math.min(0,Ue),$.minTop=Math.min(0,Ne),$.maxLeft=Math.max(0,Ue),$.maxTop=Math.max(0,Ne),ee&&this.limited&&($.minLeft=Math.min(V.left,V.left+(V.width-$.width)),$.minTop=Math.min(V.top,V.top+(V.height-$.height)),$.maxLeft=V.left,$.maxTop=V.top,X===2&&($.width>=H.width&&($.minLeft=Math.min(0,Ue),$.maxLeft=Math.max(0,Ue)),$.height>=H.height&&($.minTop=Math.min(0,Ne),$.maxTop=Math.max(0,Ne))))}else $.minLeft=-$.width,$.minTop=-$.height,$.maxLeft=H.width,$.maxTop=H.height},"limitCanvas"),renderCanvas:i(function(k,F){var C=this.canvasData,H=this.imageData;if(F){var $=bZ({width:H.naturalWidth*Math.abs(H.scaleX||1),height:H.naturalHeight*Math.abs(H.scaleY||1),degree:H.rotate||0}),V=$.width,X=$.height,oe=C.width*(V/C.naturalWidth),ee=C.height*(X/C.naturalHeight);C.left-=(oe-C.width)/2,C.top-=(ee-C.height)/2,C.width=oe,C.height=ee,C.aspectRatio=V/X,C.naturalWidth=V,C.naturalHeight=X,this.limitCanvas(!0,!1)}(C.width>C.maxWidth||C.width<C.minWidth)&&(C.left=C.oldLeft),(C.height>C.maxHeight||C.height<C.minHeight)&&(C.top=C.oldTop),C.width=Math.min(Math.max(C.width,C.minWidth),C.maxWidth),C.height=Math.min(Math.max(C.height,C.minHeight),C.maxHeight),this.limitCanvas(!1,!0),C.left=Math.min(Math.max(C.left,C.minLeft),C.maxLeft),C.top=Math.min(Math.max(C.top,C.minTop),C.maxTop),C.oldLeft=C.left,C.oldTop=C.top,vo(this.canvas,et({width:C.width,height:C.height},Gl({translateX:C.left,translateY:C.top}))),this.renderImage(k),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:i(function(k){var F=this.canvasData,C=this.imageData,H=C.naturalWidth*(F.width/F.naturalWidth),$=C.naturalHeight*(F.height/F.naturalHeight);et(C,{width:H,height:$,left:(F.width-H)/2,top:(F.height-$)/2}),vo(this.image,et({width:C.width,height:C.height},Gl(et({translateX:C.left,translateY:C.top},C)))),k&&this.output()},"renderImage"),initCropBox:i(function(){var k=this.options,F=this.canvasData,C=k.aspectRatio||k.initialAspectRatio,H=Number(k.autoCropArea)||.8,$={width:F.width,height:F.height};C&&(F.height*C>F.width?$.height=$.width/C:$.width=$.height*C),this.cropBoxData=$,this.limitCropBox(!0,!0),$.width=Math.min(Math.max($.width,$.minWidth),$.maxWidth),$.height=Math.min(Math.max($.height,$.minHeight),$.maxHeight),$.width=Math.max($.minWidth,$.width*H),$.height=Math.max($.minHeight,$.height*H),$.left=F.left+(F.width-$.width)/2,$.top=F.top+(F.height-$.height)/2,$.oldLeft=$.left,$.oldTop=$.top,this.initialCropBoxData=et({},$)},"initCropBox"),limitCropBox:i(function(k,F){var C=this.options,H=this.containerData,$=this.canvasData,V=this.cropBoxData,X=this.limited,oe=C.aspectRatio;if(k){var ee=Number(C.minCropBoxWidth)||0,Z=Number(C.minCropBoxHeight)||0,J=X?Math.min(H.width,$.width,$.width+$.left,H.width-$.left):H.width,ie=X?Math.min(H.height,$.height,$.height+$.top,H.height-$.top):H.height;ee=Math.min(ee,H.width),Z=Math.min(Z,H.height),oe&&(ee&&Z?Z*oe>ee?Z=ee/oe:ee=Z*oe:ee?Z=ee/oe:Z&&(ee=Z*oe),ie*oe>J?ie=J/oe:J=ie*oe),V.minWidth=Math.min(ee,J),V.minHeight=Math.min(Z,ie),V.maxWidth=J,V.maxHeight=ie}F&&(X?(V.minLeft=Math.max(0,$.left),V.minTop=Math.max(0,$.top),V.maxLeft=Math.min(H.width,$.left+$.width)-V.width,V.maxTop=Math.min(H.height,$.top+$.height)-V.height):(V.minLeft=0,V.minTop=0,V.maxLeft=H.width-V.width,V.maxTop=H.height-V.height))},"limitCropBox"),renderCropBox:i(function(){var k=this.options,F=this.containerData,C=this.cropBoxData;(C.width>C.maxWidth||C.width<C.minWidth)&&(C.left=C.oldLeft),(C.height>C.maxHeight||C.height<C.minHeight)&&(C.top=C.oldTop),C.width=Math.min(Math.max(C.width,C.minWidth),C.maxWidth),C.height=Math.min(Math.max(C.height,C.minHeight),C.maxHeight),this.limitCropBox(!1,!0),C.left=Math.min(Math.max(C.left,C.minLeft),C.maxLeft),C.top=Math.min(Math.max(C.top,C.minTop),C.maxTop),C.oldLeft=C.left,C.oldTop=C.top,k.movable&&k.cropBoxMovable&&zl(this.face,j,C.width>=F.width&&C.height>=F.height?U:A),vo(this.cropBox,et({width:C.width,height:C.height},Gl({translateX:C.left,translateY:C.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:i(function(){this.preview(),Ku(this.element,Xt,this.getData())},"output")},AZ={initPreview:i(function(){var k=this.element,F=this.crossOrigin,C=this.options.preview,H=F?this.crossOriginUrl:this.url,$=k.alt||"The image to preview",V=document.createElement("img");if(F&&(V.crossOrigin=F),V.src=H,V.alt=$,this.viewBox.appendChild(V),this.viewBoxImage=V,!!C){var X=C;typeof C=="string"?X=k.ownerDocument.querySelectorAll(C):C.querySelector&&(X=[C]),this.previews=X,yt(X,function(oe){var ee=document.createElement("img");zl(oe,re,{width:oe.offsetWidth,height:oe.offsetHeight,html:oe.innerHTML}),F&&(ee.crossOrigin=F),ee.src=H,ee.alt=$,ee.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',oe.innerHTML="",oe.appendChild(ee)})}},"initPreview"),resetPreview:i(function(){yt(this.previews,function(k){var F=bw(k,re);vo(k,{width:F.width,height:F.height}),k.innerHTML=F.html,vZ(k,re)})},"resetPreview"),preview:i(function(){var k=this.imageData,F=this.canvasData,C=this.cropBoxData,H=C.width,$=C.height,V=k.width,X=k.height,oe=C.left-F.left-k.left,ee=C.top-F.top-k.top;!this.cropped||this.disabled||(vo(this.viewBoxImage,et({width:V,height:X},Gl(et({translateX:-oe,translateY:-ee},k)))),yt(this.previews,function(Z){var J=bw(Z,re),ie=J.width,Ue=J.height,Ne=ie,tt=Ue,ze=1;H&&(ze=ie/H,tt=$*ze),$&&tt>Ue&&(ze=Ue/$,Ne=H*ze,tt=Ue),vo(Z,{width:Ne,height:tt}),vo(Z.getElementsByTagName("img")[0],et({width:V*ze,height:X*ze},Gl(et({translateX:-oe*ze,translateY:-ee*ze},k))))}))},"preview")},IZ={bind:i(function(){var k=this.element,F=this.options,C=this.cropper;vr(F.cropstart)&&Qr(k,Gu,F.cropstart),vr(F.cropmove)&&Qr(k,Jt,F.cropmove),vr(F.cropend)&&Qr(k,Ft,F.cropend),vr(F.crop)&&Qr(k,Xt,F.crop),vr(F.zoom)&&Qr(k,yw,F.zoom),Qr(C,u2,this.onCropStart=this.cropStart.bind(this)),F.zoomable&&F.zoomOnWheel&&Qr(C,p2,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&Qr(C,$l,this.onDblclick=this.dblclick.bind(this)),Qr(k.ownerDocument,s2,this.onCropMove=this.cropMove.bind(this)),Qr(k.ownerDocument,l2,this.onCropEnd=this.cropEnd.bind(this)),F.responsive&&Qr(window,f2,this.onResize=this.resize.bind(this))},"bind"),unbind:i(function(){var k=this.element,F=this.options,C=this.cropper;vr(F.cropstart)&&bn(k,Gu,F.cropstart),vr(F.cropmove)&&bn(k,Jt,F.cropmove),vr(F.cropend)&&bn(k,Ft,F.cropend),vr(F.crop)&&bn(k,Xt,F.crop),vr(F.zoom)&&bn(k,yw,F.zoom),bn(C,u2,this.onCropStart),F.zoomable&&F.zoomOnWheel&&bn(C,p2,this.onWheel,{passive:!1,capture:!0}),F.toggleDragModeOnDblclick&&bn(C,$l,this.onDblclick),bn(k.ownerDocument,s2,this.onCropMove),bn(k.ownerDocument,l2,this.onCropEnd),F.responsive&&bn(window,f2,this.onResize)},"unbind")},kZ={resize:i(function(){if(!this.disabled){var k=this.options,F=this.container,C=this.containerData,H=F.offsetWidth/C.width;if(H!==1||F.offsetHeight!==C.height){var $,V;k.restore&&($=this.getCanvasData(),V=this.getCropBoxData()),this.render(),k.restore&&(this.setCanvasData(yt($,function(X,oe){$[oe]=X*H})),this.setCropBoxData(yt(V,function(X,oe){V[oe]=X*H})))}}},"resize"),dblclick:i(function(){this.disabled||this.options.dragMode===K||this.setDragMode(dZ(this.dragBox,g)?Q:ne)},"dblclick"),wheel:i(function(k){var F=this,C=Number(this.options.wheelZoomRatio)||.1,H=1;this.disabled||(k.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){F.wheeling=!1},50),k.deltaY?H=k.deltaY>0?1:-1:k.wheelDelta?H=-k.wheelDelta/120:k.detail&&(H=k.detail>0?1:-1),this.zoom(-H*C,k)))},"wheel"),cropStart:i(function(k){var F=k.buttons,C=k.button;if(!(this.disabled||(k.type==="mousedown"||k.type==="pointerdown"&&k.pointerType==="mouse")&&(Fe(F)&&F!==1||Fe(C)&&C!==0||k.ctrlKey))){var H=this.options,$=this.pointers,V;k.changedTouches?yt(k.changedTouches,function(X){$[X.identifier]=Qd(X)}):$[k.pointerId||0]=Qd(k),Object.keys($).length>1&&H.zoomable&&H.zoomOnTouch?V=G:V=bw(k.target,j),!!nZ.test(V)&&Ku(this.element,Gu,{originalEvent:k,action:V})!==!1&&(k.preventDefault(),this.action=V,this.cropping=!1,V===x&&(this.cropping=!0,Lt(this.dragBox,O)))}},"cropStart"),cropMove:i(function(k){var F=this.action;if(!(this.disabled||!F)){var C=this.pointers;k.preventDefault(),Ku(this.element,Jt,{originalEvent:k,action:F})!==!1&&(k.changedTouches?yt(k.changedTouches,function(H){et(C[H.identifier]||{},Qd(H,!0))}):et(C[k.pointerId||0]||{},Qd(k,!0)),this.change(k))}},"cropMove"),cropEnd:i(function(k){if(!this.disabled){var F=this.action,C=this.pointers;k.changedTouches?yt(k.changedTouches,function(H){delete C[H.identifier]}):delete C[k.pointerId||0],F&&(k.preventDefault(),Object.keys(C).length||(this.action=""),this.cropping&&(this.cropping=!1,Wu(this.dragBox,O,this.cropped&&this.options.modal)),Ku(this.element,Ft,{originalEvent:k,action:F}))}},"cropEnd")},qZ={change:i(function(k){var F=this.options,C=this.canvasData,H=this.containerData,$=this.cropBoxData,V=this.pointers,X=this.action,oe=F.aspectRatio,ee=$.left,Z=$.top,J=$.width,ie=$.height,Ue=ee+J,Ne=Z+ie,tt=0,ze=0,Tt=H.width,jt=H.height,mt=!0,gi;!oe&&k.shiftKey&&(oe=J&&ie?J/ie:1),this.limited&&(tt=$.minLeft,ze=$.minTop,Tt=tt+Math.min(H.width,C.width,C.left+C.width),jt=ze+Math.min(H.height,C.height,C.top+C.height));var xr=V[Object.keys(V)[0]],ue={x:xr.endX-xr.startX,y:xr.endY-xr.startY},Ge=i(function(Zr){switch(Zr){case M:Ue+ue.x>Tt&&(ue.x=Tt-Ue);break;case z:ee+ue.x<tt&&(ue.x=tt-ee);break;case Y:Z+ue.y<ze&&(ue.y=ze-Z);break;case W:Ne+ue.y>jt&&(ue.y=jt-Ne);break}},"check");switch(X){case A:ee+=ue.x,Z+=ue.y;break;case M:if(ue.x>=0&&(Ue>=Tt||oe&&(Z<=ze||Ne>=jt))){mt=!1;break}Ge(M),J+=ue.x,J<0&&(X=z,J=-J,ee-=J),oe&&(ie=J/oe,Z+=($.height-ie)/2);break;case Y:if(ue.y<=0&&(Z<=ze||oe&&(ee<=tt||Ue>=Tt))){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,ie<0&&(X=W,ie=-ie,Z-=ie),oe&&(J=ie*oe,ee+=($.width-J)/2);break;case z:if(ue.x<=0&&(ee<=tt||oe&&(Z<=ze||Ne>=jt))){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,J<0&&(X=M,J=-J,ee-=J),oe&&(ie=J/oe,Z+=($.height-ie)/2);break;case W:if(ue.y>=0&&(Ne>=jt||oe&&(ee<=tt||Ue>=Tt))){mt=!1;break}Ge(W),ie+=ue.y,ie<0&&(X=Y,ie=-ie,Z-=ie),oe&&(J=ie*oe,ee+=($.width-J)/2);break;case p:if(oe){if(ue.y<=0&&(Z<=ze||Ue>=Tt)){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,J=ie*oe}else Ge(Y),Ge(M),ue.x>=0?Ue<Tt?J+=ue.x:ue.y<=0&&Z<=ze&&(mt=!1):J+=ue.x,ue.y<=0?Z>ze&&(ie-=ue.y,Z+=ue.y):(ie-=ue.y,Z+=ue.y);J<0&&ie<0?(X=v,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=l,J=-J,ee-=J):ie<0&&(X=h,ie=-ie,Z-=ie);break;case l:if(oe){if(ue.y<=0&&(Z<=ze||ee<=tt)){mt=!1;break}Ge(Y),ie-=ue.y,Z+=ue.y,J=ie*oe,ee+=$.width-J}else Ge(Y),Ge(z),ue.x<=0?ee>tt?(J-=ue.x,ee+=ue.x):ue.y<=0&&Z<=ze&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y<=0?Z>ze&&(ie-=ue.y,Z+=ue.y):(ie-=ue.y,Z+=ue.y);J<0&&ie<0?(X=h,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=p,J=-J,ee-=J):ie<0&&(X=v,ie=-ie,Z-=ie);break;case v:if(oe){if(ue.x<=0&&(ee<=tt||Ne>=jt)){mt=!1;break}Ge(z),J-=ue.x,ee+=ue.x,ie=J/oe}else Ge(W),Ge(z),ue.x<=0?ee>tt?(J-=ue.x,ee+=ue.x):ue.y>=0&&Ne>=jt&&(mt=!1):(J-=ue.x,ee+=ue.x),ue.y>=0?Ne<jt&&(ie+=ue.y):ie+=ue.y;J<0&&ie<0?(X=p,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=h,J=-J,ee-=J):ie<0&&(X=l,ie=-ie,Z-=ie);break;case h:if(oe){if(ue.x>=0&&(Ue>=Tt||Ne>=jt)){mt=!1;break}Ge(M),J+=ue.x,ie=J/oe}else Ge(W),Ge(M),ue.x>=0?Ue<Tt?J+=ue.x:ue.y>=0&&Ne>=jt&&(mt=!1):J+=ue.x,ue.y>=0?Ne<jt&&(ie+=ue.y):ie+=ue.y;J<0&&ie<0?(X=l,ie=-ie,J=-J,Z-=ie,ee-=J):J<0?(X=v,J=-J,ee-=J):ie<0&&(X=p,ie=-ie,Z-=ie);break;case U:this.move(ue.x,ue.y),mt=!1;break;case G:this.zoom(mZ(V),k),mt=!1;break;case x:if(!ue.x||!ue.y){mt=!1;break}gi=b2(this.cropper),ee=xr.startX-gi.left,Z=xr.startY-gi.top,J=$.minWidth,ie=$.minHeight,ue.x>0?X=ue.y>0?h:p:ue.x<0&&(ee-=J,X=ue.y>0?v:l),ue.y<0&&(Z-=ie),this.cropped||(Un(this.cropBox,P),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}mt&&($.width=J,$.height=ie,$.left=ee,$.top=Z,this.action=X,this.renderCropBox()),yt(V,function(At){At.startX=At.endX,At.startY=At.endY})},"change")},xZ={crop:i(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Lt(this.dragBox,O),Un(this.cropBox,P),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:i(function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:i(function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Un(this.dragBox,O),Lt(this.cropBox,P)),this},"clear"),replace:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&k&&(this.isImg&&(this.element.src=k),F?(this.url=k,this.image.src=k,this.ready&&(this.viewBoxImage.src=k,yt(this.previews,function(C){C.getElementsByTagName("img")[0].src=k}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(k))),this},"replace"),enable:i(function(){return this.ready&&this.disabled&&(this.disabled=!1,Un(this.cropper,b)),this},"enable"),disable:i(function(){return this.ready&&!this.disabled&&(this.disabled=!0,Lt(this.cropper,b)),this},"disable"),destroy:i(function(){var k=this.element;return k[E]?(k[E]=void 0,this.isImg&&this.replaced&&(k.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,C=this.canvasData,H=C.left,$=C.top;return this.moveTo(mw(k)?k:H+Number(k),mw(F)?F:$+Number(F))},"move"),moveTo:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,C=this.canvasData,H=!1;return k=Number(k),F=Number(F),this.ready&&!this.disabled&&this.options.movable&&(Fe(k)&&(C.left=k,H=!0),Fe(F)&&(C.top=F,H=!0),H&&this.renderCanvas(!0)),this},"moveTo"),zoom:i(function(k,F){var C=this.canvasData;return k=Number(k),k<0?k=1/(1-k):k=1+k,this.zoomTo(C.width*k/C.naturalWidth,null,F)},"zoom"),zoomTo:i(function(k,F,C){var H=this.options,$=this.canvasData,V=$.width,X=$.height,oe=$.naturalWidth,ee=$.naturalHeight;if(k=Number(k),k>=0&&this.ready&&!this.disabled&&H.zoomable){var Z=oe*k,J=ee*k;if(Ku(this.element,yw,{ratio:k,oldRatio:V/oe,originalEvent:C})===!1)return this;if(C){var ie=this.pointers,Ue=b2(this.cropper),Ne=ie&&Object.keys(ie).length?gZ(ie):{pageX:C.pageX,pageY:C.pageY};$.left-=(Z-V)*((Ne.pageX-Ue.left-$.left)/V),$.top-=(J-X)*((Ne.pageY-Ue.top-$.top)/X)}else Hu(F)&&Fe(F.x)&&Fe(F.y)?($.left-=(Z-V)*((F.x-$.left)/V),$.top-=(J-X)*((F.y-$.top)/X)):($.left-=(Z-V)/2,$.top-=(J-X)/2);$.width=Z,$.height=J,this.renderCanvas(!0)}return this},"zoomTo"),rotate:i(function(k){return this.rotateTo((this.imageData.rotate||0)+Number(k))},"rotate"),rotateTo:i(function(k){return k=Number(k),Fe(k)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=k%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:i(function(k){var F=this.imageData.scaleY;return this.scale(k,Fe(F)?F:1)},"scaleX"),scaleY:i(function(k){var F=this.imageData.scaleX;return this.scale(Fe(F)?F:1,k)},"scaleY"),scale:i(function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,C=this.imageData,H=!1;return k=Number(k),F=Number(F),this.ready&&!this.disabled&&this.options.scalable&&(Fe(k)&&(C.scaleX=k,H=!0),Fe(F)&&(C.scaleY=F,H=!0),H&&this.renderCanvas(!0,!0)),this},"scale"),getData:i(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=this.options,C=this.imageData,H=this.canvasData,$=this.cropBoxData,V;if(this.ready&&this.cropped){V={x:$.left-H.left,y:$.top-H.top,width:$.width,height:$.height};var X=C.width/C.naturalWidth;if(yt(V,function(Z,J){V[J]=Z/X}),k){var oe=Math.round(V.y+V.height),ee=Math.round(V.x+V.width);V.x=Math.round(V.x),V.y=Math.round(V.y),V.width=ee-V.x,V.height=oe-V.y}}else V={x:0,y:0,width:0,height:0};return F.rotatable&&(V.rotate=C.rotate||0),F.scalable&&(V.scaleX=C.scaleX||1,V.scaleY=C.scaleY||1),V},"getData"),setData:i(function(k){var F=this.options,C=this.imageData,H=this.canvasData,$={};if(this.ready&&!this.disabled&&Hu(k)){var V=!1;F.rotatable&&Fe(k.rotate)&&k.rotate!==C.rotate&&(C.rotate=k.rotate,V=!0),F.scalable&&(Fe(k.scaleX)&&k.scaleX!==C.scaleX&&(C.scaleX=k.scaleX,V=!0),Fe(k.scaleY)&&k.scaleY!==C.scaleY&&(C.scaleY=k.scaleY,V=!0)),V&&this.renderCanvas(!0,!0);var X=C.width/C.naturalWidth;Fe(k.x)&&($.left=k.x*X+H.left),Fe(k.y)&&($.top=k.y*X+H.top),Fe(k.width)&&($.width=k.width*X),Fe(k.height)&&($.height=k.height*X),this.setCropBoxData($)}return this},"setData"),getContainerData:i(function(){return this.ready?et({},this.containerData):{}},"getContainerData"),getImageData:i(function(){return this.sized?et({},this.imageData):{}},"getImageData"),getCanvasData:i(function(){var k=this.canvasData,F={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(C){F[C]=k[C]}),F},"getCanvasData"),setCanvasData:i(function(k){var F=this.canvasData,C=F.aspectRatio;return this.ready&&!this.disabled&&Hu(k)&&(Fe(k.left)&&(F.left=k.left),Fe(k.top)&&(F.top=k.top),Fe(k.width)?(F.width=k.width,F.height=k.width/C):Fe(k.height)&&(F.height=k.height,F.width=k.height*C),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:i(function(){var k=this.cropBoxData,F;return this.ready&&this.cropped&&(F={left:k.left,top:k.top,width:k.width,height:k.height}),F||{}},"getCropBoxData"),setCropBoxData:i(function(k){var F=this.cropBoxData,C=this.options.aspectRatio,H,$;return this.ready&&this.cropped&&!this.disabled&&Hu(k)&&(Fe(k.left)&&(F.left=k.left),Fe(k.top)&&(F.top=k.top),Fe(k.width)&&k.width!==F.width&&(H=!0,F.width=k.width),Fe(k.height)&&k.height!==F.height&&($=!0,F.height=k.height),C&&(H?F.height=F.width/C:$&&(F.width=F.height*C)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:i(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var F=this.canvasData,C=wZ(this.image,this.imageData,F,k);if(!this.cropped)return C;var H=this.getData(),$=H.x,V=H.y,X=H.width,oe=H.height,ee=C.width/Math.floor(F.naturalWidth);ee!==1&&($*=ee,V*=ee,X*=ee,oe*=ee);var Z=X/oe,J=yo({aspectRatio:Z,width:k.maxWidth||1/0,height:k.maxHeight||1/0}),ie=yo({aspectRatio:Z,width:k.minWidth||0,height:k.minHeight||0},"cover"),Ue=yo({aspectRatio:Z,width:k.width||(ee!==1?C.width:X),height:k.height||(ee!==1?C.height:oe)}),Ne=Ue.width,tt=Ue.height;Ne=Math.min(J.width,Math.max(ie.width,Ne)),tt=Math.min(J.height,Math.max(ie.height,tt));var ze=document.createElement("canvas"),Tt=ze.getContext("2d");ze.width=Vu(Ne),ze.height=Vu(tt),Tt.fillStyle=k.fillColor||"transparent",Tt.fillRect(0,0,Ne,tt);var jt=k.imageSmoothingEnabled,mt=jt===void 0?!0:jt,gi=k.imageSmoothingQuality;Tt.imageSmoothingEnabled=mt,gi&&(Tt.imageSmoothingQuality=gi);var xr=C.width,ue=C.height,Ge=$,At=V,Zr,bi,da,ha,mo,Mn;Ge<=-X||Ge>xr?(Ge=0,Zr=0,da=0,mo=0):Ge<=0?(da=-Ge,Ge=0,Zr=Math.min(xr,X+Ge),mo=Zr):Ge<=xr&&(da=0,Zr=Math.min(X,xr-Ge),mo=Zr),Zr<=0||At<=-oe||At>ue?(At=0,bi=0,ha=0,Mn=0):At<=0?(ha=-At,At=0,bi=Math.min(ue,oe+At),Mn=bi):At<=ue&&(ha=0,bi=Math.min(oe,ue-At),Mn=bi);var yr=[Ge,At,Zr,bi];if(mo>0&&Mn>0){var va=Ne/X;yr.push(da*va,ha*va,mo*va,Mn*va)}return Tt.drawImage.apply(Tt,[C].concat(s(yr.map(function(Zd){return Math.floor(Vu(Zd))})))),ze},"getCroppedCanvas"),setAspectRatio:i(function(k){var F=this.options;return!this.disabled&&!mw(k)&&(F.aspectRatio=Math.max(0,k)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:i(function(k){var F=this.options,C=this.dragBox,H=this.face;if(this.ready&&!this.disabled){var $=k===ne,V=F.movable&&k===Q;k=$||V?k:K,F.dragMode=k,zl(C,j,k),Wu(C,g,$),Wu(C,I,V),F.cropBoxMovable||(zl(H,j,k),Wu(H,g,$),Wu(H,I,V))}return this},"setDragMode")},CZ=_.Cropper,_2=function(){function B(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,B),!k||!aZ.test(k.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=k,this.options=et({},h2,Hu(F)&&F),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(B,"Cropper"),n(B,[{key:"init",value:i(function(){var F=this.element,C=F.tagName.toLowerCase(),H;if(!F[E]){if(F[E]=this,C==="img"){if(this.isImg=!0,H=F.getAttribute("src")||"",this.originalUrl=H,!H)return;H=F.src}else C==="canvas"&&window.HTMLCanvasElement&&(H=F.toDataURL());this.load(H)}},"init")},{key:"load",value:i(function(F){var C=this;if(!!F){this.url=F,this.imageData={};var H=this.element,$=this.options;if(!$.rotatable&&!$.scalable&&($.checkOrientation=!1),!$.checkOrientation||!window.ArrayBuffer){this.clone();return}if(iZ.test(F)){oZ.test(F)?this.read(_Z(F)):this.clone();return}var V=new XMLHttpRequest,X=this.clone.bind(this);this.reloading=!0,this.xhr=V,V.onabort=X,V.onerror=X,V.ontimeout=X,V.onprogress=function(){V.getResponseHeader("content-type")!==d2&&V.abort()},V.onload=function(){C.read(V.response)},V.onloadend=function(){C.reloading=!1,C.xhr=null},$.checkCrossOrigin&&w2(F)&&H.crossOrigin&&(F=O2(F)),V.open("GET",F),V.responseType="arraybuffer",V.withCredentials=H.crossOrigin==="use-credentials",V.send()}},"load")},{key:"read",value:i(function(F){var C=this.options,H=this.imageData,$=EZ(F),V=0,X=1,oe=1;if($>1){this.url=PZ(F,d2);var ee=RZ($);V=ee.rotate,X=ee.scaleX,oe=ee.scaleY}C.rotatable&&(H.rotate=V),C.scalable&&(H.scaleX=X,H.scaleY=oe),this.clone()},"read")},{key:"clone",value:i(function(){var F=this.element,C=this.url,H=F.crossOrigin,$=C;this.options.checkCrossOrigin&&w2(C)&&(H||(H="anonymous"),$=O2(C)),this.crossOrigin=H,this.crossOriginUrl=$;var V=document.createElement("img");H&&(V.crossOrigin=H),V.src=$||C,V.alt=F.alt||"The image to crop",this.image=V,V.onload=this.start.bind(this),V.onerror=this.stop.bind(this),Lt(V,q),F.parentNode.insertBefore(V,F.nextSibling)},"clone")},{key:"start",value:i(function(){var F=this,C=this.image;C.onload=null,C.onerror=null,this.sizing=!0;var H=_.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(_.navigator.userAgent),$=i(function(ee,Z){et(F.imageData,{naturalWidth:ee,naturalHeight:Z,aspectRatio:ee/Z}),F.sizing=!1,F.sized=!0,F.build()},"done");if(C.naturalWidth&&!H){$(C.naturalWidth,C.naturalHeight);return}var V=document.createElement("img"),X=document.body||document.documentElement;this.sizingImage=V,V.onload=function(){$(V.width,V.height),H||X.removeChild(V)},V.src=C.src,H||(V.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",X.appendChild(V))},"start")},{key:"stop",value:i(function(){var F=this.image;F.onload=null,F.onerror=null,F.parentNode.removeChild(F),this.image=null},"stop")},{key:"build",value:i(function(){if(!(!this.sized||this.ready)){var F=this.element,C=this.options,H=this.image,$=F.parentNode,V=document.createElement("div");V.innerHTML=uZ;var X=V.querySelector(".".concat(E,"-container")),oe=X.querySelector(".".concat(E,"-canvas")),ee=X.querySelector(".".concat(E,"-drag-box")),Z=X.querySelector(".".concat(E,"-crop-box")),J=Z.querySelector(".".concat(E,"-face"));this.container=$,this.cropper=X,this.canvas=oe,this.dragBox=ee,this.cropBox=Z,this.viewBox=X.querySelector(".".concat(E,"-view-box")),this.face=J,oe.appendChild(H),Lt(F,P),$.insertBefore(X,F.nextSibling),this.isImg||Un(H,q),this.initPreview(),this.bind(),C.initialAspectRatio=Math.max(0,C.initialAspectRatio)||NaN,C.aspectRatio=Math.max(0,C.aspectRatio)||NaN,C.viewMode=Math.max(0,Math.min(3,Math.round(C.viewMode)))||0,Lt(Z,P),C.guides||Lt(Z.getElementsByClassName("".concat(E,"-dashed")),P),C.center||Lt(Z.getElementsByClassName("".concat(E,"-center")),P),C.background&&Lt(X,"".concat(E,"-bg")),C.highlight||Lt(J,L),C.cropBoxMovable&&(Lt(J,I),zl(J,j,A)),C.cropBoxResizable||(Lt(Z.getElementsByClassName("".concat(E,"-line")),P),Lt(Z.getElementsByClassName("".concat(E,"-point")),P)),this.render(),this.ready=!0,this.setDragMode(C.dragMode),C.autoCrop&&this.crop(),this.setData(C.data),vr(C.ready)&&Qr(F,c2,C.ready,{once:!0}),Ku(F,c2)}},"build")},{key:"unbuild",value:i(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Un(this.element,P))},"unbuild")},{key:"uncreate",value:i(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:i(function(){return window.Cropper=CZ,B},"noConflict")},{key:"setDefaults",value:i(function(F){et(h2,Hu(F)&&F)},"setDefaults")}]),B}();return et(_2.prototype,TZ,AZ,IZ,kZ,qZ,xZ),_2})});var CK=N(function(jbt,sb){"use strict";sb.exports=SI;sb.exports.isMobile=SI;sb.exports.default=SI;var UXe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,MXe=/CrOS/,BXe=/android|ipad|playbook|silk/i;function SI(t){t||(t={});var e=t.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var r=UXe.test(e)&&!MXe.test(e)||!!t.tablet&&BXe.test(e);return!r&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(r=!0),r}i(SI,"isMobile")});var GY=N(function(h0t,zY){"use strict";zY.exports=i(function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},"required")});var WY=N(function(yk){"use strict";var ZQe=Object.prototype.hasOwnProperty,eZe;function HY(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}i(HY,"decode");function VY(t){try{return encodeURIComponent(t)}catch(e){return null}}i(VY,"encode");function tZe(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var a=HY(n[1]),o=HY(n[2]);a===null||o===null||a in r||(r[a]=o)}return r}i(tZe,"querystring");function rZe(t,e){e=e||"";var r=[],n,a;typeof e!="string"&&(e="?");for(a in t)if(ZQe.call(t,a)){if(n=t[a],!n&&(n===null||n===eZe||isNaN(n))&&(n=""),a=VY(a),n=VY(n),a===null||n===null)continue;r.push(a+"="+n)}return r.length?e+r.join("&"):""}i(rZe,"querystringify");yk.stringify=rZe;yk.parse=tZe});var tX=N(function(y0t,eX){"use strict";function ad(t){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}i(ad,"_typeof");var YY=GY(),Sb=WY(),nZe=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,XY=/[\n\r\t]/g,iZe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,JY=/:\d+$/,oZe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,aZe=/^[a-zA-Z]:/;function gk(t){return(t||"").toString().replace(nZe,"")}i(gk,"trimLeft");var mk=[["#","hash"],["?","query"],i(function(e,r){return vi(r.protocol)?e.replace(/\\/g,"/"):e},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],KY={hash:1,query:1};function QY(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},a=ad(t),o;if(t.protocol==="blob:")n=new yi(unescape(t.pathname),{});else if(a==="string"){n=new yi(t,{});for(o in KY)delete n[o]}else if(a==="object"){for(o in t)o in KY||(n[o]=t[o]);n.slashes===void 0&&(n.slashes=iZe.test(t.href))}return n}i(QY,"lolcation");function vi(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}i(vi,"isSpecial");function ZY(t,e){t=gk(t),t=t.replace(XY,""),e=e||{};var r=oZe.exec(t),n=r[1]?r[1].toLowerCase():"",a=!!r[2],o=!!r[3],u=0,s;return a?o?(s=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(s=r[2]+r[4],u=r[2].length):o?(s=r[3]+r[4],u=r[3].length):s=r[4],n==="file:"?u>=2&&(s=s.slice(2)):vi(n)?s=r[4]:n?a&&(s=s.slice(2)):u>=2&&vi(e.protocol)&&(s=r[4]),{protocol:n,slashes:a||vi(n),slashesCount:u,rest:s}}i(ZY,"extractProtocol");function uZe(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,a=r[n-1],o=!1,u=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),u++):u&&(n===0&&(o=!0),r.splice(n,1),u--);return o&&r.unshift(""),(a==="."||a==="..")&&r.push(""),r.join("/")}i(uZe,"resolve");function yi(t,e,r){if(t=gk(t),t=t.replace(XY,""),!(this instanceof yi))return new yi(t,e,r);var n,a,o,u,s,c,f=mk.slice(),d=ad(e),y=this,m=0;for(d!=="object"&&d!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=Sb.parse),e=QY(e),a=ZY(t||"",e),n=!a.protocol&&!a.slashes,y.slashes=a.slashes||n&&e.slashes,y.protocol=a.protocol||e.protocol||"",t=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||aZe.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!vi(y.protocol)))&&(f[3]=[/(.*)/,"pathname"]);m<f.length;m++){if(u=f[m],typeof u=="function"){t=u(t,y);continue}o=u[0],c=u[1],o!==o?y[c]=t:typeof o=="string"?(s=o==="@"?t.lastIndexOf(o):t.indexOf(o),~s&&(typeof u[2]=="number"?(y[c]=t.slice(0,s),t=t.slice(s+u[2])):(y[c]=t.slice(s),t=t.slice(0,s)))):(s=o.exec(t))&&(y[c]=s[1],t=t.slice(0,s.index)),y[c]=y[c]||n&&u[3]&&e[c]||"",u[4]&&(y[c]=y[c].toLowerCase())}r&&(y.query=r(y.query)),n&&e.slashes&&y.pathname.charAt(0)!=="/"&&(y.pathname!==""||e.pathname!=="")&&(y.pathname=uZe(y.pathname,e.pathname)),y.pathname.charAt(0)!=="/"&&vi(y.protocol)&&(y.pathname="/"+y.pathname),YY(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(s=y.auth.indexOf(":"),~s?(y.username=y.auth.slice(0,s),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=y.auth.slice(s+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(y.auth)),y.auth=y.password?y.username+":"+y.password:y.username),y.origin=y.protocol!=="file:"&&vi(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}i(yi,"Url");function sZe(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||Sb.parse)(e)),n[t]=e;break;case"port":n[t]=e,YY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,JY.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var a=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==a?a+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<mk.length;u++){var s=mk[u];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&vi(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}i(sZe,"set");function lZe(t){(!t||typeof t!="function")&&(t=Sb.stringify);var e,r=this,n=r.host,a=r.protocol;a&&a.charAt(a.length-1)!==":"&&(a+=":");var o=a+(r.protocol&&r.slashes||vi(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&vi(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||JY.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,e=ad(r.query)==="object"?t(r.query):r.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(o+=r.hash),o}i(lZe,"toString");yi.prototype={set:sZe,toString:lZe};yi.extractProtocol=ZY;yi.location=QY;yi.trimLeft=gk;yi.qs=Sb;eX.exports=yi});var Nk=N(function(dOt,jk){typeof jk!="undefined"&&(jk.exports=Kr);function Kr(t){if(t)return det(t)}i(Kr,"Emitter");function det(t){for(var e in Kr.prototype)t[e]=Kr.prototype[e];return t}i(det,"mixin");Kr.prototype.on=Kr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Kr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Kr.prototype.off=Kr.prototype.removeListener=Kr.prototype.removeAllListeners=Kr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Kr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Kr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Kr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var bQ=N(function(I_t,gQ){"use strict";function fQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(fQ,"ownKeys");function iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fQ(Object(r),!0).forEach(function(n){nnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(iw,"_objectSpread2");function tnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(tnt,"_classCallCheck");function pQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(pQ,"_defineProperties");function rnt(t,e,r){return e&&pQ(t.prototype,e),r&&pQ(t,r),t}i(rnt,"_createClass");function nnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(nnt,"_defineProperty");function ow(){return ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ow.apply(this,arguments)}i(ow,"_extends");var yQ={exports:{}};(function(t){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(c){return!1}}(),a=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(c){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(c){var f,d,y,m,w,_,R,T,E;if(f=c.match(u),!f)throw new Error("invalid data URI");for(d=f[2]?f[1]:"text/plain"+(f[3]||";charset=US-ASCII"),y=!!f[4],m=c.slice(f[0].length),y?w=atob(m):w=decodeURIComponent(m),_=new ArrayBuffer(w.length),R=new Uint8Array(_),T=0;T<w.length;T+=1)R[T]=w.charCodeAt(T);return n?new Blob([a?R:_],{type:d}):(E=new o,E.append(_),E.getBlob(d))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(c,f,d){var y=this;setTimeout(function(){d&&r.toDataURL&&s?c(s(y.toDataURL(f,d))):c(y.mozGetAsFile("blob",f))})}:r.toDataURL&&s&&(r.msToBlob?r.toBlob=function(c,f,d){var y=this;setTimeout(function(){(f&&f!=="image/png"||d)&&r.toDataURL&&s?c(s(y.toDataURL(f,d))):c(y.msToBlob(f))})}:r.toBlob=function(c,f,d){var y=this;setTimeout(function(){c(s(y.toDataURL(f,d)))})})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})(yQ);var int=yQ.exports,ont=i(function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},"isBlob"),dQ={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},ant=typeof window!="undefined"&&typeof window.document!="undefined",fa=ant?window:{},aw=i(function(e){return e>0&&e<1/0},"isPositiveNumber"),unt=Array.prototype.slice;function snt(t){return Array.from?Array.from(t):unt.call(t)}i(snt,"toArray");var lnt=/^image\/.+$/;function Vq(t){return lnt.test(t)}i(Vq,"isImageType");function cnt(t){var e=Vq(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}i(cnt,"imageTypeToExtension");var mQ=String.fromCharCode;function fnt(t,e,r){var n="",a;for(r+=e,a=e;a<r;a+=1)n+=mQ(t.getUint8(a));return n}i(fnt,"getStringFromCharCode");var pnt=fa.btoa;function dnt(t,e){for(var r=[],n=8192,a=new Uint8Array(t);a.length>0;)r.push(mQ.apply(null,snt(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(e,";base64,").concat(pnt(r.join("")))}i(dnt,"arrayBufferToDataURL");function hnt(t){var e=new DataView(t),r;try{var n,a,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,s=2;s+1<u;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){a=s;break}s+=1}if(a){var c=a+4,f=a+10;if(fnt(e,c,4)==="Exif"){var d=e.getUint16(f);if(n=d===18761,(n||d===19789)&&e.getUint16(f+2,n)===42){var y=e.getUint32(f+4,n);y>=8&&(o=f+y)}}}if(o){var m=e.getUint16(o,n),w,_;for(_=0;_<m;_+=1)if(w=o+_*12+2,e.getUint16(w,n)===274){w+=8,r=e.getUint16(w,n),e.setUint16(w,1,n);break}}}catch(R){r=1}return r}i(hnt,"resetAndGetOrientation");function vnt(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}i(vnt,"parseOrientation");var ynt=/\.\d*(?:0|9){12}\d*$/;function hQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return ynt.test(t)?Math.round(t*e)/e:t}i(hQ,"normalizeDecimalNumber");function Vd(t){var e=t.aspectRatio,r=t.height,n=t.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",o=aw(n),u=aw(r);if(o&&u){var s=r*e;(a==="contain"||a==="none")&&s>n||a==="cover"&&s<n?r=n/e:n=r*e}else o?r=n/e:u&&(n=r*e);return{width:n,height:r}}i(Vd,"getAdjustedSizes");var mnt=fa.ArrayBuffer,vQ=fa.FileReader,zu=fa.URL||fa.webkitURL,gnt=/\.\w+$/,bnt=fa.Compressor,wnt=function(){function t(e,r){tnt(this,t),this.file=e,this.image=new Image,this.options=iw(iw({},dQ),r),this.aborted=!1,this.result=null,this.init()}return i(t,"Compressor"),rnt(t,[{key:"init",value:i(function(){var r=this,n=this.file,a=this.options;if(!ont(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var o=n.type;if(!Vq(o)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!zu||!vQ){this.fail(new Error("The current browser does not support image compression."));return}if(mnt||(a.checkOrientation=!1),zu&&!a.checkOrientation)this.load({url:zu.createObjectURL(n)});else{var u=new vQ,s=a.checkOrientation&&o==="image/jpeg";this.reader=u,u.onload=function(c){var f=c.target,d=f.result,y={};if(s){var m=hnt(d);m>1||!zu?(y.url=dnt(d,o),m>1&&ow(y,vnt(m))):y.url=zu.createObjectURL(n)}else y.url=d;r.load(y)},u.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){r.reader=null},s?u.readAsArrayBuffer(n):u.readAsDataURL(n)}},"init")},{key:"load",value:i(function(r){var n=this,a=this.file,o=this.image;o.onload=function(){n.draw(iw(iw({},r),{},{naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight}))},o.onabort=function(){n.fail(new Error("Aborted to load the image."))},o.onerror=function(){n.fail(new Error("Failed to load the image."))},fa.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(fa.navigator.userAgent)&&(o.crossOrigin="anonymous"),o.alt=a.name,o.src=r.url},"load")},{key:"draw",value:i(function(r){var n=this,a=r.naturalWidth,o=r.naturalHeight,u=r.rotate,s=u===void 0?0:u,c=r.scaleX,f=c===void 0?1:c,d=r.scaleY,y=d===void 0?1:d,m=this.file,w=this.image,_=this.options,R=document.createElement("canvas"),T=R.getContext("2d"),E=Math.abs(s)%180===90,A=(_.resize==="contain"||_.resize==="cover")&&aw(_.width)&&aw(_.height),x=Math.max(_.maxWidth,0)||1/0,U=Math.max(_.maxHeight,0)||1/0,G=Math.max(_.minWidth,0)||0,M=Math.max(_.minHeight,0)||0,z=a/o,W=_.width,Y=_.height;if(E){var p=[U,x];x=p[0],U=p[1];var l=[M,G];G=l[0],M=l[1];var h=[Y,W];W=h[0],Y=h[1]}A&&(z=W/Y);var v=Vd({aspectRatio:z,width:x,height:U},"contain");x=v.width,U=v.height;var g=Vd({aspectRatio:z,width:G,height:M},"cover");if(G=g.width,M=g.height,A){var b=Vd({aspectRatio:z,width:W,height:Y},_.resize);W=b.width,Y=b.height}else{var P=Vd({aspectRatio:z,width:W,height:Y}),q=P.width;W=q===void 0?a:q;var L=P.height;Y=L===void 0?o:L}W=Math.floor(hQ(Math.min(Math.max(W,G),x))),Y=Math.floor(hQ(Math.min(Math.max(Y,M),U)));var O=-W/2,I=-Y/2,j=W,re=Y,ne=[];if(A){var Q=0,K=0,Xt=a,Ft=o,Jt=Vd({aspectRatio:z,width:a,height:o},{contain:"cover",cover:"contain"}[_.resize]);Xt=Jt.width,Ft=Jt.height,Q=(a-Xt)/2,K=(o-Ft)/2,ne.push(Q,K,Xt,Ft)}if(ne.push(O,I,j,re),E){var Gu=[Y,W];W=Gu[0],Y=Gu[1]}R.width=W,R.height=Y,Vq(_.mimeType)||(_.mimeType=m.type);var $l="transparent";if(m.size>_.convertSize&&_.convertTypes.indexOf(_.mimeType)>=0&&(_.mimeType="image/jpeg"),_.mimeType==="image/jpeg"&&($l="#fff"),T.fillStyle=$l,T.fillRect(0,0,W,Y),_.beforeDraw&&_.beforeDraw.call(this,T,R),!this.aborted&&(T.save(),T.translate(W/2,Y/2),T.rotate(s*Math.PI/180),T.scale(f,y),T.drawImage.apply(T,[w].concat(ne)),T.restore(),_.drew&&_.drew.call(this,T,R),!this.aborted)){var Jd=i(function(vw){n.aborted||n.done({naturalWidth:a,naturalHeight:o,result:vw})},"done");R.toBlob?R.toBlob(Jd,_.mimeType,_.quality):Jd(int(R.toDataURL(_.mimeType,_.quality)))}},"draw")},{key:"done",value:i(function(r){var n=r.naturalWidth,a=r.naturalHeight,o=r.result,u=this.file,s=this.image,c=this.options;if(zu&&!c.checkOrientation&&zu.revokeObjectURL(s.src),o)if(c.strict&&o.size>u.size&&c.mimeType===u.type&&!(c.width>n||c.height>a||c.minWidth>n||c.minHeight>a||c.maxWidth<n||c.maxHeight<a))o=u;else{var f=new Date;o.lastModified=f.getTime(),o.lastModifiedDate=f,o.name=u.name,o.name&&o.type!==u.type&&(o.name=o.name.replace(gnt,cnt(o.type)))}else o=u;this.result=o,c.success&&c.success.call(this,o)},"done")},{key:"fail",value:i(function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r},"fail")},{key:"abort",value:i(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:i(function(){return window.Compressor=bnt,t},"noConflict")},{key:"setDefaults",value:i(function(r){ow(dQ,r)},"setDefaults")}]),t}();gQ.exports=wnt});SF();EF();TF();R0();GF();var toe=D(),roe=Oe(),noe=ve(),Th=le(),ioe=Ae(),ooe=Pe(),aoe=rr(),uoe=je(),soe=We().f,loe=Zl(),Pi=noe.Symbol,Ea=Pi&&Pi.prototype;roe&&ooe(Pi)&&(!("description"in Ea)||Pi().description!==void 0)&&(T0={},uc=i(function(){var e=arguments.length<1||arguments[0]===void 0?void 0:uoe(arguments[0]),r=aoe(Ea,this)?new Pi(e):e===void 0?Pi():Pi(e);return e===""&&(T0[r]=!0),r},"_Symbol"),loe(uc,Pi),uc.prototype=Ea,Ea.constructor=uc,HF=String(Pi("test"))=="Symbol(test)",VF=Th(Ea.toString),WF=Th(Ea.valueOf),KF=/^Symbol\((.*)\)[^)]+$/,YF=Th("".replace),XF=Th("".slice),soe(Ea,"description",{configurable:!0,get:i(function(){var e=WF(this),r=VF(e);if(ioe(T0,e))return"";var n=HF?XF(r,7,-1):YF(r,KF,"$1");return n===""?void 0:n},"description")}),toe({global:!0,constructor:!0,forced:!0},{Symbol:uc}));var T0,uc,HF,VF,WF,KF,YF,XF;var coe=st();coe("asyncIterator");var foe=st();foe("hasInstance");var poe=st();poe("isConcatSpreadable");var doe=st();doe("iterator");var hoe=st();hoe("match");var voe=st();voe("matchAll");var yoe=st();yoe("replace");var moe=st();moe("search");var goe=st();goe("species");var boe=st();boe("split");var woe=st(),Ooe=s0();woe("toPrimitive");Ooe();var Soe=me(),_oe=st(),Poe=gr();_oe("toStringTag");Poe(Soe("Symbol"),"Symbol");var Eoe=st();Eoe("unscopables");var vL=D(),Qoe=ve(),Gn=wr(),yL=C0(),F0="WebAssembly",hL=Qoe[F0],Ih=Error("e",{cause:7}).cause!==7,Ta=i(function(e,r){var n={};n[e]=yL(e,r,Ih),vL({global:!0,constructor:!0,arity:1,forced:Ih},n)},"exportGlobalErrorCauseWrapper"),L0=i(function(e,r){if(hL&&hL[e]){var n={};n[e]=yL(F0+"."+e,r,Ih),vL({target:F0,stat:!0,constructor:!0,arity:1,forced:Ih},n)}},"exportWebAssemblyErrorCauseWrapper");Ta("Error",function(t){return i(function(r){return Gn(t,this,arguments)},"Error")});Ta("EvalError",function(t){return i(function(r){return Gn(t,this,arguments)},"EvalError")});Ta("RangeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RangeError")});Ta("ReferenceError",function(t){return i(function(r){return Gn(t,this,arguments)},"ReferenceError")});Ta("SyntaxError",function(t){return i(function(r){return Gn(t,this,arguments)},"SyntaxError")});Ta("TypeError",function(t){return i(function(r){return Gn(t,this,arguments)},"TypeError")});Ta("URIError",function(t){return i(function(r){return Gn(t,this,arguments)},"URIError")});L0("CompileError",function(t){return i(function(r){return Gn(t,this,arguments)},"CompileError")});L0("LinkError",function(t){return i(function(r){return Gn(t,this,arguments)},"LinkError")});L0("RuntimeError",function(t){return i(function(r){return Gn(t,this,arguments)},"RuntimeError")});xL();var zae=D(),Gae=me(),Hae=wr(),CL=se(),Vae=C0(),M0="AggregateError",FL=Gae(M0),LL=!CL(function(){return FL([1]).errors[0]!==1})&&CL(function(){return FL([1],M0,{cause:7}).cause!==7});zae({global:!0,constructor:!0,arity:2,forced:LL},{AggregateError:Vae(M0,function(t){return i(function(r,n){return Hae(t,this,arguments)},"AggregateError")},LL,!0)});var Xae=D(),Jae=xe(),Qae=Le(),Zae=ut(),eue=it();Xae({target:"Array",proto:!0},{at:i(function(e){var r=Jae(this),n=Qae(r),a=Zae(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:r[o]},"at")});eue("at");var uue=D(),sue=se(),lue=Sa(),cue=Re(),fue=xe(),pue=Le(),UL=Ia(),ML=$n(),due=_a(),hue=as(),vue=be(),yue=go(),BL=vue("isConcatSpreadable"),mue=yue>=51||!sue(function(){var t=[];return t[BL]=!1,t.concat()[0]!==t}),gue=hue("concat"),bue=i(function(e){if(!cue(e))return!1;var r=e[BL];return r!==void 0?!!r:lue(e)},"isConcatSpreadable"),wue=!mue||!gue;uue({target:"Array",proto:!0,arity:1,forced:wue},{concat:i(function(e){var r=fue(this),n=due(r,0),a=0,o,u,s,c,f;for(o=-1,s=arguments.length;o<s;o++)if(f=o===-1?r:arguments[o],bue(f))for(c=pue(f),UL(a+c),u=0;u<c;u++,a++)u in f&&ML(n,a,f[u]);else UL(a+1),ML(n,a++,f);return n.length=a,n},"concat")});var Rue=D(),Tue=G0(),Aue=it();Rue({target:"Array",proto:!0},{copyWithin:Tue});Aue("copyWithin");var que=D(),xue=Nh(),Cue=it();que({target:"Array",proto:!0},{fill:xue});Cue("fill");var Fue=D(),Lue=Ot().filter,jue=as(),Nue=jue("filter");Fue({target:"Array",proto:!0,forced:!Nue},{filter:i(function(e){return Lue(this,e,arguments.length>1?arguments[1]:void 0)},"filter")});var Due=D(),Uue=Ot().find,Mue=it(),H0="find",WL=!0;H0 in[]&&Array(1)[H0](function(){WL=!1});Due({target:"Array",proto:!0,forced:WL},{find:i(function(e){return Uue(this,e,arguments.length>1?arguments[1]:void 0)},"find")});Mue(H0);var Bue=D(),$ue=Ot().findIndex,zue=it(),V0="findIndex",KL=!0;V0 in[]&&Array(1)[V0](function(){KL=!1});Bue({target:"Array",proto:!0,forced:KL},{findIndex:i(function(e){return $ue(this,e,arguments.length>1?arguments[1]:void 0)},"findIndex")});zue(V0);var Kue=D(),Yue=cc().findLast,Xue=it();Kue({target:"Array",proto:!0},{findLast:i(function(e){return Yue(this,e,arguments.length>1?arguments[1]:void 0)},"findLast")});Xue("findLast");var Jue=D(),Que=cc().findLastIndex,Zue=it();Jue({target:"Array",proto:!0},{findLastIndex:i(function(e){return Que(this,e,arguments.length>1?arguments[1]:void 0)},"findLastIndex")});Zue("findLastIndex");var ose=D(),ase=W0(),use=xe(),sse=Le(),lse=ut(),cse=_a();ose({target:"Array",proto:!0},{flat:i(function(){var e=arguments.length?arguments[0]:void 0,r=use(this),n=sse(r),a=cse(r,0);return a.length=ase(a,r,r,n,0,e===void 0?1:lse(e)),a},"flat")});var fse=D(),pse=W0(),dse=he(),hse=xe(),vse=Le(),yse=_a();fse({target:"Array",proto:!0},{flatMap:i(function(e){var r=hse(this),n=vse(r),a;return dse(e),a=yse(r,0),a.length=pse(a,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),a},"flatMap")});var Ise=D(),kse=K0(),qse=fc(),xse=!qse(function(t){Array.from(t)});Ise({target:"Array",stat:!0,forced:xse},{from:kse});var Cse=D(),Fse=Jl().includes,Lse=se(),jse=it(),Nse=Lse(function(){return!Array(1).includes()});Cse({target:"Array",proto:!0,forced:Nse},{includes:i(function(e){return Fse(this,e,arguments.length>1?arguments[1]:void 0)},"includes")});jse("includes");var cPt=Te(hc(),1);var hle=D(),vle=le(),yle=wi(),mle=bt(),gle=ka(),ble=vle([].join),wle=yle!=Object,Ole=gle("join",",");hle({target:"Array",proto:!0,forced:wle||!Ole},{join:i(function(e){return ble(mle(this),e===void 0?",":e)},"join")});var Sle=D(),_le=Ot().map,Ple=as(),Ele=Ple("map");Sle({target:"Array",proto:!0,forced:!Ele},{map:i(function(e){return _le(this,e,arguments.length>1?arguments[1]:void 0)},"map")});var Rle=D(),Tle=se(),Ale=_n(),Ile=$n(),Rj=Array,kle=Tle(function(){function t(){}return i(t,"F"),!(Rj.of.call(t)instanceof t)});Rle({target:"Array",stat:!0,forced:kle},{of:i(function(){for(var e=0,r=arguments.length,n=new(Ale(this)?this:Rj)(r);r>e;)Ile(n,e,arguments[e++]);return n.length=r,n},"of")});var qle=D(),xle=xe(),Cle=Le(),Fle=Ia(),Lle=se(),jle=Lle(function(){return[].push.call({length:4294967296},1)!==4294967297}),Nle=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();qle({target:"Array",proto:!0,arity:1,forced:jle||Nle},{push:i(function(e){var r=xle(this),n=Cle(r),a=arguments.length;Fle(n+a);for(var o=0;o<a;o++)r[n]=arguments[o],n++;return r.length=n,n},"push")});var Dle=D(),Tj=Sa(),Ule=_n(),Mle=Re(),Aj=On(),Ble=Le(),$le=bt(),zle=$n(),Gle=be(),Hle=as(),Vle=Eo(),Wle=Hle("slice"),Kle=Gle("species"),tO=Array,Yle=Math.max;Dle({target:"Array",proto:!0,forced:!Wle},{slice:i(function(e,r){var n=$le(this),a=Ble(n),o=Aj(e,a),u=Aj(r===void 0?a:r,a),s,c,f;if(Tj(n)&&(s=n.constructor,Ule(s)&&(s===tO||Tj(s.prototype))?s=void 0:Mle(s)&&(s=s[Kle],s===null&&(s=void 0)),s===tO||s===void 0))return Vle(n,o,u);for(c=new(s===void 0?tO:s)(Yle(u-o,0)),f=0;o<u;o++,f++)o in n&&zle(c,f,n[o]);return c.length=f,c},"slice")});var nce=D(),Bj=le(),ice=he(),oce=xe(),ace=Le(),uce=jh(),jj=je(),iO=se(),sce=$h(),lce=ka(),Nj=rO(),cce=nO(),Dj=go(),Uj=zh(),Ao=[],Mj=Bj(Ao.sort),fce=Bj(Ao.push),pce=iO(function(){Ao.sort(void 0)}),dce=iO(function(){Ao.sort(null)}),hce=lce("sort"),$j=!iO(function(){if(Dj)return Dj<70;if(!(Nj&&Nj>3)){if(cce)return!0;if(Uj)return Uj<603;var t="",e,r,n,a;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)Ao.push({k:r+a,v:n})}for(Ao.sort(function(o,u){return u.v-o.v}),a=0;a<Ao.length;a++)r=Ao[a].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),vce=pce||!dce||!hce||!$j,yce=i(function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:jj(r)>jj(n)?1:-1}},"getSortCompare");nce({target:"Array",proto:!0,forced:vce},{sort:i(function(e){e!==void 0&&ice(e);var r=oce(this);if($j)return e===void 0?Mj(r):Mj(r,e);var n=[],a=ace(r),o,u;for(u=0;u<a;u++)u in r&&fce(n,r[u]);for(sce(n,yce(e)),o=n.length,u=0;u<o;)r[u]=n[u++];for(;u<a;)uce(r,u++);return r},"sort")});var Oce=Io();Oce("Array");var Sce=D(),_ce=xe(),Pce=On(),Ece=ut(),Rce=Le(),Tce=Ia(),Ace=_a(),Ice=$n(),oO=jh(),kce=as(),qce=kce("splice"),xce=Math.max,Cce=Math.min;Sce({target:"Array",proto:!0,forced:!qce},{splice:i(function(e,r){var n=_ce(this),a=Rce(n),o=Pce(e,a),u=arguments.length,s,c,f,d,y,m;for(u===0?s=c=0:u===1?(s=0,c=a-o):(s=u-2,c=Cce(xce(Ece(r),0),a-o)),Tce(a+s-c),f=Ace(n,c),d=0;d<c;d++)y=o+d,y in n&&Ice(f,d,n[y]);if(f.length=c,s<c){for(d=o;d<a-c;d++)y=d+c,m=d+s,y in n?n[m]=n[y]:oO(n,m);for(d=a;d>a-c+s;d--)oO(n,d-1)}else if(s>c)for(d=a-c;d>o;d--)y=d+c-1,m=d+s-1,y in n?n[m]=n[y]:oO(n,m);for(d=0;d<s;d++)n[d+o]=arguments[d+2];return n.length=a-c+s,f},"splice")});var Fce=it();Fce("flat");var Lce=it();Lce("flatMap");var cfe=D(),ffe=ve(),pfe=vO(),dfe=Io(),yO="ArrayBuffer",yN=pfe[yO],hfe=ffe[yO];cfe({global:!0,constructor:!0,forced:hfe!==yN},{ArrayBuffer:yN});dfe(yO);var gfe=Ae(),bfe=nt(),wfe=gN(),Ofe=be(),bN=Ofe("toPrimitive"),wN=Date.prototype;gfe(wN,bN)||bfe(wN,bN,wfe);var Sfe=Pe(),ON=Re(),_fe=We(),Pfe=Bt(),Efe=be(),Rfe=fh(),mO=Efe("hasInstance"),SN=Function.prototype;mO in SN||_fe.f(SN,mO,{value:Rfe(function(t){if(!Sfe(this)||!ON(t))return!1;var e=this.prototype;if(!ON(e))return t instanceof this;for(;t=Pfe(t);)if(e===t)return!0;return!1},mO)});var Tfe=Oe(),Afe=ba().EXISTS,_N=le(),Ife=We().f,PN=Function.prototype,kfe=_N(PN.toString),EN=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,qfe=_N(EN.exec),xfe="name";Tfe&&!Afe&&Ife(PN,xfe,{configurable:!0,get:i(function(){try{return qfe(EN,kfe(this))[1]}catch(e){return""}},"get")});var Cfe=D(),Ffe=ve();Cfe({global:!0},{globalThis:Ffe});var RPt=Te(R0(),1);var Lfe=ve(),jfe=gr();jfe(Lfe.JSON,"JSON",!0);var APt=Te(Zh(),1);var Ppe=D(),Epe=RO(),TO=Math.acosh,Rpe=Math.log,$N=Math.sqrt,Tpe=Math.LN2,Ape=!TO||Math.floor(TO(Number.MAX_VALUE))!=710||TO(1/0)!=1/0;Ppe({target:"Math",stat:!0,forced:Ape},{acosh:i(function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?Rpe(r)+Tpe:Epe(r-1+$N(r-1)*$N(r+1))},"acosh")});var Ipe=D(),zN=Math.asinh,kpe=Math.log,qpe=Math.sqrt;function GN(t){var e=+t;return!isFinite(e)||e==0?e:e<0?-GN(-e):kpe(e+qpe(e*e+1))}i(GN,"asinh");Ipe({target:"Math",stat:!0,forced:!(zN&&1/zN(0)>0)},{asinh:GN});var xpe=D(),HN=Math.atanh,Cpe=Math.log;xpe({target:"Math",stat:!0,forced:!(HN&&1/HN(-0)<0)},{atanh:i(function(e){var r=+e;return r==0?r:Cpe((1+r)/(1-r))/2},"atanh")});var Fpe=D(),Lpe=ev(),jpe=Math.abs,Npe=Math.pow;Fpe({target:"Math",stat:!0},{cbrt:i(function(e){var r=+e;return Lpe(r)*Npe(jpe(r),1/3)},"cbrt")});var Dpe=D(),Upe=Math.floor,Mpe=Math.log,Bpe=Math.LOG2E;Dpe({target:"Math",stat:!0},{clz32:i(function(e){var r=e>>>0;return r?31-Upe(Mpe(r+.5)*Bpe):32},"clz32")});var zpe=D(),Gpe=wc(),KN=Math.cosh,Hpe=Math.abs,AO=Math.E;zpe({target:"Math",stat:!0,forced:!KN||KN(710)===1/0},{cosh:i(function(e){var r=Gpe(Hpe(e)-1)+1;return(r+1/(r*AO*AO))*(AO/2)},"cosh")});var Vpe=D(),YN=wc();Vpe({target:"Math",stat:!0,forced:YN!=Math.expm1},{expm1:YN});var Jpe=D(),Qpe=qO();Jpe({target:"Math",stat:!0},{fround:Qpe});var Zpe=D(),JN=Math.hypot,ede=Math.abs,tde=Math.sqrt,rde=!!JN&&JN(1/0,NaN)!==1/0;Zpe({target:"Math",stat:!0,arity:2,forced:rde},{hypot:i(function(e,r){for(var n=0,a=0,o=arguments.length,u=0,s,c;a<o;)s=ede(arguments[a++]),u<s?(c=u/s,n=n*c*c+1,u=s):s>0?(c=s/u,n+=c*c):n+=s;return u===1/0?1/0:u*tde(n)},"hypot")});var nde=D(),ide=se(),QN=Math.imul,ode=ide(function(){return QN(4294967295,5)!=-5||QN.length!=2});nde({target:"Math",stat:!0,forced:ode},{imul:i(function(e,r){var n=65535,a=+e,o=+r,u=n&a,s=n&o;return 0|u*s+((n&a>>>16)*s+u*(n&o>>>16)<<16>>>0)},"imul")});var sde=D(),lde=xO();sde({target:"Math",stat:!0},{log10:lde});var cde=D(),fde=RO();cde({target:"Math",stat:!0},{log1p:fde});var pde=D(),dde=Math.log,hde=Math.LN2;pde({target:"Math",stat:!0},{log2:i(function(e){return dde(e)/hde},"log2")});var vde=D(),yde=ev();vde({target:"Math",stat:!0},{sign:yde});var mde=D(),gde=se(),eD=wc(),bde=Math.abs,tD=Math.exp,wde=Math.E,Ode=gde(function(){return Math.sinh(-2e-17)!=-2e-17});mde({target:"Math",stat:!0,forced:Ode},{sinh:i(function(e){var r=+e;return bde(r)<1?(eD(r)-eD(-r))/2:(tD(r-1)-tD(-r-1))*(wde/2)},"sinh")});var Sde=D(),rD=wc(),nD=Math.exp;Sde({target:"Math",stat:!0},{tanh:i(function(e){var r=+e,n=rD(r),a=rD(-r);return n==1/0?1:a==1/0?-1:(n-a)/(nD(r)+nD(-r))},"tanh")});var _de=gr();_de(Math,"Math",!0);var Pde=D(),Ede=Qw();Pde({target:"Math",stat:!0},{trunc:Ede});var Cde=Oe(),NO=ve(),lD=le(),Fde=es(),Lde=nt(),sD=Ae(),jde=Ra(),Nde=rr(),Dde=bo(),cD=oh(),Ude=se(),Mde=Si().f,Bde=Mt().f,$de=We().f,zde=nv(),Gde=xa().trim,jO="Number",Co=NO[jO],FO=Co.prototype,Hde=NO.TypeError,Vde=lD("".slice),ov=lD("".charCodeAt),Wde=i(function(e){var r=cD(e,"number");return typeof r=="bigint"?r:Kde(r)},"toNumeric"),Kde=i(function(e){var r=cD(e,"number"),n,a,o,u,s,c,f,d;if(Dde(r))throw Hde("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=Gde(r),n=ov(r,0),n===43||n===45){if(a=ov(r,2),a===88||a===120)return NaN}else if(n===48){switch(ov(r,1)){case 66:case 98:o=2,u=49;break;case 79:case 111:o=8,u=55;break;default:return+r}for(s=Vde(r,2),c=s.length,f=0;f<c;f++)if(d=ov(s,f),d<48||d>u)return NaN;return parseInt(s,o)}}return+r},"toNumber");if(Fde(jO,!Co(" 0o1")||!Co("0b1")||Co("+0x1"))){for(Ca=i(function(e){var r=arguments.length<1?0:Co(Wde(e)),n=this;return Nde(FO,n)&&Ude(function(){zde(n)})?jde(Object(r),n,Ca):r},"Number"),LO=Cde?Mde(Co):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),av=0;LO.length>av;av++)sD(Co,Sc=LO[av])&&!sD(Ca,Sc)&&$de(Ca,Sc,Bde(Co,Sc));Ca.prototype=FO,FO.constructor=Ca,Lde(NO,jO,Ca,{constructor:!0})}var Ca,LO,av,Sc;var Yde=D();Yde({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var Qde=D(),Zde=DO();Qde({target:"Number",stat:!0},{isFinite:Zde});var rhe=D(),nhe=uv();rhe({target:"Number",stat:!0},{isInteger:nhe});var ihe=D();ihe({target:"Number",stat:!0},{isNaN:i(function(e){return e!=e},"isNaN")});var ohe=D(),ahe=uv(),uhe=Math.abs;ohe({target:"Number",stat:!0},{isSafeInteger:i(function(e){return ahe(e)&&uhe(e)<=9007199254740991},"isSafeInteger")});var she=D();she({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var lhe=D();lhe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var mhe=D(),gD=mD();mhe({target:"Number",stat:!0,forced:Number.parseFloat!=gD},{parseFloat:gD});var Phe=D(),ED=UO();Phe({target:"Number",stat:!0,forced:Number.parseInt!=ED},{parseInt:ED});var Ihe=D(),MO=le(),khe=ut(),qhe=nv(),xhe=Pc(),Che=xO(),lv=se(),Fhe=RangeError,TD=String,Lhe=isFinite,jhe=Math.abs,Nhe=Math.floor,AD=Math.pow,Dhe=Math.round,Kn=MO(1 .toExponential),Uhe=MO(xhe),ID=MO("".slice),kD=Kn(-69e-12,4)==="-6.9000e-11"&&Kn(1.255,2)==="1.25e+0"&&Kn(12345,3)==="1.235e+4"&&Kn(25,0)==="3e+1",Mhe=lv(function(){Kn(1,1/0)})&&lv(function(){Kn(1,-1/0)}),Bhe=!lv(function(){Kn(1/0,1/0)})&&!lv(function(){Kn(NaN,1/0)}),$he=!kD||!Mhe||!Bhe;Ihe({target:"Number",proto:!0,forced:$he},{toExponential:i(function(e){var r=qhe(this);if(e===void 0)return Kn(r);var n=khe(e);if(!Lhe(r))return String(r);if(n<0||n>20)throw Fhe("Incorrect fraction digits");if(kD)return Kn(r,n);var a="",o="",u=0,s="",c="";if(r<0&&(a="-",r=-r),r===0)u=0,o=Uhe("0",n+1);else{var f=Che(r);u=Nhe(f);var d=0,y=AD(10,u-n);d=Dhe(r/y),2*r>=(2*d+1)*y&&(d+=1),d>=AD(10,n+1)&&(d/=10,u+=1),o=TD(d)}return n!==0&&(o=ID(o,0,1)+"."+ID(o,1)),u===0?(s="+",c="0"):(s=u>0?"+":"-",c=TD(jhe(u))),o+="e"+s+c,a+o},"toExponential")});var zhe=D(),zO=le(),Ghe=ut(),Hhe=nv(),Vhe=Pc(),qD=se(),Whe=RangeError,FD=String,LD=Math.floor,$O=zO(Vhe),xD=zO("".slice),Ec=zO(1 .toFixed),cv=i(function t(e,r,n){return r===0?n:r%2===1?t(e,r-1,n*e):t(e*e,r/2,n)},"pow"),Khe=i(function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},"log"),ps=i(function(e,r,n){for(var a=-1,o=n;++a<6;)o+=r*e[a],e[a]=o%1e7,o=LD(o/1e7)},"multiply"),BO=i(function(e,r){for(var n=6,a=0;--n>=0;)a+=e[n],e[n]=LD(a/r),a=a%r*1e7},"divide"),CD=i(function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var a=FD(e[r]);n=n===""?a:n+$O("0",7-a.length)+a}return n},"dataToString"),Yhe=qD(function(){return Ec(8e-5,3)!=="0.000"||Ec(.9,0)!=="1"||Ec(1.255,2)!=="1.25"||Ec(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!qD(function(){Ec({})});zhe({target:"Number",proto:!0,forced:Yhe},{toFixed:i(function(e){var r=Hhe(this),n=Ghe(e),a=[0,0,0,0,0,0],o="",u="0",s,c,f,d;if(n<0||n>20)throw Whe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return FD(r);if(r<0&&(o="-",r=-r),r>1e-21)if(s=Khe(r*cv(2,69,1))-69,c=s<0?r*cv(2,-s,1):r/cv(2,s,1),c*=4503599627370496,s=52-s,s>0){for(ps(a,0,c),f=n;f>=7;)ps(a,1e7,0),f-=7;for(ps(a,cv(10,f,1),0),f=s-1;f>=23;)BO(a,1<<23),f-=23;BO(a,1<<f),ps(a,1,1),BO(a,2),u=CD(a)}else ps(a,0,c),ps(a,1<<-s,0),u=CD(a)+$O("0",n);return n>0?(d=u.length,u=o+(d<=n?"0."+$O("0",n-d)+u:xD(u,0,d-n)+"."+xD(u,d-n))):u=o+u,u},"toFixed")});var ive=D(),UD=HO();ive({target:"Object",stat:!0,arity:2,forced:Object.assign!==UD},{assign:UD});var sve=D(),lve=Oe(),cve=Rc(),fve=he(),pve=xe(),dve=We();lve&&sve({target:"Object",proto:!0,forced:cve},{__defineGetter__:i(function(e,r){dve.f(pve(this),e,{get:fve(r),enumerable:!0,configurable:!0})},"__defineGetter__")});var hve=D(),vve=Oe(),yve=Rc(),mve=he(),gve=xe(),bve=We();vve&&hve({target:"Object",proto:!0,forced:yve},{__defineSetter__:i(function(e,r){bve.f(gve(this),e,{set:mve(r),enumerable:!0,configurable:!0})},"__defineSetter__")});var Rve=D(),Tve=VO().entries;Rve({target:"Object",stat:!0},{entries:i(function(e){return Tve(e)},"entries")});var Ave=D(),Ive=fs(),kve=se(),qve=Re(),xve=xo().onFreeze,WO=Object.freeze,Cve=kve(function(){WO(1)});Ave({target:"Object",stat:!0,forced:Cve,sham:!Ive},{freeze:i(function(e){return WO&&qve(e)?WO(xve(e)):e},"freeze")});var Fve=D(),Lve=we(),jve=$n();Fve({target:"Object",stat:!0},{fromEntries:i(function(e){var r={};return Lve(e,function(n,a){jve(r,n,a)},{AS_ENTRIES:!0}),r},"fromEntries")});var Nve=D(),Dve=se(),Uve=bt(),HD=Mt().f,VD=Oe(),Mve=Dve(function(){HD(1)}),Bve=!VD||Mve;Nve({target:"Object",stat:!0,forced:Bve,sham:!VD},{getOwnPropertyDescriptor:i(function(e,r){return HD(Uve(e),r)},"getOwnPropertyDescriptor")});var $ve=D(),zve=Oe(),Gve=dh(),Hve=bt(),Vve=Mt(),Wve=$n();$ve({target:"Object",stat:!0,sham:!zve},{getOwnPropertyDescriptors:i(function(e){for(var r=Hve(e),n=Vve.f,a=Gve(r),o={},u=0,s,c;a.length>u;)c=n(r,s=a[u++]),c!==void 0&&Wve(o,s,c);return o},"getOwnPropertyDescriptors")});var Kve=D(),Yve=se(),Xve=wh().f,Jve=Yve(function(){return!Object.getOwnPropertyNames(1)});Kve({target:"Object",stat:!0,forced:Jve},{getOwnPropertyNames:Xve});var Qve=D(),Zve=se(),eye=xe(),WD=Bt(),tye=kh(),rye=Zve(function(){WD(1)});Qve({target:"Object",stat:!0,forced:rye,sham:!tye},{getPrototypeOf:i(function(e){return WD(eye(e))},"getPrototypeOf")});var nye=D(),iye=Ae();nye({target:"Object",stat:!0},{hasOwn:iye});var oye=D(),aye=KO();oye({target:"Object",stat:!0},{is:aye});var uye=D(),YD=yc();uye({target:"Object",stat:!0,forced:Object.isExtensible!==YD},{isExtensible:YD});var sye=D(),lye=se(),cye=Re(),fye=mr(),XD=Jh(),YO=Object.isFrozen,pye=lye(function(){YO(1)});sye({target:"Object",stat:!0,forced:pye||XD},{isFrozen:i(function(e){return!cye(e)||XD&&fye(e)=="ArrayBuffer"?!0:YO?YO(e):!1},"isFrozen")});var dye=D(),hye=se(),vye=Re(),yye=mr(),JD=Jh(),XO=Object.isSealed,mye=hye(function(){XO(1)});dye({target:"Object",stat:!0,forced:mye||JD},{isSealed:i(function(e){return!vye(e)||JD&&yye(e)=="ArrayBuffer"?!0:XO?XO(e):!1},"isSealed")});var gye=D(),bye=xe(),QD=Oa(),wye=se(),Oye=wye(function(){QD(1)});gye({target:"Object",stat:!0,forced:Oye},{keys:i(function(e){return QD(bye(e))},"keys")});var Sye=D(),_ye=Oe(),Pye=Rc(),Eye=xe(),Rye=Bn(),Tye=Bt(),Aye=Mt().f;_ye&&Sye({target:"Object",proto:!0,forced:Pye},{__lookupGetter__:i(function(e){var r=Eye(this),n=Rye(e),a;do if(a=Aye(r,n))return a.get;while(r=Tye(r))},"__lookupGetter__")});var Iye=D(),kye=Oe(),qye=Rc(),xye=xe(),Cye=Bn(),Fye=Bt(),Lye=Mt().f;kye&&Iye({target:"Object",proto:!0,forced:qye},{__lookupSetter__:i(function(e){var r=xye(this),n=Cye(e),a;do if(a=Lye(r,n))return a.set;while(r=Fye(r))},"__lookupSetter__")});var jye=D(),Nye=Re(),Dye=xo().onFreeze,Uye=fs(),Mye=se(),JO=Object.preventExtensions,Bye=Mye(function(){JO(1)});jye({target:"Object",stat:!0,forced:Bye,sham:!Uye},{preventExtensions:i(function(e){return JO&&Nye(e)?JO(Dye(e)):e},"preventExtensions")});var $ye=D(),zye=Re(),Gye=xo().onFreeze,Hye=fs(),Vye=se(),QO=Object.seal,Wye=Vye(function(){QO(1)});$ye({target:"Object",stat:!0,forced:Wye,sham:!Hye},{seal:i(function(e){return QO&&zye(e)?QO(Gye(e)):e},"seal")});var Xye=vh(),Jye=nt(),Qye=e3();Xye||Jye(Object.prototype,"toString",Qye,{unsafe:!0});var Zye=D(),eme=VO().values;Zye({target:"Object",stat:!0},{values:i(function(e){return eme(e)},"values")});oU();uU();lU();cU();fU();vU();var Wge=D(),Kge=ce(),Yge=he(),Xge=Ai(),Jge=jo(),Qge=we();Wge({target:"Promise",stat:!0},{allSettled:i(function(e){var r=this,n=Xge.f(r),a=n.resolve,o=n.reject,u=Jge(function(){var s=Yge(r.resolve),c=[],f=0,d=1;Qge(e,function(y){var m=f++,w=!1;d++,Kge(s,r,y).then(function(_){w||(w=!0,c[m]={status:"fulfilled",value:_},--d||a(c))},function(_){w||(w=!0,c[m]={status:"rejected",reason:_},--d||a(c))})}),--d||a(c)});return u.error&&o(u.value),n.promise},"allSettled")});var Zge=D(),ebe=ce(),tbe=he(),rbe=me(),nbe=Ai(),ibe=jo(),obe=we(),yU="No one promise resolved";Zge({target:"Promise",stat:!0},{any:i(function(e){var r=this,n=rbe("AggregateError"),a=nbe.f(r),o=a.resolve,u=a.reject,s=ibe(function(){var c=tbe(r.resolve),f=[],d=0,y=1,m=!1;obe(e,function(w){var _=d++,R=!1;y++,ebe(c,r,w).then(function(T){R||m||(m=!0,o(T))},function(T){R||m||(R=!0,f[_]=T,--y||u(new n(f,yU)))})}),--y||u(new n(f,yU))});return s.error&&u(s.value),a.promise},"any")});var abe=D(),ube=rt(),Sv=Na(),sbe=se(),gU=me(),bU=Pe(),lbe=nr(),mU=AS(),cbe=nt(),kS=Sv&&Sv.prototype,fbe=!!Sv&&sbe(function(){kS.finally.call({then:i(function(){},"then")},function(){})});abe({target:"Promise",proto:!0,real:!0,forced:fbe},{finally:i(function(e){var r=lbe(this,gU("Promise")),n=bU(e);return this.then(n?function(a){return mU(r,e()).then(function(){return a})}:e,n?function(a){return mU(r,e()).then(function(){throw a})}:e)},"_finally")});!ube&&bU(Sv)&&(IS=gU("Promise").prototype.finally,kS.finally!==IS&&cbe(kS,"finally",IS,{unsafe:!0}));var IS;var pbe=D(),dbe=wr(),hbe=he(),vbe=te(),ybe=se(),mbe=!ybe(function(){Reflect.apply(function(){})});pbe({target:"Reflect",stat:!0,forced:mbe},{apply:i(function(e,r,n){return dbe(hbe(e),r,vbe(n))},"apply")});var Ebe=D(),Rbe=me(),xS=wr(),Tbe=PU(),EU=hs(),Abe=te(),RU=Re(),Ibe=wt(),AU=se(),CS=Rbe("Reflect","construct"),kbe=Object.prototype,qbe=[].push,IU=AU(function(){function t(){}return i(t,"F"),!(CS(function(){},[],t)instanceof t)}),kU=!AU(function(){CS(function(){})}),TU=IU||kU;Ebe({target:"Reflect",stat:!0,forced:TU,sham:TU},{construct:i(function(e,r){EU(e),Abe(r);var n=arguments.length<3?e:EU(arguments[2]);if(kU&&!IU)return CS(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var a=[null];return xS(qbe,a,r),new(xS(Tbe,e,a))}var o=n.prototype,u=Ibe(RU(o)?o:kbe),s=xS(e,u,r);return RU(s)?s:u},"construct")});var xbe=D(),Cbe=Oe(),qU=te(),Fbe=Bn(),xU=We(),Lbe=se(),jbe=Lbe(function(){Reflect.defineProperty(xU.f({},1,{value:1}),1,{value:2})});xbe({target:"Reflect",stat:!0,forced:jbe,sham:!Cbe},{defineProperty:i(function(e,r,n){qU(e);var a=Fbe(r);qU(n);try{return xU.f(e,a,n),!0}catch(o){return!1}},"defineProperty")});var Nbe=D(),Dbe=te(),Ube=Mt().f;Nbe({target:"Reflect",stat:!0},{deleteProperty:i(function(e,r){var n=Ube(Dbe(e),r);return n&&!n.configurable?!1:delete e[r]},"deleteProperty")});var Mbe=D(),Bbe=ce(),$be=Re(),zbe=te(),Gbe=FS(),Hbe=Mt(),Vbe=Bt();function LU(t,e){var r=arguments.length<3?t:arguments[2],n,a;if(zbe(t)===r)return t[e];if(n=Hbe.f(t,e),n)return Gbe(n)?n.value:n.get===void 0?void 0:Bbe(n.get,r);if($be(a=Vbe(t)))return LU(a,e,r)}i(LU,"get");Mbe({target:"Reflect",stat:!0},{get:LU});var Wbe=D(),Kbe=Oe(),Ybe=te(),Xbe=Mt();Wbe({target:"Reflect",stat:!0,sham:!Kbe},{getOwnPropertyDescriptor:i(function(e,r){return Xbe.f(Ybe(e),r)},"getOwnPropertyDescriptor")});var Jbe=D(),Qbe=te(),Zbe=Bt(),ewe=kh();Jbe({target:"Reflect",stat:!0,sham:!ewe},{getPrototypeOf:i(function(e){return Zbe(Qbe(e))},"getPrototypeOf")});var twe=D();twe({target:"Reflect",stat:!0},{has:i(function(e,r){return r in e},"has")});var rwe=D(),nwe=te(),iwe=yc();rwe({target:"Reflect",stat:!0},{isExtensible:i(function(e){return nwe(e),iwe(e)},"isExtensible")});var owe=D(),awe=dh();owe({target:"Reflect",stat:!0},{ownKeys:awe});var uwe=D(),swe=me(),lwe=te(),cwe=fs();uwe({target:"Reflect",stat:!0,sham:!cwe},{preventExtensions:i(function(e){lwe(e);try{var r=swe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}},"preventExtensions")});var fwe=D(),pwe=ce(),dwe=te(),jU=Re(),hwe=FS(),vwe=se(),LS=We(),NU=Mt(),ywe=Bt(),DU=Cr();function UU(t,e,r){var n=arguments.length<4?t:arguments[3],a=NU.f(dwe(t),e),o,u,s;if(!a){if(jU(u=ywe(t)))return UU(u,e,r,n);a=DU(0)}if(hwe(a)){if(a.writable===!1||!jU(n))return!1;if(o=NU.f(n,e)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,LS.f(n,e,o)}else LS.f(n,e,DU(0,r))}else{if(s=a.set,s===void 0)return!1;pwe(s,n,r)}return!0}i(UU,"set");var mwe=vwe(function(){var t=i(function(){},"Constructor"),e=LS.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});fwe({target:"Reflect",stat:!0,forced:mwe},{set:UU});var gwe=D(),bwe=te(),wwe=I0(),MU=zn();MU&&gwe({target:"Reflect",stat:!0},{setPrototypeOf:i(function(e,r){bwe(e),wwe(r);try{return MU(e,r),!0}catch(n){return!1}},"setPrototypeOf")});var Owe=D(),Swe=ve(),_we=gr();Owe({global:!0},{Reflect:{}});_we(Swe.Reflect,"Reflect",!0);var $we=Oe(),zS=ve(),Cc=le(),zwe=es(),Gwe=Ra(),Hwe=kt(),Vwe=Si().f,KU=rr(),Wwe=Os(),YU=je(),Kwe=Ss(),QU=xc(),Ywe=k0(),Xwe=nt(),Jwe=se(),Qwe=Ae(),Zwe=Ye().enforce,e0e=Io(),t0e=be(),ZU=Pv(),eM=US(),r0e=t0e("match"),Uo=zS.RegExp,_s=Uo.prototype,n0e=zS.SyntaxError,i0e=Cc(_s.exec),Ev=Cc("".charAt),XU=Cc("".replace),JU=Cc("".indexOf),o0e=Cc("".slice),a0e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ua=/a/g,MS=/a/g,u0e=new Uo(Ua)!==Ua,tM=QU.MISSED_STICKY,s0e=QU.UNSUPPORTED_Y,l0e=$we&&(!u0e||tM||ZU||eM||Jwe(function(){return MS[r0e]=!1,Uo(Ua)!=Ua||Uo(MS)==MS||Uo(Ua,"i")!="/a/i"})),c0e=i(function(e){for(var r=e.length,n=0,a="",o=!1,u;n<=r;n++){if(u=Ev(e,n),u==="\\"){a+=u+Ev(e,++n);continue}!o&&u==="."?a+="[\\s\\S]":(u==="["?o=!0:u==="]"&&(o=!1),a+=u)}return a},"handleDotAll"),f0e=i(function(e){for(var r=e.length,n=0,a="",o=[],u={},s=!1,c=!1,f=0,d="",y;n<=r;n++){if(y=Ev(e,n),y==="\\")y=y+Ev(e,++n);else if(y==="]")s=!1;else if(!s)switch(!0){case y==="[":s=!0;break;case y==="(":i0e(a0e,o0e(e,n+1))&&(n+=2,c=!0),a+=y,f++;continue;case(y===">"&&c):if(d===""||Qwe(u,d))throw new n0e("Invalid capture group name");u[d]=!0,o[o.length]=[d,f],c=!1,d="";continue}c?d+=y:a+=y}return[a,o]},"handleNCG");if(zwe("RegExp",l0e)){for(Do=i(function(e,r){var n=KU(_s,this),a=Wwe(e),o=r===void 0,u=[],s=e,c,f,d,y,m,w;if(!n&&a&&o&&e.constructor===Do)return e;if((a||KU(_s,e))&&(e=e.source,o&&(r=Kwe(s))),e=e===void 0?"":YU(e),r=r===void 0?"":YU(r),s=e,ZU&&"dotAll"in Ua&&(f=!!r&&JU(r,"s")>-1,f&&(r=XU(r,/s/g,""))),c=r,tM&&"sticky"in Ua&&(d=!!r&&JU(r,"y")>-1,d&&s0e&&(r=XU(r,/y/g,""))),eM&&(y=f0e(e),e=y[0],u=y[1]),m=Gwe(Uo(e,r),n?this:_s,Do),(f||d||u.length)&&(w=Zwe(m),f&&(w.dotAll=!0,w.raw=Do(c0e(e),c)),d&&(w.sticky=!0),u.length&&(w.groups=u)),e!==s)try{Hwe(m,"source",s===""?"(?:)":s)}catch(_){}return m},"RegExp"),BS=Vwe(Uo),$S=0;BS.length>$S;)Ywe(Do,Uo,BS[$S++]);_s.constructor=Do,Do.prototype=_s,Xwe(zS,"RegExp",Do,{constructor:!0})}var Do,BS,$S;e0e("RegExp");var d0e=Oe(),h0e=Pv(),v0e=mr(),y0e=Ii(),m0e=Ye().get,iM=RegExp.prototype,g0e=TypeError;d0e&&h0e&&y0e(iM,"dotAll",{configurable:!0,get:i(function(){if(this!==iM){if(v0e(this)==="RegExp")return!!m0e(this).dotAll;throw g0e("Incompatible receiver, RegExp required")}},"dotAll")});var WEt=Te(Av(),1);var C0e=ve(),F0e=Oe(),L0e=Ii(),j0e=_v(),N0e=se(),sM=C0e.RegExp,lM=sM.prototype,D0e=F0e&&N0e(function(){var t=!0;try{sM(".","d")}catch(c){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",a=i(function(f,d){Object.defineProperty(e,f,{get:i(function(){return r+=d,!0},"get")})},"addGetter"),o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(o.hasIndices="d");for(var u in o)a(u,o[u]);var s=Object.getOwnPropertyDescriptor(lM,"flags").get.call(e);return s!==n||r!==n});D0e&&L0e(lM,"flags",{configurable:!0,get:j0e});var U0e=Oe(),M0e=xc().MISSED_STICKY,B0e=mr(),$0e=Ii(),z0e=Ye().get,cM=RegExp.prototype,G0e=TypeError;U0e&&M0e&&$0e(cM,"sticky",{configurable:!0,get:i(function(){if(this!==cM){if(B0e(this)==="RegExp")return!!z0e(this).sticky;throw G0e("Incompatible receiver, RegExp required")}},"sticky")});Av();var H0e=D(),V0e=ce(),W0e=le(),K0e=Pe(),Y0e=Re(),X0e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),J0e=TypeError,Q0e=W0e(/./.test);H0e({target:"RegExp",proto:!0,forced:!X0e},{test:i(function(e){var r=this.exec;if(!K0e(r))return Q0e(this,e);var n=V0e(r,this,e);if(n!==null&&!Y0e(n))throw new J0e("RegExp exec method returned something other than an Object or null");return!!n},"test")});var Z0e=ba().PROPER,eOe=nt(),tOe=te(),fM=je(),rOe=se(),nOe=Ss(),KS="toString",iOe=RegExp.prototype,pM=iOe[KS],oOe=rOe(function(){return pM.call({source:"a",flags:"b"})!="/a/b"}),aOe=Z0e&&pM.name!=KS;(oOe||aOe)&&eOe(RegExp.prototype,KS,i(function(){var e=tOe(this),r=fM(e.source),n=fM(nOe(e));return"/"+r+"/"+n},"toString"),{unsafe:!0});dM();var lOe=D(),cOe=le(),fOe=gt(),pOe=ut(),dOe=je(),hOe=se(),vOe=cOe("".charAt),yOe=hOe(function(){return"\uD842\uDFB7".at(-2)!=="\uD842"});lOe({target:"String",proto:!0,forced:yOe},{at:i(function(e){var r=dOe(fOe(this)),n=r.length,a=pOe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:vOe(r,o)},"at")});var SOe=D(),_Oe=Ma().codeAt;SOe({target:"String",proto:!0},{codePointAt:i(function(e){return _Oe(this,e)},"codePointAt")});var AOe=D(),OM=le(),IOe=Mt().f,kOe=Fr(),bM=je(),qOe=Iv(),xOe=gt(),COe=kv(),FOe=rt(),wM=OM("".endsWith),LOe=OM("".slice),jOe=Math.min,SM=COe("endsWith"),NOe=!FOe&&!SM&&!!function(){var t=IOe(String.prototype,"endsWith");return t&&!t.writable}();AOe({target:"String",proto:!0,forced:!NOe&&!SM},{endsWith:i(function(e){var r=bM(xOe(this));qOe(e);var n=arguments.length>1?arguments[1]:void 0,a=r.length,o=n===void 0?a:jOe(kOe(n),a),u=bM(e);return wM?wM(r,u,o):LOe(r,o-u.length,o)===u},"endsWith")});var DOe=D(),UOe=le(),MOe=On(),BOe=RangeError,_M=String.fromCharCode,PM=String.fromCodePoint,$Oe=UOe([].join),zOe=!!PM&&PM.length!=1;DOe({target:"String",stat:!0,arity:1,forced:zOe},{fromCodePoint:i(function(e){for(var r=[],n=arguments.length,a=0,o;n>a;){if(o=+arguments[a++],MOe(o,1114111)!==o)throw BOe(o+" is not a valid code point");r[a]=o<65536?_M(o):_M(((o-=65536)>>10)+55296,o%1024+56320)}return $Oe(r,"")},"fromCodePoint")});var GOe=D(),HOe=le(),VOe=Iv(),WOe=gt(),EM=je(),KOe=kv(),YOe=HOe("".indexOf);GOe({target:"String",proto:!0,forced:!KOe("includes")},{includes:i(function(e){return!!~YOe(EM(WOe(this)),EM(VOe(e)),arguments.length>1?arguments[1]:void 0)},"includes")});var iRt=Te(XS(),1);var cSe=ce(),fSe=Lc(),pSe=te(),dSe=Fr(),QS=je(),hSe=gt(),vSe=It(),ySe=jc(),jM=Es();fSe("match",function(t,e,r){return[i(function(a){var o=hSe(this),u=a==null?void 0:vSe(a,t);return u?cSe(u,a,o):new RegExp(a)[t](QS(o))},"match"),function(n){var a=pSe(this),o=QS(n),u=r(e,a,o);if(u.done)return u.value;if(!a.global)return jM(a,o);var s=a.unicode;a.lastIndex=0;for(var c=[],f=0,d;(d=jM(a,o))!==null;){var y=QS(d[0]);c[f]=y,y===""&&(a.lastIndex=ySe(o,dSe(a.lastIndex),s)),f++}return f===0?null:c}]});var mSe=D(),NM=ce(),MM=le(),gSe=To(),DM=gt(),BM=Fr(),Nc=je(),bSe=te(),wSe=mr(),OSe=Os(),$M=Ss(),SSe=It(),_Se=nt(),PSe=se(),ESe=be(),RSe=nr(),TSe=jc(),ASe=Es(),zM=Ye(),e_=rt(),qv=ESe("matchAll"),GM="RegExp String",HM=GM+" Iterator",ISe=zM.set,kSe=zM.getterFor(HM),UM=RegExp.prototype,qSe=TypeError,t_=MM("".indexOf),xv=MM("".matchAll),ZS=!!xv&&!PSe(function(){xv("a",/./)}),xSe=gSe(i(function(e,r,n,a){ISe(this,{type:HM,regexp:e,string:r,global:n,unicode:a,done:!1})},"RegExpStringIterator"),GM,i(function(){var e=kSe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,a=ASe(r,n);return a===null?{value:void 0,done:e.done=!0}:e.global?(Nc(a[0])===""&&(r.lastIndex=TSe(n,BM(r.lastIndex),e.unicode)),{value:a,done:!1}):(e.done=!0,{value:a,done:!1})},"next")),r_=i(function(e){var r=bSe(this),n=Nc(e),a=RSe(r,RegExp),o=Nc($M(r)),u,s,c;return u=new a(a===RegExp?r.source:r,o),s=!!~t_(o,"g"),c=!!~t_(o,"u"),u.lastIndex=BM(r.lastIndex),new xSe(u,n,s,c)},"$matchAll");mSe({target:"String",proto:!0,forced:ZS},{matchAll:i(function(e){var r=DM(this),n,a,o,u;if(e!=null){if(OSe(e)&&(n=Nc(DM($M(e))),!~t_(n,"g")))throw qSe("`.matchAll` does not allow non-global regexes");if(ZS)return xv(r,e);if(o=SSe(e,qv),o===void 0&&e_&&wSe(e)=="RegExp"&&(o=r_),o)return NM(o,e,r)}else if(ZS)return xv(r,e);return a=Nc(r),u=new RegExp(e,"g"),e_?NM(r_,u,a):u[qv](a)},"matchAll")});e_||qv in UM||_Se(UM,qv,r_);var MSe=D(),BSe=n_().end,$Se=i_();MSe({target:"String",proto:!0,forced:$Se},{padEnd:i(function(e){return BSe(this,e,arguments.length>1?arguments[1]:void 0)},"padEnd")});var zSe=D(),GSe=n_().start,HSe=i_();zSe({target:"String",proto:!0,forced:HSe},{padStart:i(function(e){return GSe(this,e,arguments.length>1?arguments[1]:void 0)},"padStart")});var VSe=D(),ZM=le(),WSe=bt(),KSe=xe(),JM=je(),YSe=Le(),QM=ZM([].push),XSe=ZM([].join);VSe({target:"String",stat:!0},{raw:i(function(e){for(var r=WSe(KSe(e).raw),n=YSe(r),a=arguments.length,o=[],u=0;n>u;){if(QM(o,JM(r[u++])),u===n)return XSe(o,"");u<a&&QM(o,JM(arguments[u]))}},"raw")});var JSe=D(),QSe=Pc();JSe({target:"String",proto:!0},{repeat:QSe});var i_e=wr(),t5=ce(),Cv=le(),o_e=Lc(),a_e=se(),u_e=te(),s_e=Pe(),l_e=ut(),c_e=Fr(),Rs=je(),f_e=gt(),p_e=jc(),d_e=It(),h_e=s_(),v_e=Es(),y_e=be(),c_=y_e("replace"),m_e=Math.max,g_e=Math.min,b_e=Cv([].concat),l_=Cv([].push),r5=Cv("".indexOf),n5=Cv("".slice),w_e=i(function(e){return e===void 0?e:String(e)},"maybeToString"),O_e=function(){return"a".replace(/./,"$0")==="$0"}(),i5=function(){return/./[c_]?/./[c_]("a","$0")==="":!1}(),S_e=!a_e(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});o_e("replace",function(t,e,r){var n=i5?"$":"$0";return[i(function(o,u){var s=f_e(this),c=o==null?void 0:d_e(o,c_);return c?t5(c,o,s,u):t5(e,Rs(s),o,u)},"replace"),function(a,o){var u=u_e(this),s=Rs(a);if(typeof o=="string"&&r5(o,n)===-1&&r5(o,"$<")===-1){var c=r(e,u,s,o);if(c.done)return c.value}var f=s_e(o);f||(o=Rs(o));var d=u.global;if(d){var y=u.unicode;u.lastIndex=0}for(var m=[];;){var w=v_e(u,s);if(w===null||(l_(m,w),!d))break;var _=Rs(w[0]);_===""&&(u.lastIndex=p_e(s,c_e(u.lastIndex),y))}for(var R="",T=0,E=0;E<m.length;E++){w=m[E];for(var A=Rs(w[0]),x=m_e(g_e(l_e(w.index),s.length),0),U=[],G=1;G<w.length;G++)l_(U,w_e(w[G]));var M=w.groups;if(f){var z=b_e([A],U,x,s);M!==void 0&&l_(z,M);var W=Rs(i_e(o,void 0,z))}else W=h_e(A,s,x,U,M,o);x>=T&&(R+=n5(s,T,x)+W,T=x+A.length)}return R+n5(s,T)}]},!S_e||!O_e||i5);var __e=D(),P_e=ce(),f_=le(),o5=gt(),E_e=Pe(),R_e=Os(),Ts=je(),T_e=It(),A_e=Ss(),I_e=s_(),k_e=be(),q_e=rt(),x_e=k_e("replace"),C_e=TypeError,s5=f_("".indexOf),F_e=f_("".replace),a5=f_("".slice),L_e=Math.max,u5=i(function(e,r,n){return n>e.length?-1:r===""?n:s5(e,r,n)},"stringIndexOf");__e({target:"String",proto:!0},{replaceAll:i(function(e,r){var n=o5(this),a,o,u,s,c,f,d,y,m,w=0,_=0,R="";if(e!=null){if(a=R_e(e),a&&(o=Ts(o5(A_e(e))),!~s5(o,"g")))throw C_e("`.replaceAll` does not allow non-global regexes");if(u=T_e(e,x_e),u)return P_e(u,e,n,r);if(q_e&&a)return F_e(Ts(n),e,r)}for(s=Ts(n),c=Ts(e),f=E_e(r),f||(r=Ts(r)),d=c.length,y=L_e(1,d),w=u5(s,c,0);w!==-1;)m=f?Ts(r(c,w,s)):I_e(c,s,w,[],void 0,r),R+=a5(s,_,w)+m,_=w+d,w=u5(s,c,w+y);return _<s.length&&(R+=a5(s,_)),R},"replaceAll")});var j_e=ce(),N_e=Lc(),D_e=te(),U_e=gt(),l5=KO(),c5=je(),M_e=It(),B_e=Es();N_e("search",function(t,e,r){return[i(function(a){var o=U_e(this),u=a==null?void 0:M_e(a,t);return u?j_e(u,a,o):new RegExp(a)[t](c5(o))},"search"),function(n){var a=D_e(this),o=c5(n),u=r(e,a,o);if(u.done)return u.value;var s=a.lastIndex;l5(s,0)||(a.lastIndex=0);var c=B_e(a,o);return l5(a.lastIndex,s)||(a.lastIndex=s),c===null?-1:c.index}]});var $_e=wr(),Dc=ce(),d_=le(),z_e=Lc(),G_e=Os(),H_e=te(),f5=gt(),V_e=nr(),W_e=jc(),K_e=Fr(),p_=je(),Y_e=It(),p5=ts(),d5=Es(),X_e=Fc(),J_e=xc(),Q_e=se(),As=J_e.UNSUPPORTED_Y,h5=4294967295,Z_e=Math.min,v5=[].push,e1e=d_(/./.exec),Is=d_(v5),Uc=d_("".slice),t1e=!Q_e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});z_e("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=i(function(o,u){var s=p_(f5(this)),c=u===void 0?h5:u>>>0;if(c===0)return[];if(o===void 0)return[s];if(!G_e(o))return Dc(e,s,o,c);for(var f=[],d=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),y=0,m=new RegExp(o.source,d+"g"),w,_,R;(w=Dc(X_e,m,s))&&(_=m.lastIndex,!(_>y&&(Is(f,Uc(s,y,w.index)),w.length>1&&w.index<s.length&&$_e(v5,f,p5(w,1)),R=w[0].length,y=_,f.length>=c)));)m.lastIndex===w.index&&m.lastIndex++;return y===s.length?(R||!e1e(m,""))&&Is(f,""):Is(f,Uc(s,y)),f.length>c?p5(f,0,c):f},"internalSplit"):"0".split(void 0,0).length?n=i(function(o,u){return o===void 0&&u===0?[]:Dc(e,this,o,u)},"internalSplit"):n=e,[i(function(o,u){var s=f5(this),c=o==null?void 0:Y_e(o,t);return c?Dc(c,o,s,u):Dc(n,p_(s),o,u)},"split"),function(a,o){var u=H_e(this),s=p_(a),c=r(n,u,s,o,n!==e);if(c.done)return c.value;var f=V_e(u,RegExp),d=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(As?"g":"y"),m=new f(As?"^(?:"+u.source+")":u,y),w=o===void 0?h5:o>>>0;if(w===0)return[];if(s.length===0)return d5(m,s)===null?[s]:[];for(var _=0,R=0,T=[];R<s.length;){m.lastIndex=As?0:R;var E=d5(m,As?Uc(s,R):s),A;if(E===null||(A=Z_e(K_e(m.lastIndex+(As?R:0)),s.length))===_)R=W_e(s,R,d);else{if(Is(T,Uc(s,_,R)),T.length===w)return T;for(var x=1;x<=E.length-1;x++)if(Is(T,E[x]),T.length===w)return T;R=_=A}}return Is(T,Uc(s,_)),T}]},!t1e,As);var r1e=D(),g5=le(),n1e=Mt().f,i1e=Fr(),y5=je(),o1e=Iv(),a1e=gt(),u1e=kv(),s1e=rt(),m5=g5("".startsWith),l1e=g5("".slice),c1e=Math.min,b5=u1e("startsWith"),f1e=!s1e&&!b5&&!!function(){var t=n1e(String.prototype,"startsWith");return t&&!t.writable}();r1e({target:"String",proto:!0,forced:!f1e&&!b5},{startsWith:i(function(e){var r=y5(a1e(this));o1e(e);var n=i1e(c1e(arguments.length>1?arguments[1]:void 0,r.length)),a=y5(e);return m5?m5(r,a,n):l1e(r,n,n+a.length)===a},"startsWith")});var h1e=D(),v1e=xa().trim,y1e=Fv();h1e({target:"String",proto:!0,forced:y1e("trim")},{trim:i(function(){return v1e(this)},"trim")});E5();var w1e=D(),R5=h_();w1e({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==R5},{trimEnd:R5});I5();var P1e=D(),k5=v_();P1e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==k5},{trimStart:k5});var k1e=D(),q1e=Sr(),x1e=_r();k1e({target:"String",proto:!0,forced:x1e("anchor")},{anchor:i(function(e){return q1e(this,"a","name",e)},"anchor")});var C1e=D(),F1e=Sr(),L1e=_r();C1e({target:"String",proto:!0,forced:L1e("big")},{big:i(function(){return F1e(this,"big","","")},"big")});var j1e=D(),N1e=Sr(),D1e=_r();j1e({target:"String",proto:!0,forced:D1e("blink")},{blink:i(function(){return N1e(this,"blink","","")},"blink")});var U1e=D(),M1e=Sr(),B1e=_r();U1e({target:"String",proto:!0,forced:B1e("bold")},{bold:i(function(){return M1e(this,"b","","")},"bold")});var $1e=D(),z1e=Sr(),G1e=_r();$1e({target:"String",proto:!0,forced:G1e("fixed")},{fixed:i(function(){return z1e(this,"tt","","")},"fixed")});var H1e=D(),V1e=Sr(),W1e=_r();H1e({target:"String",proto:!0,forced:W1e("fontcolor")},{fontcolor:i(function(e){return V1e(this,"font","color",e)},"fontcolor")});var K1e=D(),Y1e=Sr(),X1e=_r();K1e({target:"String",proto:!0,forced:X1e("fontsize")},{fontsize:i(function(e){return Y1e(this,"font","size",e)},"fontsize")});var J1e=D(),Q1e=Sr(),Z1e=_r();J1e({target:"String",proto:!0,forced:Z1e("italics")},{italics:i(function(){return Q1e(this,"i","","")},"italics")});var ePe=D(),tPe=Sr(),rPe=_r();ePe({target:"String",proto:!0,forced:rPe("link")},{link:i(function(e){return tPe(this,"a","href",e)},"link")});var nPe=D(),iPe=Sr(),oPe=_r();nPe({target:"String",proto:!0,forced:oPe("small")},{small:i(function(){return iPe(this,"small","","")},"small")});var aPe=D(),uPe=Sr(),sPe=_r();aPe({target:"String",proto:!0,forced:sPe("strike")},{strike:i(function(){return uPe(this,"strike","","")},"strike")});var lPe=D(),cPe=Sr(),fPe=_r();lPe({target:"String",proto:!0,forced:fPe("sub")},{sub:i(function(){return cPe(this,"sub","","")},"sub")});var pPe=D(),dPe=Sr(),hPe=_r();pPe({target:"String",proto:!0,forced:hPe("sup")},{sup:i(function(){return dPe(this,"sup","","")},"sup")});var pEe=Xn();pEe("Float32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Float32Array")});var dEe=Xn();dEe("Float64",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Float64Array")});var hEe=Xn();hEe("Int8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int8Array")});var vEe=Xn();vEe("Int16",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int16Array")});var yEe=Xn();yEe("Int32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Int32Array")});var mEe=Xn();mEe("Uint8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint8Array")});var gEe=Xn();gEe("Uint8",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint8ClampedArray")},!0);var bEe=Xn();bEe("Uint16",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint16Array")});var wEe=Xn();wEe("Uint32",function(t){return i(function(r,n,a){return t(this,r,n,a)},"Uint32Array")});var pB=_e(),OEe=Le(),SEe=ut(),_Ee=pB.aTypedArray,PEe=pB.exportTypedArrayMethod;PEe("at",i(function(e){var r=_Ee(this),n=OEe(r),a=SEe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:r[o]},"at"));var EEe=le(),dB=_e(),REe=G0(),TEe=EEe(REe),AEe=dB.aTypedArray,IEe=dB.exportTypedArrayMethod;IEe("copyWithin",i(function(e,r){return TEe(AEe(this),e,r,arguments.length>2?arguments[2]:void 0)},"copyWithin"));var hB=_e(),kEe=Ot().every,qEe=hB.aTypedArray,xEe=hB.exportTypedArrayMethod;xEe("every",i(function(e){return kEe(qEe(this),e,arguments.length>1?arguments[1]:void 0)},"every"));var yB=_e(),LEe=Nh(),jEe=L_(),NEe=Sn(),DEe=ce(),UEe=le(),MEe=se(),BEe=yB.aTypedArray,$Ee=yB.exportTypedArrayMethod,zEe=UEe("".slice),GEe=MEe(function(){var t=0;return new Int8Array(2).fill({valueOf:i(function(){return t++},"valueOf")}),t!==1});$Ee("fill",i(function(e){var r=arguments.length;BEe(this);var n=zEe(NEe(this),0,3)==="Big"?jEe(e):+e;return DEe(LEe,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},"fill"),GEe);var OB=_e(),JEe=Ot().filter,QEe=zc(),ZEe=OB.aTypedArray,eRe=OB.exportTypedArrayMethod;eRe("filter",i(function(e){var r=JEe(ZEe(this),e,arguments.length>1?arguments[1]:void 0);return QEe(this,r)},"filter"));var SB=_e(),tRe=Ot().find,rRe=SB.aTypedArray,nRe=SB.exportTypedArrayMethod;nRe("find",i(function(e){return tRe(rRe(this),e,arguments.length>1?arguments[1]:void 0)},"find"));var _B=_e(),iRe=Ot().findIndex,oRe=_B.aTypedArray,aRe=_B.exportTypedArrayMethod;aRe("findIndex",i(function(e){return iRe(oRe(this),e,arguments.length>1?arguments[1]:void 0)},"findIndex"));var PB=_e(),uRe=cc().findLast,sRe=PB.aTypedArray,lRe=PB.exportTypedArrayMethod;lRe("findLast",i(function(e){return uRe(sRe(this),e,arguments.length>1?arguments[1]:void 0)},"findLast"));var EB=_e(),cRe=cc().findLastIndex,fRe=EB.aTypedArray,pRe=EB.exportTypedArrayMethod;pRe("findLastIndex",i(function(e){return cRe(fRe(this),e,arguments.length>1?arguments[1]:void 0)},"findLastIndex"));var RB=_e(),dRe=Ot().forEach,hRe=RB.aTypedArray,vRe=RB.exportTypedArrayMethod;vRe("forEach",i(function(e){dRe(hRe(this),e,arguments.length>1?arguments[1]:void 0)},"forEach"));var yRe=Uv(),mRe=_e().exportTypedArrayStaticMethod,gRe=E_();mRe("from",gRe,yRe);var TB=_e(),bRe=Jl().includes,wRe=TB.aTypedArray,ORe=TB.exportTypedArrayMethod;ORe("includes",i(function(e){return bRe(wRe(this),e,arguments.length>1?arguments[1]:void 0)},"includes"));var AB=_e(),SRe=Jl().indexOf,_Re=AB.aTypedArray,PRe=AB.exportTypedArrayMethod;PRe("indexOf",i(function(e){return SRe(_Re(this),e,arguments.length>1?arguments[1]:void 0)},"indexOf"));var ERe=ve(),RRe=se(),j_=le(),kB=_e(),N_=hc(),TRe=be(),D_=TRe("iterator"),IB=ERe.Uint8Array,ARe=j_(N_.values),IRe=j_(N_.keys),kRe=j_(N_.entries),U_=kB.aTypedArray,Gv=kB.exportTypedArrayMethod,js=IB&&IB.prototype,Hv=!RRe(function(){js[D_].call([1])}),qB=!!js&&js.values&&js[D_]===js.values&&js.values.name==="values",xB=i(function(){return ARe(U_(this))},"values");Gv("entries",i(function(){return kRe(U_(this))},"entries"),Hv);Gv("keys",i(function(){return IRe(U_(this))},"keys"),Hv);Gv("values",xB,Hv||!qB,{name:"values"});Gv(D_,xB,Hv||!qB,{name:"values"});var CB=_e(),qRe=le(),xRe=CB.aTypedArray,CRe=CB.exportTypedArrayMethod,FRe=qRe([].join);CRe("join",i(function(e){return FRe(xRe(this),e)},"join"));var NB=_e(),zRe=wr(),GRe=jB(),HRe=NB.aTypedArray,VRe=NB.exportTypedArrayMethod;VRe("lastIndexOf",i(function(e){var r=arguments.length;return zRe(GRe,HRe(this),r>1?[e,arguments[1]]:[e])},"lastIndexOf"));var DB=_e(),WRe=Ot().map,KRe=Ls(),YRe=DB.aTypedArray,XRe=DB.exportTypedArrayMethod;XRe("map",i(function(e){return WRe(YRe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(KRe(r))(n)})},"map"));var UB=_e(),JRe=Uv(),QRe=UB.aTypedArrayConstructor,ZRe=UB.exportTypedArrayStaticMethod;ZRe("of",i(function(){for(var e=0,r=arguments.length,n=new(QRe(this))(r);r>e;)n[e]=arguments[e++];return n},"of"),JRe);var $B=_e(),oTe=B_().left,aTe=$B.aTypedArray,uTe=$B.exportTypedArrayMethod;uTe("reduce",i(function(e){var r=arguments.length;return oTe(aTe(this),e,r,r>1?arguments[1]:void 0)},"reduce"));var zB=_e(),sTe=B_().right,lTe=zB.aTypedArray,cTe=zB.exportTypedArrayMethod;cTe("reduceRight",i(function(e){var r=arguments.length;return sTe(lTe(this),e,r,r>1?arguments[1]:void 0)},"reduceRight"));var GB=_e(),fTe=GB.aTypedArray,pTe=GB.exportTypedArrayMethod,dTe=Math.floor;pTe("reverse",i(function(){for(var e=this,r=fTe(e).length,n=dTe(r/2),a=0,o;a<n;)o=e[a],e[a++]=e[--r],e[r]=o;return e},"reverse"));var VB=ve(),WB=ce(),G_=_e(),hTe=Le(),vTe=P_(),yTe=xe(),KB=se(),mTe=VB.RangeError,$_=VB.Int8Array,HB=$_&&$_.prototype,YB=HB&&HB.set,gTe=G_.aTypedArray,bTe=G_.exportTypedArrayMethod,z_=!KB(function(){var t=new Uint8ClampedArray(2);return WB(YB,t,{length:1,0:3},1),t[1]!==3}),wTe=z_&&G_.NATIVE_ARRAY_BUFFER_VIEWS&&KB(function(){var t=new $_(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});bTe("set",i(function(e){gTe(this);var r=vTe(arguments.length>1?arguments[1]:void 0,1),n=yTe(e);if(z_)return WB(YB,this,n,r);var a=this.length,o=hTe(n),u=0;if(o+r>a)throw mTe("Wrong length");for(;u<o;)this[r+u]=n[u++]},"set"),!z_||wTe);var XB=_e(),OTe=Ls(),STe=se(),_Te=Eo(),PTe=XB.aTypedArray,ETe=XB.exportTypedArrayMethod,RTe=STe(function(){new Int8Array(1).slice()});ETe("slice",i(function(e,r){for(var n=_Te(PTe(this),e,r),a=OTe(this),o=0,u=n.length,s=new a(u);u>o;)s[o]=n[o++];return s},"slice"),RTe);var JB=_e(),TTe=Ot().some,ATe=JB.aTypedArray,ITe=JB.exportTypedArrayMethod;ITe("some",i(function(e){return TTe(ATe(this),e,arguments.length>1?arguments[1]:void 0)},"some"));var kTe=ve(),qTe=le(),H_=se(),xTe=he(),CTe=$h(),r8=_e(),QB=rO(),FTe=nO(),ZB=go(),e8=zh(),LTe=r8.aTypedArray,jTe=r8.exportTypedArrayMethod,Gc=kTe.Uint16Array,Ns=Gc&&qTe(Gc.prototype.sort),NTe=!!Ns&&!(H_(function(){Ns(new Gc(2),null)})&&H_(function(){Ns(new Gc(2),{})})),t8=!!Ns&&!H_(function(){if(ZB)return ZB<74;if(QB)return QB<67;if(FTe)return!0;if(e8)return e8<602;var t=new Gc(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(Ns(t,function(a,o){return(a/4|0)-(o/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),DTe=i(function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}},"getSortCompare");jTe("sort",i(function(e){return e!==void 0&&xTe(e),t8?Ns(this,e):CTe(LTe(this),DTe(e))},"sort"),!t8||NTe);var i8=_e(),UTe=Fr(),n8=On(),MTe=Ls(),BTe=i8.aTypedArray,$Te=i8.exportTypedArrayMethod;$Te("subarray",i(function(e,r){var n=BTe(this),a=n.length,o=n8(e,a),u=MTe(n);return new u(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,UTe((r===void 0?a:n8(r,a))-o))},"subarray"));var zTe=ve(),GTe=wr(),u8=_e(),V_=se(),o8=Eo(),Vv=zTe.Int8Array,a8=u8.aTypedArray,HTe=u8.exportTypedArrayMethod,s8=[].toLocaleString,VTe=!!Vv&&V_(function(){s8.call(new Vv(1))}),WTe=V_(function(){return[1,2].toLocaleString()!=new Vv([1,2]).toLocaleString()})||!V_(function(){Vv.prototype.toLocaleString.call([1,2])});HTe("toLocaleString",i(function(){return GTe(s8,VTe?o8(a8(this)):a8(this),o8(arguments))},"toLocaleString"),WTe);var KTe=_e().exportTypedArrayMethod,YTe=se(),XTe=ve(),JTe=le(),l8=XTe.Uint8Array,QTe=l8&&l8.prototype||{},Wv=[].toString,ZTe=JTe([].join);YTe(function(){Wv.call({})})&&(Wv=i(function(){return ZTe(this)},"toString"));var eAe=QTe.toString!=Wv;KTe("toString",Wv,eAe);var vTt=Te(ey(),1);w8();var uIe=D(),sIe=i1();uIe({target:"Array",stat:!0,forced:!0},{fromAsync:sIe});var lIe=D(),cIe=Ot().filterReject,fIe=it();lIe({target:"Array",proto:!0,forced:!0},{filterOut:i(function(e){return cIe(this,e,arguments.length>1?arguments[1]:void 0)},"filterOut")});fIe("filterOut");var pIe=D(),dIe=Ot().filterReject,hIe=it();pIe({target:"Array",proto:!0,forced:!0},{filterReject:i(function(e){return dIe(this,e,arguments.length>1?arguments[1]:void 0)},"filterReject")});hIe("filterReject");var EIe=D(),RIe=ny(),TIe=it();EIe({target:"Array",proto:!0},{group:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return RIe(this,e,r)},"group")});TIe("group");var AIe=D(),IIe=ny(),kIe=ka(),qIe=it();AIe({target:"Array",proto:!0,forced:!kIe("groupBy")},{groupBy:i(function(e){var r=arguments.length>1?arguments[1]:void 0;return IIe(this,e,r)},"groupBy")});qIe("groupBy");var BIe=D(),$Ie=ka(),zIe=it(),GIe=a1();BIe({target:"Array",proto:!0,name:"groupToMap",forced:!$Ie("groupByToMap")},{groupByToMap:GIe});zIe("groupByToMap");var HIe=D(),VIe=it(),WIe=a1();HIe({target:"Array",proto:!0},{groupToMap:WIe});VIe("groupToMap");var KIe=D(),YIe=Sa(),V8=Object.isFrozen,W8=i(function(e,r){if(!V8||!YIe(e)||!V8(e))return!1;for(var n=0,a=e.length,o;n<a;)if(o=e[n++],!(typeof o=="string"||r&&typeof o=="undefined"))return!1;return a!==0},"isFrozenStringArray");KIe({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:i(function(e){if(!W8(e,!0))return!1;var r=e.raw;return r.length===e.length&&W8(r,!1)},"isTemplateObject")});var XIe=Oe(),JIe=it(),QIe=xe(),ZIe=Le(),eke=Ii();XIe&&(eke(Array.prototype,"lastIndex",{configurable:!0,get:i(function(){var e=QIe(this),r=ZIe(e);return r==0?0:r-1},"lastIndex")}),JIe("lastIndex"));var tke=Oe(),rke=it(),K8=xe(),Y8=Le(),nke=Ii();tke&&(nke(Array.prototype,"lastItem",{configurable:!0,get:i(function(){var e=K8(this),r=Y8(e);return r==0?void 0:e[r-1]},"lastItem"),set:i(function(e){var r=K8(this),n=Y8(r);return r[n==0?0:n-1]=e},"lastItem")}),rke("lastItem"));var oke=D(),ake=u1(),uke=bt(),ske=it(),lke=Array;oke({target:"Array",proto:!0},{toReversed:i(function(){return ake(uke(this),lke)},"toReversed")});ske("toReversed");var cke=D(),fke=le(),pke=he(),dke=bt(),hke=Fs(),vke=r1(),yke=it(),mke=Array,gke=fke(vke("Array").sort);cke({target:"Array",proto:!0},{toSorted:i(function(e){e!==void 0&&pke(e);var r=dke(this),n=hke(mke,r);return gke(n,e)},"toSorted")});yke("toSorted");var bke=D(),wke=it(),Oke=Ia(),Ske=Le(),_ke=On(),Pke=bt(),Eke=ut(),Rke=Array,Tke=Math.max,Ake=Math.min;bke({target:"Array",proto:!0},{toSpliced:i(function(e,r){var n=Pke(this),a=Ske(n),o=_ke(e,a),u=arguments.length,s=0,c,f,d,y;for(u===0?c=f=0:u===1?(c=0,f=a-o):(c=u-2,f=Ake(Tke(Eke(r),0),a-o)),d=Oke(a+c-f),y=Rke(d);s<o;s++)y[s]=n[s];for(;s<o+c;s++)y[s]=arguments[s-o+2];for(;s<d;s++)y[s]=n[s+f-c];return y},"toSpliced")});wke("toSpliced");var Dke=D(),Uke=it(),Mke=ay();Dke({target:"Array",proto:!0,forced:!0},{uniqueBy:Mke});Uke("uniqueBy");var Gke=D(),Hke=l1(),Vke=bt(),Wke=Array;Gke({target:"Array",proto:!0},{with:i(function(e,r){return Hke(Vke(this),Wke,e,r)},"_with")});var Kke=D(),Yke=Or(),t4=kt(),r4=Ae(),Xke=be(),za=Wc(),n4=rt(),e4=Xke("toStringTag"),c1=i(function(){Yke(this,za)},"AsyncIterator");c1.prototype=za;r4(za,e4)||t4(za,e4,"AsyncIterator");(n4||!r4(za,"constructor")||za.constructor===Object)&&t4(za,"constructor",c1);Kke({global:!0,constructor:!0,forced:n4},{AsyncIterator:c1});var dqe=D(),hqe=f1();dqe({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:hqe});var yqe=D(),mqe=ce(),v4=te(),gqe=ot(),bqe=Xc(),wqe=xs(),Oqe=$o(),Sqe=Oqe(function(t){var e=this;return new t(function(r,n){var a=i(function(s){e.done=!0,n(s)},"doneAndReject"),o=i(function u(){try{t.resolve(v4(mqe(e.next,e.iterator))).then(function(s){try{v4(s).done?(e.done=!0,r({done:!0,value:void 0})):e.remaining?(e.remaining--,u()):r({done:!1,value:s.value})}catch(c){a(c)}},a)}catch(s){a(s)}},"loop");o()})});yqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new Sqe(gqe(this),{remaining:wqe(bqe(+e))})},"drop")});var _qe=D(),Pqe=$a().every;_qe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:i(function(e){return Pqe(this,e)},"every")});var Eqe=D(),Rqe=ce(),Tqe=he(),y4=te(),Aqe=ot(),Iqe=$o(),kqe=Us(),qqe=Iqe(function(t){var e=this,r=e.iterator,n=e.filterer;return new t(function(a,o){var u=i(function(d){e.done=!0,o(d)},"doneAndReject"),s=i(function(d){kqe(r,u,d,u)},"ifAbruptCloseAsyncIterator"),c=i(function f(){try{t.resolve(y4(Rqe(e.next,r))).then(function(d){try{if(y4(d).done)e.done=!0,a({done:!0,value:void 0});else{var y=d.value;try{t.resolve(n(y)).then(function(m){m?a({done:!1,value:y}):f()},s)}catch(m){s(m)}}}catch(m){u(m)}},u)}catch(d){u(d)}},"loop");c()})});Eqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new qqe(Aqe(this),{filterer:Tqe(e)})},"filter")});var xqe=D(),Cqe=$a().find;xqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:i(function(e){return Cqe(this,e)},"find")});var Fqe=D(),m4=ce(),g4=he(),uy=te(),Lqe=ot(),jqe=$o(),Nqe=ry(),Dqe=Us(),Uqe=jqe(function(t){var e=this,r=e.iterator,n=e.mapper,a;return new t(function(o,u){var s=i(function(m){e.done=!0,u(m)},"doneAndReject"),c=i(function(m){Dqe(r,s,m,s)},"ifAbruptCloseAsyncIterator"),f=i(function(){try{t.resolve(uy(m4(e.next,r))).then(function(m){try{if(uy(m).done)e.done=!0,o({done:!0,value:void 0});else{var w=m.value;try{t.resolve(n(w)).then(function(_){try{e.innerIterator=a=Nqe(_),e.innerNext=g4(a.next),d()}catch(R){c(R)}},c)}catch(_){c(_)}}}catch(_){s(_)}},s)}catch(m){s(m)}},"outerLoop"),d=i(function(){if(a=e.innerIterator)try{t.resolve(uy(m4(e.innerNext,a))).then(function(m){try{uy(m).done?(e.innerIterator=e.innerNext=null,f()):o({done:!1,value:m.value})}catch(w){c(w)}},c)}catch(m){c(m)}else f()},"innerLoop");d()})});Fqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new Uqe(Lqe(this),{mapper:g4(e),innerIterator:null,innerNext:null})},"flatMap")});var Mqe=D(),Bqe=$a().forEach;Mqe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){return Bqe(this,e)},"forEach")});var Gqe=D(),Hqe=xe(),Vqe=rr(),Wqe=Wc(),Kqe=ry(),Yqe=tn(),Xqe=ot(),Jqe=Hn(),Qqe=It(),Zqe=be(),e2e=Kc(),t2e=p1(),r2e=Zqe("asyncIterator");Gqe({target:"AsyncIterator",stat:!0,forced:!0},{from:i(function(e){var r=Hqe(e),n=Qqe(r,r2e),a;return n&&(a=Kqe(r,n),Vqe(Wqe,a))?a:(a===void 0&&(n=Jqe(r),n&&(a=new e2e(Yqe(r,n)))),new t2e(Xqe(a!==void 0?a:r)))},"from")});var n2e=D(),i2e=f1();n2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:i2e});var o2e=D(),a2e=ce(),u2e=he(),w4=te(),s2e=ot(),l2e=$o(),c2e=Us(),f2e=l2e(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(a,o){var u=i(function(f){e.done=!0,o(f)},"doneAndReject"),s=i(function(f){c2e(r,u,f,u)},"ifAbruptCloseAsyncIterator");t.resolve(w4(a2e(e.next,r))).then(function(c){try{if(w4(c).done)e.done=!0,a({done:!0,value:void 0});else{var f=c.value;try{t.resolve(n(f)).then(function(d){a({done:!1,value:d})},s)}catch(d){s(d)}}}catch(d){u(d)}},u)})});o2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new f2e(s2e(this),{mapper:u2e(e)})},"map")});var p2e=D(),d2e=ce(),h2e=he(),O4=te(),v2e=me(),y2e=ot(),m2e=Us(),d1=v2e("Promise"),g2e=TypeError;p2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=y2e(this),n=r.iterator,a=r.next,o=arguments.length<2,u=o?void 0:arguments[1];return h2e(e),new d1(function(s,c){var f=i(function(m){m2e(n,c,m,c)},"ifAbruptCloseAsyncIterator"),d=i(function y(){try{d1.resolve(O4(d2e(a,n))).then(function(m){try{if(O4(m).done)o?c(g2e("Reduce of empty iterator with no initial value")):s(u);else{var w=m.value;if(o)o=!1,u=w,y();else try{d1.resolve(e(u,w)).then(function(_){u=_,y()},f)}catch(_){f(_)}}}catch(_){c(_)}},c)}catch(m){c(m)}},"loop");d()})},"reduce")});var b2e=D(),w2e=$a().some;b2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:i(function(e){return w2e(this,e)},"some")});var O2e=D(),S4=ce(),S2e=te(),_2e=ot(),P2e=Xc(),E2e=xs(),R2e=$o(),T2e=R2e(function(t){var e=this,r=e.iterator,n;if(!e.remaining--){var a={done:!0,value:void 0};return e.done=!0,n=r.return,n!==void 0?t.resolve(S4(n,r,void 0)).then(function(){return a}):a}return t.resolve(S4(e.next,r)).then(function(o){return S2e(o).done?(e.done=!0,{done:!0,value:void 0}):{done:!1,value:o.value}}).then(null,function(o){throw e.done=!0,o})});O2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new T2e(_2e(this),{remaining:E2e(P2e(+e))})},"take")});var A2e=D(),I2e=$a().toArray;A2e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){return I2e(this,void 0,[])},"toArray")});var F2e=D(),L2e=y1();typeof BigInt=="function"&&F2e({target:"BigInt",stat:!0,forced:!0},{range:i(function(e,r,n){return new L2e(e,r,n,"bigint",BigInt(0),BigInt(1))},"range")});var B2e=D(),$2e=wr(),z2e=m1(),G2e=me(),x4=wt(),H2e=Object,V2e=i(function(){var e=G2e("Object","freeze");return e?e(x4(null)):x4(null)},"initializer");B2e({global:!0,forced:!0},{compositeKey:i(function(){return $2e(z2e,H2e,arguments).get("object",V2e)},"compositeKey")});var W2e=D(),K2e=m1(),C4=me(),Y2e=wr();W2e({global:!0,forced:!0},{compositeSymbol:i(function(){return arguments.length==1&&typeof arguments[0]=="string"?C4("Symbol").for(arguments[0]):Y2e(K2e,null,arguments).get("symbol",C4("Symbol"))},"compositeSymbol")});var X2e=D(),J2e=le(),Q2e=Pe(),Z2e=Qu(),exe=Ae(),txe=Oe(),rxe=Object.getOwnPropertyDescriptor,F4=/^\s*class\b/,nxe=J2e(F4.exec),ixe=i(function(e){try{if(!txe||!nxe(F4,Z2e(e)))return!1}catch(n){}var r=rxe(e,"prototype");return!!r&&exe(r,"writable")&&!r.writable},"isClassConstructor");X2e({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:i(function(e){return Q2e(e)&&!ixe(e)},"isCallable")});var oxe=D(),axe=_n();oxe({target:"Function",stat:!0,forced:!0},{isConstructor:axe});var uxe=D(),sxe=le(),lxe=he();uxe({target:"Function",proto:!0,forced:!0},{unThis:i(function(){return sxe(lxe(this))},"unThis")});var cxe=D(),fxe=ve(),pxe=Or(),dxe=Pe(),j4=kt(),hxe=se(),N4=Ae(),vxe=be(),zo=us().IteratorPrototype,yxe=rt(),L4=vxe("toStringTag"),g1=fxe.Iterator,D4=yxe||!dxe(g1)||g1.prototype!==zo||!hxe(function(){g1({})}),b1=i(function(){pxe(this,zo)},"Iterator");N4(zo,L4)||j4(zo,L4,"Iterator");(D4||!N4(zo,"constructor")||zo.constructor===Object)&&j4(zo,"constructor",b1);b1.prototype=zo;cxe({global:!0,constructor:!0,forced:D4},{Iterator:b1});var Fxe=D(),Lxe=w1();Fxe({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:Lxe});var jxe=D(),V4=ce(),W4=te(),Nxe=ot(),Dxe=Xc(),Uxe=xs(),Mxe=Go(),Bxe=Mxe(function(){for(var t=this.iterator,e=this.next,r,n;this.remaining;)if(this.remaining--,r=W4(V4(e,t)),n=this.done=!!r.done,n)return;if(r=W4(V4(e,t)),n=this.done=!!r.done,!n)return r.value});jxe({target:"Iterator",proto:!0,real:!0,forced:!0},{drop:i(function(e){return new Bxe(Nxe(this),{remaining:Uxe(Dxe(+e))})},"drop")});var $xe=D(),zxe=we(),Gxe=he(),Hxe=ot();$xe({target:"Iterator",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=Hxe(this);return Gxe(e),!zxe(r,function(n,a){if(!e(n))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")});var Vxe=D(),Wxe=ce(),Kxe=he(),Yxe=te(),Xxe=ot(),Jxe=Go(),Qxe=Dh(),Zxe=Jxe(function(){for(var t=this.iterator,e=this.filterer,r=this.next,n,a,o;;){if(n=Yxe(Wxe(r,t)),a=this.done=!!n.done,a)return;if(o=n.value,Qxe(t,e,o))return o}});Vxe({target:"Iterator",proto:!0,real:!0,forced:!0},{filter:i(function(e){return new Zxe(Xxe(this),{filterer:Kxe(e)})},"filter")});var eCe=D(),tCe=we(),rCe=he(),nCe=ot();eCe({target:"Iterator",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=nCe(this);return rCe(e),tCe(r,function(n,a){if(e(n))return a(n)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")});var iCe=D(),O1=ce(),Y4=he(),S1=te(),oCe=ot(),aCe=Hn(),uCe=Go(),K4=Aa(),sCe=TypeError,lCe=uCe(function(){for(var t=this.iterator,e=this.mapper,r,n,a,o;;){if(o=this.innerIterator)try{if(r=S1(O1(this.innerNext,o)),!r.done)return r.value;this.innerIterator=this.innerNext=null}catch(u){K4(t,"throw",u)}if(r=S1(O1(this.next,t)),this.done=!!r.done)return;try{if(n=e(r.value),a=aCe(n),!a)throw sCe(".flatMap callback should return an iterable object");this.innerIterator=o=S1(O1(a,n)),this.innerNext=Y4(o.next)}catch(u){K4(t,"throw",u)}}});iCe({target:"Iterator",proto:!0,real:!0,forced:!0},{flatMap:i(function(e){return new lCe(oCe(this),{mapper:Y4(e),innerIterator:null,innerNext:null})},"flatMap")});var cCe=D(),fCe=we(),pCe=ot();cCe({target:"Iterator",proto:!0,real:!0,forced:!0},{forEach:i(function(e){fCe(pCe(this),e,{IS_RECORD:!0})},"forEach")});var dCe=D(),hCe=ce(),vCe=xe(),yCe=rr(),mCe=us().IteratorPrototype,gCe=Go(),bCe=tn(),wCe=ot(),OCe=Hn(),SCe=gCe(function(){return hCe(this.next,this.iterator)},!0);dCe({target:"Iterator",stat:!0,forced:!0},{from:i(function(e){var r=vCe(e),n=OCe(r),a;if(n){if(a=bCe(r,n),yCe(mCe,a))return a}else a=r;return new SCe(wCe(a))},"from")});var _Ce=D(),PCe=w1();_Ce({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:PCe});var ECe=D(),RCe=ce(),TCe=he(),ACe=te(),ICe=ot(),kCe=Go(),qCe=Dh(),xCe=kCe(function(){var t=this.iterator,e=ACe(RCe(this.next,t)),r=this.done=!!e.done;if(!r)return qCe(t,this.mapper,e.value)});ECe({target:"Iterator",proto:!0,real:!0,forced:!0},{map:i(function(e){return new xCe(ICe(this),{mapper:TCe(e)})},"map")});var CCe=D(),FCe=we(),LCe=he(),jCe=ot(),NCe=TypeError;CCe({target:"Iterator",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=jCe(this);LCe(e);var n=arguments.length<2,a=n?void 0:arguments[1];if(FCe(r,function(o){n?(n=!1,a=o):a=e(a,o)},{IS_RECORD:!0}),n)throw NCe("Reduce of empty iterator with no initial value");return a},"reduce")});var DCe=D(),UCe=we(),MCe=he(),BCe=ot();DCe({target:"Iterator",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=BCe(this);return MCe(e),UCe(r,function(n,a){if(e(n))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")});var $Ce=D(),zCe=ce(),GCe=te(),HCe=ot(),VCe=Xc(),WCe=xs(),KCe=Go(),YCe=Aa(),XCe=KCe(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,YCe(t,"normal",void 0);var e=GCe(zCe(this.next,t)),r=this.done=!!e.done;if(!r)return e.value});$Ce({target:"Iterator",proto:!0,real:!0,forced:!0},{take:i(function(e){return new XCe(HCe(this),{remaining:WCe(VCe(+e))})},"take")});var JCe=D(),QCe=we(),ZCe=ot(),eFe=[].push;JCe({target:"Iterator",proto:!0,real:!0,forced:!0},{toArray:i(function(){var e=[];return QCe(ZCe(this),eFe,{that:e,IS_RECORD:!0}),e},"toArray")});var tFe=D(),rFe=Kc(),nFe=p1(),iFe=ot();tFe({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:i(function(){return new nFe(iFe(new rFe(this)))},"toAsync")});var sFe=D(),lFe=Zc();sFe({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:lFe});var fFe=D(),pFe=P1();fFe({target:"Map",proto:!0,real:!0,forced:!0},{emplace:pFe});var hFe=D(),vFe=te(),yFe=Xe(),mFe=Rn(),gFe=we();hFe({target:"Map",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=vFe(this),n=mFe(r),a=yFe(e,arguments.length>1?arguments[1]:void 0);return!gFe(n,function(o,u,s){if(!a(u,o,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var bFe=D(),wFe=me(),OFe=Xe(),SFe=ce(),_Fe=he(),PFe=te(),EFe=nr(),RFe=Rn(),TFe=we();bFe({target:"Map",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=PFe(this),n=RFe(r),a=OFe(e,arguments.length>1?arguments[1]:void 0),o=new(EFe(r,wFe("Map"))),u=_Fe(o.set);return TFe(n,function(s,c){a(c,s,r)&&SFe(u,o,s,c)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"filter")});var AFe=D(),IFe=te(),kFe=Xe(),qFe=Rn(),xFe=we();AFe({target:"Map",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=IFe(this),n=qFe(r),a=kFe(e,arguments.length>1?arguments[1]:void 0);return xFe(n,function(o,u,s){if(a(u,o,r))return s(u)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var CFe=D(),FFe=te(),LFe=Xe(),jFe=Rn(),NFe=we();CFe({target:"Map",proto:!0,real:!0,forced:!0},{findKey:i(function(e){var r=FFe(this),n=jFe(r),a=LFe(e,arguments.length>1?arguments[1]:void 0);return NFe(n,function(o,u,s){if(a(u,o,r))return s(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"findKey")});var $Fe=D(),zFe=ef();$Fe({target:"Map",stat:!0,forced:!0},{from:zFe});var GFe=D(),E1=ce(),HFe=le(),fy=he(),VFe=tn(),WFe=we(),KFe=HFe([].push);GFe({target:"Map",stat:!0,forced:!0},{groupBy:i(function(e,r){fy(r);var n=VFe(e),a=new this,o=fy(a.has),u=fy(a.get),s=fy(a.set);return WFe(n,function(c){var f=r(c);E1(o,a,f)?KFe(E1(u,a,f),c):E1(s,a,f,[c])},{IS_ITERATOR:!0}),a},"groupBy")});var YFe=D(),XFe=te(),JFe=Rn(),QFe=n6(),ZFe=we();YFe({target:"Map",proto:!0,real:!0,forced:!0},{includes:i(function(e){return ZFe(JFe(XFe(this)),function(r,n,a){if(QFe(n,e))return a()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"includes")});var eLe=D(),tLe=ce(),rLe=we(),i6=he();eLe({target:"Map",stat:!0,forced:!0},{keyBy:i(function(e,r){var n=new this;i6(r);var a=i6(n.set);return rLe(e,function(o){tLe(a,n,r(o),o)}),n},"keyBy")});var nLe=D(),iLe=te(),oLe=Rn(),aLe=we();nLe({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:i(function(e){return aLe(oLe(iLe(this)),function(r,n,a){if(n===e)return a(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result},"keyOf")});var uLe=D(),sLe=me(),lLe=Xe(),cLe=ce(),fLe=he(),pLe=te(),dLe=nr(),hLe=Rn(),vLe=we();uLe({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:i(function(e){var r=pLe(this),n=hLe(r),a=lLe(e,arguments.length>1?arguments[1]:void 0),o=new(dLe(r,sLe("Map"))),u=fLe(o.set);return vLe(n,function(s,c){cLe(u,o,a(c,s,r),c)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"mapKeys")});var yLe=D(),mLe=me(),gLe=Xe(),bLe=ce(),wLe=he(),OLe=te(),SLe=nr(),_Le=Rn(),PLe=we();yLe({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:i(function(e){var r=OLe(this),n=_Le(r),a=gLe(e,arguments.length>1?arguments[1]:void 0),o=new(SLe(r,mLe("Map"))),u=wLe(o.set);return PLe(n,function(s,c){bLe(u,o,s,a(c,s,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o},"mapValues")});var ELe=D(),RLe=he(),TLe=te(),ALe=we();ELe({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:i(function(e){for(var r=TLe(this),n=RLe(r.set),a=arguments.length,o=0;o<a;)ALe(arguments[o++],n,{that:r,AS_ENTRIES:!0});return r},"merge")});var kLe=D(),qLe=tf();kLe({target:"Map",stat:!0,forced:!0},{of:qLe});var xLe=D(),CLe=te(),FLe=he(),LLe=Rn(),jLe=we(),NLe=TypeError;xLe({target:"Map",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=CLe(this),n=LLe(r),a=arguments.length<2,o=a?void 0:arguments[1];if(FLe(e),jLe(n,function(u,s){a?(a=!1,o=s):o=e(o,s,u,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a)throw NLe("Reduce of empty map with no initial value");return o},"reduce")});var DLe=D(),ULe=te(),MLe=Xe(),BLe=Rn(),$Le=we();DLe({target:"Map",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=ULe(this),n=BLe(r),a=MLe(e,arguments.length>1?arguments[1]:void 0);return $Le(n,function(o,u,s){if(a(u,o,r))return s()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var zLe=D(),R1=ce(),GLe=te(),rf=he(),HLe=TypeError;zLe({target:"Map",proto:!0,real:!0,forced:!0},{update:i(function(e,r){var n=GLe(this),a=rf(n.get),o=rf(n.has),u=rf(n.set),s=arguments.length;rf(r);var c=R1(o,n,e);if(!c&&s<3)throw HLe("Updating absent value");var f=c?R1(a,n,e):rf(s>2?arguments[2]:void 0)(e,n);return R1(u,n,e,r(f,e,n)),n},"update")});var KLe=D(),YLe=hy();KLe({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:YLe});var XLe=D(),JLe=hy();XLe({target:"Map",proto:!0,real:!0,forced:!0},{upsert:JLe});var QLe=D(),ZLe=Math.min,eje=Math.max;QLe({target:"Math",stat:!0,forced:!0},{clamp:i(function(e,r,n){return ZLe(n,eje(r,e))},"clamp")});var tje=D();tje({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180});var rje=D(),nje=180/Math.PI;rje({target:"Math",stat:!0,forced:!0},{degrees:i(function(e){return e*nje},"degrees")});var ije=D(),oje=A1(),aje=qO();ije({target:"Math",stat:!0,forced:!0},{fscale:i(function(e,r,n,a,o){return aje(oje(e,r,n,a,o))},"fscale")});var uje=D();uje({target:"Math",stat:!0,forced:!0},{iaddh:i(function(e,r,n,a){var o=e>>>0,u=r>>>0,s=n>>>0;return u+(a>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0},"iaddh")});var sje=D();sje({target:"Math",stat:!0,forced:!0},{imulh:i(function(e,r){var n=65535,a=+e,o=+r,u=a&n,s=o&n,c=a>>16,f=o>>16,d=(c*s>>>0)+(u*s>>>16);return c*f+(d>>16)+((u*f>>>0)+(d&n)>>16)},"imulh")});var lje=D();lje({target:"Math",stat:!0,forced:!0},{isubh:i(function(e,r,n,a){var o=e>>>0,u=r>>>0,s=n>>>0;return u-(a>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0},"isubh")});var cje=D();cje({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI});var fje=D(),pje=Math.PI/180;fje({target:"Math",stat:!0,forced:!0},{radians:i(function(e){return e*pje},"radians")});var dje=D(),hje=A1();dje({target:"Math",stat:!0,forced:!0},{scale:hje});var vje=D(),yje=te(),mje=DO(),gje=To(),s6=Ye(),l6="Seeded Random",c6=l6+" Generator",bje='Math.seededPRNG() argument should have a "seed" field with a finite value.',wje=s6.set,Oje=s6.getterFor(c6),Sje=TypeError,_je=gje(i(function(e){wje(this,{type:c6,seed:e%2147483647})},"SeededRandomGenerator"),l6,i(function(){var e=Oje(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}},"next"));vje({target:"Math",stat:!0,forced:!0},{seededPRNG:i(function(e){var r=yje(e).seed;if(!mje(r))throw Sje(bje);return new _je(r)},"seededPRNG")});var Pje=D();Pje({target:"Math",stat:!0,forced:!0},{signbit:i(function(e){var r=+e;return r==r&&r==0?1/r==-1/0:r<0},"signbit")});var Eje=D();Eje({target:"Math",stat:!0,forced:!0},{umulh:i(function(e,r){var n=65535,a=+e,o=+r,u=a&n,s=o&n,c=a>>>16,f=o>>>16,d=(c*s>>>0)+(u*s>>>16);return c*f+(d>>>16)+((u*f>>>0)+(d&n)>>>16)},"umulh")});var Rje=D(),yy=le(),Tje=ut(),Aje=UO(),vy="Invalid number representation",Ije="Invalid radix",kje=RangeError,I1=SyntaxError,qje=TypeError,f6=/^[\da-z]+$/,xje=yy("".charAt),Cje=yy(f6.exec),Fje=yy(1 .toString),Lje=yy("".slice);Rje({target:"Number",stat:!0,forced:!0},{fromString:i(function(e,r){var n=1,a,o;if(typeof e!="string")throw qje(vy);if(!e.length||xje(e,0)=="-"&&(n=-1,e=Lje(e,1),!e.length))throw I1(vy);if(a=r===void 0?10:Tje(r),a<2||a>36)throw kje(Ije);if(!Cje(f6,e)||Fje(o=Aje(e,a),a)!==e)throw I1(vy);return n*o},"fromString")});var jje=D(),Nje=y1();jje({target:"Number",stat:!0,forced:!0},{range:i(function(e,r,n){return new Nje(e,r,n,"number",0,1)},"range")});var Gje=D(),Hje=my();Gje({target:"Object",stat:!0,forced:!0},{iterateEntries:i(function(e){return new Hje(e,"entries")},"iterateEntries")});var Vje=D(),Wje=my();Vje({target:"Object",stat:!0,forced:!0},{iterateKeys:i(function(e){return new Wje(e,"keys")},"iterateKeys")});var Kje=D(),Yje=my();Kje({target:"Object",stat:!0,forced:!0},{iterateValues:i(function(e){return new Yje(e,"values")},"iterateValues")});R6();A6();k6();var _Ne=D(),PNe=Ai(),ENe=jo();_Ne({target:"Promise",stat:!0,forced:!0},{try:i(function(e){var r=PNe.f(this),n=ENe(e);return(n.error?r.reject:r.resolve)(n.value),r.promise},"_try")});var LNe=D(),L6=Qn(),jNe=te(),NNe=L6.toKey,DNe=L6.set;LNe({target:"Reflect",stat:!0},{defineMetadata:i(function(e,r,n){var a=arguments.length<4?void 0:NNe(arguments[3]);DNe(e,r,jNe(n),a)},"defineMetadata")});var UNe=D(),U1=Qn(),MNe=te(),BNe=U1.toKey,$Ne=U1.getMap,j6=U1.store;UNe({target:"Reflect",stat:!0},{deleteMetadata:i(function(e,r){var n=arguments.length<3?void 0:BNe(arguments[2]),a=$Ne(MNe(r),n,!1);if(a===void 0||!a.delete(e))return!1;if(a.size)return!0;var o=j6.get(r);return o.delete(n),!!o.size||j6.delete(r)},"deleteMetadata")});var zNe=D(),M1=Qn(),GNe=te(),HNe=Bt(),VNe=M1.has,WNe=M1.get,KNe=M1.toKey,YNe=i(function t(e,r,n){var a=VNe(e,r,n);if(a)return WNe(e,r,n);var o=HNe(r);return o!==null?t(e,o,n):void 0},"ordinaryGetMetadata");zNe({target:"Reflect",stat:!0},{getMetadata:i(function(e,r){var n=arguments.length<3?void 0:KNe(arguments[2]);return YNe(e,GNe(r),n)},"getMetadata")});var XNe=D(),N6=le(),D6=Qn(),JNe=te(),QNe=Bt(),ZNe=ay(),eDe=N6(ZNe),tDe=N6([].concat),rDe=D6.keys,nDe=D6.toKey,iDe=i(function t(e,r){var n=rDe(e,r),a=QNe(e);if(a===null)return n;var o=t(a,r);return o.length?n.length?eDe(tDe(n,o)):o:n},"ordinaryMetadataKeys");XNe({target:"Reflect",stat:!0},{getMetadataKeys:i(function(e){var r=arguments.length<2?void 0:nDe(arguments[1]);return iDe(JNe(e),r)},"getMetadataKeys")});var oDe=D(),U6=Qn(),aDe=te(),uDe=U6.get,sDe=U6.toKey;oDe({target:"Reflect",stat:!0},{getOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:sDe(arguments[2]);return uDe(e,aDe(r),n)},"getOwnMetadata")});var lDe=D(),M6=Qn(),cDe=te(),fDe=M6.keys,pDe=M6.toKey;lDe({target:"Reflect",stat:!0},{getOwnMetadataKeys:i(function(e){var r=arguments.length<2?void 0:pDe(arguments[1]);return fDe(cDe(e),r)},"getOwnMetadataKeys")});var dDe=D(),B6=Qn(),hDe=te(),vDe=Bt(),yDe=B6.has,mDe=B6.toKey,gDe=i(function t(e,r,n){var a=yDe(e,r,n);if(a)return!0;var o=vDe(r);return o!==null?t(e,o,n):!1},"ordinaryHasMetadata");dDe({target:"Reflect",stat:!0},{hasMetadata:i(function(e,r){var n=arguments.length<3?void 0:mDe(arguments[2]);return gDe(e,hDe(r),n)},"hasMetadata")});var bDe=D(),$6=Qn(),wDe=te(),ODe=$6.has,SDe=$6.toKey;bDe({target:"Reflect",stat:!0},{hasOwnMetadata:i(function(e,r){var n=arguments.length<3?void 0:SDe(arguments[2]);return ODe(e,wDe(r),n)},"hasOwnMetadata")});var _De=D(),z6=Qn(),PDe=te(),EDe=z6.toKey,RDe=z6.set;_De({target:"Reflect",stat:!0},{metadata:i(function(e,r){return i(function(a,o){RDe(e,r,PDe(a),EDe(o))},"decorator")},"metadata")});var kDe=D(),qDe=B1();kDe({target:"Set",proto:!0,real:!0,forced:!0},{addAll:qDe});var xDe=D(),CDe=Zc();xDe({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:CDe});var FDe=D(),LDe=me(),jDe=ce(),NDe=he(),DDe=te(),UDe=nr(),MDe=we();FDe({target:"Set",proto:!0,real:!0,forced:!0},{difference:i(function(e){var r=DDe(this),n=new(UDe(r,LDe("Set")))(r),a=NDe(n.delete);return MDe(e,function(o){jDe(a,n,o)}),n},"difference")});var $De=D(),zDe=te(),GDe=Xe(),HDe=Ho(),VDe=we();$De({target:"Set",proto:!0,real:!0,forced:!0},{every:i(function(e){var r=zDe(this),n=HDe(r),a=GDe(e,arguments.length>1?arguments[1]:void 0);return!VDe(n,function(o,u){if(!a(o,o,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"every")});var WDe=D(),KDe=me(),YDe=ce(),XDe=he(),JDe=te(),QDe=Xe(),ZDe=nr(),e3e=Ho(),t3e=we();WDe({target:"Set",proto:!0,real:!0,forced:!0},{filter:i(function(e){var r=JDe(this),n=e3e(r),a=QDe(e,arguments.length>1?arguments[1]:void 0),o=new(ZDe(r,KDe("Set"))),u=XDe(o.add);return t3e(n,function(s){a(s,s,r)&&YDe(u,o,s)},{IS_ITERATOR:!0}),o},"filter")});var r3e=D(),n3e=te(),i3e=Xe(),o3e=Ho(),a3e=we();r3e({target:"Set",proto:!0,real:!0,forced:!0},{find:i(function(e){var r=n3e(this),n=o3e(r),a=i3e(e,arguments.length>1?arguments[1]:void 0);return a3e(n,function(o,u){if(a(o,o,r))return u(o)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result},"find")});var u3e=D(),s3e=ef();u3e({target:"Set",stat:!0,forced:!0},{from:s3e});var l3e=D(),c3e=me(),V6=ce(),W6=he(),f3e=te(),p3e=nr(),d3e=we();l3e({target:"Set",proto:!0,real:!0,forced:!0},{intersection:i(function(e){var r=f3e(this),n=new(p3e(r,c3e("Set"))),a=W6(r.has),o=W6(n.add);return d3e(e,function(u){V6(a,r,u)&&V6(o,n,u)}),n},"intersection")});var h3e=D(),v3e=ce(),y3e=he(),m3e=te(),g3e=we();h3e({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:i(function(e){var r=m3e(this),n=y3e(r.has);return!g3e(e,function(a,o){if(v3e(n,r,a)===!0)return o()},{INTERRUPTED:!0}).stopped},"isDisjointFrom")});var b3e=D(),w3e=me(),O3e=ce(),S3e=he(),_3e=Pe(),P3e=te(),E3e=tn(),R3e=we();b3e({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:i(function(e){var r=E3e(this),n=P3e(e),a=n.has;return _3e(a)||(n=new(w3e("Set"))(e),a=S3e(n.has)),!R3e(r,function(o,u){if(O3e(a,n,o)===!1)return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"isSubsetOf")});var T3e=D(),A3e=ce(),I3e=he(),k3e=te(),q3e=we();T3e({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:i(function(e){var r=k3e(this),n=I3e(r.has);return!q3e(e,function(a,o){if(A3e(n,r,a)===!1)return o()},{INTERRUPTED:!0}).stopped},"isSupersetOf")});var x3e=D(),C3e=le(),F3e=te(),L3e=je(),j3e=Ho(),N3e=we(),D3e=C3e([].join),U3e=[].push;x3e({target:"Set",proto:!0,real:!0,forced:!0},{join:i(function(e){var r=F3e(this),n=j3e(r),a=e===void 0?",":L3e(e),o=[];return N3e(n,U3e,{that:o,IS_ITERATOR:!0}),D3e(o,a)},"join")});var M3e=D(),B3e=me(),$3e=Xe(),z3e=ce(),G3e=he(),H3e=te(),V3e=nr(),W3e=Ho(),K3e=we();M3e({target:"Set",proto:!0,real:!0,forced:!0},{map:i(function(e){var r=H3e(this),n=W3e(r),a=$3e(e,arguments.length>1?arguments[1]:void 0),o=new(V3e(r,B3e("Set"))),u=G3e(o.add);return K3e(n,function(s){z3e(u,o,a(s,s,r))},{IS_ITERATOR:!0}),o},"map")});var Y3e=D(),X3e=tf();Y3e({target:"Set",stat:!0,forced:!0},{of:X3e});var J3e=D(),Q3e=he(),Z3e=te(),eUe=Ho(),tUe=we(),rUe=TypeError;J3e({target:"Set",proto:!0,real:!0,forced:!0},{reduce:i(function(e){var r=Z3e(this),n=eUe(r),a=arguments.length<2,o=a?void 0:arguments[1];if(Q3e(e),tUe(n,function(u){a?(a=!1,o=u):o=e(o,u,u,r)},{IS_ITERATOR:!0}),a)throw rUe("Reduce of empty set with no initial value");return o},"reduce")});var nUe=D(),iUe=te(),oUe=Xe(),aUe=Ho(),uUe=we();nUe({target:"Set",proto:!0,real:!0,forced:!0},{some:i(function(e){var r=iUe(this),n=aUe(r),a=oUe(e,arguments.length>1?arguments[1]:void 0);return uUe(n,function(o,u){if(a(o,o,r))return u()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped},"some")});var sUe=D(),lUe=me(),K6=ce(),Y6=he(),cUe=te(),fUe=nr(),pUe=we();sUe({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:i(function(e){var r=cUe(this),n=new(fUe(r,lUe("Set")))(r),a=Y6(n.delete),o=Y6(n.add);return pUe(e,function(u){K6(a,n,u)||K6(o,n,u)}),n},"symmetricDifference")});var dUe=D(),hUe=me(),vUe=he(),yUe=te(),mUe=nr(),gUe=we();dUe({target:"Set",proto:!0,real:!0,forced:!0},{union:i(function(e){var r=yUe(this),n=new(mUe(r,hUe("Set")))(r);return gUe(e,vUe(n.add),{that:n}),n},"union")});var bUe=D(),wUe=Ma().charAt,OUe=gt(),SUe=ut(),_Ue=je();bUe({target:"String",proto:!0,forced:!0},{at:i(function(e){var r=_Ue(OUe(this)),n=r.length,a=SUe(e),o=a>=0?a:n+a;return o<0||o>=n?void 0:wUe(r,o)},"at")});var PUe=D(),Q6=le(),EUe=bt(),X6=je(),RUe=Le(),TUe=TypeError,Z6=Array.prototype,J6=Q6(Z6.push),AUe=Q6(Z6.join);PUe({target:"String",stat:!0,forced:!0},{cooked:i(function(e){for(var r=EUe(e),n=RUe(r),a=arguments.length,o=[],u=0;n>u;){var s=r[u++];if(s===void 0)throw TUe("Incorrect template");if(J6(o,X6(s)),u===n)return AUe(o,"");u<a&&J6(o,X6(arguments[u]))}},"cooked")});var IUe=D(),kUe=To(),qUe=gt(),xUe=je(),e7=Ye(),t7=Ma(),CUe=t7.codeAt,FUe=t7.charAt,r7="String Iterator",LUe=e7.set,jUe=e7.getterFor(r7),NUe=kUe(i(function(e){LUe(this,{type:r7,string:e,index:0})},"StringIterator"),"String",i(function(){var e=jUe(this),r=e.string,n=e.index,a;return n>=r.length?{value:void 0,done:!0}:(a=FUe(r,n),e.index+=a.length,{value:{codePoint:CUe(a,0),position:n},done:!1})},"next"));IUe({target:"String",proto:!0,forced:!0},{codePoints:i(function(){return new NUe(xUe(qUe(this)))},"codePoints")});var DUe=st();DUe("asyncDispose");var UUe=st();UUe("dispose");var MUe=st();MUe("matcher");var BUe=st();BUe("metadata");var $Ue=st();$Ue("metadataKey");var zUe=st();zUe("observable");var GUe=st();GUe("patternMatch");var HUe=st();HUe("replaceAll");var VUe=me(),WUe=hs(),KUe=i1(),n7=_e(),YUe=Fs(),XUe=n7.aTypedArrayConstructor,JUe=n7.exportTypedArrayStaticMethod;JUe("fromAsync",i(function(e){var r=this,n=arguments.length,a=n>1?arguments[1]:void 0,o=n>2?arguments[2]:void 0;return new(VUe("Promise"))(function(u){WUe(r),u(KUe(e,a,o))}).then(function(u){return YUe(XUe(r),u)})},"fromAsync"),!0);var i7=_e(),QUe=Ot().filterReject,ZUe=zc(),eMe=i7.aTypedArray,tMe=i7.exportTypedArrayMethod;tMe("filterOut",i(function(e){var r=QUe(eMe(this),e,arguments.length>1?arguments[1]:void 0);return ZUe(this,r)},"filterOut"),!0);var o7=_e(),rMe=Ot().filterReject,nMe=zc(),iMe=o7.aTypedArray,oMe=o7.exportTypedArrayMethod;oMe("filterReject",i(function(e){var r=rMe(iMe(this),e,arguments.length>1?arguments[1]:void 0);return nMe(this,r)},"filterReject"),!0);var a7=_e(),aMe=ny(),uMe=Ls(),sMe=a7.aTypedArray,lMe=a7.exportTypedArrayMethod;lMe("groupBy",i(function(e){var r=arguments.length>1?arguments[1]:void 0;return aMe(sMe(this),e,r,uMe)},"groupBy"),!0);var cMe=u1(),$1=_e(),fMe=$1.aTypedArray,pMe=$1.exportTypedArrayMethod,dMe=$1.getTypedArrayConstructor;pMe("toReversed",i(function(){return cMe(fMe(this),dMe(this))},"toReversed"));var Sy=_e(),hMe=le(),vMe=he(),yMe=Fs(),mMe=Sy.aTypedArray,gMe=Sy.getTypedArrayConstructor,bMe=Sy.exportTypedArrayMethod,wMe=hMe(Sy.TypedArrayPrototype.sort);bMe("toSorted",i(function(e){e!==void 0&&vMe(e);var r=mMe(this),n=yMe(gMe(r),r);return wMe(n,e)},"toSorted"));var z1=_e(),OMe=Le(),SMe=On(),_Me=ut(),PMe=se(),EMe=z1.aTypedArray,RMe=z1.getTypedArrayConstructor,TMe=z1.exportTypedArrayMethod,AMe=Math.max,IMe=Math.min,kMe=!PMe(function(){var t=new Int8Array([1]),e=t.toSpliced(1,0,{valueOf:i(function(){return t[0]=2,3},"valueOf")});return e[0]!==2||e[1]!==3});TMe("toSpliced",i(function(e,r){var n=EMe(this),a=RMe(n),o=OMe(n),u=SMe(e,o),s=arguments.length,c=0,f,d,y,m,w;if(s===0)f=d=0;else if(s===1)f=0,d=o-u;else if(d=IMe(AMe(_Me(r),0),o-u),f=s-2,f){y=new a(f);for(var _=2;_<s;_++)y[_-2]=arguments[_]}for(m=o+f-d,w=new a(m);c<u;c++)w[c]=n[c];for(;c<u+f;c++)w[c]=y[c-u];for(;c<m;c++)w[c]=n[c+d-f];return w},"toSpliced"),!kMe);var qMe=le(),u7=_e(),xMe=ay(),CMe=zc(),FMe=u7.aTypedArray,LMe=u7.exportTypedArrayMethod,jMe=qMe(xMe);LMe("uniqueBy",i(function(e){return CMe(this,jMe(FMe(this),e))},"uniqueBy"),!0);var MMe=l1(),G1=_e(),BMe=l7(),$Me=ut(),zMe=L_(),GMe=G1.aTypedArray,HMe=G1.getTypedArrayConstructor,VMe=G1.exportTypedArrayMethod,WMe=!!function(){try{new Int8Array(1).with(2,{valueOf:i(function(){throw 8},"valueOf")})}catch(t){return t===8}}();VMe("with",i(function(e,r){var n=GMe(this),a=$Me(e),o=BMe(n)?zMe(r):+r;return MMe(n,HMe(n),a,o)},"_with"),!WMe);var KMe=D(),YMe=Zc();KMe({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:YMe});var XMe=D(),JMe=ef();XMe({target:"WeakMap",stat:!0,forced:!0},{from:JMe});var QMe=D(),ZMe=tf();QMe({target:"WeakMap",stat:!0,forced:!0},{of:ZMe});var e5e=D(),t5e=P1();e5e({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:t5e});var r5e=D(),n5e=hy();r5e({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:n5e});var i5e=D(),o5e=B1();i5e({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:o5e});var a5e=D(),u5e=Zc();a5e({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:u5e});var s5e=D(),l5e=ef();s5e({target:"WeakSet",stat:!0,forced:!0},{from:l5e});var c5e=D(),f5e=tf();c5e({target:"WeakSet",stat:!0,forced:!0},{of:f5e});var p5e=D(),y7=me(),W1=le(),K1=se(),d5e=je(),h5e=Ae(),v5e=Lo(),V1=H1().ctoi,m7=/[^\d+/a-z]/i,y5e=/[\t\n\f\r ]+/g,m5e=/[=]+$/,lf=y7("atob"),g5e=String.fromCharCode,b5e=W1("".charAt),d7=W1("".replace),w5e=W1(m7.exec),Y1=K1(function(){return lf(" ")!==""}),X1=!K1(function(){lf("a")}),h7=!Y1&&!X1&&!K1(function(){lf()}),v7=!Y1&&!X1&&lf.length!==1;p5e({global:!0,enumerable:!0,forced:Y1||X1||h7||v7},{atob:i(function(e){if(v5e(arguments.length,1),h7||v7)return lf(e);var r=d7(d5e(e),y5e,""),n="",a=0,o=0,u,s;if(r.length%4==0&&(r=d7(r,m5e,"")),r.length%4==1||w5e(m7,r))throw new(y7("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;u=b5e(r,a++);)h5e(V1,u)&&(s=o%4?s*64+V1[u]:V1[u],o++%4&&(n+=g5e(255&s>>(-2*o&6))));return n},"atob")});var O5e=D(),_7=me(),P7=le(),E7=se(),g7=je(),S5e=Lo(),_5e=H1().itoc,Ha=_7("btoa"),b7=P7("".charAt),P5e=P7("".charCodeAt),w7=!!Ha&&!E7(function(){Ha()}),O7=!!Ha&&E7(function(){return Ha(null)!=="bnVsbA=="}),S7=!!Ha&&Ha.length!==1;O5e({global:!0,enumerable:!0,forced:w7||O7||S7},{btoa:i(function(e){if(S5e(arguments.length,1),w7||O7||S7)return Ha(g7(e));for(var r=g7(e),n="",a=0,o=_5e,u,s;b7(r,a)||(o="=",a%1);){if(s=P5e(r,a+=3/4),s>255)throw new(_7("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");u=u<<8|s,n+=b7(o,63&u>>8-a%1*8)}return n},"btoa")});var q7=ve(),x7=J1(),I5e=Z1(),eP=k7(),k5e=kt(),C7=i(function(e){if(e&&e.forEach!==eP)try{k5e(e,"forEach",eP)}catch(r){e.forEach=eP}},"handlePrototype");for(_y in x7)x7[_y]&&C7(q7[_y]&&q7[_y].prototype);var _y;C7(I5e);var F7=ve(),j7=J1(),q5e=Z1(),cf=hc(),tP=kt(),N7=be(),rP=N7("iterator"),L7=N7("toStringTag"),nP=cf.values,D7=i(function(e,r){if(e){if(e[rP]!==nP)try{tP(e,rP,nP)}catch(a){e[rP]=nP}if(e[L7]||tP(e,L7,r),j7[r]){for(var n in cf)if(e[n]!==cf[n])try{tP(e,n,cf[n])}catch(a){e[n]=cf[n]}}}},"handlePrototype");for(Py in j7)D7(F7[Py]&&F7[Py].prototype,Py);var Py;D7(q5e,"DOMTokenList");var D5e=D(),U5e=M7(),Ay=me(),cP=se(),M5e=wt(),fP=Cr(),Iy=We().f,B5e=nt(),Ry=Ii(),Ty=Ae(),$5e=Or(),z5e=te(),W7=z7(),H7=is(),$s=iP(),G5e=sc(),K7=Ye(),pP=Oe(),Y7=rt(),zs="DOMException",lP="DATA_CLONE_ERR",qy=Ay("Error"),xi=Ay(zs)||function(){try{var t=Ay("MessageChannel")||U5e("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name==lP&&e.code==25)return e.constructor}}(),H5e=xi&&xi.prototype,X7=qy.prototype,V5e=K7.set,W5e=K7.getterFor(zs),K5e="stack"in qy(zs),J7=i(function(e){return Ty($s,e)&&$s[e].m?$s[e].c:0},"codeFor"),dP=i(function(){$5e(this,pf);var e=arguments.length,r=H7(e<1?void 0:arguments[0]),n=H7(e<2?void 0:arguments[1],"Error"),a=J7(n);if(V5e(this,{type:zs,name:n,message:r,code:a}),pP||(this.name=n,this.message=r,this.code=a),K5e){var o=qy(r);o.name=zs,Iy(this,"stack",fP(1,G5e(o.stack,1)))}},"DOMException"),pf=dP.prototype=M5e(X7),Q7=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),oP=i(function(e){return Q7(function(){return W5e(this)[e]})},"getterFor");pP&&(Ry(pf,"code",oP("code")),Ry(pf,"message",oP("message")),Ry(pf,"name",oP("name")));Iy(pf,"constructor",fP(1,dP));var xy=cP(function(){return!(new xi instanceof qy)}),Z7=xy||cP(function(){return X7.toString!==W7||String(new xi(1,2))!=="2: 1"}),e9=xy||cP(function(){return new xi(1,"DataCloneError").code!==25}),Y5e=xy||xi[lP]!==25||H5e[lP]!==25,V7=Y7?Z7||e9||Y5e:xy;D5e({global:!0,constructor:!0,forced:V7},{DOMException:V7?dP:xi});var df=Ay(zs),ky=df.prototype;Z7&&(Y7||xi===df)&&B5e(ky,"toString",W7);e9&&pP&&xi===df&&Ry(ky,"code",Q7(function(){return J7(z5e(this).name)}));for(aP in $s)Ty($s,aP)&&(uP=$s[aP],ff=uP.s,sP=fP(6,uP.c),Ty(df,ff)||Iy(df,ff,sP),Ty(ky,ff)||Iy(ky,ff,sP));var uP,ff,sP,aP;var X5e=D(),J5e=ve(),OP=me(),bP=Cr(),wP=We().f,t9=Ae(),Q5e=Or(),Z5e=Ra(),r9=is(),hP=iP(),eBe=sc(),tBe=Oe(),o9=rt(),vf="DOMException",a9=OP("Error"),yf=OP(vf),SP=i(function(){Q5e(this,rBe);var e=arguments.length,r=r9(e<1?void 0:arguments[0]),n=r9(e<2?void 0:arguments[1],"Error"),a=new yf(r,n),o=a9(r);return o.name=vf,wP(a,"stack",bP(1,eBe(o.stack,1))),Z5e(a,this,SP),a},"DOMException"),rBe=SP.prototype=yf.prototype,nBe="stack"in a9(vf),iBe="stack"in new yf(1,2),vP=yf&&tBe&&Object.getOwnPropertyDescriptor(J5e,vf),oBe=!!vP&&!(vP.writable&&vP.configurable),n9=nBe&&!oBe&&!iBe;X5e({global:!0,constructor:!0,forced:o9||n9},{DOMException:n9?SP:yf});var hf=OP(vf),i9=hf.prototype;if(i9.constructor!==hf){o9||wP(i9,"constructor",bP(1,hf));for(yP in hP)t9(hP,yP)&&(mP=hP[yP],gP=mP.s,t9(hf,gP)||wP(hf,gP,bP(6,mP.c)))}var mP,gP,yP;var aBe=me(),uBe=gr(),u9="DOMException";uBe(aBe(u9),u9);var sBe=D(),lBe=ve(),cBe=dS(),fBe=he(),pBe=Lo(),dBe=Fo(),hBe=lBe.process;sBe({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:i(function(e){pBe(arguments.length,1),fBe(e);var r=dBe&&hBe.domain;cBe(r?r.bind(e):e)},"queueMicrotask")});function TP(t){return TP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TP(t)}i(TP,"_typeof");var vBe=rt(),yBe=D(),vt=ve(),bf=me(),Ci=le(),Ly=se(),mBe=ma(),AP=Pe(),l9=_n(),IP=Re(),gBe=bo(),bBe=we(),c9=te(),f9=Sn(),wBe=Ae(),OBe=$n(),_P=kt(),kP=Le(),SBe=Lo(),_Be=Ss(),PBe=Ah(),PP=go(),EBe=vS(),RBe=hv(),TBe=Fo(),mf=vt.Object,p9=vt.Date,wf=vt.Error,ABe=vt.EvalError,IBe=vt.RangeError,kBe=vt.ReferenceError,qBe=vt.SyntaxError,d9=vt.TypeError,xBe=vt.URIError,CBe=vt.PerformanceMark,Gs=vt.WebAssembly,FBe=Gs&&Gs.CompileError||wf,LBe=Gs&&Gs.LinkError||wf,jBe=Gs&&Gs.RuntimeError||wf,Va=bf("DOMException"),h9=bf("Set"),Cy=bf("Map"),xP=Cy.prototype,v9=Ci(xP.has),NBe=Ci(xP.get),Fy=Ci(xP.set),DBe=Ci(h9.prototype.add),UBe=bf("Object","keys"),MBe=Ci([].push),BBe=Ci((!0).valueOf),$Be=Ci(1 .valueOf),zBe=Ci("".valueOf),GBe=Ci(p9.prototype.getTime),qP=mBe("structuredClone"),gf="DataCloneError",EP="Transferring",y9=i(function(e){return!Ly(function(){var r=new vt.Set([7]),n=e(r),a=e(mf(7));return n==r||!n.has(7)||TP(a)!="object"||a!=7})&&e},"checkBasicSemantic"),s9=i(function(e,r){return!Ly(function(){var n=new r,a=e({a:n,b:n});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===n.stack)})},"checkErrorsCloning"),HBe=i(function(e){return!Ly(function(){var r=e(new vt.AggregateError([1],qP,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=qP||r.cause!=3})},"checkNewErrorsCloningSemantic"),Wo=vt.structuredClone,VBe=vBe||!s9(Wo,wf)||!s9(Wo,Va)||!HBe(Wo),WBe=!Wo&&y9(function(t){return new CBe(qP,{detail:t}).detail}),Vo=y9(Wo)||WBe,RP=i(function(e){throw new Va("Uncloneable type: "+e,gf)},"throwUncloneable"),or=i(function(e,r){throw new Va((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",gf)},"throwUnpolyfillable"),KBe=i(function t(e,r){if(gBe(e)&&RP("Symbol"),!IP(e))return e;if(r){if(v9(r,e))return NBe(r,e)}else r=new Cy;var n=f9(e),a=!1,o,u,s,c,f,d,y,m,w,_;switch(n){case"Array":s=[],a=!0;break;case"Object":s={},a=!0;break;case"Map":s=new Cy,a=!0;break;case"Set":s=new h9,a=!0;break;case"RegExp":s=new RegExp(e.source,_Be(e));break;case"Error":switch(u=e.name,u){case"AggregateError":s=bf("AggregateError")([]);break;case"EvalError":s=ABe();break;case"RangeError":s=IBe();break;case"ReferenceError":s=kBe();break;case"SyntaxError":s=qBe();break;case"TypeError":s=d9();break;case"URIError":s=xBe();break;case"CompileError":s=FBe();break;case"LinkError":s=LBe();break;case"RuntimeError":s=jBe();break;default:s=wf()}a=!0;break;case"DOMException":s=new Va(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":o=vt[n],IP(o)||or(n),s=new o(t(e.buffer,r),e.byteOffset,n==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{s=new DOMQuad(t(e.p1,r),t(e.p2,r),t(e.p3,r),t(e.p4,r))}catch(R){Vo?s=Vo(e):or(n)}break;case"FileList":if(o=vt.DataTransfer,l9(o)){for(c=new o,f=0,d=kP(e);f<d;f++)c.items.add(t(e[f],r));s=c.files}else Vo?s=Vo(e):or(n);break;case"ImageData":try{s=new ImageData(t(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch(R){Vo?s=Vo(e):or(n)}break;default:if(Vo)s=Vo(e);else switch(n){case"BigInt":s=mf(e.valueOf());break;case"Boolean":s=mf(BBe(e));break;case"Number":s=mf($Be(e));break;case"String":s=mf(zBe(e));break;case"Date":s=new p9(GBe(e));break;case"ArrayBuffer":o=vt.DataView,!o&&typeof e.slice!="function"&&or(n);try{if(typeof e.slice=="function")s=e.slice(0);else for(d=e.byteLength,s=new ArrayBuffer(d),w=new o(e),_=new o(s),f=0;f<d;f++)_.setUint8(f,w.getUint8(f))}catch(R){throw new Va("ArrayBuffer is detached",gf)}break;case"SharedArrayBuffer":s=e;break;case"Blob":try{s=e.slice(0,e.size,e.type)}catch(R){or(n)}break;case"DOMPoint":case"DOMPointReadOnly":o=vt[n];try{s=o.fromPoint?o.fromPoint(e):new o(e.x,e.y,e.z,e.w)}catch(R){or(n)}break;case"DOMRect":case"DOMRectReadOnly":o=vt[n];try{s=o.fromRect?o.fromRect(e):new o(e.x,e.y,e.width,e.height)}catch(R){or(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":o=vt[n];try{s=o.fromMatrix?o.fromMatrix(e):new o(e)}catch(R){or(n)}break;case"AudioData":case"VideoFrame":AP(e.clone)||or(n);try{s=e.clone()}catch(R){RP(n)}break;case"File":try{s=new File([e],e.name,e)}catch(R){or(n)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":or(n);default:RP(n)}}if(Fy(r,e,s),a)switch(n){case"Array":case"Object":for(y=UBe(e),f=0,d=kP(y);f<d;f++)m=y[f],OBe(s,m,t(e[m],r));break;case"Map":e.forEach(function(R,T){Fy(s,t(T,r),t(R,r))});break;case"Set":e.forEach(function(R){DBe(s,t(R,r))});break;case"Error":_P(s,"message",t(e.message,r)),wBe(e,"cause")&&_P(s,"cause",t(e.cause,r)),u=="AggregateError"&&(s.errors=t(e.errors,r));case"DOMException":PBe&&_P(s,"stack",t(e.stack,r))}return s},"structuredCloneInternal"),m9=Wo&&!Ly(function(){if(RBe&&PP>92||TBe&&PP>94||EBe&&PP>97)return!1;var t=new ArrayBuffer(8),e=Wo(t,{transfer:[t]});return t.byteLength!=0||e.byteLength!=8}),YBe=i(function(e,r){if(!IP(e))throw d9("Transfer option cannot be converted to a sequence");var n=[];bBe(e,function(w){MBe(n,c9(w))});var a=0,o=kP(n),u,s,c,f,d,y,m;if(m9)for(f=Wo(n,{transfer:n});a<o;)Fy(r,n[a],f[a++]);else for(;a<o;){if(u=n[a++],v9(r,u))throw new Va("Duplicate transferable",gf);switch(s=f9(u),s){case"ImageBitmap":c=vt.OffscreenCanvas,l9(c)||or(s,EP);try{y=new c(u.width,u.height),m=y.getContext("bitmaprenderer"),m.transferFromImageBitmap(u),d=y.transferToImageBitmap()}catch(w){}break;case"AudioData":case"VideoFrame":(!AP(u.clone)||!AP(u.close))&&or(s,EP);try{d=u.clone(),u.close()}catch(w){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":or(s,EP)}if(d===void 0)throw new Va("This object cannot be transferred: "+s,gf);Fy(r,u,d)}},"tryToTransfer");yBe({global:!0,enumerable:!0,sham:!m9,forced:VBe},{structuredClone:i(function(e){var r=SBe(arguments.length,1)>1&&arguments[1]!=null?c9(arguments[1]):void 0,n=r?r.transfer:void 0,a;return n!==void 0&&(a=new Cy,YBe(n,a)),KBe(e,a)},"structuredClone")});d$();var y4e=D(),m4e=ce();y4e({target:"URL",proto:!0,enumerable:!0},{toJSON:i(function(){return m4e(URL.prototype.toString,this)},"toJSON")});WP();function hE(t){return hE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(t)}i(hE,"_typeof");var Qt=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof Qt!="undefined"&&Qt,Er={searchParams:"URLSearchParams"in Qt,iterable:"Symbol"in Qt&&"iterator"in Symbol,blob:"FileReader"in Qt&&"Blob"in Qt&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in Qt,arrayBuffer:"ArrayBuffer"in Qt};function g4e(t){return t&&DataView.prototype.isPrototypeOf(t)}i(g4e,"isDataView");Er.arrayBuffer&&(h$=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y$=ArrayBuffer.isView||function(t){return t&&h$.indexOf(Object.prototype.toString.call(t))>-1});var h$,y$;function kf(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}i(kf,"normalizeName");function vE(t){return typeof t!="string"&&(t=String(t)),t}i(vE,"normalizeValue");function yE(t){var e={next:i(function(){var n=t.shift();return{done:n===void 0,value:n}},"next")};return Er.iterable&&(e[Symbol.iterator]=function(){return e}),e}i(yE,"iteratorFor");function qt(t){this.map={},t instanceof qt?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}i(qt,"Headers");qt.prototype.append=function(t,e){t=kf(t),e=vE(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};qt.prototype.delete=function(t){delete this.map[kf(t)]};qt.prototype.get=function(t){return t=kf(t),this.has(t)?this.map[t]:null};qt.prototype.has=function(t){return this.map.hasOwnProperty(kf(t))};qt.prototype.set=function(t,e){this.map[kf(t)]=vE(e)};qt.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};qt.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),yE(t)};qt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),yE(t)};qt.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),yE(t)};Er.iterable&&(qt.prototype[Symbol.iterator]=qt.prototype.entries);function dE(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}i(dE,"consumed");function m$(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}i(m$,"fileReaderReady");function b4e(t){var e=new FileReader,r=m$(e);return e.readAsArrayBuffer(t),r}i(b4e,"readBlobAsArrayBuffer");function w4e(t){var e=new FileReader,r=m$(e);return e.readAsText(t),r}i(w4e,"readBlobAsText");function O4e(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}i(O4e,"readArrayBufferAsText");function v$(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}i(v$,"bufferClone");function g$(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:Er.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Er.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Er.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Er.arrayBuffer&&Er.blob&&g4e(t)?(this._bodyArrayBuffer=v$(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Er.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||y$(t))?this._bodyArrayBuffer=v$(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Er.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Er.blob&&(this.blob=function(){var t=dE(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=dE(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(b4e)}),this.text=function(){var t=dE(this);if(t)return t;if(this._bodyBlob)return w4e(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O4e(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Er.formData&&(this.formData=function(){return this.text().then(P4e)}),this.json=function(){return this.text().then(JSON.parse)},this}i(g$,"Body");var S4e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _4e(t){var e=t.toUpperCase();return S4e.indexOf(e)>-1?e:t}i(_4e,"normalizeMethod");function Qa(t,e){if(!(this instanceof Qa))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof Qa){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new qt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new qt(e.headers)),this.method=_4e(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}i(Qa,"Request");Qa.prototype.clone=function(){return new Qa(this,{body:this._bodyInit})};function P4e(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),a=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(a),decodeURIComponent(o))}}),e}i(P4e,"decode");function E4e(t){var e=new qt,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf("\n")===0?n.substr(1,n.length):n}).forEach(function(n){var a=n.split(":"),o=a.shift().trim();if(o){var u=a.join(":").trim();e.append(o,u)}}),e}i(E4e,"parseHeaders");g$.call(Qa.prototype);function ti(t,e){if(!(this instanceof ti))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new qt(e.headers),this.url=e.url||"",this._initBody(t)}i(ti,"Response");g$.call(ti.prototype);ti.prototype.clone=function(){return new ti(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new qt(this.headers),url:this.url})};ti.error=function(){var t=new ti(null,{status:0,statusText:""});return t.type="error",t};var R4e=[301,302,303,307,308];ti.redirect=function(t,e){if(R4e.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ti(null,{status:e,headers:{location:t}})};var Ja=Qt.DOMException;try{new Ja}catch(t){Ja=i(function(r,n){this.message=r,this.name=n;var a=Error(r);this.stack=a.stack},"DOMException"),Ja.prototype=Object.create(Error.prototype),Ja.prototype.constructor=Ja}function b$(t,e){return new Promise(function(r,n){var a=new Qa(t,e);if(a.signal&&a.signal.aborted)return n(new Ja("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}i(u,"abortXhr"),o.onload=function(){var c={status:o.status,statusText:o.statusText,headers:E4e(o.getAllResponseHeaders()||"")};c.url="responseURL"in o?o.responseURL:c.headers.get("X-Request-URL");var f="response"in o?o.response:o.responseText;setTimeout(function(){r(new ti(f,c))},0)},o.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){n(new Ja("Aborted","AbortError"))},0)};function s(c){try{return c===""&&Qt.location.href?Qt.location.href:c}catch(f){return c}}i(s,"fixUrl"),o.open(a.method,s(a.url),!0),a.credentials==="include"?o.withCredentials=!0:a.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(Er.blob?o.responseType="blob":Er.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),e&&hE(e.headers)==="object"&&!(e.headers instanceof qt)?Object.getOwnPropertyNames(e.headers).forEach(function(c){o.setRequestHeader(c,vE(e.headers[c]))}):a.headers.forEach(function(c,f){o.setRequestHeader(f,c)}),a.signal&&(a.signal.addEventListener("abort",u),o.onreadystatechange=function(){o.readyState===4&&a.signal.removeEventListener("abort",u)}),o.send(typeof a._bodyInit=="undefined"?null:a._bodyInit)})}i(b$,"fetch");b$.polyfill=!0;Qt.fetch||(Qt.fetch=b$,Qt.Headers=qt,Qt.Request=Qa,Qt.Response=ti);function mE(t){return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mE(t)}i(mE,"_typeof");(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}i(t,"_classCallCheck");function e(E,A){for(var x=0;x<A.length;x++){var U=A[x];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}i(e,"_defineProperties");function r(E,A,x){return A&&e(E.prototype,A),x&&e(E,x),E}i(r,"_createClass");function n(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&o(E,A)}i(n,"_inherits");function a(E){return a=Object.setPrototypeOf?Object.getPrototypeOf:i(function(x){return x.__proto__||Object.getPrototypeOf(x)},"_getPrototypeOf"),a(E)}i(a,"_getPrototypeOf");function o(E,A){return o=Object.setPrototypeOf||i(function(U,G){return U.__proto__=G,U},"_setPrototypeOf"),o(E,A)}i(o,"_setPrototypeOf");function u(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(E){return!1}}i(u,"_isNativeReflectConstruct");function s(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}i(s,"_assertThisInitialized");function c(E,A){return A&&(mE(A)==="object"||typeof A=="function")?A:s(E)}i(c,"_possibleConstructorReturn");function f(E){var A=u();return i(function(){var U=a(E),G;if(A){var M=a(this).constructor;G=Reflect.construct(U,arguments,M)}else G=U.apply(this,arguments);return c(this,G)},"_createSuperInternal")}i(f,"_createSuper");function d(E,A){for(;!Object.prototype.hasOwnProperty.call(E,A)&&(E=a(E),E!==null););return E}i(d,"_superPropBase");function y(E,A,x){return typeof Reflect!="undefined"&&Reflect.get?y=Reflect.get:y=i(function(G,M,z){var W=d(G,M);if(!!W){var Y=Object.getOwnPropertyDescriptor(W,M);return Y.get?Y.get.call(z):Y.value}},"_get"),y(E,A,x||E)}i(y,"_get");var m=function(){function E(){t(this,E),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(E,"Emitter"),r(E,[{key:"addEventListener",value:i(function(x,U,G){x in this.listeners||(this.listeners[x]=[]),this.listeners[x].push({callback:U,options:G})},"addEventListener")},{key:"removeEventListener",value:i(function(x,U){if(x in this.listeners){for(var G=this.listeners[x],M=0,z=G.length;M<z;M++)if(G[M].callback===U){G.splice(M,1);return}}},"removeEventListener")},{key:"dispatchEvent",value:i(function(x){if(x.type in this.listeners){for(var U=this.listeners[x.type],G=U.slice(),M=0,z=G.length;M<z;M++){var W=G[M];try{W.callback.call(this,x)}catch(Y){Promise.resolve().then(function(){throw Y})}W.options&&W.options.once&&this.removeEventListener(x.type,W.callback)}return!x.defaultPrevented}},"dispatchEvent")}]),E}(),w=function(E){n(x,E);var A=f(x);function x(){var U;return t(this,x),U=A.call(this),U.listeners||m.call(s(U)),Object.defineProperty(s(U),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(U),"onabort",{value:null,writable:!0,configurable:!0}),U}return i(x,"AbortSignal"),r(x,[{key:"toString",value:i(function(){return"[object AbortSignal]"},"toString")},{key:"dispatchEvent",value:i(function(G){G.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,G)),y(a(x.prototype),"dispatchEvent",this).call(this,G)},"dispatchEvent")}]),x}(m),_=function(){function E(){t(this,E),Object.defineProperty(this,"signal",{value:new w,writable:!0,configurable:!0})}return i(E,"AbortController"),r(E,[{key:"abort",value:i(function(){var x;try{x=new Event("abort")}catch(U){typeof document!="undefined"?document.createEvent?(x=document.createEvent("Event"),x.initEvent("abort",!1,!1)):(x=document.createEventObject(),x.type="abort"):x={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(x)},"abort")},{key:"toString",value:i(function(){return"[object AbortController]"},"toString")}]),E}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",w.prototype[Symbol.toStringTag]="AbortSignal");function R(E){return E.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof E.Request=="function"&&!E.Request.prototype.hasOwnProperty("signal")||!E.AbortController}i(R,"polyfillNeeded");function T(E){typeof E=="function"&&(E={fetch:E});var A=E,x=A.fetch,U=A.Request,G=U===void 0?x.Request:U,M=A.AbortController,z=A.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,W=z===void 0?!1:z;if(!R({fetch:x,Request:G,AbortController:M,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:W}))return{fetch:x,Request:Y};var Y=G;(Y&&!Y.prototype.hasOwnProperty("signal")||W)&&(Y=i(function(v,g){var b;g&&g.signal&&(b=g.signal,delete g.signal);var P=new G(v,g);return b&&Object.defineProperty(P,"signal",{writable:!1,enumerable:!1,configurable:!0,value:b}),P},"Request"),Y.prototype=G.prototype);var p=x,l=i(function(v,g){var b=Y&&Y.prototype.isPrototypeOf(v)?v.signal:g?g.signal:void 0;if(b){var P;try{P=new DOMException("Aborted","AbortError")}catch(L){P=new Error("Aborted"),P.name="AbortError"}if(b.aborted)return Promise.reject(P);var q=new Promise(function(L,O){b.addEventListener("abort",function(){return O(P)},{once:!0})});return g&&g.signal&&delete g.signal,Promise.race([q,p(v,g)])}return p(v,g)},"abortableFetch");return{fetch:l,Request:Y}}i(T,"abortableFetchDecorator"),function(E){if(!!R(E)){if(!E.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var A=T(E),x=A.fetch,U=A.Request;E.fetch=x,E.Request=U,Object.defineProperty(E,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:_}),Object.defineProperty(E,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:w})}}(typeof self!="undefined"?self:global)});(function(){var t=i(function(r,n,a){var o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return o?new Promise(function(u,s){o.call(navigator,r,u,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))},"promisifiedOldGUM");navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})();var O$=function(){if(typeof Map!="undefined")return Map;function t(e,r){var n=-1;return e.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return i(t,"getIndex"),function(){function e(){this.__entries__=[]}return i(e,"class_1"),Object.defineProperty(e.prototype,"size",{get:i(function(){return this.__entries__.length},"get"),enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},e}()}(),gE=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Ky=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),T4e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ky):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),A4e=2;function I4e(t,e){var r=!1,n=!1,a=0;function o(){r&&(r=!1,t()),n&&s()}i(o,"resolvePending");function u(){T4e(o)}i(u,"timeoutCallback");function s(){var c=Date.now();if(r){if(c-a<A4e)return;n=!0}else r=!0,n=!1,setTimeout(u,e);a=c}return i(s,"proxy"),s}i(I4e,"throttle");var k4e=20,q4e=["top","right","bottom","left","width","height","size","weight"],x4e=typeof MutationObserver!="undefined",C4e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=I4e(this.refresh.bind(this),k4e)}return i(t,"ResizeObserverController"),t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!gE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),x4e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!gE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=q4e.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),S$=i(function(e,r){for(var n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];Object.defineProperty(e,o,{value:r[o],enumerable:!1,writable:!1,configurable:!0})}return e},"defineConfigurable"),Qs=i(function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||Ky},"getWindowOf"),_$=Xy(0,0,0,0);function Yy(t){return parseFloat(t)||0}i(Yy,"toFloat");function w$(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var o=t["border-"+a+"-width"];return n+Yy(o)},0)}i(w$,"getBordersSize");function F4e(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var o=a[n],u=t["padding-"+o];r[o]=Yy(u)}return r}i(F4e,"getPaddings");function L4e(t){var e=t.getBBox();return Xy(0,0,e.width,e.height)}i(L4e,"getSVGContentRect");function j4e(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return _$;var n=Qs(t).getComputedStyle(t),a=F4e(n),o=a.left+a.right,u=a.top+a.bottom,s=Yy(n.width),c=Yy(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=w$(n,"left","right")+o),Math.round(c+u)!==r&&(c-=w$(n,"top","bottom")+u)),!D4e(t)){var f=Math.round(s+o)-e,d=Math.round(c+u)-r;Math.abs(f)!==1&&(s-=f),Math.abs(d)!==1&&(c-=d)}return Xy(a.left,a.top,s,c)}i(j4e,"getHTMLElementContentRect");var N4e=function(){return typeof SVGGraphicsElement!="undefined"?function(t){return t instanceof Qs(t).SVGGraphicsElement}:function(t){return t instanceof Qs(t).SVGElement&&typeof t.getBBox=="function"}}();function D4e(t){return t===Qs(t).document.documentElement}i(D4e,"isDocumentElement");function U4e(t){return gE?N4e(t)?L4e(t):j4e(t):_$}i(U4e,"getContentRect");function M4e(t){var e=t.x,r=t.y,n=t.width,a=t.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return S$(u,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),u}i(M4e,"createReadOnlyRect");function Xy(t,e,r,n){return{x:t,y:e,width:r,height:n}}i(Xy,"createRectInit");var B4e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Xy(0,0,0,0),this.target=e}return i(t,"ResizeObservation"),t.prototype.isActive=function(){var e=U4e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),$4e=function(){function t(e,r){var n=M4e(r);S$(this,{target:e,contentRect:n})}return i(t,"ResizeObserverEntry"),t}(),z4e=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new O$,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return i(t,"ResizeObserverSPI"),t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Qs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new B4e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof Qs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(e)||(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new $4e(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),P$=typeof WeakMap!="undefined"?new WeakMap:new O$,E$=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=C4e.getInstance(),n=new z4e(e,r,this);P$.set(this,n)}return i(t,"ResizeObserver"),t}();["observe","unobserve","disconnect"].forEach(function(t){E$.prototype[t]=function(){var e;return(e=P$.get(this))[t].apply(e,arguments)}});var G4e=function(){return typeof Ky.ResizeObserver!="undefined"?Ky.ResizeObserver:E$}(),R$=G4e;var bkt=Te(T$(),1);var o2={};Hl(o2,{Audio:function(){return Fg},AwsS3:function(){return VI},AwsS3Multipart:function(){return fk},Box:function(){return yl},Compressor:function(){return AQ},Core:function(){return Sit},Dashboard:function(){return vl},DefaultStore:function(){return rm},DragDrop:function(){return gg},DropTarget:function(){return iA},Dropbox:function(){return ml},Facebook:function(){return gl},FileInput:function(){return _g},Form:function(){return Jq},GoldenRetriever:function(){return e2},GoogleDrive:function(){return wl},ImageEditor:function(){return Tg},Informer:function(){return ol},Instagram:function(){return Ol},OneDrive:function(){return Sl},ProgressBar:function(){return Ig},ReduxDevTools:function(){return i2},ReduxStore:function(){return DG},RemoteSources:function(){return cI},ScreenCapture:function(){return ub},StatusBar:function(){return il},ThumbnailGenerator:function(){return _p},Transloadit:function(){return ca},Tus:function(){return Cl},Unsplash:function(){return _l},Uppy:function(){return um},Url:function(){return bu},Webcam:function(){return db},XHRUpload:function(){return Hq},Zoom:function(){return Pl},debugLogger:function(){return Nf},locales:function(){return Pit},server:function(){return nR},views:function(){return _it}});function Dr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i(Dr,"has");function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(A$,"ownKeys");function Qy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){H4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Qy,"_objectSpread");function H4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(H4e,"_defineProperty");function wE(t){return wE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wE(t)}i(wE,"_typeof");function V4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(V4e,"_classCallCheck");function I$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(I$,"_defineProperties");function W4e(t,e,r){return e&&I$(t.prototype,e),r&&I$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(W4e,"_createClass");function k$(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(k$,"_classPrivateFieldLooseBase");var K4e=0;function Y4e(t){return"__private_"+K4e+++"_"+t}i(Y4e,"_classPrivateFieldLooseKey");function X4e(t,e,r){var n=[];return t.forEach(function(a){return typeof a!="string"?n.push(a):e[Symbol.split](a).forEach(function(o,u,s){o!==""&&n.push(o),u<s.length-1&&n.push(r)})}),n}i(X4e,"insertReplacement");function q$(t,e){var r=/\$/g,n="$$$$",a=[t];if(e==null)return a;for(var o=0,u=Object.keys(e);o<u.length;o++){var s=u[o];if(s!=="_"){var c=e[s];typeof c=="string"&&(c=r[Symbol.replace](c,n)),a=X4e(a,new RegExp("%\\{".concat(s,"\\}"),"g"),c)}}return a}i(q$,"interpolate");var xf=Y4e("apply"),Zy=function(){function t(e){V4e(this,t),Object.defineProperty(this,xf,{value:J4e}),this.locale={strings:{},pluralize:i(function(n){return n===1?0:1},"pluralize")},Array.isArray(e)?e.forEach(k$(this,xf)[xf],this):k$(this,xf)[xf](e)}return i(t,"Translator"),W4e(t,[{key:"translate",value:i(function(r,n){return this.translateArray(r,n).join("")},"translate")},{key:"translateArray",value:i(function(r,n){if(!Dr(this.locale.strings,r))throw new Error("missing string: ".concat(r));var a=this.locale.strings[r],o=wE(a)==="object";if(o){if(n&&typeof n.smart_count!="undefined"){var u=this.locale.pluralize(n.smart_count);return q$(a[u],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return q$(a,n)},"translateArray")}]),t}();function J4e(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=Qy(Qy({},e),{},{strings:Qy(Qy({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}i(J4e,"_apply2");var cz=Te(OE(),1);var Q4e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var sn=i(function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=Q4e[Math.random()*64|0];return r},"nanoid");var fz=Te(Cf(),1);function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(N$,"ownKeys");function _E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){y6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(_E,"_objectSpread");function y6e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(y6e,"_defineProperty");function m6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(m6e,"_classCallCheck");function D$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(D$,"_defineProperties");function g6e(t,e,r){return e&&D$(t.prototype,e),r&&D$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(g6e,"_createClass");function tm(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(tm,"_classPrivateFieldLooseBase");var b6e=0;function U$(t){return"__private_"+b6e+++"_"+t}i(U$,"_classPrivateFieldLooseKey");var w6e={version:"3.0.2"},eu=U$("callbacks"),PE=U$("publish"),M$=function(){function t(){m6e(this,t),Object.defineProperty(this,PE,{value:O6e}),Object.defineProperty(this,eu,{writable:!0,value:new Set}),this.state={}}return i(t,"DefaultStore"),g6e(t,[{key:"getState",value:i(function(){return this.state},"getState")},{key:"setState",value:i(function(r){var n=_E({},this.state),a=_E(_E({},this.state),r);this.state=a,tm(this,PE)[PE](n,a,r)},"setState")},{key:"subscribe",value:i(function(r){var n=this;return tm(this,eu)[eu].add(r),function(){tm(n,eu)[eu].delete(r)}},"subscribe")}]),t}();function O6e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];tm(this,eu)[eu].forEach(function(n){n.apply(void 0,e)})}i(O6e,"_publish2");M$.VERSION=w6e.version;var rm=M$;function ji(t){var e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}i(ji,"getFileNameAndExtension");var Ff={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Lf(t){var e;if(t.type)return t.type;var r=t.name?(e=ji(t.name).extension)==null?void 0:e.toLowerCase():null;return r&&r in Ff?Ff[r]:"application/octet-stream"}i(Lf,"getFileType");function S6e(t){return t.charCodeAt(0).toString(32)}i(S6e,"encodeCharacter");function B$(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat(S6e(r)),"/"})+e}i(B$,"encodeFilename");function jf(t){var e="uppy";return typeof t.name=="string"&&(e+="-".concat(B$(t.name.toLowerCase()))),t.type!==void 0&&(e+="-".concat(t.type)),t.meta&&typeof t.meta.relativePath=="string"&&(e+="-".concat(B$(t.meta.relativePath.toLowerCase()))),t.data.size!==void 0&&(e+="-".concat(t.data.size)),t.data.lastModified!==void 0&&(e+="-".concat(t.data.lastModified)),e}i(jf,"generateFileID");function _6e(t,e){return T6e(t)||R6e(t,e)||E6e(t,e)||P6e()}i(_6e,"_slicedToArray");function P6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(P6e,"_nonIterableRest");function E6e(t,e){if(!!t){if(typeof t=="string")return $$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(t,e)}}i(E6e,"_unsupportedIterableToArray");function $$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i($$,"_arrayLikeToArray");function R6e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(R6e,"_iterableToArrayLimit");function T6e(t){if(Array.isArray(t))return t}i(T6e,"_arrayWithHoles");function EE(t){if(t==null&&typeof navigator!="undefined"&&(t=navigator.userAgent),!t)return!0;var e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;var r=e[1],n=r.split("."),a=_6e(n,2),o=a[0],u=a[1];return o=parseInt(o,10),u=parseInt(u,10),o<15||o===15&&u<15063||o>18||o===18&&u>=18218}i(EE,"supportsUploadProgress");function RE(t,e){return e.name?e.name:t.split("/")[0]==="image"?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}i(RE,"getFileName");function TE(t){return t<10?"0".concat(t):t.toString()}i(TE,"pad");function Zs(){var t=new Date,e=TE(t.getHours()),r=TE(t.getMinutes()),n=TE(t.getSeconds());return"".concat(e,":").concat(r,":").concat(n)}i(Zs,"getTimeStamp");var z$={debug:i(function(){},"debug"),warn:i(function(){},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).error.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"error")},Nf={debug:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).debug.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"debug"),warn:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).warn.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"warn"),error:i(function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=console).error.apply(e,["[Uppy] [".concat(Zs(),"]")].concat(n))},"error")};var om=Te(nm(),1),tz=Te(Y$(),1);function kE(t){return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(t)}i(kE,"_typeof");function k6e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=q6e(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(k6e,"_createForOfIteratorHelper");function q6e(t,e){if(!!t){if(typeof t=="string")return X$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X$(t,e)}}i(q6e,"_unsupportedIterableToArray");function X$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(X$,"_arrayLikeToArray");function J$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(J$,"_defineProperties");function Q$(t,e,r){return e&&J$(t.prototype,e),r&&J$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Q$,"_createClass");function Z$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Z$,"_classCallCheck");function x6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Df(t,e)}i(x6e,"_inherits");function C6e(t){var e=ez();return i(function(){var n=Uf(t),a;if(e){var o=Uf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return F6e(this,a)},"_createSuperInternal")}i(C6e,"_createSuper");function F6e(t,e){if(e&&(kE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6e(t)}i(F6e,"_possibleConstructorReturn");function L6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(L6e,"_assertThisInitialized");function qE(t){var e=typeof Map=="function"?new Map:void 0;return qE=i(function(n){if(n===null||!j6e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return im(n,arguments,Uf(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Df(a,n)},"_wrapNativeSuper"),qE(t)}i(qE,"_wrapNativeSuper");function im(t,e,r){return ez()?im=Reflect.construct.bind():im=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&Df(f,u.prototype),f},"_construct"),im.apply(null,arguments)}i(im,"_construct");function ez(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(ez,"_isNativeReflectConstruct");function j6e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(j6e,"_isNativeFunction");function Df(t,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Df(t,e)}i(Df,"_setPrototypeOf");function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Uf(t)}i(Uf,"_getPrototypeOf");var rz={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},ln=function(t){x6e(r,t);var e=C6e(r);function r(){var n;return Z$(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return i(r,"RestrictionError"),Q$(r)}(qE(Error)),nz=function(){function t(e,r){Z$(this,t),this.i18n=r,this.getOpts=function(){var n=e();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return i(t,"Restricter"),Q$(t,[{key:"validate",value:i(function(r,n){var a=this.getOpts().restrictions,o=a.maxFileSize,u=a.minFileSize,s=a.maxTotalFileSize,c=a.maxNumberOfFiles,f=a.allowedFileTypes;if(c){var d=n.filter(function(_){return!_.isGhost});if(d.length+1>c)throw new ln("".concat(this.i18n("youCanOnlyUploadX",{smart_count:c})))}if(f){var y=f.some(function(_){return _.includes("/")?r.type?(0,tz.default)(r.type.replace(/;.*?$/,""),_):!1:_[0]==="."&&r.extension?r.extension.toLowerCase()===_.slice(1).toLowerCase():!1});if(!y){var m=f.join(", ");throw new ln(this.i18n("youCanOnlyUploadFileTypes",{types:m}))}}if(s&&r.size!=null){var w=n.reduce(function(_,R){return _+R.size},r.size);if(w>s)throw new ln(this.i18n("exceedsSize",{size:(0,om.default)(s),file:r.name}))}if(o&&r.size!=null&&r.size>o)throw new ln(this.i18n("exceedsSize",{size:(0,om.default)(o),file:r.name}));if(u&&r.size!=null&&r.size<u)throw new ln(this.i18n("inferiorSize",{size:(0,om.default)(u)}))},"validate")},{key:"validateMinNumberOfFiles",value:i(function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new ln(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))},"validateMinNumberOfFiles")},{key:"getMissingRequiredMetaFields",value:i(function(r){var n=new ln(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),a=this.getOpts().restrictions.requiredMetaFields,o=[],u=k6e(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;(!Object.hasOwn(r.meta,c)||r.meta[c]==="")&&o.push(c)}}catch(f){u.e(f)}finally{u.f()}return{missingFields:o,error:n}},"getMissingRequiredMetaFields")}]),t}();var iz={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};function LE(){"use strict";LE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Xo(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(LE,"_regeneratorRuntime");function oz(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(oz,"asyncGeneratorStep");function N6e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){oz(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){oz(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(N6e,"_asyncToGenerator");function am(t){return B6e(t)||M6e(t)||U6e(t)||D6e()}i(am,"_toConsumableArray");function D6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(D6e,"_nonIterableSpread");function U6e(t,e){if(!!t){if(typeof t=="string")return jE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(t,e)}}i(U6e,"_unsupportedIterableToArray");function M6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(M6e,"_iterableToArray");function B6e(t){if(Array.isArray(t))return jE(t)}i(B6e,"_arrayWithoutHoles");function jE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(jE,"_arrayLikeToArray");function Xo(t){return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}i(Xo,"_typeof");function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(az,"ownKeys");function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){nu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ae,"_objectSpread");function nu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(nu,"_defineProperty");function $6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($6e,"_classCallCheck");function uz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(uz,"_defineProperties");function z6e(t,e,r){return e&&uz(t.prototype,e),r&&uz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(z6e,"_createClass");var sz,lz;function pe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pe,"_classPrivateFieldLooseBase");var G6e=0;function xt(t){return"__private_"+G6e+++"_"+t}i(xt,"_classPrivateFieldLooseKey");var H6e={version:"3.0.4"},$t=xt("plugins"),kn=xt("restricter"),Mf=xt("storeUnsubscribe"),Ni=xt("emitter"),tu=xt("preProcessors"),ru=xt("uploaders"),Mi=xt("postProcessors"),Ur=xt("informAndEmit"),Gf=xt("checkRequiredMetaFieldsOnFile"),xE=xt("checkRequiredMetaFields"),Bf=xt("assertNewUploadAllowed"),$f=xt("checkAndCreateFileStateObject"),zf=xt("startIfAutoProceed"),CE=xt("addListeners"),qn=xt("updateOnlineStatus"),Di=xt("createUpload"),FE=xt("getUpload"),iu=xt("removeUpload"),Ui=xt("runUpload");sz=Symbol.for("uppy test: getPlugins");lz=Symbol.for("uppy test: createUpload");var pz=function(t,e){function r(n){var a=this;$6e(this,r),Object.defineProperty(this,Ui,{value:r7e}),Object.defineProperty(this,iu,{value:t7e}),Object.defineProperty(this,FE,{value:e7e}),Object.defineProperty(this,Di,{value:Z6e}),Object.defineProperty(this,CE,{value:Q6e}),Object.defineProperty(this,zf,{value:J6e}),Object.defineProperty(this,$f,{value:X6e}),Object.defineProperty(this,Bf,{value:Y6e}),Object.defineProperty(this,xE,{value:K6e}),Object.defineProperty(this,Gf,{value:W6e}),Object.defineProperty(this,Ur,{value:V6e}),Object.defineProperty(this,$t,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,kn,{writable:!0,value:void 0}),Object.defineProperty(this,Mf,{writable:!0,value:void 0}),Object.defineProperty(this,Ni,{writable:!0,value:(0,cz.default)()}),Object.defineProperty(this,tu,{writable:!0,value:new Set}),Object.defineProperty(this,ru,{writable:!0,value:new Set}),Object.defineProperty(this,Mi,{writable:!0,value:new Set}),Object.defineProperty(this,qn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=iz;var o={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:rz,meta:{},onBeforeFileAdded:i(function(s){return s},"onBeforeFileAdded"),onBeforeUpload:i(function(s){return s},"onBeforeUpload"),store:new rm,logger:z$,infoTimeout:5e3};this.opts=ae(ae(ae({},o),n),{},{restrictions:ae(ae({},o.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=Nf),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=(0,fz.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:EE(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:ae({},this.opts.meta),info:[],recoveredState:null}),pe(this,kn)[kn]=new nz(function(){return a.opts},this.i18n),pe(this,Mf)[Mf]=this.store.subscribe(function(u,s,c){a.emit("state-update",u,s,c),a.updateAll(s)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),pe(this,CE)[CE]()}return i(r,"Uppy"),z6e(r,[{key:"emit",value:i(function(a){for(var o,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];(o=pe(this,Ni)[Ni]).emit.apply(o,[a].concat(s))},"emit")},{key:"on",value:i(function(a,o){return pe(this,Ni)[Ni].on(a,o),this},"on")},{key:"once",value:i(function(a,o){return pe(this,Ni)[Ni].once(a,o),this},"once")},{key:"off",value:i(function(a,o){return pe(this,Ni)[Ni].off(a,o),this},"off")},{key:"updateAll",value:i(function(a){this.iteratePlugins(function(o){o.update(a)})},"updateAll")},{key:"setState",value:i(function(a){this.store.setState(a)},"setState")},{key:"getState",value:i(function(){return this.store.getState()},"getState")},{key:"setFileState",value:i(function(a,o){if(!this.getState().files[a])throw new Error("Can\u2019t set state for ".concat(a," (the file could have been removed)"));this.setState({files:ae(ae({},this.getState().files),{},nu({},a,ae(ae({},this.getState().files[a]),o)))})},"setFileState")},{key:"i18nInit",value:i(function(){var a=new Zy([this.defaultLocale,this.opts.locale]);this.i18n=a.translate.bind(a),this.i18nArray=a.translateArray.bind(a),this.locale=a.locale},"i18nInit")},{key:"setOptions",value:i(function(a){this.opts=ae(ae(ae({},this.opts),a),{},{restrictions:ae(ae({},this.opts.restrictions),a&&a.restrictions)}),a.meta&&this.setMeta(a.meta),this.i18nInit(),a.locale&&this.iteratePlugins(function(o){o.setOptions()}),this.setState()},"setOptions")},{key:"resetProgress",value:i(function(){var a={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},o=ae({},this.getState().files),u={};Object.keys(o).forEach(function(s){var c=ae({},o[s]);c.progress=ae(ae({},c.progress),a),u[s]=c}),this.setState({files:u,totalProgress:0}),this.emit("reset-progress")},"resetProgress")},{key:"addPreProcessor",value:i(function(a){pe(this,tu)[tu].add(a)},"addPreProcessor")},{key:"removePreProcessor",value:i(function(a){return pe(this,tu)[tu].delete(a)},"removePreProcessor")},{key:"addPostProcessor",value:i(function(a){pe(this,Mi)[Mi].add(a)},"addPostProcessor")},{key:"removePostProcessor",value:i(function(a){return pe(this,Mi)[Mi].delete(a)},"removePostProcessor")},{key:"addUploader",value:i(function(a){pe(this,ru)[ru].add(a)},"addUploader")},{key:"removeUploader",value:i(function(a){return pe(this,ru)[ru].delete(a)},"removeUploader")},{key:"setMeta",value:i(function(a){var o=ae(ae({},this.getState().meta),a),u=ae({},this.getState().files);Object.keys(u).forEach(function(s){u[s]=ae(ae({},u[s]),{},{meta:ae(ae({},u[s].meta),a)})}),this.log("Adding metadata:"),this.log(a),this.setState({meta:o,files:u})},"setMeta")},{key:"setFileMeta",value:i(function(a,o){var u=ae({},this.getState().files);if(!u[a]){this.log("Was trying to set metadata for a file that has been removed: ",a);return}var s=ae(ae({},u[a].meta),o);u[a]=ae(ae({},u[a]),{},{meta:s}),this.setState({files:u})},"setFileMeta")},{key:"getFile",value:i(function(a){return this.getState().files[a]},"getFile")},{key:"getFiles",value:i(function(){var a=this.getState(),o=a.files;return Object.values(o)},"getFiles")},{key:"getObjectOfFilesPerState",value:i(function(){var a=this.getState(),o=a.files,u=a.totalProgress,s=a.error,c=Object.values(o),f=c.filter(function(A){var x=A.progress;return!x.uploadComplete&&x.uploadStarted}),d=c.filter(function(A){return!A.progress.uploadStarted}),y=c.filter(function(A){return A.progress.uploadStarted||A.progress.preprocess||A.progress.postprocess}),m=c.filter(function(A){return A.progress.uploadStarted}),w=c.filter(function(A){return A.isPaused}),_=c.filter(function(A){return A.progress.uploadComplete}),R=c.filter(function(A){return A.error}),T=f.filter(function(A){return!A.isPaused}),E=c.filter(function(A){return A.progress.preprocess||A.progress.postprocess});return{newFiles:d,startedFiles:y,uploadStartedFiles:m,pausedFiles:w,completeFiles:_,erroredFiles:R,inProgressFiles:f,inProgressNotPausedFiles:T,processingFiles:E,isUploadStarted:m.length>0,isAllComplete:u===100&&_.length===c.length&&E.length===0,isAllErrored:!!s&&R.length===c.length,isAllPaused:f.length!==0&&w.length===f.length,isUploadInProgress:f.length>0,isSomeGhost:c.some(function(A){return A.isGhost})}},"getObjectOfFilesPerState")},{key:"validateRestrictions",value:i(function(a,o){o===void 0&&(o=this.getFiles());try{pe(this,kn)[kn].validate(a,o)}catch(u){return u}return null},"validateRestrictions")},{key:"checkIfFileAlreadyExists",value:i(function(a){var o=this.getState(),u=o.files;return!!(u[a]&&!u[a].isGhost)},"checkIfFileAlreadyExists")},{key:"addFile",value:i(function(a){pe(this,Bf)[Bf](a);var o=this.getState(),u=o.files,s=pe(this,$f)[$f](u,a);return u[s.id]&&u[s.id].isGhost&&(s=ae(ae({},u[s.id]),{},{data:a.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(s.name,", ").concat(s.id))),this.setState({files:ae(ae({},u),{},nu({},s.id,s))}),this.emit("file-added",s),this.emit("files-added",[s]),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),pe(this,zf)[zf](),s.id},"addFile")},{key:"addFiles",value:i(function(a){var o=this;pe(this,Bf)[Bf]();for(var u=ae({},this.getState().files),s=[],c=[],f=0;f<a.length;f++)try{var d=pe(this,$f)[$f](u,a[f]);u[d.id]&&u[d.id].isGhost&&(d=ae(ae({},u[d.id]),{},{data:a[f].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(d.name,", ").concat(d.id))),u[d.id]=d,s.push(d)}catch(w){w.isRestriction||c.push(w)}if(this.setState({files:u}),s.forEach(function(w){o.emit("file-added",w)}),this.emit("files-added",s),s.length>5?this.log("Added batch of ".concat(s.length," files")):Object.keys(s).forEach(function(w){o.log("Added file: ".concat(s[w].name,"\n id: ").concat(s[w].id,"\n type: ").concat(s[w].type))}),s.length>0&&pe(this,zf)[zf](),c.length>0){var y="Multiple errors occurred while adding files:\n";if(c.forEach(function(w){y+="\n * ".concat(w.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:c.length}),details:y},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(c,y);var m=new Error(y);throw m.errors=c,m}},"addFiles")},{key:"removeFiles",value:i(function(a,o){var u=this,s=this.getState(),c=s.files,f=s.currentUploads,d=ae({},c),y=ae({},f),m=Object.create(null);a.forEach(function(T){c[T]&&(m[T]=c[T],delete d[T])});function w(T){return m[T]===void 0}i(w,"fileIsNotRemoved"),Object.keys(y).forEach(function(T){var E=f[T].fileIDs.filter(w);if(E.length===0){delete y[T];return}var A=u.getState(),x=A.capabilities;if(E.length!==f[T].fileIDs.length&&!x.individualCancellation)throw new Error("individualCancellation is disabled");y[T]=ae(ae({},f[T]),{},{fileIDs:E})});var _={currentUploads:y,files:d};Object.keys(d).length===0&&(_.allowNewUpload=!0,_.error=null,_.recoveredState=null),this.setState(_),this.calculateTotalProgress();var R=Object.keys(m);R.forEach(function(T){u.emit("file-removed",m[T],o)}),R.length>5?this.log("Removed ".concat(R.length," files")):this.log("Removed files: ".concat(R.join(", ")))},"removeFiles")},{key:"removeFile",value:i(function(a,o){o===void 0&&(o=null),this.removeFiles([a],o)},"removeFile")},{key:"pauseResume",value:i(function(a){if(!(!this.getState().capabilities.resumableUploads||this.getFile(a).uploadComplete)){var o=this.getFile(a).isPaused||!1,u=!o;return this.setFileState(a,{isPaused:u}),this.emit("upload-pause",a,u),u}},"pauseResume")},{key:"pauseAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(u){return!a[u].progress.uploadComplete&&a[u].progress.uploadStarted});o.forEach(function(u){var s=ae(ae({},a[u]),{},{isPaused:!0});a[u]=s}),this.setState({files:a}),this.emit("pause-all")},"pauseAll")},{key:"resumeAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(u){return!a[u].progress.uploadComplete&&a[u].progress.uploadStarted});o.forEach(function(u){var s=ae(ae({},a[u]),{},{isPaused:!1,error:null});a[u]=s}),this.setState({files:a}),this.emit("resume-all")},"resumeAll")},{key:"retryAll",value:i(function(){var a=ae({},this.getState().files),o=Object.keys(a).filter(function(s){return a[s].error});if(o.forEach(function(s){var c=ae(ae({},a[s]),{},{isPaused:!1,error:null});a[s]=c}),this.setState({files:a,error:null}),this.emit("retry-all",o),o.length===0)return Promise.resolve({successful:[],failed:[]});var u=pe(this,Di)[Di](o,{forceAllowNewUpload:!0});return pe(this,Ui)[Ui](u)},"retryAll")},{key:"cancelAll",value:i(function(a){var o=a===void 0?{}:a,u=o.reason,s=u===void 0?"user":u;if(this.emit("cancel-all",{reason:s}),s==="user"){var c=this.getState(),f=c.files,d=Object.keys(f);d.length&&this.removeFiles(d,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},"cancelAll")},{key:"retryUpload",value:i(function(a){this.setFileState(a,{error:null,isPaused:!1}),this.emit("upload-retry",a);var o=pe(this,Di)[Di]([a],{forceAllowNewUpload:!0});return pe(this,Ui)[Ui](o)},"retryUpload")},{key:"logout",value:i(function(){this.iteratePlugins(function(a){a.provider&&a.provider.logout&&a.provider.logout()})},"logout")},{key:"calculateProgress",value:i(function(a,o){if(a==null||!this.getFile(a.id)){this.log("Not setting progress for a file that has been removed: ".concat(a==null?void 0:a.id));return}var u=Number.isFinite(o.bytesTotal)&&o.bytesTotal>0;this.setFileState(a.id,{progress:ae(ae({},this.getFile(a.id).progress),{},{bytesUploaded:o.bytesUploaded,bytesTotal:o.bytesTotal,percentage:u?Math.round(o.bytesUploaded/o.bytesTotal*100):0})}),this.calculateTotalProgress()},"calculateProgress")},{key:"calculateTotalProgress",value:i(function(){var a=this.getFiles(),o=a.filter(function(R){return R.progress.uploadStarted||R.progress.preprocess||R.progress.postprocess});if(o.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var u=o.filter(function(R){return R.progress.bytesTotal!=null}),s=o.filter(function(R){return R.progress.bytesTotal==null});if(u.length===0){var c=o.length*100,f=s.reduce(function(R,T){return R+T.progress.percentage},0),d=Math.round(f/c*100);this.setState({totalProgress:d});return}var y=u.reduce(function(R,T){return R+T.progress.bytesTotal},0),m=y/u.length;y+=m*s.length;var w=0;u.forEach(function(R){w+=R.progress.bytesUploaded}),s.forEach(function(R){w+=m*(R.progress.percentage||0)/100});var _=y===0?0:Math.round(w/y*100);_>100&&(_=100),this.setState({totalProgress:_}),this.emit("progress",_)},"calculateTotalProgress")},{key:"updateOnlineStatus",value:i(function(){var a=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;a?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},"updateOnlineStatus")},{key:"getID",value:i(function(){return this.opts.id},"getID")},{key:"use",value:i(function(a,o){if(typeof a!="function"){var u="Expected a plugin class, but got ".concat(a===null?"null":Xo(a),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(u)}var s=new a(this,o),c=s.id;if(!c)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");var f=this.getPlugin(c);if(f){var d="Already found a plugin named '".concat(f.id,"'. ")+"Tried to use: '".concat(c,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(d)}return a.VERSION&&this.log("Using ".concat(c," v").concat(a.VERSION)),s.type in pe(this,$t)[$t]?pe(this,$t)[$t][s.type].push(s):pe(this,$t)[$t][s.type]=[s],s.install(),this},"use")},{key:"getPlugin",value:i(function(a){for(var o=0,u=Object.values(pe(this,$t)[$t]);o<u.length;o++){var s=u[o],c=s.find(function(f){return f.id===a});if(c!=null)return c}},"getPlugin")},{key:t,value:i(function(a){return pe(this,$t)[$t][a]},"value")},{key:"iteratePlugins",value:i(function(a){Object.values(pe(this,$t)[$t]).flat(1).forEach(a)},"iteratePlugins")},{key:"removePlugin",value:i(function(a){this.log("Removing plugin ".concat(a.id)),this.emit("plugin-remove",a),a.uninstall&&a.uninstall();var o=pe(this,$t)[$t][a.type],u=o.findIndex(function(f){return f.id===a.id});u!==-1&&o.splice(u,1);var s=this.getState(),c={plugins:ae(ae({},s.plugins),{},nu({},a.id,void 0))};this.setState(c)},"removePlugin")},{key:"close",value:i(function(a){var o=this,u=a===void 0?{}:a,s=u.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:s}),pe(this,Mf)[Mf](),this.iteratePlugins(function(c){o.removePlugin(c)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",pe(this,qn)[qn]),window.removeEventListener("offline",pe(this,qn)[qn]))},"close")},{key:"hideInfo",value:i(function(){var a=this.getState(),o=a.info;this.setState({info:o.slice(1)}),this.emit("info-hidden")},"hideInfo")},{key:"info",value:i(function(a,o,u){var s=this;o===void 0&&(o="info"),u===void 0&&(u=3e3);var c=Xo(a)==="object";this.setState({info:[].concat(am(this.getState().info),[{type:o,message:c?a.message:a,details:c?a.details:null}])}),setTimeout(function(){return s.hideInfo()},u),this.emit("info-visible")},"info")},{key:"log",value:i(function(a,o){var u=this.opts.logger;switch(o){case"error":u.error(a);break;case"warning":u.warn(a);break;default:u.debug(a);break}},"log")},{key:"restore",value:i(function(a){return this.log('Core: attempting to restore upload "'.concat(a,'"')),this.getState().currentUploads[a]?pe(this,Ui)[Ui](a):(pe(this,iu)[iu](a),Promise.reject(new Error("Nonexistent upload")))},"restore")},{key:e,value:i(function(){var a;return(a=pe(this,Di))[Di].apply(a,arguments)},"value")},{key:"addResultData",value:i(function(a,o){if(!pe(this,FE)[FE](a)){this.log("Not setting result for an upload that has been removed: ".concat(a));return}var u=this.getState(),s=u.currentUploads,c=ae(ae({},s[a]),{},{result:ae(ae({},s[a].result),o)});this.setState({currentUploads:ae(ae({},s),{},nu({},a,c))})},"addResultData")},{key:"upload",value:i(function(){var a=this,o;(o=pe(this,$t)[$t].uploader)!=null&&o.length||this.log("No uploader type plugins are used","warning");var u=this.getState(),s=u.files,c=this.opts.onBeforeUpload(s);return c===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(c&&Xo(c)==="object"&&(s=c,this.setState({files:s})),Promise.resolve().then(function(){return pe(a,kn)[kn].validateMinNumberOfFiles(s)}).catch(function(f){throw pe(a,Ur)[Ur](f),f}).then(function(){if(!pe(a,xE)[xE](s))throw new ln(a.i18n("missingRequiredMetaField"))}).catch(function(f){throw f}).then(function(){var f=a.getState(),d=f.currentUploads,y=Object.values(d).flatMap(function(_){return _.fileIDs}),m=[];Object.keys(s).forEach(function(_){var R=a.getFile(_);!R.progress.uploadStarted&&y.indexOf(_)===-1&&m.push(R.id)});var w=pe(a,Di)[Di](m);return pe(a,Ui)[Ui](w)}).catch(function(f){throw a.emit("error",f),a.log(f,"error"),f}))},"upload")}]),r}(sz,lz);function V6e(t,e){var r=t.message,n=t.details,a=n===void 0?"":n;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:r,details:a},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(a).trim(),"error")}i(V6e,"_informAndEmit2");function W6e(t){var e=pe(this,kn)[kn].getMissingRequiredMetaFields(t),r=e.missingFields,n=e.error;return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}i(W6e,"_checkRequiredMetaFieldsOnFile2");function K6e(t){for(var e=!0,r=0,n=Object.values(t);r<n.length;r++){var a=n[r];pe(this,Gf)[Gf](a)||(e=!1)}return e}i(K6e,"_checkRequiredMetaFields2");function Y6e(t){var e=this.getState(),r=e.allowNewUpload;if(r===!1){var n=new ln(this.i18n("noMoreFilesAllowed"));throw pe(this,Ur)[Ur](n,t),n}}i(Y6e,"_assertNewUploadAllowed2");function X6e(t,e){e instanceof File&&(e={name:e.name,type:e.type,size:e.size,data:e});var r=Lf(e),n=RE(r,e),a=ji(n).extension,o=Boolean(e.isRemote),u=jf(ae(ae({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(u)){var s=new ln(this.i18n("noDuplicates",{fileName:n}));throw pe(this,Ur)[Ur](s,e),s}var c=e.meta||{};c.name=n,c.type=r;var f=Number.isFinite(e.data.size)?e.data.size:null,d={source:e.source||"",id:u,name:n,extension:a||"",meta:ae(ae({},this.getState().meta),c),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:f,uploadComplete:!1,uploadStarted:null},size:f,isRemote:o,remote:e.remote||"",preview:e.preview},y=this.opts.onBeforeFileAdded(d,t);if(y===!1){var m=new ln("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,m),m}else Xo(y)==="object"&&y!==null&&(d=y);try{var w=Object.keys(t).map(function(_){return t[_]});pe(this,kn)[kn].validate(d,w)}catch(_){throw pe(this,Ur)[Ur](_,d),_}return d}i(X6e,"_checkAndCreateFileStateObject2");function J6e(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}i(J6e,"_startIfAutoProceed2");function Q6e(){var t=this,e=i(function(n,a,o){var u=n.message||"Unknown error";n.details&&(u+=" ".concat(n.details)),t.setState({error:u}),a!=null&&a.id in t.getState().files&&t.setFileState(a.id,{error:u,response:o})},"errorHandler");this.on("error",e),this.on("upload-error",function(r,n,a){if(e(n,r,a),Xo(n)==="object"&&n.message){var o=new Error(n.message);o.details=n.message,n.details&&(o.details+=" ".concat(n.details)),o.message=t.i18n("failedToUpload",{file:r==null?void 0:r.name}),pe(t,Ur)[Ur](o)}else pe(t,Ur)[Ur](n)}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var a=t.getFile(r.id).progress;t.setFileState(r.id,{progress:ae(ae({},a),{},{postprocess:pe(t,Mi)[Mi].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||a.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:ae(ae({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=ae({},t.getState().files);n[r.id]=ae(ae({},n[r.id]),{},{progress:ae({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&pe(t,Gf)[Gf](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",pe(this,qn)[qn]),window.addEventListener("offline",pe(this,qn)[qn]),setTimeout(pe(this,qn)[qn],3e3))}i(Q6e,"_addListeners2");function Z6e(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,a=n===void 0?!1:n,o=this.getState(),u=o.allowNewUpload,s=o.currentUploads;if(!u&&!a)throw new Error("Cannot create a new upload: already uploading.");var c=sn();return this.emit("upload",{id:c,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:ae(ae({},s),{},nu({},c,{fileIDs:t,step:0,result:{}}))}),c}i(Z6e,"_createUpload2");function e7e(t){var e=this.getState(),r=e.currentUploads;return r[t]}i(e7e,"_getUpload2");function t7e(t){var e=ae({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}i(t7e,"_removeUpload2");function r7e(t){return NE.apply(this,arguments)}i(r7e,"_runUpload2");function NE(){return NE=N6e(LE().mark(i(function t(e){var r=this,n,a,o,u,s,c,f,d,y,m,w,_;return LE().wrap(i(function(T){for(;;)switch(T.prev=T.next){case 0:n=this.getState(),a=n.currentUploads,o=a[e],u=o.step||0,s=[].concat(am(pe(this,tu)[tu]),am(pe(this,ru)[ru]),am(pe(this,Mi)[Mi])),T.prev=4,c=u;case 6:if(!(c<s.length)){T.next=19;break}if(o){T.next=9;break}return T.abrupt("break",19);case 9:return f=s[c],d=ae(ae({},o),{},{step:c}),this.setState({currentUploads:ae(ae({},a),{},nu({},e,d))}),T.next=14,f(d.fileIDs,e);case 14:a=this.getState().currentUploads,o=a[e];case 16:c++,T.next=6;break;case 19:T.next=25;break;case 21:throw T.prev=21,T.t0=T.catch(4),pe(this,iu)[iu](e),T.t0;case 25:if(!o){T.next=34;break}return o.fileIDs.forEach(function(E){var A=r.getFile(E);A&&A.progress.postprocess&&r.emit("postprocess-complete",A)}),y=o.fileIDs.map(function(E){return r.getFile(E)}),m=y.filter(function(E){return!E.error}),w=y.filter(function(E){return E.error}),T.next=32,this.addResultData(e,{successful:m,failed:w,uploadID:e});case 32:a=this.getState().currentUploads,o=a[e];case 34:return o&&(_=o.result,this.emit("complete",_),pe(this,iu)[iu](e)),_==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),T.abrupt("return",_);case 37:case"end":return T.stop()}},"_callee$"),t,this,[[4,21]])},"_callee"))),NE.apply(this,arguments)}i(NE,"_runUpload3");pz.VERSION=H6e.version;var um=pz;var Wf,Ee,gz,n7e,Hf,dz,i7e,sm={},bz=[],o7e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Bi(t,e){for(var r in e)t[r]=e[r];return t}i(Bi,"s");function wz(t){var e=t.parentNode;e&&e.removeChild(t)}i(wz,"a");function S(t,e,r){var n,a,o,u={};for(o in e)o=="key"?n=e[o]:o=="ref"?a=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?Wf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)u[o]===void 0&&(u[o]=t.defaultProps[o]);return Vf(t,u,n,a,null)}i(S,"h");function Vf(t,e,r,n,a){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++gz:a};return a==null&&Ee.vnode!=null&&Ee.vnode(o),o}i(Vf,"v");function Oz(){return{current:null}}i(Oz,"y");function ri(t){return t.children}i(ri,"p");function Be(t,e){this.props=t,this.context=e}i(Be,"d");function el(t,e){if(e==null)return t.__?el(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?el(t):null}i(el,"_");function Sz(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Sz(t)}}i(Sz,"k");function hz(t){(!t.__d&&(t.__d=!0)&&Hf.push(t)&&!lm.__r++||dz!==Ee.debounceRendering)&&((dz=Ee.debounceRendering)||setTimeout)(lm)}i(hz,"b");function lm(){for(var t;lm.__r=Hf.length;)t=Hf.sort(function(e,r){return e.__v.__b-r.__v.__b}),Hf=[],t.some(function(e){var r,n,a,o,u,s;e.__d&&(u=(o=(r=e).__v).__e,(s=r.__P)&&(n=[],(a=Bi({},o)).__v=o.__v+1,DE(s,o,a,r.__n,s.ownerSVGElement!==void 0,o.__h!=null?[u]:null,n,u==null?el(o):u,o.__h),Rz(n,o),o.__e!=u&&Sz(o)))})}i(lm,"g");function _z(t,e,r,n,a,o,u,s,c,f){var d,y,m,w,_,R,T,E=n&&n.__k||bz,A=E.length;for(r.__k=[],d=0;d<e.length;d++)if((w=r.__k[d]=(w=e[d])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Vf(null,w,null,null,w):Array.isArray(w)?Vf(ri,{children:w},null,null,null):w.__b>0?Vf(w.type,w.props,w.key,null,w.__v):w)!=null){if(w.__=r,w.__b=r.__b+1,(m=E[d])===null||m&&w.key==m.key&&w.type===m.type)E[d]=void 0;else for(y=0;y<A;y++){if((m=E[y])&&w.key==m.key&&w.type===m.type){E[y]=void 0;break}m=null}DE(t,w,m=m||sm,a,o,u,s,c,f),_=w.__e,(y=w.ref)&&m.ref!=y&&(T||(T=[]),m.ref&&T.push(m.ref,null,w),T.push(y,w.__c||_,w)),_!=null?(R==null&&(R=_),typeof w.type=="function"&&w.__k===m.__k?w.__d=c=Pz(w,c,t):c=Ez(t,w,m,E,_,c),typeof r.type=="function"&&(r.__d=c)):c&&m.__e==c&&c.parentNode!=t&&(c=el(m))}for(r.__e=R,d=A;d--;)E[d]!=null&&(typeof r.type=="function"&&E[d].__e!=null&&E[d].__e==r.__d&&(r.__d=el(n,d+1)),Az(E[d],E[d]));if(T)for(d=0;d<T.length;d++)Tz(T[d],T[++d],T[++d])}i(_z,"w");function Pz(t,e,r){for(var n,a=t.__k,o=0;a&&o<a.length;o++)(n=a[o])&&(n.__=t,e=typeof n.type=="function"?Pz(n,e,r):Ez(r,n,n,a,n.__e,e));return e}i(Pz,"m");function cn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){cn(r,e)}):e.push(t)),e}i(cn,"x");function Ez(t,e,r,n,a,o){var u,s,c;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(r==null||a!=o||a.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(a),u=null;else{for(s=o,c=0;(s=s.nextSibling)&&c<n.length;c+=2)if(s==a)break e;t.insertBefore(a,o),u=o}return u!==void 0?u:a.nextSibling}i(Ez,"A");function a7e(t,e,r,n,a){var o;for(o in r)o==="children"||o==="key"||o in e||cm(t,o,null,r[o],n);for(o in e)a&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||cm(t,o,e[o],r[o],n)}i(a7e,"C");function vz(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||o7e.test(e)?r:r+"px"}i(vz,"$");function cm(t,e,r,n,a){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||vz(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||vz(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?mz:yz,o):t.removeEventListener(e,o?mz:yz,o);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(u){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}i(cm,"H");function yz(t){this.l[t.type+!1](Ee.event?Ee.event(t):t)}i(yz,"I");function mz(t){this.l[t.type+!0](Ee.event?Ee.event(t):t)}i(mz,"T");function DE(t,e,r,n,a,o,u,s,c){var f,d,y,m,w,_,R,T,E,A,x,U,G,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,s=e.__e=r.__e,e.__h=null,o=[s]),(f=Ee.__b)&&f(e);try{e:if(typeof M=="function"){if(T=e.props,E=(f=M.contextType)&&n[f.__c],A=f?E?E.props.value:f.__:n,r.__c?R=(d=e.__c=r.__c).__=d.__E:("prototype"in M&&M.prototype.render?e.__c=d=new M(T,A):(e.__c=d=new Be(T,A),d.constructor=M,d.render=s7e),E&&E.sub(d),d.props=T,d.state||(d.state={}),d.context=A,d.__n=n,y=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Bi({},d.__s)),Bi(d.__s,M.getDerivedStateFromProps(T,d.__s))),m=d.props,w=d.state,y)M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(M.getDerivedStateFromProps==null&&T!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(T,A),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(T,d.__s,A)===!1||e.__v===r.__v){d.props=T,d.state=d.__s,e.__v!==r.__v&&(d.__d=!1),d.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(z){z&&(z.__=e)}),d.__h.length&&u.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(T,d.__s,A),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,w,_)})}if(d.context=A,d.props=T,d.__v=e,d.__P=t,x=Ee.__r,U=0,"prototype"in M&&M.prototype.render)d.state=d.__s,d.__d=!1,x&&x(e),f=d.render(d.props,d.state,d.context);else do d.__d=!1,x&&x(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++U<25);d.state=d.__s,d.getChildContext!=null&&(n=Bi(Bi({},n),d.getChildContext())),y||d.getSnapshotBeforeUpdate==null||(_=d.getSnapshotBeforeUpdate(m,w)),G=f!=null&&f.type===ri&&f.key==null?f.props.children:f,_z(t,Array.isArray(G)?G:[G],e,r,n,a,o,u,s,c),d.base=e.__e,e.__h=null,d.__h.length&&u.push(d),R&&(d.__E=d.__=null),d.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=u7e(r.__e,e,r,n,a,o,u,c);(f=Ee.diffed)&&f(e)}catch(z){e.__v=null,(c||o!=null)&&(e.__e=s,e.__h=!!c,o[o.indexOf(s)]=null),Ee.__e(z,e,r)}}i(DE,"j");function Rz(t,e){Ee.__c&&Ee.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Ee.__e(n,r.__v)}})}i(Rz,"z");function u7e(t,e,r,n,a,o,u,s){var c,f,d,y=r.props,m=e.props,w=e.type,_=0;if(w==="svg"&&(a=!0),o!=null){for(;_<o.length;_++)if((c=o[_])&&"setAttribute"in c==!!w&&(w?c.localName===w:c.nodeType===3)){t=c,o[_]=null;break}}if(t==null){if(w===null)return document.createTextNode(m);t=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,m.is&&m),o=null,s=!1}if(w===null)y===m||s&&t.data===m||(t.data=m);else{if(o=o&&Wf.call(t.childNodes),f=(y=r.props||sm).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!s){if(o!=null)for(y={},_=0;_<t.attributes.length;_++)y[t.attributes[_].name]=t.attributes[_].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(a7e(t,m,y,a,s),d)e.__k=[];else if(_=e.props.children,_z(t,Array.isArray(_)?_:[_],e,r,n,a&&w!=="foreignObject",o,u,o?o[0]:r.__k&&el(r,0),s),o!=null)for(_=o.length;_--;)o[_]!=null&&wz(o[_]);s||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||w==="progress"&&!_||w==="option"&&_!==y.value)&&cm(t,"value",_,y.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&cm(t,"checked",_,y.checked,!1))}return t}i(u7e,"L");function Tz(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Ee.__e(n,r)}}i(Tz,"M");function Az(t,e,r){var n,a;if(Ee.unmount&&Ee.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Tz(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){Ee.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&Az(n[a],e,typeof t.type!="function");r||t.__e==null||wz(t.__e),t.__e=t.__d=void 0}i(Az,"N");function s7e(t,e,r){return this.constructor(t,r)}i(s7e,"O");function UE(t,e,r){var n,a,o;Ee.__&&Ee.__(t,e),a=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],DE(e,t=(!n&&r||e).__k=S(ri,null,[t]),a||sm,sm,e.ownerSVGElement!==void 0,!n&&r?[r]:a?null:e.firstChild?Wf.call(e.childNodes):null,o,!n&&r?r:a?a.__e:e.firstChild,n),Rz(o,t)}i(UE,"P");function fm(t,e,r){var n,a,o,u=Bi({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?a=e[o]:u[o]=e[o];return arguments.length>2&&(u.children=arguments.length>3?Wf.call(arguments,2):r),Vf(t.type,u,n||t.key,a||t.ref,null)}i(fm,"q");Wf=bz.slice,Ee={__e:i(function(e,r,n,a){for(var o,u,s;r=r.__;)if((o=r.__c)&&!o.__)try{if((u=o.constructor)&&u.getDerivedStateFromError!=null&&(o.setState(u.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,a||{}),s=o.__d),s)return o.__E=o}catch(c){e=c}throw e},"__e")},gz=0,n7e=i(function(e){return e!=null&&e.constructor===void 0},"i"),Be.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bi({},this.state),typeof t=="function"&&(t=t(Bi({},r),this.props)),t&&Bi(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),hz(this))},Be.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),hz(this))},Be.prototype.render=ri,Hf=[],lm.__r=0,i7e=0;function Kf(t){return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE}i(Kf,"isDOMElement");function Yf(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):Kf(t)?t:null}i(Yf,"findDOMElement");function l7e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}i(l7e,"getTextDirection");var pm=l7e;function Iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(Iz,"ownKeys");function tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(r),!0).forEach(function(n){qz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(tl,"_objectSpread");function qz(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(qz,"_defineProperty");function c7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(c7e,"_classCallCheck");function kz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(kz,"_defineProperties");function f7e(t,e,r){return e&&kz(t.prototype,e),r&&kz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(f7e,"_createClass");var lt=function(){function t(e,r){c7e(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return i(t,"BasePlugin"),f7e(t,[{key:"getPluginState",value:i(function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}},"getPluginState")},{key:"setPluginState",value:i(function(r){var n=this.uppy.getState(),a=n.plugins;this.uppy.setState({plugins:tl(tl({},a),{},qz({},this.id,tl(tl({},a[this.id]),r)))})},"setPluginState")},{key:"setOptions",value:i(function(r){this.opts=tl(tl({},this.opts),r),this.setPluginState(),this.i18nInit()},"setOptions")},{key:"i18nInit",value:i(function(){var r=new Zy([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()},"i18nInit")},{key:"addTarget",value:i(function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},"addTarget")},{key:"install",value:i(function(){},"install")},{key:"uninstall",value:i(function(){},"uninstall")},{key:"render",value:i(function(){throw new Error("Extend the render method to add your plugin to a DOM element")},"render")},{key:"update",value:i(function(){},"update")},{key:"afterUpdate",value:i(function(){},"afterUpdate")}]),t}();function dm(t){return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}i(dm,"_typeof");function p7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(p7e,"_classCallCheck");function xz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(xz,"_defineProperties");function d7e(t,e,r){return e&&xz(t.prototype,e),r&&xz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(d7e,"_createClass");function h7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}i(h7e,"_inherits");function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ME(t,e)}i(ME,"_setPrototypeOf");function v7e(t){var e=m7e();return i(function(){var n=hm(t),a;if(e){var o=hm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return y7e(this,a)},"_createSuperInternal")}i(v7e,"_createSuper");function y7e(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fz(t)}i(y7e,"_possibleConstructorReturn");function Fz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Fz,"_assertThisInitialized");function m7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(m7e,"_isNativeReflectConstruct");function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),hm(t)}i(hm,"_getPrototypeOf");function g7e(t){return S7e(t)||O7e(t)||w7e(t)||b7e()}i(g7e,"_toConsumableArray");function b7e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(b7e,"_nonIterableSpread");function w7e(t,e){if(!!t){if(typeof t=="string")return BE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(t,e)}}i(w7e,"_unsupportedIterableToArray");function O7e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(O7e,"_iterableToArray");function S7e(t){if(Array.isArray(t))return BE(t)}i(S7e,"_arrayWithoutHoles");function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(BE,"_arrayLikeToArray");function Cz(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Cz,"_classPrivateFieldLooseBase");var _7e=0;function P7e(t){return"__private_"+_7e+++"_"+t}i(P7e,"_classPrivateFieldLooseKey");function E7e(t){var e=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=a,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,g7e(r))})),e}}i(E7e,"debounce");var Xf=P7e("updateUI"),R7e=function(t){h7e(r,t);var e=v7e(r);function r(){var n;return p7e(this,r),n=e.apply(this,arguments),Object.defineProperty(Fz(n),Xf,{writable:!0,value:void 0}),n}return i(r,"UIPlugin"),d7e(r,[{key:"getTargetPlugin",value:i(function(a){var o;if(dm(a)==="object"&&a instanceof r)o=a;else if(typeof a=="function"){var u=a;this.uppy.iteratePlugins(function(s){s instanceof u&&(o=s)})}return o},"getTargetPlugin")},{key:"mount",value:i(function(a,o){var u=this,s=o.id,c=Yf(a);if(c){this.isTargetDOMEl=!0;var f=document.createElement("div");return f.classList.add("uppy-Root"),Cz(this,Xf)[Xf]=E7e(function(m){!u.uppy.getPlugin(u.id)||(UE(u.render(m),f),u.afterUpdate())}),this.uppy.log("Installing ".concat(s," to a DOM element '").concat(a,"'")),this.opts.replaceTargetContent&&(c.innerHTML=""),UE(this.render(this.uppy.getState()),f),this.el=f,c.appendChild(f),f.dir=this.opts.direction||pm(f)||"ltr",this.onMount(),this.el}var d=this.getTargetPlugin(a);if(d)return this.uppy.log("Installing ".concat(s," to ").concat(d.id)),this.parent=d,this.el=d.addTarget(o),this.onMount(),this.el;this.uppy.log("Not installing ".concat(s));var y="Invalid target option given to ".concat(s,".");throw typeof a=="function"?y+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":y+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(y)},"mount")},{key:"update",value:i(function(a){if(this.el!=null){var o,u;(o=(u=Cz(this,Xf))[Xf])==null||o.call(u,a)}},"update")},{key:"unmount",value:i(function(){if(this.isTargetDOMEl){var a;(a=this.el)==null||a.remove()}this.onUnmount()},"unmount")},{key:"onMount",value:i(function(){},"onMount")},{key:"onUnmount",value:i(function(){},"onUnmount")}]),r}(lt),Se=R7e;var nR={};Hl(nR,{Provider:function(){return Me},RequestClient:function(){return dt},SearchProvider:function(){return _m},Socket:function(){return ii}});function $E(t){return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}i($E,"_typeof");function Lz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Lz,"_defineProperties");function T7e(t,e,r){return e&&Lz(t.prototype,e),r&&Lz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(T7e,"_createClass");function A7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(A7e,"_classCallCheck");function I7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jf(t,e)}i(I7e,"_inherits");function k7e(t){var e=jz();return i(function(){var n=Qf(t),a;if(e){var o=Qf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return q7e(this,a)},"_createSuperInternal")}i(k7e,"_createSuper");function q7e(t,e){if(e&&($E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x7e(t)}i(q7e,"_possibleConstructorReturn");function x7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(x7e,"_assertThisInitialized");function zE(t){var e=typeof Map=="function"?new Map:void 0;return zE=i(function(n){if(n===null||!C7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return vm(n,arguments,Qf(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Jf(a,n)},"_wrapNativeSuper"),zE(t)}i(zE,"_wrapNativeSuper");function vm(t,e,r){return jz()?vm=Reflect.construct.bind():vm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&Jf(f,u.prototype),f},"_construct"),vm.apply(null,arguments)}i(vm,"_construct");function jz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(jz,"_isNativeReflectConstruct");function C7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(C7e,"_isNativeFunction");function Jf(t,e){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Jf(t,e)}i(Jf,"_setPrototypeOf");function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qf(t)}i(Qf,"_getPrototypeOf");var F7e=function(t){I7e(r,t);var e=k7e(r);function r(n,a){var o;return A7e(this,r),a===void 0&&(a=null),o=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),o.cause=n,o.isNetworkError=!0,o.request=a,o}return i(r,"NetworkError"),T7e(r)}(zE(Error)),xn=F7e;function $i(){return fetch.apply(void 0,arguments).catch(function(t){throw t.name==="AbortError"?t:new xn(t)})}i($i,"fetchWithNetworkError");function GE(t){return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(t)}i(GE,"_typeof");function Nz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Nz,"_defineProperties");function L7e(t,e,r){return e&&Nz(t.prototype,e),r&&Nz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(L7e,"_createClass");function j7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(j7e,"_classCallCheck");function N7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zf(t,e)}i(N7e,"_inherits");function D7e(t){var e=Dz();return i(function(){var n=ep(t),a;if(e){var o=ep(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return U7e(this,a)},"_createSuperInternal")}i(D7e,"_createSuper");function U7e(t,e){if(e&&(GE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M7e(t)}i(U7e,"_possibleConstructorReturn");function M7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(M7e,"_assertThisInitialized");function HE(t){var e=typeof Map=="function"?new Map:void 0;return HE=i(function(n){if(n===null||!B7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return ym(n,arguments,ep(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Zf(a,n)},"_wrapNativeSuper"),HE(t)}i(HE,"_wrapNativeSuper");function ym(t,e,r){return Dz()?ym=Reflect.construct.bind():ym=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&Zf(f,u.prototype),f},"_construct"),ym.apply(null,arguments)}i(ym,"_construct");function Dz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Dz,"_isNativeReflectConstruct");function B7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(B7e,"_isNativeFunction");function Zf(t,e){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Zf(t,e)}i(Zf,"_setPrototypeOf");function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ep(t)}i(ep,"_getPrototypeOf");var $7e=function(t){N7e(r,t);var e=D7e(r);function r(n,a){var o;return j7e(this,r),a===void 0&&(a={}),o=e.call(this,n),o.cause=a.cause,o.cause&&Dr(o.cause,"isNetworkError")&&(o.isNetworkError=o.cause.isNetworkError),o}return i(r,"ErrorWithCause"),L7e(r)}(HE(Error)),ni=$7e;function VE(t){return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(t)}i(VE,"_typeof");function Uz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Uz,"_defineProperties");function z7e(t,e,r){return e&&Uz(t.prototype,e),r&&Uz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(z7e,"_createClass");function G7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(G7e,"_classCallCheck");function H7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tp(t,e)}i(H7e,"_inherits");function V7e(t){var e=Mz();return i(function(){var n=rp(t),a;if(e){var o=rp(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return W7e(this,a)},"_createSuperInternal")}i(V7e,"_createSuper");function W7e(t,e){if(e&&(VE(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K7e(t)}i(W7e,"_possibleConstructorReturn");function K7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(K7e,"_assertThisInitialized");function WE(t){var e=typeof Map=="function"?new Map:void 0;return WE=i(function(n){if(n===null||!Y7e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return mm(n,arguments,rp(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),tp(a,n)},"_wrapNativeSuper"),WE(t)}i(WE,"_wrapNativeSuper");function mm(t,e,r){return Mz()?mm=Reflect.construct.bind():mm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&tp(f,u.prototype),f},"_construct"),mm.apply(null,arguments)}i(mm,"_construct");function Mz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Mz,"_isNativeReflectConstruct");function Y7e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(Y7e,"_isNativeFunction");function tp(t,e){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tp(t,e)}i(tp,"_setPrototypeOf");function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),rp(t)}i(rp,"_getPrototypeOf");var X7e=function(t){H7e(r,t);var e=V7e(r);function r(){var n;return G7e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return i(r,"AuthError"),z7e(r)}(WE(Error)),Bz=X7e;function YE(t){return YE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YE(t)}i(YE,"_typeof");function XE(){"use strict";XE=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&YE(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(XE,"_regeneratorRuntime");function J7e(t,e){return t9e(t)||e9e(t,e)||Z7e(t,e)||Q7e()}i(J7e,"_slicedToArray");function Q7e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Q7e,"_nonIterableRest");function Z7e(t,e){if(!!t){if(typeof t=="string")return $z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $z(t,e)}}i(Z7e,"_unsupportedIterableToArray");function $z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i($z,"_arrayLikeToArray");function e9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(e9e,"_iterableToArrayLimit");function t9e(t){if(Array.isArray(t))return t}i(t9e,"_arrayWithHoles");function zz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(zz,"ownKeys");function gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(r),!0).forEach(function(n){Vz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(gm,"_objectSpread");function Vz(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Vz,"_defineProperty");function r9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(r9e,"_classCallCheck");function Gz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Gz,"_defineProperties");function n9e(t,e,r){return e&&Gz(t.prototype,e),r&&Gz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(n9e,"_createClass");function Hz(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(Hz,"asyncGeneratorStep");function i9e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){Hz(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){Hz(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(i9e,"_asyncToGenerator");var Wz;function Rr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Rr,"_classPrivateFieldLooseBase");var o9e=0;function bm(t){return"__private_"+o9e+++"_"+t}i(bm,"_classPrivateFieldLooseKey");var a9e={version:"3.0.2"};function u9e(t){return t.replace(/\/$/,"")}i(u9e,"stripSlash");function KE(t){return JE.apply(this,arguments)}i(KE,"handleJSONResponse");function JE(){return JE=i9e(XE().mark(i(function t(e){var r,n,a;return XE().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:if(e.status!==401){u.next=2;break}throw new Bz;case 2:if(r=e.json(),!(e.status<200||e.status>300)){u.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),u.prev=5,u.next=8,r;case 8:a=u.sent,n=a.message?"".concat(n," message: ").concat(a.message):n,n=a.requestId?"".concat(n," request-Id: ").concat(a.requestId):n;case 11:throw u.prev=11,new Error(n);case 14:return u.abrupt("return",r);case 15:case"end":return u.stop()}},"_callee$"),t,null,[[5,,11,14]])},"_callee"))),JE.apply(this,arguments)}i(JE,"_handleJSONResponse");var zi=bm("companionHeaders"),ou=bm("getPostResponseFunc"),Gi=bm("getUrl"),au=bm("errorHandler");Wz=Symbol.for("uppy test: getCompanionHeaders");var dt=function(t){function e(r,n){var a=this;r9e(this,e),Object.defineProperty(this,au,{value:l9e}),Object.defineProperty(this,Gi,{value:s9e}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,ou,{writable:!0,value:i(function(u){return function(s){return u?s:a.onReceiveResponse(s)}},"value")}),this.uppy=r,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,Rr(this,zi)[zi]=n==null?void 0:n.companionHeaders}return i(e,"RequestClient"),n9e(e,[{key:"setCompanionHeaders",value:i(function(n){Rr(this,zi)[zi]=n},"setCompanionHeaders")},{key:t,value:i(function(){return Rr(this,zi)[zi]},"value")},{key:"hostname",get:i(function(){var n=this.uppy.getState(),a=n.companion,o=this.opts.companionUrl;return u9e(a&&a[o]?a[o]:o)},"get")},{key:"headers",value:i(function(){return Promise.resolve(gm(gm({},e.defaultHeaders),Rr(this,zi)[zi]))},"headers")},{key:"onReceiveResponse",value:i(function(n){var a=this.uppy.getState(),o=a.companion||{},u=this.opts.companionUrl,s=n.headers;return s.has("i-am")&&s.get("i-am")!==o[u]&&this.uppy.setState({companion:gm(gm({},o),{},Vz({},u,s.get("i-am")))}),n},"onReceiveResponse")},{key:"preflight",value:i(function(n){var a=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Rr(this,Gi)[Gi](n),{method:"OPTIONS"}).then(function(o){return o.headers.has("access-control-allow-headers")&&(a.allowedHeaders=o.headers.get("access-control-allow-headers").split(",").map(function(u){return u.trim().toLowerCase()})),a.preflightDone=!0,a.allowedHeaders.slice()}).catch(function(o){return a.uppy.log("[CompanionClient] unable to make preflight request ".concat(o),"warning"),a.preflightDone=!0,a.allowedHeaders.slice()})},"preflight")},{key:"preflightAndHeaders",value:i(function(n){var a=this;return Promise.all([this.preflight(n),this.headers()]).then(function(o){var u=J7e(o,2),s=u[0],c=u[1];return Object.keys(c).forEach(function(f){s.includes(f.toLowerCase())||(a.uppy.log("[CompanionClient] excluding disallowed header ".concat(f)),delete c[f])}),c})},"preflightAndHeaders")},{key:"get",value:i(function(n,a){var o=this,u="get";return this.preflightAndHeaders(n).then(function(s){return $i(Rr(o,Gi)[Gi](n),{method:u,headers:s,credentials:o.opts.companionCookiesRule||"same-origin"})}).then(Rr(this,ou)[ou](a)).then(KE).catch(Rr(this,au)[au](u,n))},"get")},{key:"post",value:i(function(n,a,o){var u=this,s="post";return this.preflightAndHeaders(n).then(function(c){return $i(Rr(u,Gi)[Gi](n),{method:s,headers:c,credentials:u.opts.companionCookiesRule||"same-origin",body:JSON.stringify(a)})}).then(Rr(this,ou)[ou](o)).then(KE).catch(Rr(this,au)[au](s,n))},"post")},{key:"delete",value:i(function(n,a,o){var u=this,s="delete";return this.preflightAndHeaders(n).then(function(c){return $i("".concat(u.hostname,"/").concat(n),{method:s,headers:c,credentials:u.opts.companionCookiesRule||"same-origin",body:a?JSON.stringify(a):null})}).then(Rr(this,ou)[ou](o)).then(KE).catch(Rr(this,au)[au](s,n))},"_delete")}]),e}(Wz);function s9e(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}i(s9e,"_getUrl2");function l9e(t,e){var r=this;return function(n){var a;return(a=n)!=null&&a.isAuthError||(n=new ni("Could not ".concat(t," ").concat(Rr(r,Gi)[Gi](e)),{cause:n})),Promise.reject(n)}}i(l9e,"_errorHandler2");dt.VERSION=a9e.version;dt.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(dt.VERSION)};var QE={};Hl(QE,{getItem:function(){return f9e},removeItem:function(){return p9e},setItem:function(){return c9e}});function c9e(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})}i(c9e,"setItem");function f9e(t){return Promise.resolve(localStorage.getItem(t))}i(f9e,"getItem");function p9e(t){return new Promise(function(e){localStorage.removeItem(t),e()})}i(p9e,"removeItem");function Om(t){return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}i(Om,"_typeof");function np(){"use strict";np=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Om(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(np,"_regeneratorRuntime");function Kz(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(Kz,"asyncGeneratorStep");function Yz(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){Kz(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){Kz(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(Yz,"_asyncToGenerator");function Xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(Xz,"ownKeys");function wm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(r),!0).forEach(function(n){d9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(wm,"_objectSpread");function d9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(d9e,"_defineProperty");function Jz(t,e){return m9e(t)||y9e(t,e)||v9e(t,e)||h9e()}i(Jz,"_slicedToArray");function h9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(h9e,"_nonIterableRest");function v9e(t,e){if(!!t){if(typeof t=="string")return Qz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qz(t,e)}}i(v9e,"_unsupportedIterableToArray");function Qz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(Qz,"_arrayLikeToArray");function y9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(y9e,"_iterableToArrayLimit");function m9e(t){if(Array.isArray(t))return t}i(m9e,"_arrayWithHoles");function g9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(g9e,"_classCallCheck");function Zz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(Zz,"_defineProperties");function b9e(t,e,r){return e&&Zz(t.prototype,e),r&&Zz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(b9e,"_createClass");function ip(){return typeof Reflect!="undefined"&&Reflect.get?ip=Reflect.get.bind():ip=i(function(e,r,n){var a=w9e(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),ip.apply(this,arguments)}i(ip,"_get");function w9e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=uu(t),t!==null););return t}i(w9e,"_superPropBase");function O9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}i(O9e,"_inherits");function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ZE(t,e)}i(ZE,"_setPrototypeOf");function S9e(t){var e=E9e();return i(function(){var n=uu(t),a;if(e){var o=uu(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _9e(this,a)},"_createSuperInternal")}i(S9e,"_createSuper");function _9e(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9e(t)}i(_9e,"_possibleConstructorReturn");function P9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(P9e,"_assertThisInitialized");function E9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(E9e,"_isNativeReflectConstruct");function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),uu(t)}i(uu,"_getPrototypeOf");var R9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),Me=function(t){O9e(r,t);var e=S9e(r);function r(n,a){var o;return g9e(this,r),o=e.call(this,n,a),o.provider=a.provider,o.id=o.provider,o.name=o.opts.name||R9e(o.id),o.pluginId=o.opts.pluginId,o.tokenKey="companion-".concat(o.pluginId,"-auth-token"),o.companionKeysParams=o.opts.companionKeysParams,o.preAuthToken=null,o}return i(r,"Provider"),b9e(r,[{key:"headers",value:i(function(){var a=this;return Promise.all([ip(uu(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(o){var u=Jz(o,2),s=u[0],c=u[1],f={};return c&&(f["uppy-auth-token"]=c),a.companionKeysParams&&(f["uppy-credentials-params"]=btoa(JSON.stringify({params:a.companionKeysParams}))),wm(wm({},s),f)})},"headers")},{key:"onReceiveResponse",value:i(function(a){a=ip(uu(r.prototype),"onReceiveResponse",this).call(this,a);var o=this.uppy.getPlugin(this.pluginId),u=o.getPluginState().authenticated,s=u?a.status!==401:a.status<400;return o.setPluginState({authenticated:s}),a},"onReceiveResponse")},{key:"setAuthToken",value:i(function(a){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,a)},"setAuthToken")},{key:"getAuthToken",value:i(function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},"getAuthToken")},{key:"ensurePreAuth",value:function(){var n=Yz(np().mark(i(function o(){return np().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){s.next=5;break}return s.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){s.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return s.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"ensurePreAuth"),a}()},{key:"authUrl",value:i(function(a){a===void 0&&(a={});var o=new URLSearchParams(a);return this.preAuthToken&&o.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(o)},"authUrl")},{key:"fileUrl",value:i(function(a){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(a)},"fileUrl")},{key:"fetchPreAuthToken",value:function(){var n=Yz(np().mark(i(function o(){var u;return np().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.companionKeysParams){c.next=2;break}return c.abrupt("return");case 2:return c.prev=2,c.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:u=c.sent,this.preAuthToken=u.token,c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(c.t0),"warning");case 12:case"end":return c.stop()}},"_callee2$"),o,this,[[2,9]])},"_callee2")));function a(){return n.apply(this,arguments)}return i(a,"fetchPreAuthToken"),a}()},{key:"list",value:i(function(a){return this.get("".concat(this.id,"/list/").concat(a||""))},"list")},{key:"logout",value:i(function(){var a=this;return this.get("".concat(this.id,"/logout")).then(function(o){return Promise.all([o,a.uppy.getPlugin(a.pluginId).storage.removeItem(a.tokenKey)])}).then(function(o){var u=Jz(o,1),s=u[0];return s})},"logout")}],[{key:"initPlugin",value:i(function(a,o,u){if(a.type="acquirer",a.files=[],u&&(a.opts=wm(wm({},u),o)),o.serverUrl||o.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(o.companionAllowedHosts){var s=o.companionAllowedHosts;if(typeof s!="string"&&!Array.isArray(s)&&!(s instanceof RegExp))throw new TypeError("".concat(a.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));a.opts.companionAllowedHosts=s}else/^(?!https?:\/\/).*$/i.test(o.companionUrl)?a.opts.companionAllowedHosts="https://".concat(o.companionUrl.replace(/^\/\//,"")):a.opts.companionAllowedHosts=new URL(o.companionUrl).origin;a.storage=a.opts.storage||QE},"initPlugin")}]),r}(dt);function eR(t){return eR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eR(t)}i(eR,"_typeof");function T9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(T9e,"_classCallCheck");function eG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eG,"_defineProperties");function A9e(t,e,r){return e&&eG(t.prototype,e),r&&eG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(A9e,"_createClass");function I9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tR(t,e)}i(I9e,"_inherits");function tR(t,e){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tR(t,e)}i(tR,"_setPrototypeOf");function k9e(t){var e=C9e();return i(function(){var n=Sm(t),a;if(e){var o=Sm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return q9e(this,a)},"_createSuperInternal")}i(k9e,"_createSuper");function q9e(t,e){if(e&&(eR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x9e(t)}i(q9e,"_possibleConstructorReturn");function x9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(x9e,"_assertThisInitialized");function C9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(C9e,"_isNativeReflectConstruct");function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Sm(t)}i(Sm,"_getPrototypeOf");var F9e=i(function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},"getName"),_m=function(t){I9e(r,t);var e=k9e(r);function r(n,a){var o;return T9e(this,r),o=e.call(this,n,a),o.provider=a.provider,o.id=o.provider,o.name=o.opts.name||F9e(o.id),o.pluginId=o.opts.pluginId,o}return i(r,"SearchProvider"),A9e(r,[{key:"fileUrl",value:i(function(a){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(a)},"fileUrl")},{key:"search",value:i(function(a,o){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(a)).concat(o?"&".concat(o):""))},"search")}]),r}(dt);var iG=Te(OE(),1);function L9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(L9e,"_classCallCheck");function tG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(tG,"_defineProperties");function j9e(t,e,r){return e&&tG(t.prototype,e),r&&tG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(j9e,"_createClass");var rG,nG;function St(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(St,"_classPrivateFieldLooseBase");var N9e=0;function op(t){return"__private_"+N9e+++"_"+t}i(op,"_classPrivateFieldLooseKey");var Hi=op("queued"),su=op("emitter"),Cn=op("isOpen"),ur=op("socket"),rR=op("handleMessage");rG=Symbol.for("uppy test: getSocket");nG=Symbol.for("uppy test: getQueued");var ii=function(t,e){function r(n){var a=this;L9e(this,r),Object.defineProperty(this,Hi,{writable:!0,value:[]}),Object.defineProperty(this,su,{writable:!0,value:(0,iG.default)()}),Object.defineProperty(this,Cn,{writable:!0,value:!1}),Object.defineProperty(this,ur,{writable:!0,value:void 0}),Object.defineProperty(this,rR,{writable:!0,value:i(function(u){try{var s=JSON.parse(u.data);a.emit(s.action,s.payload)}catch(c){console.log(c)}},"value")}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return i(r,"UppySocket"),j9e(r,[{key:"isOpen",get:i(function(){return St(this,Cn)[Cn]},"get")},{key:t,value:i(function(){return St(this,ur)[ur]},"value")},{key:e,value:i(function(){return St(this,Hi)[Hi]},"value")},{key:"open",value:i(function(){var a=this;St(this,ur)[ur]=new WebSocket(this.opts.target),St(this,ur)[ur].onopen=function(){for(St(a,Cn)[Cn]=!0;St(a,Hi)[Hi].length>0&&St(a,Cn)[Cn];){var o=St(a,Hi)[Hi].shift();a.send(o.action,o.payload)}},St(this,ur)[ur].onclose=function(){St(a,Cn)[Cn]=!1},St(this,ur)[ur].onmessage=St(this,rR)[rR]},"open")},{key:"close",value:i(function(){var a;(a=St(this,ur)[ur])==null||a.close()},"close")},{key:"send",value:i(function(a,o){if(!St(this,Cn)[Cn]){St(this,Hi)[Hi].push({action:a,payload:o});return}St(this,ur)[ur].send(JSON.stringify({action:a,payload:o}))},"send")},{key:"on",value:i(function(a,o){St(this,su)[su].on(a,o)},"on")},{key:"emit",value:i(function(a,o){St(this,su)[su].emit(a,o)},"emit")},{key:"once",value:i(function(a,o){St(this,su)[su].once(a,o)},"once")}]),r}(rG,nG);var mR={};Hl(mR,{ProviderViews:function(){return Dt},SearchProviderViews:function(){return nl}});function D9e(){return S("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},S("g",{fill:"none","fill-rule":"evenodd"},S("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),S("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),S("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),S("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),S("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),S("path",{d:"M4 4h18v18H4z"})))}i(D9e,"GoogleIcon");function U9e(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,a=t.handleAuth,o=e==="Google Drive",u=S("span",{className:"uppy-Provider-authTitleName"},e,S("br",null));return S("div",{className:"uppy-Provider-auth"},S("div",{className:"uppy-Provider-authIcon"},r()),S("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:u})),o?S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:a,"data-uppy-super-focusable":!0},S(D9e,null),n("signInWithGoogle")):S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:a,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}i(U9e,"AuthView");var oG=U9e;var aG=i(function(t){var e=t.i18n,r=t.logout,n=t.username;return[S("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),S("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))]},"default");var M9e=i(function(e){var r=e.getFolder,n=e.title,a=e.isLast;return S(ri,null,S("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:r},n),a?"":" / ")},"Breadcrumb"),uG=i(function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,a=t.directories;return S("div",{className:"uppy-Provider-breadcrumbs"},S("div",{className:"uppy-Provider-breadcrumbsIcon"},n),a.map(function(o,u){return S(M9e,{key:o.id,getFolder:i(function(){return e(o.id)},"getFolder"),title:u===0?r:o.title,isLast:u+1===a.length})}))},"default");var sG=i(function(t){var e=[];return t.showBreadcrumbs&&e.push(uG({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(aG({logout:t.logout,username:t.username,i18n:t.i18n})),e},"default");var lR=Te(Mr(),1);function lG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(lG,"ownKeys");function cG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lG(Object(r),!0).forEach(function(n){B9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(cG,"_objectSpread");function B9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(B9e,"_defineProperty");function ap(t){return cG(cG({},t),{},{type:t.mimeType,extension:t.name?ji(t.name).extension:null})}i(ap,"remoteFileObjToLocal");function iR(t){return iR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iR(t)}i(iR,"_typeof");function $9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($9e,"_classCallCheck");function fG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(fG,"_defineProperties");function z9e(t,e,r){return e&&fG(t.prototype,e),r&&fG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(z9e,"_createClass");function G9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oR(t,e)}i(G9e,"_inherits");function oR(t,e){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),oR(t,e)}i(oR,"_setPrototypeOf");function H9e(t){var e=W9e();return i(function(){var n=Rm(t),a;if(e){var o=Rm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return V9e(this,a)},"_createSuperInternal")}i(H9e,"_createSuper");function V9e(t,e){if(e&&(iR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pG(t)}i(V9e,"_possibleConstructorReturn");function pG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(pG,"_assertThisInitialized");function W9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(W9e,"_isNativeReflectConstruct");function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rm(t)}i(Rm,"_getPrototypeOf");var dG=function(t){G9e(r,t);var e=H9e(r);function r(n){var a;return $9e(this,r),a=e.call(this,n),a.preventEnterPress=a.preventEnterPress.bind(pG(a)),a}return i(r,"Filter"),z9e(r,[{key:"preventEnterPress",value:i(function(a){a.keyCode===13&&(a.stopPropagation(),a.preventDefault())},"preventEnterPress")},{key:"render",value:i(function(){var a=this.props,o=a.i18n,u=a.filterInput,s=a.filterQuery;return S("div",{className:"uppy-ProviderBrowser-filter"},S("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:o("filter"),"aria-label":o("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:i(function(f){return s(f)},"onInput"),value:u}),S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},S("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),u&&S("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":o("resetFilter"),title:o("resetFilter"),onClick:s},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},S("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},"render")}]),r}(Be);var hG=i(function(t){var e=t.cancel,r=t.done,n=t.i18n,a=t.selected;return S("div",{className:"uppy-ProviderBrowser-footer"},S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:a})),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},n("cancel")))},"default");var mG=Te(Mr(),1);function K9e(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},S("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}i(K9e,"FileIcon");function Y9e(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},S("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}i(Y9e,"FolderIcon");function X9e(){return S("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},S("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),S("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}i(X9e,"VideoIcon");var vG=i(function(t){var e=t.itemIconString;if(e!==null)switch(e){case"file":return S(K9e,null);case"folder":return S(Y9e,null);case"video":return S(X9e,null);default:{var r=t.alt;return S("img",{src:e,alt:r})}}},"default");function J9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,a=t.isChecked,o=t.title,u=t.itemIconEl,s=t.showTitles,c=t.toggleCheckbox,f=t.recordShiftKeyPress,d=t.id,y=t.children;return S("li",{className:e,title:r?n==null?void 0:n.message:null},S("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:c,onKeyDown:f,name:"listitem",id:d,checked:a,disabled:r,"data-uppy-super-focusable":!0}),S("label",{htmlFor:d,"aria-label":o,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},S("span",{className:"uppy-ProviderBrowserItem-inner-relative"},u,s&&o,y)))}i(J9e,"GridListItem");var aR=J9e;function Q9e(t){var e=t.className,r=t.isDisabled,n=t.restrictionError,a=t.isCheckboxDisabled,o=t.isChecked,u=t.toggleCheckbox,s=t.recordShiftKeyPress,c=t.type,f=t.id,d=t.itemIconEl,y=t.title,m=t.handleFolderClick,w=t.showTitles,_=t.i18n;return S("li",{className:e,title:r?n==null?void 0:n.message:null},a?null:S("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(o?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:u,onKeyDown:s,name:"listitem",id:f,checked:o,"aria-label":c==="file"?null:_("allFilesFromFolderNamed",{name:y}),disabled:r,"data-uppy-super-focusable":!0}),c==="file"?S("label",{htmlFor:f,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},S("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),w&&y):S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:m,"aria-label":_("openFolderNamed",{name:y})},S("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),w&&S("span",null,y)))}i(Q9e,"ListItem");var yG=Q9e;function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},up.apply(this,arguments)}i(up,"_extends");var uR=i(function(t){var e=t.author,r=t.getItemIcon,n=t.isChecked,a=t.isDisabled,o=t.viewType,u=r(),s=(0,mG.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":a},{"uppy-ProviderBrowserItem--noPreview":u==="video"}),c=S(vG,{itemIconString:u});switch(o){case"grid":return S(aR,up({},t,{className:s,itemIconEl:c}));case"list":return S(yG,up({},t,{className:s,itemIconEl:c}));case"unsplash":return S(aR,up({},t,{className:s,itemIconEl:c}),S("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(o))}},"default");function gG(t){return r$e(t)||t$e(t)||e$e(t)||Z9e()}i(gG,"_toConsumableArray");function Z9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Z9e,"_nonIterableSpread");function e$e(t,e){if(!!t){if(typeof t=="string")return sR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(t,e)}}i(e$e,"_unsupportedIterableToArray");function t$e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(t$e,"_iterableToArray");function r$e(t){if(Array.isArray(t))return sR(t)}i(r$e,"_arrayWithoutHoles");function sR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(sR,"_arrayLikeToArray");var n$e="shared-with-me";function i$e(t){var e=t.currentSelection,r=t.folders,n=t.files,a=t.uppyFiles,o=t.viewType,u=t.headerComponent,s=t.showBreadcrumbs,c=t.isChecked,f=t.toggleCheckbox,d=t.recordShiftKeyPress,y=t.handleScroll,m=t.showTitles,w=t.i18n,_=t.validateRestrictions,R=t.showFilter,T=t.filterQuery,E=t.filterInput,A=t.getNextFolder,x=t.cancel,U=t.done,G=t.columns,M=e.length;return S("div",{className:(0,lR.default)("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(o))},S("div",{className:"uppy-ProviderBrowser-header"},S("div",{className:(0,lR.default)("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},u)),R&&S(dG,{i18n:w,filterQuery:T,filterInput:E}),function(){return!r.length&&!n.length?S("div",{className:"uppy-Provider-empty"},w("noFilesFound")):S("div",{className:"uppy-ProviderBrowser-body"},S("ul",{className:"uppy-ProviderBrowser-list",onScroll:y,role:"listbox",tabIndex:"-1"},r.map(function(z){var W;return uR({columns:G,showTitles:m,viewType:o,i18n:w,id:z.id,title:z.name,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:c(z),toggleCheckbox:i(function(p){return f(p,z)},"toggleCheckbox"),recordShiftKeyPress:d,type:"folder",isDisabled:(W=c(z))==null?void 0:W.loading,isCheckboxDisabled:z.id===n$e,handleFolderClick:i(function(){return A(z)},"handleFolderClick")})}),n.map(function(z){var W=_(ap(z),[].concat(gG(a),gG(e)));return uR({id:z.id,title:z.name,author:z.author,getItemIcon:i(function(){return z.icon},"getItemIcon"),isChecked:c(z),toggleCheckbox:i(function(p){return f(p,z)},"toggleCheckbox"),recordShiftKeyPress:d,columns:G,showTitles:m,viewType:o,i18n:w,type:"file",isDisabled:W&&!c(z),restrictionError:W})})))}(),M>0&&S(hG,{selected:M,done:U,cancel:x,i18n:w}))}i(i$e,"Browser");var Tm=i$e;var Am=i(function(t){var e=t.i18n;return S("div",{className:"uppy-Provider-loading"},S("span",null,e("loading")))},"default");function cR(t){return cR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cR(t)}i(cR,"_typeof");function o$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(o$e,"_classCallCheck");function bG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(bG,"_defineProperties");function a$e(t,e,r){return e&&bG(t.prototype,e),r&&bG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(a$e,"_createClass");function u$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fR(t,e)}i(u$e,"_inherits");function fR(t,e){return fR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),fR(t,e)}i(fR,"_setPrototypeOf");function s$e(t){var e=f$e();return i(function(){var n=Im(t),a;if(e){var o=Im(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return l$e(this,a)},"_createSuperInternal")}i(s$e,"_createSuper");function l$e(t,e){if(e&&(cR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c$e(t)}i(l$e,"_possibleConstructorReturn");function c$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(c$e,"_assertThisInitialized");function f$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(f$e,"_isNativeReflectConstruct");function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Im(t)}i(Im,"_getPrototypeOf");var Jo=function(t){u$e(r,t);var e=s$e(r);function r(){return o$e(this,r),e.apply(this,arguments)}return i(r,"CloseWrapper"),a$e(r,[{key:"componentWillUnmount",value:i(function(){var a=this.props.onUnmount;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this.props.children;return cn(a)[0]},"render")}]),r}(Be);function rl(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}i(rl,"isPreviewSupported");function p$e(t){return v$e(t)||h$e(t)||OG(t)||d$e()}i(p$e,"_toConsumableArray");function d$e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(d$e,"_nonIterableSpread");function h$e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(h$e,"_iterableToArray");function v$e(t){if(Array.isArray(t))return pR(t)}i(v$e,"_arrayWithoutHoles");function y$e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=OG(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(y$e,"_createForOfIteratorHelper");function OG(t,e){if(!!t){if(typeof t=="string")return pR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(t,e)}}i(OG,"_unsupportedIterableToArray");function pR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(pR,"_arrayLikeToArray");function m$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(m$e,"_classCallCheck");function wG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wG,"_defineProperties");function g$e(t,e,r){return e&&wG(t.prototype,e),r&&wG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(g$e,"_createClass");var SG=function(){function t(e){m$e(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return i(t,"SharedHandler"),g$e(t,[{key:"filterItems",value:i(function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(a){return a.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})},"filterItems")},{key:"recordShiftKeyPress",value:i(function(r){this.isShiftKeyPressed=r.shiftKey},"recordShiftKeyPress")},{key:"toggleCheckbox",value:i(function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var a=this.plugin.getPluginState(),o=a.folders,u=a.files,s=this.filterItems(o.concat(u));if(this.lastCheckbox&&this.isShiftKeyPressed){var c=s.indexOf(this.lastCheckbox),f=s.indexOf(n),d=c<f?s.slice(c,f+1):s.slice(f,c+1),y=[],m=y$e(d),w;try{for(m.s();!(w=m.n()).done;){var _=w.value,R=this.plugin.uppy,T=R.validateRestrictions(ap(_),[].concat(p$e(R.getFiles()),y));T?R.info({message:T.message},"error",R.opts.infoTimeout):y.push(_)}}catch(x){m.e(x)}finally{m.f()}this.plugin.setPluginState({currentSelection:y});return}this.lastCheckbox=n;var E=this.plugin.getPluginState(),A=E.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:A.filter(function(x){return x.id!==n.id})}):this.plugin.setPluginState({currentSelection:A.concat([n])})},"toggleCheckbox")},{key:"isChecked",value:i(function(r){var n=this.plugin.getPluginState(),a=n.currentSelection;return a.some(function(o){return o.id===r.id})},"isChecked")},{key:"loaderWrapper",value:i(function(r,n,a){var o=this;r.then(function(u){o.plugin.setPluginState({loading:!1}),n(u)}).catch(function(u){o.plugin.setPluginState({loading:!1}),a(u)}),this.plugin.setPluginState({loading:!0})},"loaderWrapper")}]),t}();function b$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(b$e,"_classCallCheck");function _G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_G,"_defineProperties");function w$e(t,e,r){return e&&_G(t.prototype,e),r&&_G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(w$e,"_createClass");var km=function(){function t(e,r){b$e(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new SG(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return i(t,"View"),w$e(t,[{key:"providerFileToId",value:i(function(r){return jf({data:r,name:r.name||r.id,type:r.mimetype})},"providerFileToId")},{key:"preFirstRender",value:i(function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()},"preFirstRender")},{key:"shouldHandleScroll",value:i(function(r){var n=r.target,a=n.scrollHeight,o=n.scrollTop,u=n.offsetHeight,s=a-(o+u);return s<50&&!this.isHandlingScroll},"shouldHandleScroll")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})},"clearSelection")},{key:"cancelPicking",value:i(function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()},"cancelPicking")},{key:"handleError",value:i(function(r){var n=this.plugin.uppy,a=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:a,details:r.toString()},"error",5e3)},"handleError")},{key:"addFile",value:i(function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},a=Lf(n);a&&rl(a)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(o){return o.isRestriction||this.plugin.uppy.log(o),!1}},"addFile")}]),t}();function qm(t){return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}i(qm,"_typeof");function lu(){"use strict";lu=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&qm(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(lu,"_regeneratorRuntime");function PG(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(PG,"asyncGeneratorStep");function dR(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){PG(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){PG(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(dR,"_asyncToGenerator");function EG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(EG,"ownKeys");function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(r),!0).forEach(function(n){O$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Vi,"_objectSpread");function O$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(O$e,"_defineProperty");function S$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(S$e,"_classCallCheck");function RG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(RG,"_defineProperties");function _$e(t,e,r){return e&&RG(t.prototype,e),r&&RG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(_$e,"_createClass");function P$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hR(t,e)}i(P$e,"_inherits");function hR(t,e){return hR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),hR(t,e)}i(hR,"_setPrototypeOf");function E$e(t){var e=T$e();return i(function(){var n=xm(t),a;if(e){var o=xm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return R$e(this,a)},"_createSuperInternal")}i(E$e,"_createSuper");function R$e(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}i(R$e,"_possibleConstructorReturn");function Fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Fn,"_assertThisInitialized");function T$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(T$e,"_isNativeReflectConstruct");function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),xm(t)}i(xm,"_getPrototypeOf");function TG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(TG,"_classPrivateFieldLooseBase");var A$e=0;function I$e(t){return"__private_"+A$e+++"_"+t}i(I$e,"_classPrivateFieldLooseKey");var k$e={version:"3.0.2"};function q$e(){return location.origin}i(q$e,"getOrigin");function AG(t){if(typeof t=="string")return new RegExp("^".concat(t,"$"));if(t instanceof RegExp)return t}i(AG,"getRegex");function x$e(t,e){var r=Array.isArray(e)?e.map(AG):[AG(e)];return r.some(function(n){return(n==null?void 0:n.test(t))||(n==null?void 0:n.test("".concat(t,"/")))})}i(x$e,"isOriginAllowed");var sp=I$e("updateFilesAndFolders"),Dt=function(t){P$e(r,t);var e=E$e(r);function r(n,a){var o;S$e(this,r),o=e.call(this,n,a),Object.defineProperty(Fn(o),sp,{value:C$e});var u={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return o.opts=Vi(Vi({},u),a),o.filterQuery=o.filterQuery.bind(Fn(o)),o.getFolder=o.getFolder.bind(Fn(o)),o.getNextFolder=o.getNextFolder.bind(Fn(o)),o.logout=o.logout.bind(Fn(o)),o.handleAuth=o.handleAuth.bind(Fn(o)),o.handleScroll=o.handleScroll.bind(Fn(o)),o.listAllFiles=o.listAllFiles.bind(Fn(o)),o.donePicking=o.donePicking.bind(Fn(o)),o.render=o.render.bind(Fn(o)),o.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),o}return i(r,"ProviderView"),_$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"getFolder",value:i(function(a,o){var u=this;return this.sharedHandler.loaderWrapper(this.provider.list(a),function(s){var c=[],f=[],d,y=u.plugin.getPluginState(),m=y.directories.findIndex(function(w){return a===w.id});m!==-1?d=y.directories.slice(0,m+1):d=y.directories.concat([{id:a,title:o}]),u.username=s.username||u.username,TG(u,sp)[sp](s,f,c),u.plugin.setPluginState({directories:d,filterInput:""})},this.handleError)},"getFolder")},{key:"getNextFolder",value:i(function(a){this.getFolder(a.requestPath,a.name),this.lastCheckbox=void 0},"getNextFolder")},{key:"logout",value:i(function(){var a=this;this.provider.logout().then(function(o){if(o.ok){if(!o.revoked){var u=a.plugin.uppy.i18n("companionUnauthorizeHint",{provider:a.plugin.title,url:o.manual_revoke_url});a.plugin.uppy.info(u,"info",7e3)}var s={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};a.plugin.setPluginState(s)}}).catch(this.handleError)},"logout")},{key:"filterQuery",value:i(function(a){var o=this.plugin.getPluginState();this.plugin.setPluginState(Vi(Vi({},o),{},{filterInput:a?a.target.value:""}))},"filterQuery")},{key:"addFolder",value:i(function(a){var o=this,u=this.providerFileToId(a),s=Vi({},this.plugin.getPluginState().selectedFolders);if(!(u in s&&s[u].loading))return s[u]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Vi({},s)}),this.listAllFiles(a.requestPath).then(function(c){var f=0;c.forEach(function(m){var w=o.providerFileToId(m);o.plugin.uppy.checkIfFileAlreadyExists(w)||f++}),f>0&&c.forEach(function(m){return o.addFile(m)});var d=c.map(o.providerFileToId);s[u]={loading:!1,files:d},o.plugin.setPluginState({selectedFolders:s,filterInput:""});var y;f===0?y=o.plugin.uppy.i18n("folderAlreadyAdded",{folder:a.name}):c.length?y=o.plugin.uppy.i18n("folderAdded",{smart_count:f,folder:a.name}):y=o.plugin.uppy.i18n("emptyFolderAdded"),o.plugin.uppy.info(y)}).catch(function(c){var f=Vi({},o.plugin.getPluginState().selectedFolders);delete f[u],o.plugin.setPluginState({selectedFolders:f}),o.handleError(c)})},"addFolder")},{key:"handleAuth",value:function(){var n=dR(lu().mark(i(function o(){var u=this,s,c,f,d,y;return lu().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.provider.ensurePreAuth();case 2:s=btoa(JSON.stringify({origin:q$e()})),c="@uppy/provider-views=".concat(r.VERSION),f=this.provider.authUrl({state:s,uppyVersions:c}),d=window.open(f,"_blank"),y=i(function _(R){if(R.source!==d){u.plugin.uppy.log("rejecting event from unknown source");return}(!x$e(R.origin,u.plugin.opts.companionAllowedHosts)||R.source!==d)&&u.plugin.uppy.log("rejecting event from ".concat(R.origin," vs allowed pattern ").concat(u.plugin.opts.companionAllowedHosts));var T=typeof R.data=="string"?JSON.parse(R.data):R.data;if(T.error){u.plugin.uppy.log("auth aborted","warning");var E=u.plugin.uppy,A=E.i18n("authAborted");E.info({message:A},"warning",5e3);return}if(!T.token){u.plugin.uppy.log("did not receive token from auth window","error");return}d.close(),window.removeEventListener("message",_),u.provider.setAuthToken(T.token),u.preFirstRender()},"handleToken"),window.addEventListener("message",y);case 8:case"end":return w.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"handleAuth"),a}()},{key:"handleScroll",value:function(){var n=dR(lu().mark(i(function o(u){var s,c,f,d,y;return lu().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPagePath||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,w.next=6,this.provider.list(s);case 6:c=w.sent,f=this.plugin.getPluginState(),d=f.files,y=f.folders,TG(this,sp)[sp](c,d,y),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee2$"),o,this,[[3,11,14,17]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"handleScroll"),a}()},{key:"listAllFiles",value:function(){var n=dR(lu().mark(i(function o(u,s){var c=this,f,d;return lu().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return s===void 0&&(s=null),s=s||[],m.next=4,this.provider.list(u);case 4:if(f=m.sent,f.items.forEach(function(w){w.isFolder?c.addFolder(w):s.push(w)}),d=f.nextPagePath,!d){m.next=9;break}return m.abrupt("return",this.listAllFiles(d,s));case 9:return m.abrupt("return",s);case 10:case"end":return m.stop()}},"_callee3$"),o,this)},"_callee3")));function a(o,u){return n.apply(this,arguments)}return i(a,"listAllFiles"),a}()},{key:"donePicking",value:i(function(){var a=this,o=this.plugin.getPluginState(),u=o.currentSelection,s=u.map(function(c){return c.isFolder?a.addFolder(c):a.addFile(c)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){a.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(a,o){var u=this;o===void 0&&(o={});var s=this.plugin.getPluginState(),c=s.authenticated,f=s.didFirstRender;f||this.preFirstRender();var d=Vi(Vi({},this.opts),o),y=this.plugin.getPluginState(),m=y.files,w=y.folders,_=y.filterInput,R=y.loading,T=y.currentSelection,E=this.sharedHandler,A=E.isChecked,x=E.toggleCheckbox,U=E.recordShiftKeyPress,G=E.filterItems,M=_!=="",z={showBreadcrumbs:d.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},W={isChecked:A,toggleCheckbox:x,recordShiftKeyPress:U,currentSelection:T,files:M?G(m):m,folders:M?G(w):w,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:sG(z),title:this.plugin.title,viewType:d.viewType,showTitles:d.showTitles,showFilter:d.showFilter,showBreadcrumbs:d.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var p;return(p=u.plugin.uppy).validateRestrictions.apply(p,arguments)},"validateRestrictions")};return R?S(Jo,{onUnmount:this.clearSelection},S(Am,{i18n:this.plugin.uppy.i18n})):c?S(Jo,{onUnmount:this.clearSelection},S(Tm,W)):S(Jo,{onUnmount:this.clearSelection},S(oG,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))},"render")}]),r}(km);function C$e(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}i(C$e,"_updateFilesAndFolders2");Dt.VERSION=k$e.version;var IG=i(function(t){var e=t.i18n,r=t.search,n,a=i(function(){n.value&&r(n.value)},"validateAndSearch"),o=i(function(s){s.keyCode===13&&a()},"handleKeyPress");return S("div",{className:"uppy-SearchProvider"},S("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":e("enterTextToSearch"),placeholder:e("enterTextToSearch"),onKeyUp:o,ref:i(function(s){n=s},"ref"),"data-uppy-super-focusable":!0}),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:a},e("searchImages")))},"default");var F$e=13,kG=i(function(t){var e=t.searchTerm,r=t.i18n,n=t.search,a=i(function(u){u.keyCode===F$e&&(u.stopPropagation(),u.preventDefault(),n(u.target.value))},"handleKeyPress");return S("div",{class:"uppy-ProviderBrowser-search"},S("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:a,"data-uppy-super-focusable":!0}),S("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},S("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function Fm(t){return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}i(Fm,"_typeof");function vR(){"use strict";vR=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Fm(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(vR,"_regeneratorRuntime");function qG(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(qG,"asyncGeneratorStep");function L$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){qG(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){qG(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(L$e,"_asyncToGenerator");function xG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(xG,"ownKeys");function Cm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(r),!0).forEach(function(n){j$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Cm,"_objectSpread");function j$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(j$e,"_defineProperty");function N$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(N$e,"_classCallCheck");function CG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(CG,"_defineProperties");function D$e(t,e,r){return e&&CG(t.prototype,e),r&&CG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(D$e,"_createClass");function U$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yR(t,e)}i(U$e,"_inherits");function yR(t,e){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),yR(t,e)}i(yR,"_setPrototypeOf");function M$e(t){var e=$$e();return i(function(){var n=Lm(t),a;if(e){var o=Lm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return B$e(this,a)},"_createSuperInternal")}i(M$e,"_createSuper");function B$e(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}i(B$e,"_possibleConstructorReturn");function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Qo,"_assertThisInitialized");function $$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i($$e,"_isNativeReflectConstruct");function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Lm(t)}i(Lm,"_getPrototypeOf");function FG(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(FG,"_classPrivateFieldLooseBase");var z$e=0;function G$e(t){return"__private_"+z$e+++"_"+t}i(G$e,"_classPrivateFieldLooseKey");var H$e={version:"3.0.2"},lp=G$e("updateFilesAndInputMode"),nl=function(t){U$e(r,t);var e=M$e(r);function r(n,a){var o;N$e(this,r),o=e.call(this,n,a),Object.defineProperty(Qo(o),lp,{value:V$e});var u={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return o.opts=Cm(Cm({},u),a),o.search=o.search.bind(Qo(o)),o.triggerSearchInput=o.triggerSearchInput.bind(Qo(o)),o.addFile=o.addFile.bind(Qo(o)),o.handleScroll=o.handleScroll.bind(Qo(o)),o.donePicking=o.donePicking.bind(Qo(o)),o.render=o.render.bind(Qo(o)),o.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),o}return i(r,"SearchProviderView"),D$e(r,[{key:"tearDown",value:i(function(){},"tearDown")},{key:"clearSelection",value:i(function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})},"clearSelection")},{key:"search",value:i(function(a){var o=this,u=this.plugin.getPluginState(),s=u.searchTerm;if(!(a&&a===s))return this.sharedHandler.loaderWrapper(this.provider.search(a),function(c){FG(o,lp)[lp](c,[])},this.handleError)},"search")},{key:"triggerSearchInput",value:i(function(){this.plugin.setPluginState({isInputMode:!0})},"triggerSearchInput")},{key:"handleScroll",value:function(){var n=L$e(vR().mark(i(function o(u){var s,c,f,d,y;return vR().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.nextPageQuery||null,!(this.shouldHandleScroll(u)&&s)){w.next=17;break}return this.isHandlingScroll=!0,w.prev=3,c=this.plugin.getPluginState(),f=c.files,d=c.searchTerm,w.next=7,this.provider.search(d,s);case 7:y=w.sent,FG(this,lp)[lp](y,f),w.next=14;break;case 11:w.prev=11,w.t0=w.catch(3),this.handleError(w.t0);case 14:return w.prev=14,this.isHandlingScroll=!1,w.finish(14);case 17:case"end":return w.stop()}},"_callee$"),o,this,[[3,11,14,17]])},"_callee")));function a(o){return n.apply(this,arguments)}return i(a,"handleScroll"),a}()},{key:"donePicking",value:i(function(){var a=this,o=this.plugin.getPluginState(),u=o.currentSelection,s=u.map(function(c){return a.addFile(c)});this.sharedHandler.loaderWrapper(Promise.all(s),function(){a.clearSelection()},function(){})},"donePicking")},{key:"render",value:i(function(a,o){var u=this;o===void 0&&(o={});var s=this.plugin.getPluginState(),c=s.didFirstRender,f=s.isInputMode,d=s.searchTerm;c||this.preFirstRender();var y=Cm(Cm({},this.opts),o),m=this.plugin.getPluginState(),w=m.files,_=m.folders,R=m.filterInput,T=m.loading,E=m.currentSelection,A=this.sharedHandler,x=A.isChecked,U=A.toggleCheckbox,G=A.filterItems,M=R!=="",z={isChecked:x,toggleCheckbox:U,currentSelection:E,files:M?G(w):w,folders:M?G(_):_,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:kG({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:d}),title:this.plugin.title,viewType:y.viewType,showTitles:y.showTitles,showFilter:y.showFilter,showBreadcrumbs:y.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:i(function(){var Y;return(Y=u.plugin.uppy).validateRestrictions.apply(Y,arguments)},"validateRestrictions")};return T?S(Jo,{onUnmount:this.clearSelection},S(Am,{i18n:this.plugin.uppy.i18n})):f?S(Jo,{onUnmount:this.clearSelection},S(IG,{search:this.search,i18n:this.plugin.uppy.i18n})):S(Jo,{onUnmount:this.clearSelection},S(Tm,z))},"render")}]),r}(km);function V$e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}i(V$e,"_updateFilesAndInputMode2");nl.VERSION=H$e.version;function W$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(W$e,"_classCallCheck");function LG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(LG,"_defineProperties");function K$e(t,e,r){return e&&LG(t.prototype,e),r&&LG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(K$e,"_createClass");var jG;function oi(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(oi,"_classPrivateFieldLooseBase");var Y$e=0;function gR(t){return"__private_"+Y$e+++"_"+t}i(gR,"_classPrivateFieldLooseKey");var X$e={version:"3.0.2"},J$e="uppy/STATE_UPDATE",Q$e=i(function(e){return function(r){return r.uppy[e]}},"defaultSelector");function Z$e(t,e){var r=Object.keys(e),n={};return r.forEach(function(a){t[a]!==e[a]&&(n[a]=e[a])}),n}i(Z$e,"getPatch");var Wi=gR("id"),cp=gR("selector"),Ki=gR("store");jG=Symbol.for("uppy test: get id");var NG=function(t){function e(r){W$e(this,e),Object.defineProperty(this,Wi,{writable:!0,value:void 0}),Object.defineProperty(this,cp,{writable:!0,value:void 0}),Object.defineProperty(this,Ki,{writable:!0,value:void 0}),oi(this,Ki)[Ki]=r.store,oi(this,Wi)[Wi]=r.id||sn(),oi(this,cp)[cp]=r.selector||Q$e(oi(this,Wi)[Wi]),this.setState({})}return i(e,"ReduxStore"),K$e(e,[{key:"setState",value:i(function(n){oi(this,Ki)[Ki].dispatch({type:J$e,id:oi(this,Wi)[Wi],payload:n})},"setState")},{key:"getState",value:i(function(){return oi(this,cp)[cp](oi(this,Ki)[Ki].getState())},"getState")},{key:"subscribe",value:i(function(n){var a=this,o=this.getState();return oi(this,Ki)[Ki].subscribe(function(){var u=a.getState();if(o!==u){var s=Z$e(o,u);n(o,u,s),o=u}})},"subscribe")},{key:t,value:i(function(){return oi(this,Wi)[Wi]},"value")}]),e}(jG);NG.VERSION=X$e.version;var DG=NG;function bR(t){if(!t.bytesUploaded)return 0;var e=Date.now()-t.uploadStarted,r=t.bytesUploaded/(e/1e3);return r}i(bR,"getSpeed");function wR(t){return t.bytesTotal-t.bytesUploaded}i(wR,"getBytesRemaining");var _t={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var TR=Te(Mr(),1);function fp(t){for(var e=[],r,n,a=0,o=Object.values(t);a<o.length;a++){var u=o[a].progress,s=u.preprocess,c=u.postprocess;if(n==null&&(s||c)){var f=s||c;r=f.mode,n=f.message}(s==null?void 0:s.mode)==="determinate"&&e.push(s.value),(c==null?void 0:c.mode)==="determinate"&&e.push(c.value)}var d=e.reduce(function(y,m){return y+m/e.length},0);return{mode:r,message:n,value:d}}i(fp,"calculateProcessingProgress");var PR=Te(Mr(),1),MG=Te(Cf(),1),_R=Te(nm(),1);function OR(t){var e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}i(OR,"secondsToTime");function SR(t){var e=OR(t),r=e.hours===0?"":"".concat(e.hours,"h"),n=e.minutes===0?"":"".concat(e.hours===0?e.minutes:" ".concat(e.minutes.toString(10).padStart(2,"0")),"m"),a=e.hours!==0?"":"".concat(e.minutes===0?e.seconds:" ".concat(e.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(n).concat(a)}i(SR,"prettyETA");var eze="\xB7",UG=i(function(){return" ".concat(eze," ")},"renderDot");function BG(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,a=t.i18n,o=t.uploadState,u=t.isSomeGhost,s=t.startUpload,c=(0,PR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===_t.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":u}),f=e&&r&&!n?a("uploadXNewFiles",{smart_count:e}):a("uploadXFiles",{smart_count:e});return S("button",{type:"button",className:c,"aria-label":a("uploadXFiles",{smart_count:e}),onClick:s,disabled:u,"data-uppy-super-focusable":!0},f)}i(BG,"UploadBtn");function $G(t){var e=t.i18n,r=t.uppy;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:i(function(){return r.retryAll()},"onClick"),"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},S("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}i($G,"RetryBtn");function zG(t){var e=t.i18n,r=t.uppy;return S("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:i(function(){return r.cancelAll()},"onClick"),"data-cy":"cancel","data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},S("g",{fill:"none",fillRule:"evenodd"},S("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),S("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}i(zG,"CancelBtn");function GG(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,a=t.resumableUploads,o=t.uppy,u=r(e?"resume":"pause");function s(){return n?null:a?e?o.resumeAll():o.pauseAll():o.cancelAll()}return i(s,"togglePauseResume"),S("button",{title:u,"aria-label":u,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:s,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},S("g",{fill:"none",fillRule:"evenodd"},S("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),S("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}i(GG,"PauseResumeButton");function HG(t){var e=t.i18n,r=t.doneButtonHandler;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}i(HG,"DoneBtn");function VG(){return S("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},S("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}i(VG,"LoadingSpinner");function WG(t){var e=t.progress,r=e.value,n=e.mode,a=e.message,o=Math.round(r*100),u="\xB7";return S("div",{className:"uppy-StatusBar-content"},S(VG,null),n==="determinate"?"".concat(o,"% ").concat(u," "):"",a)}i(WG,"ProgressBarProcessing");function tze(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,a=t.totalSize,o=t.totalETA,u=t.i18n,s=e>1;return S("div",{className:"uppy-StatusBar-statusSecondary"},s&&u("filesUploadedOfTotal",{complete:r,smart_count:e}),S("span",{className:"uppy-StatusBar-additionalInfo"},s&&UG(),u("dataUploadedOfTotal",{complete:(0,_R.default)(n),total:(0,_R.default)(a)}),UG(),u("xTimeLeft",{time:SR(o)})))}i(tze,"ProgressDetails");function KG(t){var e=t.i18n,r=t.complete,n=t.numUploads;return S("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}i(KG,"FileUploadCount");function rze(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,a=(0,PR.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return S("div",{className:"uppy-StatusBar-statusSecondary"},S("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),S("button",{type:"button",className:a,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}i(rze,"UploadNewlyAddedFiles");var nze=(0,MG.default)(tze,500,{leading:!0,trailing:!0});function YG(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,a=t.showProgressDetails,o=t.isUploadStarted,u=t.isAllComplete,s=t.isAllPaused,c=t.newFiles,f=t.numUploads,d=t.complete,y=t.totalUploadedSize,m=t.totalSize,w=t.totalETA,_=t.startUpload,R=c&&o;if(!o||u)return null;var T=e(s?"paused":"uploading");function E(){return!s&&!R&&a?r?S(nze,{numUploads:f,complete:d,totalUploadedSize:y,totalSize:m,totalETA:w,i18n:e}):S(KG,{i18n:e,complete:d,numUploads:f}):null}return i(E,"renderProgressDetails"),S("div",{className:"uppy-StatusBar-content","aria-label":T,title:T},s?null:S(VG,null),S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(T,": ").concat(n,"%"):T),E(),R?S(rze,{i18n:e,newFiles:c,startUpload:_}):null))}i(YG,"ProgressBarUploading");function XG(t){var e=t.i18n;return S("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},S("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}i(XG,"ProgressBarComplete");function JG(t){var e=t.error,r=t.i18n,n=t.complete,a=t.numUploads;function o(){var u="".concat(r("uploadFailed")," \n\n ").concat(e);alert(u)}return i(o,"displayErrorAlert"),S("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},S("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),S("div",{className:"uppy-StatusBar-status"},S("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),S("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:o,type:"button"},"?")),S(KG,{i18n:r,complete:n,numUploads:a})))}i(JG,"ProgressBarError");var QG=_t.STATE_ERROR,ZG=_t.STATE_WAITING,ER=_t.STATE_PREPROCESSING,jm=_t.STATE_UPLOADING,RR=_t.STATE_POSTPROCESSING,Nm=_t.STATE_COMPLETE;function AR(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,a=t.isAllPaused,o=t.resumableUploads,u=t.error,s=t.hideUploadButton,c=t.hidePauseResumeButton,f=t.hideCancelButton,d=t.hideRetryButton,y=t.recoveredState,m=t.uploadState,w=t.totalProgress,_=t.files,R=t.supportsUploadProgress,T=t.hideAfterFinish,E=t.isSomeGhost,A=t.doneButtonHandler,x=t.isUploadStarted,U=t.i18n,G=t.startUpload,M=t.uppy,z=t.isAllComplete,W=t.showProgressDetails,Y=t.numUploads,p=t.complete,l=t.totalSize,h=t.totalETA,v=t.totalUploadedSize;function g(){switch(m){case RR:case ER:{var Ft=fp(_);return Ft.mode==="determinate"?Ft.value*100:w}case QG:return null;case jm:return R?w:null;default:return w}}i(g,"getProgressValue");function b(){switch(m){case RR:case ER:{var Ft=fp(_),Jt=Ft.mode;return Jt==="indeterminate"}case jm:return!R;default:return!1}}i(b,"getIsIndeterminate");function P(){if(y)return!1;switch(m){case ZG:return s||e===0;case Nm:return T;default:return!1}}i(P,"getIsHidden");var q=g(),L=P(),O=q!=null?q:100,I=!u&&e&&!n&&!a&&r&&!s,j=!f&&m!==ZG&&m!==Nm,re=o&&!c&&m===jm,ne=u&&!z&&!d,Q=A&&m===Nm,K=(0,TR.default)("uppy-StatusBar-progress",{"is-indeterminate":b()}),Xt=(0,TR.default)("uppy-StatusBar","is-".concat(m),{"has-ghosts":E});return S("div",{className:Xt,"aria-hidden":L},S("div",{className:K,style:{width:"".concat(O,"%")},role:"progressbar","aria-label":"".concat(O,"%"),"aria-valuetext":"".concat(O,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":q}),function(){switch(m){case ER:case RR:return S(WG,{progress:fp(_)});case Nm:return S(XG,{i18n:U});case QG:return S(JG,{error:u,i18n:U,numUploads:Y,complete:p});case jm:return S(YG,{i18n:U,supportsUploadProgress:R,totalProgress:w,showProgressDetails:W,isUploadStarted:x,isAllComplete:z,isAllPaused:a,newFiles:e,numUploads:Y,complete:p,totalUploadedSize:v,totalSize:l,totalETA:h,startUpload:G});default:return null}}(),S("div",{className:"uppy-StatusBar-actions"},y||I?S(BG,{newFiles:e,isUploadStarted:x,recoveredState:y,i18n:U,isSomeGhost:E,startUpload:G,uploadState:m}):null,ne?S($G,{i18n:U,uppy:M}):null,re?S(GG,{isAllPaused:a,i18n:U,isAllComplete:z,resumableUploads:o,uppy:M}):null,j?S(zG,{i18n:U,uppy:M}):null,Q?S(HG,{i18n:U,doneButtonHandler:A}):null))}i(AR,"StatusBar");var eH={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function IR(t){return IR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IR(t)}i(IR,"_typeof");function tH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(tH,"ownKeys");function rH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(r),!0).forEach(function(n){ize(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(rH,"_objectSpread");function ize(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(ize,"_defineProperty");function oze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(oze,"_classCallCheck");function nH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(nH,"_defineProperties");function aze(t,e,r){return e&&nH(t.prototype,e),r&&nH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(aze,"_createClass");function uze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kR(t,e)}i(uze,"_inherits");function kR(t,e){return kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),kR(t,e)}i(kR,"_setPrototypeOf");function sze(t){var e=cze();return i(function(){var n=Dm(t),a;if(e){var o=Dm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return lze(this,a)},"_createSuperInternal")}i(sze,"_createSuper");function lze(t,e){if(e&&(IR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qR(t)}i(lze,"_possibleConstructorReturn");function qR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qR,"_assertThisInitialized");function cze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(cze,"_isNativeReflectConstruct");function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Dm(t)}i(Dm,"_getPrototypeOf");var fze={version:"3.0.1"};function pze(t){var e=0;return t.forEach(function(r){e+=bR(r.progress)}),e}i(pze,"getTotalSpeed");function dze(t){var e=pze(t);if(e===0)return 0;var r=t.reduce(function(n,a){return n+wR(a.progress)},0);return Math.round(r/e*10)/10}i(dze,"getTotalETA");function hze(t,e,r,n){if(t&&!e)return _t.STATE_ERROR;if(e)return _t.STATE_COMPLETE;if(r)return _t.STATE_WAITING;for(var a=_t.STATE_WAITING,o=Object.keys(n),u=0;u<o.length;u++){var s=n[o[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return _t.STATE_UPLOADING;s.preprocess&&a!==_t.STATE_UPLOADING&&(a=_t.STATE_PREPROCESSING),s.postprocess&&a!==_t.STATE_UPLOADING&&a!==_t.STATE_PREPROCESSING&&(a=_t.STATE_POSTPROCESSING)}return a}i(hze,"getUploadingState");var il=function(t){uze(r,t);var e=sze(r);function r(n,a){var o;oze(this,r),o=e.call(this,n,a),o.startUpload=function(){var s=o.uppy.getState(),c=s.recoveredState;if(c){o.uppy.emit("restore-confirmed");return}return o.uppy.upload().catch(function(){})},o.id=o.opts.id||"StatusBar",o.title="StatusBar",o.type="progressindicator",o.defaultLocale=eH;var u={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return o.opts=rH(rH({},u),a),o.i18nInit(),o.render=o.render.bind(qR(o)),o.install=o.install.bind(qR(o)),o}return i(r,"StatusBar"),aze(r,[{key:"render",value:i(function(a){var o=a.capabilities,u=a.files,s=a.allowNewUpload,c=a.totalProgress,f=a.error,d=a.recoveredState,y=this.uppy.getObjectOfFilesPerState(),m=y.newFiles,w=y.startedFiles,_=y.completeFiles,R=y.inProgressNotPausedFiles,T=y.isUploadStarted,E=y.isAllComplete,A=y.isAllErrored,x=y.isAllPaused,U=y.isUploadInProgress,G=y.isSomeGhost,M=d?Object.values(u):m,z=dze(R),W=!!o.resumableUploads,Y=o.uploadProgress!==!1,p=0,l=0;return w.forEach(function(h){p+=h.progress.bytesTotal||0,l+=h.progress.bytesUploaded||0}),AR({error:f,uploadState:hze(f,E,d,a.files||{}),allowNewUpload:s,totalProgress:c,totalSize:p,totalUploadedSize:l,isAllComplete:!1,isAllPaused:x,isAllErrored:A,isUploadStarted:T,isUploadInProgress:U,isSomeGhost:G,recoveredState:d,complete:_.length,newFiles:M.length,numUploads:w.length,totalETA:z,files:u,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:W,supportsUploadProgress:Y,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},"render")},{key:"onMount",value:i(function(){var a=this.el,o=pm(a);o||(a.dir="ltr")},"onMount")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);il.VERSION=fze.version;function xR(t){return xR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xR(t)}i(xR,"_typeof");function vze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(vze,"_classCallCheck");function iH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iH,"_defineProperties");function yze(t,e,r){return e&&iH(t.prototype,e),r&&iH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(yze,"_createClass");function mze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CR(t,e)}i(mze,"_inherits");function CR(t,e){return CR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),CR(t,e)}i(CR,"_setPrototypeOf");function gze(t){var e=Oze();return i(function(){var n=Um(t),a;if(e){var o=Um(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return bze(this,a)},"_createSuperInternal")}i(gze,"_createSuper");function bze(t,e){if(e&&(xR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wze(t)}i(bze,"_possibleConstructorReturn");function wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(wze,"_assertThisInitialized");function Oze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Oze,"_isNativeReflectConstruct");function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Um(t)}i(Um,"_getPrototypeOf");var oH=300,aH=function(t){mze(r,t);var e=gze(r);function r(){var n;return vze(this,r),n=e.apply(this,arguments),n.ref=Oz(),n}return i(r,"FadeIn"),yze(r,[{key:"componentWillEnter",value:i(function(a){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(a,oH)},"componentWillEnter")},{key:"componentWillLeave",value:i(function(a){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(a,oH)},"componentWillLeave")},{key:"render",value:i(function(){var a=this.props.children;return S("div",{className:"uppy-Informer-animated",ref:this.ref},a)},"render")}]),r}(Be);function FR(t){return FR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FR(t)}i(FR,"_typeof");var Sze=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function _ze(t,e){return Tze(t)||Rze(t,e)||Eze(t,e)||Pze()}i(_ze,"_slicedToArray");function Pze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Pze,"_nonIterableRest");function Eze(t,e){if(!!t){if(typeof t=="string")return uH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uH(t,e)}}i(Eze,"_unsupportedIterableToArray");function uH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(uH,"_arrayLikeToArray");function Rze(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(Rze,"_iterableToArrayLimit");function Tze(t){if(Array.isArray(t))return t}i(Tze,"_arrayWithHoles");function Aze(t,e){if(t==null)return{};var r=Ize(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i(Aze,"_objectWithoutProperties");function Ize(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}i(Ize,"_objectWithoutPropertiesLoose");function kze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kze,"_classCallCheck");function sH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sH,"_defineProperties");function qze(t,e,r){return e&&sH(t.prototype,e),r&&sH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(qze,"_createClass");function xze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LR(t,e)}i(xze,"_inherits");function LR(t,e){return LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),LR(t,e)}i(LR,"_setPrototypeOf");function Cze(t){var e=Lze();return i(function(){var n=Bm(t),a;if(e){var o=Bm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Fze(this,a)},"_createSuperInternal")}i(Cze,"_createSuper");function Fze(t,e){if(e&&(FR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mm(t)}i(Fze,"_possibleConstructorReturn");function Mm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Mm,"_assertThisInitialized");function Lze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Lze,"_isNativeReflectConstruct");function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Bm(t)}i(Bm,"_getPrototypeOf");function jze(t,e){return Object.assign(t,e)}i(jze,"assign");function Nze(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}i(Nze,"getKey");function Dze(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}i(Dze,"linkRef");function pp(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=Nze(t[r],r.toString(36));e[n]=t[r]}return e}i(pp,"getChildMapping");function Uze(t,e){t=t||{},e=e||{};var r=i(function(m){return e.hasOwnProperty(m)?e[m]:t[m]},"getValueForKey"),n={},a=[];for(var o in t)e.hasOwnProperty(o)?a.length&&(n[o]=a,a=[]):a.push(o);var u={};for(var s in e){if(n.hasOwnProperty(s))for(var c=0;c<n[s].length;c++){var f=n[s][c];u[n[s][c]]=r(f)}u[s]=r(s)}for(var d=0;d<a.length;d++)u[a[d]]=r(a[d]);return u}i(Uze,"mergeChildMappings");var Mze=i(function(e){return e},"identity"),lH=function(t){xze(r,t);var e=Cze(r);function r(n,a){var o;return kze(this,r),o=e.call(this,n,a),o.refs={},o.state={children:pp(cn(cn(o.props.children))||[])},o.performAppear=o.performAppear.bind(Mm(o)),o.performEnter=o.performEnter.bind(Mm(o)),o.performLeave=o.performLeave.bind(Mm(o)),o}return i(r,"TransitionGroup"),qze(r,[{key:"componentWillMount",value:i(function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]},"componentWillMount")},{key:"componentDidMount",value:i(function(){var a=this.state.children;for(var o in a)a[o]&&this.performAppear(o)},"componentDidMount")},{key:"componentWillReceiveProps",value:i(function(a){var o=pp(cn(a.children)||[]),u=this.state.children;this.setState(function(d){return{children:Uze(d.children,o)}});var s;for(s in o)if(o.hasOwnProperty(s)){var c=u&&u.hasOwnProperty(s);o[s]&&c&&this.currentlyTransitioningKeys[s]?(this.keysToEnter.push(s),this.keysToAbortLeave.push(s)):o[s]&&!c&&!this.currentlyTransitioningKeys[s]&&this.keysToEnter.push(s)}for(s in u)if(u.hasOwnProperty(s)){var f=o&&o.hasOwnProperty(s);u[s]&&!f&&!this.currentlyTransitioningKeys[s]&&this.keysToLeave.push(s)}},"componentWillReceiveProps")},{key:"componentDidUpdate",value:i(function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var o=this.keysToLeave;this.keysToLeave=[],o.forEach(this.performLeave)},"componentDidUpdate")},{key:"_finishAbort",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);o!==-1&&this.keysToAbortLeave.splice(o,1)},"_finishAbort")},{key:"performAppear",value:i(function(a){this.currentlyTransitioningKeys[a]=!0;var o=this.refs[a];o.componentWillAppear?o.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},"performAppear")},{key:"_handleDoneAppearing",value:i(function(a){var o=this.refs[a];o.componentDidAppear&&o.componentDidAppear(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var u=pp(cn(this.props.children)||[]);(!u||!u.hasOwnProperty(a))&&this.performLeave(a)},"_handleDoneAppearing")},{key:"performEnter",value:i(function(a){this.currentlyTransitioningKeys[a]=!0;var o=this.refs[a];o.componentWillEnter?o.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},"performEnter")},{key:"_handleDoneEntering",value:i(function(a){var o=this.refs[a];o.componentDidEnter&&o.componentDidEnter(),delete this.currentlyTransitioningKeys[a],this._finishAbort(a);var u=pp(cn(this.props.children)||[]);(!u||!u.hasOwnProperty(a))&&this.performLeave(a)},"_handleDoneEntering")},{key:"performLeave",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);if(o===-1){this.currentlyTransitioningKeys[a]=!0;var u=this.refs[a];u.componentWillLeave?u.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)}},"performLeave")},{key:"_handleDoneLeaving",value:i(function(a){var o=this.keysToAbortLeave.indexOf(a);if(o===-1){var u=this.refs[a];u.componentDidLeave&&u.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var s=pp(cn(this.props.children)||[]);if(s&&s.hasOwnProperty(a))this.performEnter(a);else{var c=jze({},this.state.children);delete c[a],this.setState({children:c})}}},"_handleDoneLeaving")},{key:"render",value:i(function(a,o){var u=this,s=a.childFactory,c=a.transitionLeave,f=a.transitionName,d=a.transitionAppear,y=a.transitionEnter,m=a.transitionLeaveTimeout,w=a.transitionEnterTimeout,_=a.transitionAppearTimeout,R=a.component,T=Aze(a,Sze),E=o.children,A=Object.entries(E).map(function(x){var U=_ze(x,2),G=U[0],M=U[1];if(!!M){var z=Dze(u,G);return fm(s(M),{ref:z,key:G})}}).filter(Boolean);return S(R,T,A)},"render")}]),r}(Be);lH.defaultProps={component:"span",childFactory:Mze};var cH=lH;function jR(t){return jR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jR(t)}i(jR,"_typeof");function fH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(fH,"ownKeys");function pH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fH(Object(r),!0).forEach(function(n){Bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(pH,"_objectSpread");function Bze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Bze,"_defineProperty");function $ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($ze,"_classCallCheck");function dH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dH,"_defineProperties");function zze(t,e,r){return e&&dH(t.prototype,e),r&&dH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(zze,"_createClass");function Gze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NR(t,e)}i(Gze,"_inherits");function NR(t,e){return NR=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),NR(t,e)}i(NR,"_setPrototypeOf");function Hze(t){var e=Kze();return i(function(){var n=$m(t),a;if(e){var o=$m(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Vze(this,a)},"_createSuperInternal")}i(Hze,"_createSuper");function Vze(t,e){if(e&&(jR(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wze(t)}i(Vze,"_possibleConstructorReturn");function Wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Wze,"_assertThisInitialized");function Kze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Kze,"_isNativeReflectConstruct");function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),$m(t)}i($m,"_getPrototypeOf");var Yze={version:"3.0.1"},ol=function(t){Gze(r,t);var e=Hze(r);function r(n,a){var o;$ze(this,r),o=e.call(this,n,a),o.render=function(s){return S("div",{className:"uppy uppy-Informer"},S(cH,null,s.info.map(function(c){return S(aH,{key:c.message},S("p",{role:"alert"},c.message," ",c.details&&S("span",{"aria-label":c.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:i(function(){return alert("".concat(c.message," \n\n ").concat(c.details))},"onClick")},"?")))})))},o.type="progressindicator",o.id=o.opts.id||"Informer",o.title="Informer";var u={};return o.opts=pH(pH({},u),a),o}return i(r,"Informer"),zze(r,[{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")}]),r}(Se);ol.VERSION=Yze.version;var Xze=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function DR(t,e,r){var n,a,o=Xze.exec(t),u=(n=(a=e.mimeType)!=null?a:o==null?void 0:o[1])!=null?n:"plain/text",s;if(o[2]!=null){for(var c=atob(decodeURIComponent(o[3])),f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);s=[f]}else s=[decodeURIComponent(o[3])];return r?new File(s,e.name||"",{type:u}):new Blob(s,{type:u})}i(DR,"dataURItoBlob");function zm(t){return t.startsWith("blob:")}i(zm,"isObjectURL");function Jze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Jze,"_defineProperty");function de(){"use strict";de=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Zo(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(de,"_regeneratorRuntime");function Zo(t){return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}i(Zo,"_typeof");function fl(t){return eGe(t)||Zze(t)||ZR(t)||Qze()}i(fl,"_toConsumableArray");function Qze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Qze,"_nonIterableSpread");function Zze(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(Zze,"_iterableToArray");function eGe(t){if(Array.isArray(t))return GR(t)}i(eGe,"_arrayWithoutHoles");function fn(t,e){return nGe(t)||rGe(t,e)||ZR(t,e)||tGe()}i(fn,"_slicedToArray");function tGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(tGe,"_nonIterableRest");function rGe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(rGe,"_iterableToArrayLimit");function nGe(t){if(Array.isArray(t))return t}i(nGe,"_arrayWithHoles");function Ie(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZR(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Ie,"_createForOfIteratorHelper");function ZR(t,e){if(!!t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}i(ZR,"_unsupportedIterableToArray");function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(GR,"_arrayLikeToArray");function hH(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(hH,"asyncGeneratorStep");function He(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){hH(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){hH(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(He,"_asyncToGenerator");function cu(){return typeof Reflect!="undefined"&&Reflect.get?cu=Reflect.get.bind():cu=i(function(e,r,n){var a=iGe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),cu.apply(this,arguments)}i(cu,"_get");function iGe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ui(t),t!==null););return t}i(iGe,"_superPropBase");function si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yp(t,e)}i(si,"_inherits");function li(t){var e=jH();return i(function(){var n=ui(t),a;if(e){var o=ui(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return LH(this,a)},"_createSuperInternal")}i(li,"_createSuper");function LH(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Br(t)}i(LH,"_possibleConstructorReturn");function Br(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Br,"_assertThisInitialized");function Hm(t){var e=typeof Map=="function"?new Map:void 0;return Hm=i(function(n){if(n===null||!oGe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Gm(n,arguments,ui(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),yp(a,n)},"_wrapNativeSuper"),Hm(t)}i(Hm,"_wrapNativeSuper");function Gm(t,e,r){return jH()?Gm=Reflect.construct.bind():Gm=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&yp(f,u.prototype),f},"_construct"),Gm.apply(null,arguments)}i(Gm,"_construct");function jH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(jH,"_isNativeReflectConstruct");function oGe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(oGe,"_isNativeFunction");function yp(t,e){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),yp(t,e)}i(yp,"_setPrototypeOf");function ui(t){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ui(t)}i(ui,"_getPrototypeOf");function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Zt,"_classCallCheck");function vH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(vH,"_defineProperties");function er(t,e,r){return e&&vH(t.prototype,e),r&&vH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(er,"_createClass");function Ve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Ve,"e");var NH=typeof self!="undefined"?self:global,ea=typeof navigator!="undefined",Vm=ea&&typeof HTMLImageElement=="undefined",yH=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),DH=NH.Buffer,UH=!!DH,aGe=i(function(e){return e!==void 0},"h");function MH(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(aGe).length===0)}i(MH,"f");function Ut(t){var e=new Error(t);throw delete e.stack,e}i(Ut,"l");function mH(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}i(mH,"o");var UR=i(function(e){return String.fromCharCode.apply(null,e)},"u"),gH=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,mp=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(Zt(this,t),typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var o=new DataView(e,r,n);this._swapDataView(o)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Ut("Creating view outside of available memory in ArrayBuffer");var u=new DataView(e.buffer,r,n);this._swapDataView(u)}else if(typeof e=="number"){var s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else Ut("Invalid input argument for BufferView: "+e)}return i(t,"c"),er(t,[{key:"_swapArrayBuffer",value:i(function(r){this._swapDataView(new DataView(r))},"_swapArrayBuffer")},{key:"_swapBuffer",value:i(function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))},"_swapBuffer")},{key:"_swapDataView",value:i(function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength},"_swapDataView")},{key:"_lengthToEnd",value:i(function(r){return this.byteLength-r},"_lengthToEnd")},{key:"set",value:i(function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Ut("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new a(this,n,r.byteLength)},"set")},{key:"subarray",value:i(function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)},"subarray")},{key:"toUint8",value:i(function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)},"toUint8")},{key:"getUint8Array",value:i(function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)},"getUint8Array")},{key:"getString",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return o=a,gH?gH.decode(o):UH?Buffer.from(o).toString("utf8"):decodeURIComponent(escape(UR(o)));var o},"getString")},{key:"getLatin1String",value:i(function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=this.getUint8Array(r,n);return UR(a)},"getLatin1String")},{key:"getUnicodeString",value:i(function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,a=[],o=0;o<n&&r+o<this.byteLength;o+=2)a.push(this.getUint16(r+o));return UR(a)},"getUnicodeString")},{key:"getInt8",value:i(function(r){return this.dataView.getInt8(r)},"getInt8")},{key:"getUint8",value:i(function(r){return this.dataView.getUint8(r)},"getUint8")},{key:"getInt16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)},"getInt16")},{key:"getInt32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)},"getInt32")},{key:"getUint16",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)},"getUint16")},{key:"getUint32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)},"getUint32")},{key:"getFloat32",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat32")},{key:"getFloat64",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getFloat64")},{key:"getFloat",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)},"getFloat")},{key:"getDouble",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)},"getDouble")},{key:"getUintBytes",value:i(function(r,n,a){switch(n){case 1:return this.getUint8(r,a);case 2:return this.getUint16(r,a);case 4:return this.getUint32(r,a);case 8:return this.getUint64&&this.getUint64(r,a)}},"getUintBytes")},{key:"getUint",value:i(function(r,n,a){switch(n){case 8:return this.getUint8(r,a);case 16:return this.getUint16(r,a);case 32:return this.getUint32(r,a);case 64:return this.getUint64&&this.getUint64(r,a)}},"getUint")},{key:"toString",value:i(function(r){return this.dataView.toString(r,this.constructor.name)},"toString")},{key:"ensureChunk",value:i(function(){},"ensureChunk")}],[{key:"from",value:i(function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)},"from")}]),t}();function HR(t,e){Ut("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}i(HR,"p");var eT=function(t){si(r,t);var e=li(r);function r(n){var a;return Zt(this,r),a=e.call(this),a.kind=n,a}return i(r,"g"),er(r,[{key:"get",value:i(function(a,o){return this.has(a)||HR(this.kind,a),o&&(a in o||function(u,s){Ut("Unknown ".concat(u," '").concat(s,"'."))}(this.kind,a),o[a].enabled||HR(this.kind,a)),cu(ui(r.prototype),"get",this).call(this,a)},"get")},{key:"keyList",value:i(function(){return Array.from(this.keys())},"keyList")}]),r}(Hm(Map)),Ym=new eT("file parser"),$r=new eT("segment parser"),wp=new eT("file reader"),uGe=NH.fetch;function bH(t,e){return(r=t).startsWith("data:")||r.length>1e4?KR(t,e,"base64"):yH&&t.includes("://")?VR(t,e,"url",Wm):yH?KR(t,e,"fs"):ea?VR(t,e,"url",Wm):void Ut("Invalid input argument");var r}i(bH,"k");function VR(t,e,r,n){return WR.apply(this,arguments)}i(VR,"O");function WR(){return WR=He(de().mark(i(function t(e,r,n,a){return de().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",wp.has(n)?KR(e,r,n):a?function(){var s=He(de().mark(i(function c(f,d){var y;return de().wrap(i(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,d(f);case 2:return y=w.sent,w.abrupt("return",new mp(y));case 4:case"end":return w.stop()}},"_callee25$"),c)},"_callee25")));return function(c,f){return s.apply(this,arguments)}}()(e,a):void Ut("Parser ".concat(n," is not loaded")));case 1:case"end":return u.stop()}},"_callee26$"),t)},"_callee26"))),WR.apply(this,arguments)}i(WR,"_O");function KR(t,e,r){return YR.apply(this,arguments)}i(KR,"v");function YR(){return YR=He(de().mark(i(function t(e,r,n){var a;return de().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return a=new(wp.get(n))(e,r),u.next=3,a.read();case 3:return u.abrupt("return",a);case 4:case"end":return u.stop()}},"_callee27$"),t)},"_callee27"))),YR.apply(this,arguments)}i(YR,"_v");var Wm=i(function(e){return uGe(e).then(function(r){return r.arrayBuffer()})},"S"),gp=i(function(e){return new Promise(function(r,n){var a=new FileReader;a.onloadend=function(){return r(a.result||new ArrayBuffer)},a.onerror=n,a.readAsArrayBuffer(e)})},"A"),sGe=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"U"),er(r,[{key:"tagKeys",get:i(function(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys},"get")},{key:"tagValues",get:i(function(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues},"get")}]),r}(Hm(Map));function BH(t,e,r){var n=new sGe,a=Ie(r),o;try{for(a.s();!(o=a.n()).done;){var u=fn(o.value,2),s=u[0],c=u[1];n.set(s,c)}}catch(m){a.e(m)}finally{a.f()}if(Array.isArray(e)){var f=Ie(e),d;try{for(f.s();!(d=f.n()).done;){var y=d.value;t.set(y,n)}}catch(m){f.e(m)}finally{f.f()}}else t.set(e,n);return n}i(BH,"x");function $H(t,e,r){var n,a=t.get(e),o=Ie(r),u;try{for(o.s();!(u=o.n()).done;)n=u.value,a.set(n[0],n[1])}catch(s){o.e(s)}finally{o.f()}}i($H,"C");var Op=new Map,tT=new Map,rT=new Map,al=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Xm=["jfif","xmp","icc","iptc","ihdr"],bp=["tiff"].concat(Xm),Pt=["ifd0","ifd1","exif","gps","interop"],ul=[].concat(fl(bp),Pt),sl=["makerNote","userComment"],Jm=["translateKeys","translateValues","reviveValues","multiSegment"],ll=[].concat(Jm,["sanitize","mergeOutput","silentErrors"]),zH=function(){function t(){Zt(this,t)}return i(t,"_"),er(t,[{key:"translate",get:i(function(){return this.translateKeys||this.translateValues||this.reviveValues},"get")}]),t}(),dp=function(t){si(r,t);var e=li(r);function r(n,a,o,u){var s;if(Zt(this,r),s=e.call(this),Ve(Br(s),"enabled",!1),Ve(Br(s),"skip",new Set),Ve(Br(s),"pick",new Set),Ve(Br(s),"deps",new Set),Ve(Br(s),"translateKeys",!1),Ve(Br(s),"translateValues",!1),Ve(Br(s),"reviveValues",!1),s.key=n,s.enabled=a,s.parse=s.enabled,s.applyInheritables(u),s.canBeFiltered=Pt.includes(n),s.canBeFiltered&&(s.dict=Op.get(n)),o!==void 0)if(Array.isArray(o))s.parse=s.enabled=!0,s.canBeFiltered&&o.length>0&&s.translateTagSet(o,s.pick);else if(Zo(o)=="object"){if(s.enabled=!0,s.parse=o.parse!==!1,s.canBeFiltered){var c=o.pick,f=o.skip;c&&c.length>0&&s.translateTagSet(c,s.pick),f&&f.length>0&&s.translateTagSet(f,s.skip)}s.applyInheritables(o)}else o===!0||o===!1?s.parse=s.enabled=o:Ut("Invalid options argument: ".concat(o));return LH(s)}return i(r,"D"),er(r,[{key:"needed",get:i(function(){return this.enabled||this.deps.size>0},"get")},{key:"applyInheritables",value:i(function(a){var o,u,s=Ie(Jm),c;try{for(s.s();!(c=s.n()).done;)o=c.value,u=a[o],u!==void 0&&(this[o]=u)}catch(f){s.e(f)}finally{s.f()}},"applyInheritables")},{key:"translateTagSet",value:i(function(a,o){if(this.dict){var u,s,c=this.dict,f=c.tagKeys,d=c.tagValues,y=Ie(a),m;try{for(y.s();!(m=y.n()).done;)u=m.value,typeof u=="string"?(s=d.indexOf(u),s===-1&&(s=f.indexOf(Number(u))),s!==-1&&o.add(Number(f[s]))):o.add(u)}catch(T){y.e(T)}finally{y.f()}}else{var w=Ie(a),_;try{for(w.s();!(_=w.n()).done;){var R=_.value;o.add(R)}}catch(T){w.e(T)}finally{w.f()}}},"translateTagSet")},{key:"finalizeFilters",value:i(function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Km(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Km(this.pick,this.deps)},"finalizeFilters")}]),r}(zH),sr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},wH=new Map,Sp=function(t){si(r,t);var e=li(r);function r(n){var a;return Zt(this,r),a=e.call(this),n===!0?a.setupFromTrue():n===void 0?a.setupFromUndefined():Array.isArray(n)?a.setupFromArray(n):Zo(n)=="object"?a.setupFromObject(n):Ut("Invalid options argument ".concat(n)),a.firstChunkSize===void 0&&(a.firstChunkSize=ea?a.firstChunkSizeBrowser:a.firstChunkSizeNode),a.mergeOutput&&(a.ifd1.enabled=!1),a.filterNestedSegmentTags(),a.traverseTiffDependencyTree(),a.checkLoadedPlugins(),a}return i(r,"R"),er(r,[{key:"setupFromUndefined",value:i(function(){var a,o=Ie(al),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=sr[a]}catch(w){o.e(w)}finally{o.f()}var s=Ie(ll),c;try{for(s.s();!(c=s.n()).done;)a=c.value,this[a]=sr[a]}catch(w){s.e(w)}finally{s.f()}var f=Ie(sl),d;try{for(f.s();!(d=f.n()).done;)a=d.value,this[a]=sr[a]}catch(w){f.e(w)}finally{f.f()}var y=Ie(ul),m;try{for(y.s();!(m=y.n()).done;)a=m.value,this[a]=new dp(a,sr[a],void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromUndefined")},{key:"setupFromTrue",value:i(function(){var a,o=Ie(al),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=sr[a]}catch(w){o.e(w)}finally{o.f()}var s=Ie(ll),c;try{for(s.s();!(c=s.n()).done;)a=c.value,this[a]=sr[a]}catch(w){s.e(w)}finally{s.f()}var f=Ie(sl),d;try{for(f.s();!(d=f.n()).done;)a=d.value,this[a]=!0}catch(w){f.e(w)}finally{f.f()}var y=Ie(ul),m;try{for(y.s();!(m=y.n()).done;)a=m.value,this[a]=new dp(a,!0,void 0,this)}catch(w){y.e(w)}finally{y.f()}},"setupFromTrue")},{key:"setupFromArray",value:i(function(a){var o,u=Ie(al),s;try{for(u.s();!(s=u.n()).done;)o=s.value,this[o]=sr[o]}catch(_){u.e(_)}finally{u.f()}var c=Ie(ll),f;try{for(c.s();!(f=c.n()).done;)o=f.value,this[o]=sr[o]}catch(_){c.e(_)}finally{c.f()}var d=Ie(sl),y;try{for(d.s();!(y=d.n()).done;)o=y.value,this[o]=sr[o]}catch(_){d.e(_)}finally{d.f()}var m=Ie(ul),w;try{for(m.s();!(w=m.n()).done;)o=w.value,this[o]=new dp(o,!1,void 0,this)}catch(_){m.e(_)}finally{m.f()}this.setupGlobalFilters(a,void 0,Pt)},"setupFromArray")},{key:"setupFromObject",value:i(function(a){var o,u=Ie((Pt.ifd0=Pt.ifd0||Pt.image,Pt.ifd1=Pt.ifd1||Pt.thumbnail,Object.assign(this,a),al)),s;try{for(u.s();!(s=u.n()).done;)o=s.value,this[o]=MR(a[o],sr[o])}catch(T){u.e(T)}finally{u.f()}var c=Ie(ll),f;try{for(c.s();!(f=c.n()).done;)o=f.value,this[o]=MR(a[o],sr[o])}catch(T){c.e(T)}finally{c.f()}var d=Ie(sl),y;try{for(d.s();!(y=d.n()).done;)o=y.value,this[o]=MR(a[o],sr[o])}catch(T){d.e(T)}finally{d.f()}var m=Ie(bp),w;try{for(m.s();!(w=m.n()).done;)o=w.value,this[o]=new dp(o,sr[o],a[o],this)}catch(T){m.e(T)}finally{m.f()}var _=Ie(Pt),R;try{for(_.s();!(R=_.n()).done;)o=R.value,this[o]=new dp(o,sr[o],a[o],this.tiff)}catch(T){_.e(T)}finally{_.f()}this.setupGlobalFilters(a.pick,a.skip,Pt,ul),a.tiff===!0?this.batchEnableWithBool(Pt,!0):a.tiff===!1?this.batchEnableWithUserValue(Pt,a):Array.isArray(a.tiff)?this.setupGlobalFilters(a.tiff,void 0,Pt):Zo(a.tiff)=="object"&&this.setupGlobalFilters(a.tiff.pick,a.tiff.skip,Pt)},"setupFromObject")},{key:"batchEnableWithBool",value:i(function(a,o){var u=Ie(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;this[c].enabled=o}}catch(f){u.e(f)}finally{u.f()}},"batchEnableWithBool")},{key:"batchEnableWithUserValue",value:i(function(a,o){var u=Ie(a),s;try{for(u.s();!(s=u.n()).done;){var c=s.value,f=o[c];this[c].enabled=f!==!1&&f!==void 0}}catch(d){u.e(d)}finally{u.f()}},"batchEnableWithUserValue")},{key:"setupGlobalFilters",value:i(function(a,o,u){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u;if(a&&a.length){var c=Ie(s),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;this[d].enabled=!1}}catch(z){c.e(z)}finally{c.f()}var y=OH(a,u),m=Ie(y),w;try{for(m.s();!(w=m.n()).done;){var _=fn(w.value,2),R=_[0],T=_[1];Km(this[R].pick,T),this[R].enabled=!0}}catch(z){m.e(z)}finally{m.f()}}else if(o&&o.length){var E=OH(o,u),A=Ie(E),x;try{for(A.s();!(x=A.n()).done;){var U=fn(x.value,2),G=U[0],M=U[1];Km(this[G].skip,M)}}catch(z){A.e(z)}finally{A.f()}}},"setupGlobalFilters")},{key:"filterNestedSegmentTags",value:i(function(){var a=this.ifd0,o=this.exif,u=this.xmp,s=this.iptc,c=this.icc;this.makerNote?o.deps.add(37500):o.skip.add(37500),this.userComment?o.deps.add(37510):o.skip.add(37510),u.enabled||a.skip.add(700),s.enabled||a.skip.add(33723),c.enabled||a.skip.add(34675)},"filterNestedSegmentTags")},{key:"traverseTiffDependencyTree",value:i(function(){var a=this,o=this.ifd0,u=this.exif,s=this.gps,c=this.interop;c.needed&&(u.deps.add(40965),o.deps.add(40965)),u.needed&&o.deps.add(34665),s.needed&&o.deps.add(34853),this.tiff.enabled=Pt.some(function(m){return a[m].enabled===!0})||this.makerNote||this.userComment;var f=Ie(Pt),d;try{for(f.s();!(d=f.n()).done;){var y=d.value;this[y].finalizeFilters()}}catch(m){f.e(m)}finally{f.f()}},"traverseTiffDependencyTree")},{key:"onlyTiff",get:i(function(){var a=this;return!Xm.map(function(o){return a[o].enabled}).some(function(o){return o===!0})&&this.tiff.enabled},"get")},{key:"checkLoadedPlugins",value:i(function(){var a=Ie(bp),o;try{for(a.s();!(o=a.n()).done;){var u=o.value;this[u].enabled&&!$r.has(u)&&HR("segment parser",u)}}catch(s){a.e(s)}finally{a.f()}},"checkLoadedPlugins")}],[{key:"useCached",value:i(function(a){var o=wH.get(a);return o!==void 0||(o=new this(a),wH.set(a,o)),o},"useCached")}]),r}(zH);function OH(t,e){var r,n,a,o,u=[],s=Ie(e),c;try{for(s.s();!(c=s.n()).done;){a=c.value;var f=Ie((r=Op.get(a),n=[],r)),d;try{for(f.s();!(d=f.n()).done;)o=d.value,(t.includes(o[0])||t.includes(o[1]))&&n.push(o[0])}catch(y){f.e(y)}finally{f.f()}n.length&&u.push([a,n])}}catch(y){s.e(y)}finally{s.f()}return u}i(OH,"K");function MR(t,e){return t!==void 0?t:e!==void 0?e:void 0}i(MR,"W");function Km(t,e){var r=Ie(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;t.add(a)}}catch(o){r.e(o)}finally{r.f()}}i(Km,"X");Ve(Sp,"default",sr);var Qm=function(){function t(e){var r=this;Zt(this,t),Ve(this,"parsers",{}),Ve(this,"output",{}),Ve(this,"errors",[]),Ve(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=Sp.useCached(e)}return i(t,"H"),er(t,[{key:"read",value:function(){var e=He(de().mark(i(function n(a){return de().wrap(i(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,function(s,c){return typeof s=="string"?bH(s,c):ea&&!Vm&&s instanceof HTMLImageElement?bH(s.src,c):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new mp(s):ea&&s instanceof Blob?VR(s,c,"blob",gp):void Ut("Invalid input argument")}(a,this.options);case 2:this.file=u.sent;case 3:case"end":return u.stop()}},"_callee$"),n,this)},"_callee")));function r(n){return e.apply(this,arguments)}return i(r,"read"),r}()},{key:"setup",value:i(function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),a=Ie(Ym),o;try{for(a.s();!(o=a.n()).done;){var u=fn(o.value,2),s=u[0],c=u[1];if(c.canHandle(r,n))return this.fileParser=new c(this.options,this.file,this.parsers),r[s]=!0}}catch(f){a.e(f)}finally{a.f()}this.file.close&&this.file.close(),Ut("Unknown file format")}},"setup")},{key:"parse",value:function(){var e=He(de().mark(i(function n(){var a,o,u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=this.output,o=this.errors,this.setup(),!this.options.silentErrors){c.next=8;break}return c.next=5,this.executeParsers().catch(this.pushToErrors);case 5:o.push.apply(o,fl(this.fileParser.errors)),c.next=10;break;case 8:return c.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&o.length>0&&(a.errors=o),c.abrupt("return",MH(u=a)?void 0:u);case 13:case"end":return c.stop()}},"_callee2$"),n,this)},"_callee2")));function r(){return e.apply(this,arguments)}return i(r,"parse"),r}()},{key:"executeParsers",value:function(){var e=He(de().mark(i(function n(){var a=this,o,u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:return o=this.output,c.next=3,this.fileParser.parse();case 3:return u=Object.values(this.parsers).map(function(){var f=He(de().mark(i(function d(y){var m;return de().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,y.parse();case 2:m=_.sent,y.assignToOutput(o,m);case 4:case"end":return _.stop()}},"_callee3$"),d)},"_callee3")));return function(d){return f.apply(this,arguments)}}()),this.options.silentErrors&&(u=u.map(function(f){return f.catch(a.pushToErrors)})),c.next=7,Promise.all(u);case 7:case"end":return c.stop()}},"_callee4$"),n,this)},"_callee4")));function r(){return e.apply(this,arguments)}return i(r,"executeParsers"),r}()},{key:"extractThumbnail",value:function(){var e=He(de().mark(i(function n(){var a,o,u,s,c,f,d;return de().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.setup(),a=this.options,o=this.file,u=$r.get("tiff",a),!o.tiff){m.next=6;break}s={start:0,type:"tiff"},m.next=11;break;case 6:if(m.t0=o.jpeg,!m.t0){m.next=11;break}return m.next=10,this.fileParser.getOrFindSegment("tiff");case 10:s=m.sent;case 11:if(s!==void 0){m.next=13;break}return m.abrupt("return");case 13:return m.next=15,this.fileParser.ensureSegmentChunk(s);case 15:return c=m.sent,f=this.parsers.tiff=new u(c,a,o),m.next=19,f.extractThumbnail();case 19:return d=m.sent,m.abrupt("return",(o.close&&o.close(),d));case 21:case"end":return m.stop()}},"_callee5$"),n,this)},"_callee5")));function r(){return e.apply(this,arguments)}return i(r,"extractThumbnail"),r}()}]),t}();function GH(t,e){return XR.apply(this,arguments)}i(GH,"Y");function XR(){return XR=He(de().mark(i(function t(e,r){var n;return de().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new Qm(r),o.next=3,n.read(e);case 3:return o.abrupt("return",n.parse());case 4:case"end":return o.stop()}},"_callee28$"),t)},"_callee28"))),XR.apply(this,arguments)}i(XR,"_Y");var lGe=Object.freeze({__proto__:null,parse:GH,Exifr:Qm,fileParsers:Ym,segmentParsers:$r,fileReaders:wp,tagKeys:Op,tagValues:tT,tagRevivers:rT,createDictionary:BH,extendDictionary:$H,fetchUrlAsArrayBuffer:Wm,readBlobAsArrayBuffer:gp,chunkedProps:al,otherSegments:Xm,segments:bp,tiffBlocks:Pt,segmentsAndBlocks:ul,tiffExtractables:sl,inheritables:Jm,allFormatters:ll,Options:Sp}),cl=function(){function t(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;Zt(this,t),Ve(this,"errors",[]),Ve(this,"raw",new Map),Ve(this,"handleError",function(o){if(!r.options.silentErrors)throw o;r.errors.push(o.message)}),this.chunk=this.normalizeInput(e),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return i(t,"J"),er(t,[{key:"normalizeInput",value:i(function(r){return r instanceof mp?r:new mp(r)},"normalizeInput")},{key:"translate",value:i(function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))},"translate")},{key:"output",get:i(function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0},"get")},{key:"translateBlock",value:i(function(r,n){var a=rT.get(n),o=tT.get(n),u=Op.get(n),s=this.options[n],c=s.reviveValues&&!!a,f=s.translateValues&&!!o,d=s.translateKeys&&!!u,y={},m=Ie(r),w;try{for(m.s();!(w=m.n()).done;){var _=fn(w.value,2),R=_[0],T=_[1];c&&a.has(R)?T=a.get(R)(T):f&&o.has(R)&&(T=this.translateValue(T,o.get(R))),d&&u.has(R)&&(R=u.get(R)||R),y[R]=T}}catch(E){m.e(E)}finally{m.f()}return y},"translateBlock")},{key:"translateValue",value:i(function(r,n){return n[r]||n.DEFAULT||r},"translateValue")},{key:"assignToOutput",value:i(function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)},"assignToOutput")},{key:"assignObjectToOutput",value:i(function(r,n,a){if(this.globalOptions.mergeOutput)return Object.assign(r,a);r[n]?Object.assign(r[n],a):r[n]=a},"assignObjectToOutput")}],[{key:"findPosition",value:i(function(r,n){var a=r.getUint16(n+2)+2,o=typeof this.headerLength=="function"?this.headerLength(r,n,a):this.headerLength,u=n+o,s=a-o;return{offset:n,length:a,headerLength:o,start:u,size:s,end:u+s}},"findPosition")},{key:"parse",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new Sp(Jze({},this.type,n)),r).parse()},"parse")}]),t}();Ve(cl,"headerLength",4),Ve(cl,"type",void 0),Ve(cl,"multiSegment",!1),Ve(cl,"canHandle",function(){return!1});function cGe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}i(cGe,"q");function fGe(t){return t>=224&&t<=239}i(fGe,"Q");function pGe(t,e,r){var n=Ie($r),a;try{for(n.s();!(a=n.n()).done;){var o=fn(a.value,2),u=o[0],s=o[1];if(s.canHandle(t,e,r))return u}}catch(c){n.e(c)}finally{n.f()}}i(pGe,"Z");var SH=function(t){si(r,t);var e=li(r);function r(){var n;Zt(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o)),Ve(Br(n),"appSegments",[]),Ve(Br(n),"jpegSegments",[]),Ve(Br(n),"unknownSegments",[]),n}return i(r,"ee"),er(r,[{key:"parse",value:function(){var n=He(de().mark(i(function o(){return de().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.findAppSegments();case 2:return s.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return s.stop()}},"_callee6$"),o,this)},"_callee6")));function a(){return n.apply(this,arguments)}return i(a,"parse"),a}()},{key:"setupSegmentFinderArgs",value:i(function(a){var o=this;a===!0?(this.findAll=!0,this.wanted=new Set($r.keyList())):(a=a===void 0?$r.keyList().filter(function(u){return o.options[u].enabled}):a.filter(function(u){return o.options[u].enabled&&$r.has(u)}),this.findAll=!1,this.remaining=new Set(a),this.wanted=new Set(a)),this.unfinishedMultiSegment=!1},"setupSegmentFinderArgs")},{key:"findAppSegments",value:function(){var n=He(de().mark(i(function o(){var u=this,s,c,f,d,y,m,w,_,R,T=arguments;return de().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:if(s=T.length>0&&T[0]!==void 0?T[0]:0,c=T.length>1?T[1]:void 0,this.setupSegmentFinderArgs(c),f=this.file,d=this.findAll,y=this.wanted,m=this.remaining,A.t0=!d&&this.file.chunked,!A.t0){A.next=11;break}if(d=Array.from(y).some(function(x){var U=$r.get(x),G=u.options[x];return U.multiSegment&&G.multiSegment}),A.t1=d,!A.t1){A.next=11;break}return A.next=11,this.file.readWhole();case 11:if(s=this.findAppSegmentsInRange(s,f.byteLength),!(!this.options.onlyTiff&&f.chunked)){A.next=30;break}w=!1;case 14:if(!(m.size>0&&!w&&(f.canReadNextChunk||this.unfinishedMultiSegment))){A.next=30;break}if(_=f.nextChunkOffset,R=this.appSegments.some(function(x){return!u.file.available(x.offset||x.start,x.length||x.size)}),!(s>_&&!R)){A.next=22;break}return A.next=19,f.readNextChunk(s);case 19:A.t2=!A.sent,A.next=25;break;case 22:return A.next=24,f.readNextChunk(_);case 24:A.t2=!A.sent;case 25:if(w=A.t2,(s=this.findAppSegmentsInRange(s,f.byteLength))!==void 0){A.next=28;break}return A.abrupt("return");case 28:A.next=14;break;case 30:case"end":return A.stop()}},"_callee7$"),o,this)},"_callee7")));function a(){return n.apply(this,arguments)}return i(a,"findAppSegments"),a}()},{key:"findAppSegmentsInRange",value:i(function(a,o){o-=2;for(var u,s,c,f,d,y,m=this.file,w=this.findAll,_=this.wanted,R=this.remaining,T=this.options;a<o;a++)if(m.getUint8(a)===255){if(u=m.getUint8(a+1),fGe(u)){if(s=m.getUint16(a+2),c=pGe(m,a,s),c&&_.has(c)&&(f=$r.get(c),d=f.findPosition(m,a),y=T[c],d.type=c,this.appSegments.push(d),!w&&(f.multiSegment&&y.multiSegment?(this.unfinishedMultiSegment=d.chunkNumber<d.chunkCount,this.unfinishedMultiSegment||R.delete(c)):R.delete(c),R.size===0)))break;T.recordUnknownSegments&&(d=cl.findPosition(m,a),d.marker=u,this.unknownSegments.push(d)),a+=s+1}else if(cGe(u)){if(s=m.getUint16(a+2),u===218&&T.stopAfterSos!==!1)return;T.recordJpegSegments&&this.jpegSegments.push({offset:a,length:s,marker:u}),a+=s+1}}return a},"findAppSegmentsInRange")},{key:"mergeMultiSegments",value:i(function(){var a=this;if(!!this.appSegments.some(function(u){return u.multiSegment})){var o=function(u,s){for(var c,f,d,y=new Map,m=0;m<u.length;m++)c=u[m],f=c[s],y.has(f)?d=y.get(f):y.set(f,d=[]),d.push(c);return Array.from(y)}(this.appSegments,"type");this.mergedAppSegments=o.map(function(u){var s=fn(u,2),c=s[0],f=s[1],d=$r.get(c,a.options);return d.handleMultiSegments?{type:c,chunk:d.handleMultiSegments(f)}:f[0]})}},"mergeMultiSegments")},{key:"getSegment",value:i(function(a){return this.appSegments.find(function(o){return o.type===a})},"getSegment")},{key:"getOrFindSegment",value:function(){var n=He(de().mark(i(function o(u){var s;return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=this.getSegment(u),f.t0=s===void 0,!f.t0){f.next=6;break}return f.next=5,this.findAppSegments(0,[u]);case 5:s=this.getSegment(u);case 6:return f.abrupt("return",s);case 7:case"end":return f.stop()}},"_callee8$"),o,this)},"_callee8")));function a(o){return n.apply(this,arguments)}return i(a,"getOrFindSegment"),a}()}],[{key:"canHandle",value:i(function(a,o){return o===65496},"canHandle")}]),r}(function(){function t(e,r,n){var a=this;Zt(this,t),Ve(this,"errors",[]),Ve(this,"ensureSegmentChunk",function(){var o=He(de().mark(i(function u(s){var c,f;return de().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=s.start,f=s.size||65536,!a.file.chunked){y.next=17;break}if(!a.file.available(c,f)){y.next=6;break}s.chunk=a.file.subarray(c,f),y.next=15;break;case 6:return y.prev=6,y.next=9,a.file.readChunk(c,f);case 9:s.chunk=y.sent,y.next=15;break;case 12:y.prev=12,y.t0=y.catch(6),Ut("Couldn't read segment: ".concat(JSON.stringify(s),". ").concat(y.t0.message));case 15:y.next=18;break;case 17:a.file.byteLength>c+f?s.chunk=a.file.subarray(c,f):s.size===void 0?s.chunk=a.file.subarray(c):Ut("Segment unreachable: "+JSON.stringify(s));case 18:return y.abrupt("return",s.chunk);case 19:case"end":return y.stop()}},"_callee9$"),u,null,[[6,12]])},"_callee9")));return function(u){return o.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return i(t,"_class"),er(t,[{key:"injectSegment",value:i(function(r,n){this.options[r].enabled&&this.createParser(r,n)},"injectSegment")},{key:"createParser",value:i(function(r,n){var a=new($r.get(r))(n,this.options,this.file);return this.parsers[r]=a},"createParser")},{key:"createParsers",value:i(function(r){var n=Ie(r),a;try{for(n.s();!(a=n.n()).done;){var o=a.value,u=o.type,s=o.chunk,c=this.options[u];if(c&&c.enabled){var f=this.parsers[u];f&&f.append||f||this.createParser(u,s)}}}catch(d){n.e(d)}finally{n.f()}},"createParsers")},{key:"readSegments",value:function(){var e=He(de().mark(i(function n(a){var o;return de().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return o=a.map(this.ensureSegmentChunk),s.next=3,Promise.all(o);case 3:case"end":return s.stop()}},"_callee10$"),n,this)},"_callee10")));function r(n){return e.apply(this,arguments)}return i(r,"readSegments"),r}()}]),t}());Ve(SH,"type","jpeg"),Ym.set("jpeg",SH);var dGe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],hGe=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"se"),er(r,[{key:"parseHeader",value:i(function(){var a=this.chunk.getUint16();a===18761?this.le=!0:a===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0},"parseHeader")},{key:"parseTags",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,s=this.options[o],c=s.pick,f=s.skip;c=new Set(c);var d=c.size>0,y=f.size===0,m=this.chunk.getUint16(a);a+=2;for(var w=0;w<m;w++){var _=this.chunk.getUint16(a);if(d){if(c.has(_)&&(u.set(_,this.parseTag(a,_,o)),c.delete(_),c.size===0))break}else!y&&f.has(_)||u.set(_,this.parseTag(a,_,o));a+=12}return u},"parseTags")},{key:"parseTag",value:i(function(a,o,u){var s=this.chunk,c=s.getUint16(a+2),f=s.getUint32(a+4),d=dGe[c];if(d*f<=4?a+=8:a=s.getUint32(a+8),(c<1||c>13)&&Ut("Invalid TIFF value type. block: ".concat(u.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(c,", offset ").concat(a)),a>s.byteLength&&Ut("Invalid TIFF value offset. block: ".concat(u.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(c,", offset ").concat(a," is outside of chunk size ").concat(s.byteLength)),c===1)return s.getUint8Array(a,f);if(c===2)return(y=function(R){for(;R.endsWith("\0");)R=R.slice(0,-1);return R}(y=s.getString(a,f)).trim())===""?void 0:y;var y;if(c===7)return s.getUint8Array(a,f);if(f===1)return this.parseTagValue(c,a);{for(var m=new(function(R){switch(R){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(c))(f),w=d,_=0;_<f;_++)m[_]=this.parseTagValue(c,a),a+=w;return m}},"parseTag")},{key:"parseTagValue",value:i(function(a,o){var u=this.chunk;switch(a){case 1:return u.getUint8(o);case 3:return u.getUint16(o);case 4:return u.getUint32(o);case 5:return u.getUint32(o)/u.getUint32(o+4);case 6:return u.getInt8(o);case 8:return u.getInt16(o);case 9:return u.getInt32(o);case 10:return u.getInt32(o)/u.getInt32(o+4);case 11:return u.getFloat(o);case 12:return u.getDouble(o);case 13:return u.getUint32(o);default:Ut("Invalid tiff type ".concat(a))}},"parseTagValue")}]),r}(cl),BR=function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"ie"),er(r,[{key:"parse",value:function(){var n=He(de().mark(i(function o(){var u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.parseHeader(),u=this.options,c.t0=u.ifd0.enabled,!c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(c.t1=u.exif.enabled,!c.t1){c.next=10;break}return c.next=10,this.safeParse("parseExifBlock");case 10:if(c.t2=u.gps.enabled,!c.t2){c.next=14;break}return c.next=14,this.safeParse("parseGpsBlock");case 14:if(c.t3=u.interop.enabled,!c.t3){c.next=18;break}return c.next=18,this.safeParse("parseInteropBlock");case 18:if(c.t4=u.ifd1.enabled,!c.t4){c.next=22;break}return c.next=22,this.safeParse("parseThumbnailBlock");case 22:return c.abrupt("return",this.createOutput());case 23:case"end":return c.stop()}},"_callee11$"),o,this)},"_callee11")));function a(){return n.apply(this,arguments)}return i(a,"parse"),a}()},{key:"safeParse",value:i(function(a){var o=this[a]();return o.catch!==void 0&&(o=o.catch(this.handleError)),o},"safeParse")},{key:"findIfd0Offset",value:i(function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))},"findIfd0Offset")},{key:"findIfd1Offset",value:i(function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var a=this.chunk.getUint16(this.ifd0Offset),o=this.ifd0Offset+2+12*a;this.ifd1Offset=this.chunk.getUint32(o)}},"findIfd1Offset")},{key:"parseBlock",value:i(function(a,o){var u=new Map;return this[o]=u,this.parseTags(a,o,u),u},"parseBlock")},{key:"parseIfd0Block",value:function(){var n=He(de().mark(i(function o(){var u,s;return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(!this.ifd0){f.next=2;break}return f.abrupt("return");case 2:if(u=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&Ut("Malformed EXIF data"),!u.chunked&&this.ifd0Offset>u.byteLength&&Ut("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(u.byteLength)),f.t0=u.tiff,!f.t0){f.next=10;break}return f.next=10,u.ensureChunk(this.ifd0Offset,mH(this.options));case 10:return s=this.parseBlock(this.ifd0Offset,"ifd0"),f.abrupt("return",s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0);case 12:case"end":return f.stop()}},"_callee12$"),o,this)},"_callee12")));function a(){return n.apply(this,arguments)}return i(a,"parseIfd0Block"),a}()},{key:"parseExifBlock",value:function(){var n=He(de().mark(i(function o(){var u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.exif){c.next=2;break}return c.abrupt("return");case 2:if(c.t0=this.ifd0,c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){c.next=8;break}return c.abrupt("return");case 8:if(c.t1=this.file.tiff,!c.t1){c.next=12;break}return c.next=12,this.file.ensureChunk(this.exifOffset,mH(this.options));case 12:return u=this.parseBlock(this.exifOffset,"exif"),c.abrupt("return",(this.interopOffset||(this.interopOffset=u.get(40965)),this.makerNote=u.get(37500),this.userComment=u.get(37510),this.options.sanitize&&(u.delete(40965),u.delete(37500),u.delete(37510)),this.unpack(u,41728),this.unpack(u,41729),u));case 14:case"end":return c.stop()}},"_callee13$"),o,this)},"_callee13")));function a(){return n.apply(this,arguments)}return i(a,"parseExifBlock"),a}()},{key:"unpack",value:i(function(a,o){var u=a.get(o);u&&u.length===1&&a.set(o,u[0])},"unpack")},{key:"parseGpsBlock",value:function(){var n=He(de().mark(i(function o(){var u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.gps){c.next=2;break}return c.abrupt("return");case 2:if(c.t0=this.ifd0,c.t0){c.next=6;break}return c.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){c.next=8;break}return c.abrupt("return");case 8:return u=this.parseBlock(this.gpsOffset,"gps"),c.abrupt("return",(u&&u.has(2)&&u.has(4)&&(u.set("latitude",_H.apply(void 0,fl(u.get(2)).concat([u.get(1)]))),u.set("longitude",_H.apply(void 0,fl(u.get(4)).concat([u.get(3)])))),u));case 10:case"end":return c.stop()}},"_callee14$"),o,this)},"_callee14")));function a(){return n.apply(this,arguments)}return i(a,"parseGpsBlock"),a}()},{key:"parseInteropBlock",value:function(){var n=He(de().mark(i(function o(){return de().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.t0=!this.interop,!s.t0){s.next=11;break}if(s.t1=this.ifd0,s.t1){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t2=this.interopOffset!==void 0||this.exif,s.t2){s.next=10;break}return s.next=10,this.parseExifBlock();case 10:s.t0=this.interopOffset!==void 0;case 11:if(!s.t0){s.next=13;break}return s.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return s.stop()}},"_callee15$"),o,this)},"_callee15")));function a(){return n.apply(this,arguments)}return i(a,"parseInteropBlock"),a}()},{key:"parseThumbnailBlock",value:function(){var n=He(de().mark(i(function o(){var u,s=arguments;return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(u=s.length>0&&s[0]!==void 0?s[0]:!1,!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||u))){f.next=3;break}return f.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return f.stop()}},"_callee16$"),o,this)},"_callee16")));function a(){return n.apply(this,arguments)}return i(a,"parseThumbnailBlock"),a}()},{key:"extractThumbnail",value:function(){var n=He(de().mark(i(function o(){var u,s;return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.headerParsed||this.parseHeader(),f.t0=this.ifd1Parsed,f.t0){f.next=5;break}return f.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){f.next=7;break}return f.abrupt("return");case 7:return u=this.ifd1.get(513),s=this.ifd1.get(514),f.abrupt("return",this.chunk.getUint8Array(u,s));case 9:case"end":return f.stop()}},"_callee17$"),o,this)},"_callee17")));function a(){return n.apply(this,arguments)}return i(a,"extractThumbnail"),a}()},{key:"image",get:i(function(){return this.ifd0},"get")},{key:"thumbnail",get:i(function(){return this.ifd1},"get")},{key:"createOutput",value:i(function(){var a,o,u,s={},c=Ie(Pt),f;try{for(c.s();!(f=c.n()).done;)if(o=f.value,a=this[o],!MH(a))if(u=this.canTranslate?this.translateBlock(a,o):Object.fromEntries(a),this.options.mergeOutput){if(o==="ifd1")continue;Object.assign(s,u)}else s[o]=u}catch(d){c.e(d)}finally{c.f()}return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s},"createOutput")},{key:"assignToOutput",value:i(function(a,o){if(this.globalOptions.mergeOutput)Object.assign(a,o);else for(var u=0,s=Object.entries(o);u<s.length;u++){var c=fn(s[u],2),f=c[0],d=c[1];this.assignObjectToOutput(a,f,d)}},"assignToOutput")}],[{key:"canHandle",value:i(function(a,o){return a.getUint8(o+1)===225&&a.getUint32(o+4)===1165519206&&a.getUint16(o+8)===0},"canHandle")}]),r}(hGe);function _H(t,e,r,n){var a=t+e/60+r/3600;return n!=="S"&&n!=="W"||(a*=-1),a}i(_H,"ne");Ve(BR,"type","tiff"),Ve(BR,"headerLength",10),$r.set("tiff",BR);var Ddt=Object.freeze({__proto__:null,default:lGe,Exifr:Qm,fileParsers:Ym,segmentParsers:$r,fileReaders:wp,tagKeys:Op,tagValues:tT,tagRevivers:rT,createDictionary:BH,extendDictionary:$H,fetchUrlAsArrayBuffer:Wm,readBlobAsArrayBuffer:gp,chunkedProps:al,otherSegments:Xm,segments:bp,tiffBlocks:Pt,segmentsAndBlocks:ul,tiffExtractables:sl,inheritables:Jm,allFormatters:ll,Options:Sp,parse:GH}),nT={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Udt=Object.assign({},nT,{firstChunkSize:4e4,gps:[1,2,3,4]});var Mdt=Object.assign({},nT,{tiff:!1,ifd1:!0,mergeOutput:!1});var vGe=Object.assign({},nT,{firstChunkSize:4e4,ifd0:[274]});function yGe(t){return JR.apply(this,arguments)}i(yGe,"ce");function JR(){return JR=He(de().mark(i(function t(e){var r,n;return de().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return r=new Qm(vGe),o.next=3,r.read(e);case 3:return o.next=5,r.parse();case 5:if(n=o.sent,!(n&&n.ifd0)){o.next=8;break}return o.abrupt("return",n.ifd0[274]);case 8:case"end":return o.stop()}},"_callee32$"),t)},"_callee32"))),JR.apply(this,arguments)}i(JR,"_ce");var mGe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),hp=!0,vp=!0;(typeof navigator=="undefined"?"undefined":Zo(navigator))=="object"&&(ai=navigator.userAgent,ai.includes("iPad")||ai.includes("iPhone")?($R=ai.match(/OS (\d+)_(\d+)/),$R&&(zR=fn($R,3),PH=zR[1],ea=zR[2],Vm=Number(PH)+.1*Number(ea),hp=Vm<13.4,vp=!1)):ai.includes("OS X 10")&&(EH=ai.match(/OS X 10[_.](\d+)/),RH=fn(EH,2),TH=RH[1],hp=vp=Number(TH)<15),ai.includes("Chrome/")?(AH=ai.match(/Chrome\/(\d+)/),IH=fn(AH,2),kH=IH[1],hp=vp=Number(kH)<81):ai.includes("Firefox/")&&(qH=ai.match(/Firefox\/(\d+)/),xH=fn(qH,2),CH=xH[1],hp=vp=Number(CH)<77));var ai,$R,zR,PH,ea,Vm,EH,RH,TH,AH,IH,kH,qH,xH,CH;function HH(t){return QR.apply(this,arguments)}i(HH,"ye");function QR(){return QR=He(de().mark(i(function t(e){var r;return de().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,yGe(e);case 2:return r=a.sent,a.abrupt("return",Object.assign({canvas:hp,css:vp},mGe[r]));case 4:case"end":return a.stop()}},"_callee33$"),t)},"_callee33"))),QR.apply(this,arguments)}i(QR,"_ye");var gGe=function(t){si(r,t);var e=li(r);function r(){var n;Zt(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o)),Ve(Br(n),"ranges",new bGe),n.byteLength!==0&&n.ranges.add(0,n.byteLength),n}return i(r,"be"),er(r,[{key:"_tryExtend",value:i(function(a,o,u){if(a===0&&this.byteLength===0&&u){var s=new DataView(u.buffer||u,u.byteOffset,u.byteLength);this._swapDataView(s)}else{var c=a+o;if(c>this.byteLength){var f=this._extend(c),d=f.dataView;this._swapDataView(d)}}},"_tryExtend")},{key:"_extend",value:i(function(a){var o;o=UH?DH.allocUnsafe(a):new Uint8Array(a);var u=new DataView(o.buffer,o.byteOffset,o.byteLength);return o.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:o,dataView:u}},"_extend")},{key:"subarray",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return o=o||this._lengthToEnd(a),u&&this._tryExtend(a,o),this.ranges.add(a,o),cu(ui(r.prototype),"subarray",this).call(this,a,o)},"subarray")},{key:"set",value:i(function(a,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;u&&this._tryExtend(o,a.byteLength,a);var s=cu(ui(r.prototype),"set",this).call(this,a,o);return this.ranges.add(o,s.byteLength),s},"set")},{key:"ensureChunk",value:function(){var n=He(de().mark(i(function o(u,s){return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.t0=this.chunked,!f.t0){f.next=6;break}if(f.t1=this.ranges.available(u,s),f.t1){f.next=6;break}return f.next=6,this.readChunk(u,s);case 6:case"end":return f.stop()}},"_callee18$"),o,this)},"_callee18")));function a(o,u){return n.apply(this,arguments)}return i(a,"ensureChunk"),a}()},{key:"available",value:i(function(a,o){return this.ranges.available(a,o)},"available")}]),r}(mp),bGe=function(){function t(){Zt(this,t),Ve(this,"list",[])}return i(t,"we"),er(t,[{key:"length",get:i(function(){return this.list.length},"get")},{key:"add",value:i(function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=r+n,u=this.list.filter(function(c){return FH(r,c.offset,o)||FH(r,c.end,o)});if(u.length>0){r=Math.min.apply(Math,[r].concat(fl(u.map(function(c){return c.offset})))),o=Math.max.apply(Math,[o].concat(fl(u.map(function(c){return c.end})))),n=o-r;var s=u.shift();s.offset=r,s.length=n,s.end=o,this.list=this.list.filter(function(c){return!u.includes(c)})}else this.list.push({offset:r,length:n,end:o})},"add")},{key:"available",value:i(function(r,n){var a=r+n;return this.list.some(function(o){return o.offset<=r&&a<=o.end})},"available")}]),t}();function FH(t,e,r){return t<=e&&e<=r}i(FH,"ke");var wGe=function(t){si(r,t);var e=li(r);function r(n,a){var o;return Zt(this,r),o=e.call(this,0),Ve(Br(o),"chunksRead",0),o.input=n,o.options=a,o}return i(r,"Oe"),er(r,[{key:"readWhole",value:function(){var n=He(de().mark(i(function o(){return de().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return this.chunked=!1,s.next=3,this.readChunk(this.nextChunkOffset);case 3:case"end":return s.stop()}},"_callee19$"),o,this)},"_callee19")));function a(){return n.apply(this,arguments)}return i(a,"readWhole"),a}()},{key:"readChunked",value:function(){var n=He(de().mark(i(function o(){return de().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return this.chunked=!0,s.next=3,this.readChunk(0,this.options.firstChunkSize);case 3:case"end":return s.stop()}},"_callee20$"),o,this)},"_callee20")));function a(){return n.apply(this,arguments)}return i(a,"readChunked"),a}()},{key:"readNextChunk",value:function(){var n=He(de().mark(i(function o(){var u,s,c,f=arguments;return de().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(u=f.length>0&&f[0]!==void 0?f[0]:this.nextChunkOffset,!this.fullyRead){y.next=3;break}return y.abrupt("return",(this.chunksRead++,!1));case 3:return s=this.options.chunkSize,y.next=6,this.readChunk(u,s);case 6:return c=y.sent,y.abrupt("return",!!c&&c.byteLength===s);case 8:case"end":return y.stop()}},"_callee21$"),o,this)},"_callee21")));function a(){return n.apply(this,arguments)}return i(a,"readNextChunk"),a}()},{key:"readChunk",value:function(){var n=He(de().mark(i(function o(u,s){return de().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.chunksRead++,(s=this.safeWrapAddress(u,s))===0){f.next=2;break}return f.abrupt("return",this._readChunk(u,s));case 2:case"end":return f.stop()}},"_callee22$"),o,this)},"_callee22")));function a(o,u){return n.apply(this,arguments)}return i(a,"readChunk"),a}()},{key:"safeWrapAddress",value:i(function(a,o){return this.size!==void 0&&a+o>this.size?Math.max(0,this.size-a):o},"safeWrapAddress")},{key:"nextChunkOffset",get:i(function(){if(this.ranges.list.length!==0)return this.ranges.list[0].length},"get")},{key:"canReadNextChunk",get:i(function(){return this.chunksRead<this.options.chunkLimit},"get")},{key:"fullyRead",get:i(function(){return this.size!==void 0&&this.nextChunkOffset===this.size},"get")},{key:"read",value:i(function(){return this.options.chunked?this.readChunked():this.readWhole()},"read")},{key:"close",value:i(function(){},"close")}]),r}(gGe);wp.set("blob",function(t){si(r,t);var e=li(r);function r(){return Zt(this,r),e.apply(this,arguments)}return i(r,"_class2"),er(r,[{key:"readWhole",value:function(){var n=He(de().mark(i(function o(){var u;return de().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:return this.chunked=!1,c.next=3,gp(this.input);case 3:u=c.sent,this._swapArrayBuffer(u);case 5:case"end":return c.stop()}},"_callee23$"),o,this)},"_callee23")));function a(){return n.apply(this,arguments)}return i(a,"readWhole"),a}()},{key:"readChunked",value:i(function(){return this.chunked=!0,this.size=this.input.size,cu(ui(r.prototype),"readChunked",this).call(this)},"readChunked")},{key:"_readChunk",value:function(){var n=He(de().mark(i(function o(u,s){var c,f,d;return de().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:return c=s?u+s:void 0,f=this.input.slice(u,c),m.next=4,gp(f);case 4:return d=m.sent,m.abrupt("return",this.set(d,u,!0));case 6:case"end":return m.stop()}},"_callee24$"),o,this)},"_callee24")));function a(o,u){return n.apply(this,arguments)}return i(a,"_readChunk"),a}()}]),r}(wGe));var VH={strings:{generatingThumbnails:"Generating thumbnails..."}};function iT(t){return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iT(t)}i(iT,"_typeof");function OGe(t,e){return EGe(t)||PGe(t,e)||_Ge(t,e)||SGe()}i(OGe,"_slicedToArray");function SGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(SGe,"_nonIterableRest");function _Ge(t,e){if(!!t){if(typeof t=="string")return WH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WH(t,e)}}i(_Ge,"_unsupportedIterableToArray");function WH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(WH,"_arrayLikeToArray");function PGe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(PGe,"_iterableToArrayLimit");function EGe(t){if(Array.isArray(t))return t}i(EGe,"_arrayWithHoles");function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(KH,"ownKeys");function YH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){RGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(YH,"_objectSpread");function RGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(RGe,"_defineProperty");function TGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(TGe,"_classCallCheck");function XH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XH,"_defineProperties");function AGe(t,e,r){return e&&XH(t.prototype,e),r&&XH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(AGe,"_createClass");function IGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}i(IGe,"_inherits");function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),oT(t,e)}i(oT,"_setPrototypeOf");function kGe(t){var e=CGe();return i(function(){var n=Zm(t),a;if(e){var o=Zm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return qGe(this,a)},"_createSuperInternal")}i(kGe,"_createSuper");function qGe(t,e){if(e&&(iT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xGe(t)}i(qGe,"_possibleConstructorReturn");function xGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(xGe,"_assertThisInitialized");function CGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(CGe,"_isNativeReflectConstruct");function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Zm(t)}i(Zm,"_getPrototypeOf");var FGe={version:"3.0.2"};function LGe(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}).then(function(n){if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(function(){return DR(t.toDataURL(e,r),{})}).then(function(n){if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}i(LGe,"canvasToBlob");function jGe(t,e){var r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);var a=document.createElement("canvas");a.width=r,a.height=n;var o=a.getContext("2d");return o.translate(r/2,n/2),e.canvas&&(o.rotate(e.rad),o.scale(e.scaleX,e.scaleY)),o.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),a}i(jGe,"rotateImage");function NGe(t){var e=t.width/t.height,r=5e6,n=4096,a=Math.floor(Math.sqrt(r*e)),o=Math.floor(r/Math.sqrt(r*e));if(a>n&&(a=n,o=Math.round(a/e)),o>n&&(o=n,a=Math.round(e*o)),t.width>a){var u=document.createElement("canvas");return u.width=a,u.height=o,u.getContext("2d").drawImage(t,0,0,a,o),u}return t}i(NGe,"protect");var _p=function(t){IGe(r,t);var e=kGe(r);function r(n,a){var o;TGe(this,r),o=e.call(this,n,a),o.onFileAdded=function(s){!s.preview&&s.data&&rl(s.type)&&!s.isRemote&&o.addToQueue(s.id)},o.onCancelRequest=function(s){var c=o.queue.indexOf(s.id);c!==-1&&o.queue.splice(c,1)},o.onFileRemoved=function(s){var c=o.queue.indexOf(s.id);c!==-1&&o.queue.splice(c,1),s.preview&&zm(s.preview)&&URL.revokeObjectURL(s.preview)},o.onRestored=function(){var s=o.uppy.getFiles().filter(function(c){return c.isRestored});s.forEach(function(c){(!c.preview||zm(c.preview))&&o.addToQueue(c.id)})},o.onAllFilesRemoved=function(){o.queue=[]},o.waitUntilAllProcessed=function(s){s.forEach(function(f){var d=o.uppy.getFile(f);o.uppy.emit("preprocess-progress",d,{mode:"indeterminate",message:o.i18n("generatingThumbnails")})});var c=i(function(){s.forEach(function(d){var y=o.uppy.getFile(d);o.uppy.emit("preprocess-complete",y)})},"emitPreprocessCompleteForAll");return new Promise(function(f){o.queueProcessing?o.uppy.once("thumbnail:all-generated",function(){c(),f()}):(c(),f())})},o.type="modifier",o.id=o.opts.id||"ThumbnailGenerator",o.title="Thumbnail Generator",o.queue=[],o.queueProcessing=!1,o.defaultThumbnailDimension=200,o.thumbnailType=o.opts.thumbnailType||"image/jpeg",o.defaultLocale=VH;var u={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(o.opts=YH(YH({},u),a),o.i18nInit(),o.opts.lazy&&o.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return o}return i(r,"ThumbnailGenerator"),AGe(r,[{key:"createThumbnail",value:i(function(a,o,u){var s=this,c=URL.createObjectURL(a.data),f=new Promise(function(y,m){var w=new Image;w.src=c,w.addEventListener("load",function(){URL.revokeObjectURL(c),y(w)}),w.addEventListener("error",function(_){URL.revokeObjectURL(c),m(_.error||new Error("Could not create thumbnail"))})}),d=HH(a.data).catch(function(){return 1});return Promise.all([f,d]).then(function(y){var m=OGe(y,2),w=m[0],_=m[1],R=s.getProportionalDimensions(w,o,u,_.deg),T=jGe(w,_),E=s.resizeImage(T,R.width,R.height);return LGe(E,s.thumbnailType,80)}).then(function(y){return URL.createObjectURL(y)})},"createThumbnail")},{key:"getProportionalDimensions",value:i(function(a,o,u,s){var c=a.width/a.height;return(s===90||s===270)&&(c=a.height/a.width),o!=null?{width:o,height:Math.round(o/c)}:u!=null?{width:Math.round(u*c),height:u}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/c)}},"getProportionalDimensions")},{key:"resizeImage",value:i(function(a,o,u){var s=NGe(a),c=Math.ceil(Math.log2(s.width/o));c<1&&(c=1);for(var f=o*Math.pow(2,c-1),d=u*Math.pow(2,c-1),y=2;c--;){var m=document.createElement("canvas");m.width=f,m.height=d,m.getContext("2d").drawImage(s,0,0,f,d),s=m,f=Math.round(f/y),d=Math.round(d/y)}return s},"resizeImage")},{key:"setPreviewURL",value:i(function(a,o){this.uppy.setFileState(a,{preview:o})},"setPreviewURL")},{key:"addToQueue",value:i(function(a){this.queue.push(a),this.queueProcessing===!1&&this.processQueue()},"addToQueue")},{key:"processQueue",value:i(function(){var a=this;if(this.queueProcessing=!0,this.queue.length>0){var o=this.uppy.getFile(this.queue.shift());return o?this.requestThumbnail(o).catch(function(){}).then(function(){return a.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()},"processQueue")},{key:"requestThumbnail",value:i(function(a){var o=this;return rl(a.type)&&!a.isRemote?this.createThumbnail(a,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(u){o.setPreviewURL(a.id,u),o.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(a.id)),o.uppy.emit("thumbnail:generated",o.uppy.getFile(a.id),u)}).catch(function(u){o.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(a.id,":"),"warning"),o.uppy.log(u,"warning"),o.uppy.emit("thumbnail:error",o.uppy.getFile(a.id),u)}):Promise.resolve()},"requestThumbnail")},{key:"install",value:i(function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},"uninstall")}]),r}(Se);_p.VERSION=FGe.version;function aT(t){return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(t)}i(aT,"_typeof");function eg(t){if(typeof t=="string"){var e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return aT(t)==="object"&&Kf(t)?[t]:null}i(eg,"findAllDOMElements");var Et=Array.from;function JH(t){return BGe(t)||MGe(t)||UGe(t)||DGe()}i(JH,"_toConsumableArray");function DGe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(DGe,"_nonIterableSpread");function UGe(t,e){if(!!t){if(typeof t=="string")return uT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(t,e)}}i(UGe,"_unsupportedIterableToArray");function MGe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(MGe,"_iterableToArray");function BGe(t){if(Array.isArray(t))return uT(t)}i(BGe,"_arrayWithoutHoles");function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(uT,"_arrayLikeToArray");function tg(t,e,r,n){var a=n.onSuccess;t.readEntries(function(o){var u=[].concat(JH(e),JH(o));o.length?queueMicrotask(function(){tg(t,u,r,{onSuccess:a})}):a(u)},function(o){r(o),a(e)})}i(tg,"getFilesAndDirectoriesFromDirectory");function sT(t){return sT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sT(t)}i(sT,"_typeof");function $Ge(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=zGe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i($Ge,"_createForOfIteratorHelper");function zGe(t,e){if(!!t){if(typeof t=="string")return QH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QH(t,e)}}i(zGe,"_unsupportedIterableToArray");function QH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(QH,"_arrayLikeToArray");function ZH(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(ZH,"asyncGeneratorStep");function GGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){ZH(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){ZH(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(GGe,"_asyncToGenerator");function Yi(){"use strict";Yi=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&sT(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Yi,"_regeneratorRuntime");function fT(t){return function(){return new Pp(t.apply(this,arguments))}}i(fT,"_wrapAsyncGenerator");function Pp(t){var e,r;function n(u,s){return new Promise(function(c,f){var d={key:u,arg:s,resolve:c,reject:f,next:null};r?r=r.next=d:(e=r=d,a(u,s))})}i(n,"send");function a(u,s){try{var c=t[u](s),f=c.value,d=f instanceof eV;Promise.resolve(d?f.wrapped:f).then(function(y){if(d){a(u==="return"?"return":"next",y);return}o(c.done?"return":"normal",y)},function(y){a("throw",y)})}catch(y){o("throw",y)}}i(a,"resume");function o(u,s){switch(u){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1});break}e=e.next,e?a(e.key,e.arg):r=null}i(o,"settle"),this._invoke=n,typeof t.return!="function"&&(this.return=void 0)}i(Pp,"_AsyncGenerator");Pp.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};Pp.prototype.next=function(t){return this._invoke("next",t)};Pp.prototype.throw=function(t){return this._invoke("throw",t)};Pp.prototype.return=function(t){return this._invoke("return",t)};function ta(t){return new eV(t)}i(ta,"_awaitAsyncGenerator");function eV(t){this.wrapped=t}i(eV,"_AwaitValue");function ng(t){var e,r,n,a=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new rg(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i(ng,"_asyncIterator");function rg(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(a){return{value:a,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),rg=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),rg.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var a=this.s.return;return a===void 0?Promise.resolve({value:n,done:!0}):e(a.apply(this.s,arguments))},"_return"),throw:i(function(n){var a=this.s.return;return a===void 0?Promise.reject(n):e(a.apply(this.s,arguments))},"_throw")},new rg(t)}i(rg,"AsyncFromSyncIterator");function pT(t,e){var r={},n=!1;function a(o,u){return n=!0,u=new Promise(function(s){s(t[o](u))}),{done:!1,value:e(u)}}return i(a,"pump"),r[typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(o){return n?(n=!1,o):a("next",o)},typeof t.throw=="function"&&(r.throw=function(o){if(n)throw n=!1,o;return a("throw",o)}),typeof t.return=="function"&&(r.return=function(o){return n?(n=!1,o):a("return",o)}),r}i(pT,"_asyncGeneratorDelegate");function tV(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile:i(function(){return new Promise(function(n,a){return t.file(n,a)})},"getFile"),values:i(function(){return fT(Yi().mark(i(function n(){var a,o;return Yi().wrap(i(function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.createReader(),s.next=3,ta(new Promise(function(c){tg(a,[],e,{onSuccess:i(function(d){return c(d.map(function(y){return tV(y,e)}))},"onSuccess")})}));case 3:return o=s.sent,s.delegateYield(pT(ng(o),ta),"t0",5);case 5:case"end":return s.stop()}},"_callee$"),n)},"_callee")))()},"values")}}i(tV,"getAsFileSystemHandleFromEntry");function rV(t,e){return lT.apply(this,arguments)}i(rV,"createPromiseToAddFileOrParseDirectory");function lT(){return lT=fT(Yi().mark(i(function t(e,r){var n,a,o,u,s,c,f;return Yi().wrap(i(function(y){for(;;)switch(y.prev=y.next){case 0:if(e.kind!=="file"){y.next=10;break}return y.next=3,ta(e.getFile());case 3:if(n=y.sent,n===null){y.next=8;break}return n.relativePath=r?"".concat(r,"/").concat(e.name):null,y.next=8,n;case 8:y.next=39;break;case 10:if(e.kind!=="directory"){y.next=39;break}a=!1,o=!1,y.prev=13,s=ng(e.values());case 15:return y.next=17,ta(s.next());case 17:if(!(a=!(c=y.sent).done)){y.next=23;break}return f=c.value,y.delegateYield(pT(ng(rV(f,"".concat(r,"/").concat(e.name))),ta),"t0",20);case 20:a=!1,y.next=15;break;case 23:y.next=29;break;case 25:y.prev=25,y.t1=y.catch(13),o=!0,u=y.t1;case 29:if(y.prev=29,y.prev=30,!(a&&s.return!=null)){y.next=34;break}return y.next=34,ta(s.return());case 34:if(y.prev=34,!o){y.next=37;break}throw u;case 37:return y.finish(34);case 38:return y.finish(29);case 39:case"end":return y.stop()}},"_callee2$"),t,null,[[13,25,29,39],[30,,34,38]])},"_callee2"))),lT.apply(this,arguments)}i(lT,"_createPromiseToAddFileOrParseDirectory");function dT(t,e){return cT.apply(this,arguments)}i(dT,"getFilesFromDataTransfer");function cT(){return cT=fT(Yi().mark(i(function t(e,r){var n,a,o,u,s,c;return Yi().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,ta(Promise.all(Array.from(e.items,function(){var y=GGe(Yi().mark(i(function m(w){var _,R,T;return Yi().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return R=w.getAsFile(),A.next=3,w.getAsFileSystemHandle==null?void 0:w.getAsFileSystemHandle();case 3:if(A.t0=_=A.sent,A.t0==null){A.next=8;break}A.t1=_,A.next=9;break;case 8:A.t1=tV(w.webkitGetAsEntry(),r);case 9:return T=A.t1,A.abrupt("return",{lastResortFile:R,entry:T});case 11:case"end":return A.stop()}},"_callee3$"),m)},"_callee3")));return function(m){return y.apply(this,arguments)}}())));case 2:n=d.sent,a=$Ge(n),d.prev=4,a.s();case 6:if((o=a.n()).done){d.next=23;break}if(u=o.value,s=u.lastResortFile,c=u.entry,c==null){d.next=21;break}return d.prev=9,d.delegateYield(pT(ng(rV(c,"")),ta),"t0",11);case 11:d.next=21;break;case 13:if(d.prev=13,d.t1=d.catch(9),!s){d.next=20;break}return d.next=18,s;case 18:d.next=21;break;case 20:r(d.t1);case 21:d.next=6;break;case 23:d.next=28;break;case 25:d.prev=25,d.t2=d.catch(4),a.e(d.t2);case 28:return d.prev=28,a.f(),d.finish(28);case 31:case"end":return d.stop()}},"_callee4$"),t,null,[[4,25,28,31],[9,13]])},"_callee4"))),cT.apply(this,arguments)}i(cT,"_getFilesFromDataTransfer");function hT(t){var e=Et(t.files);return Promise.resolve(e)}i(hT,"fallbackApi");function vT(t){return vT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vT(t)}i(vT,"_typeof");function yT(){"use strict";yT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&vT(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(yT,"_regeneratorRuntime");function nV(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(nV,"asyncGeneratorStep");function HGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){nV(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){nV(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(HGe,"_asyncToGenerator");function VGe(t){var e,r,n,a=2;for(typeof Symbol!="undefined"&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&(e=t[r])!=null)return e.call(t);if(n&&(e=t[n])!=null)return new ig(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}i(VGe,"_asyncIterator");function ig(t){function e(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var n=r.done;return Promise.resolve(r.value).then(function(a){return{value:a,done:n}})}return i(e,"AsyncFromSyncIteratorContinuation"),ig=i(function(n){this.s=n,this.n=n.next},"AsyncFromSyncIterator"),ig.prototype={s:null,n:null,next:i(function(){return e(this.n.apply(this.s,arguments))},"next"),return:i(function(n){var a=this.s.return;return a===void 0?Promise.resolve({value:n,done:!0}):e(a.apply(this.s,arguments))},"_return"),throw:i(function(n){var a=this.s.return;return a===void 0?Promise.reject(n):e(a.apply(this.s,arguments))},"_throw")},new ig(t)}i(ig,"AsyncFromSyncIterator");function fu(t,e){return mT.apply(this,arguments)}i(fu,"getDroppedFiles");function mT(){return mT=HGe(yT().mark(i(function t(e,r){var n,a,o,u,s,c,f,d,y,m;return yT().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:n=r===void 0?{}:r,a=n.logDropError,o=a===void 0?function(){}:a,_.prev=1,u=[],s=!1,c=!1,_.prev=5,d=VGe(dT(e,o));case 7:return _.next=9,d.next();case 9:if(!(s=!(y=_.sent).done)){_.next=15;break}m=y.value,u.push(m);case 12:s=!1,_.next=7;break;case 15:_.next=21;break;case 17:_.prev=17,_.t0=_.catch(5),c=!0,f=_.t0;case 21:if(_.prev=21,_.prev=22,!(s&&d.return!=null)){_.next=26;break}return _.next=26,d.return();case 26:if(_.prev=26,!c){_.next=29;break}throw f;case 29:return _.finish(26);case 30:return _.finish(21);case 31:return _.abrupt("return",u);case 34:return _.prev=34,_.t1=_.catch(1),_.abrupt("return",hT(e));case 37:case"end":return _.stop()}},"_callee$"),t,null,[[1,34],[5,17,21,31],[22,,26,30]])},"_callee"))),mT.apply(this,arguments)}i(mT,"_getDroppedFiles");var iV=Number.isNaN||i(function(e){return typeof e=="number"&&e!==e},"ponyfill");function WGe(t,e){return!!(t===e||iV(t)&&iV(e))}i(WGe,"isEqual");function KGe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!WGe(t[r],e[r]))return!1;return!0}i(KGe,"areInputsEqual");function gT(t,e){e===void 0&&(e=KGe);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var u=t.apply(this,a);return r={lastResult:u,lastArgs:a,lastThis:this},u}return i(n,"memoized"),n.clear=i(function(){r=null},"clear"),n}i(gT,"memoizeOne");var pl=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Ep(t,e){if(e){var r=t.querySelector('[data-uppy-paneltype="'.concat(e,'"]'));if(r)return r}return t}i(Ep,"getActiveOverlayEl");function oV(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}i(oV,"focusOnFirstNode");function YGe(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}i(YGe,"focusOnLastNode");function XGe(t){return t.contains(document.activeElement)}i(XGe,"isFocusInOverlay");function bT(t,e,r){var n=Ep(r,e),a=Et(n.querySelectorAll(pl)),o=a.indexOf(document.activeElement);XGe(n)?t.shiftKey&&o===0?YGe(t,a):!t.shiftKey&&o===a.length-1&&oV(t,a):oV(t,a)}i(bT,"trapFocus");function aV(t,e,r){e===null||bT(t,e,r)}i(aV,"forInline");var fV=Te(cV(),1);function ST(){var t=!1,e=i(function(n,a){var o=Ep(n,a),u=o.contains(document.activeElement);if(!(u&&t)){var s=o.querySelector("[data-uppy-super-focusable]");if(!(u&&!s))if(s)s.focus({preventScroll:!0}),t=!0;else{var c=o.querySelector(pl);c==null||c.focus({preventScroll:!0}),t=!1}}},"superFocus");return(0,fV.default)(e,260)}i(ST,"createSuperFocus");var WV=Te(Mr(),1);function Rp(){var t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}i(Rp,"isDragDropSupported");var EV=Te(Mr(),1);var bV=Te(Mr(),1),wV=Te(dV(),1);function vHe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},S("g",{fill:"#686DE0",fillRule:"evenodd"},S("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),S("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),S("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}i(vHe,"iconImage");function yHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}i(yHe,"iconAudio");function mHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}i(mHe,"iconVideo");function gHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}i(gHe,"iconPDF");function bHe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}i(bHe,"iconArchive");function wHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("g",{fill:"#A7AFB7",fillRule:"nonzero"},S("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),S("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}i(wHe,"iconFile");function OHe(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},S("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}i(OHe,"iconText");function du(t){var e={color:"#838999",icon:wHe()};if(!t)return e;var r=t.split("/")[0],n=t.split("/")[1];if(r==="text")return{color:"#5a5e69",icon:OHe()};if(r==="image")return{color:"#686de0",icon:vHe()};if(r==="audio")return{color:"#068dbb",icon:yHe()};if(r==="video")return{color:"#19af67",icon:mHe()};if(r==="application"&&n==="pdf")return{color:"#e25149",icon:gHe()};var a=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return r==="application"&&a.indexOf(n)!==-1?{color:"#00C469",icon:bHe()}:e}i(du,"getIconByMime");function Tp(t){var e=t.file;if(e.preview)return S("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});var r=du(e.type),n=r.color,a=r.icon;return S("div",{className:"uppy-Dashboard-Item-previewIconWrap"},S("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},a),S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},S("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}i(Tp,"FilePreview");var SHe=i(function(e,r){var n=r.filter(function(a){return a.id===e});return n[0].name},"metaFieldIdToName");function Ap(t){var e=t.file,r=t.toggleFileCard,n=t.i18n,a=t.metaFields,o=e.missingRequiredMetaFields;if(!(o!=null&&o.length))return null;var u=o.map(function(s){return SHe(s,a)}).join(", ");return S("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:o.length,fields:u})," ",S("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:i(function(){return r(!0,e.id)},"onClick")},n("editFile")))}i(Ap,"renderMissingMetaFieldsError");function _T(t){return S("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:du(t.file.type).color}},t.showLinkToFileUploadResult&&t.file.uploadURL&&S("a",{className:"uppy-Dashboard-Item-previewLink",href:t.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.file.meta.name},S("span",{hidden:!0},t.file.meta.name)),S(Tp,{file:t.file}),S(Ap,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(_T,"FilePreviewAndLink");function _He(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}i(_He,"onPauseResumeCancelRetry");function hV(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}i(hV,"progressIndicatorTitle");function PT(t){return S("div",{className:"uppy-Dashboard-Item-progress"},S("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":hV(t),title:hV(t),onClick:i(function(){return _He(t)},"onClick")},t.children))}i(PT,"ProgressIndicatorButton");function og(t){var e=t.children;return S("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}i(og,"ProgressCircleContainer");function ET(t){var e=t.progress,r=2*Math.PI*15;return S("g",null,S("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),S("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}i(ET,"ProgressCircle");function RT(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return S("div",{className:"uppy-Dashboard-Item-progress"},S("div",{className:"uppy-Dashboard-Item-progressIndicator"},S(og,null,S("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),S("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?S(PT,t,S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},S("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),S("path",{d:"M7.9 3H10v2H7.9z"}),S("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),S("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?S(PT,t,S(og,null,S(ET,{progress:t.file.progress.percentage}),t.file.isPaused?S("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):S("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},S("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),S("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?S(PT,t,S(og,null,S(ET,{progress:t.file.progress.percentage}),S("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):S("div",{className:"uppy-Dashboard-Item-progress"},S("div",{className:"uppy-Dashboard-Item-progressIndicator"},S(og,null,S(ET,{progress:t.file.progress.percentage}))))}i(RT,"FileProgress");var mV=Te(yV(),1);var AT="...";function ag(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=AT.length+1)return"".concat(t.slice(0,e-1),"\u2026");var r=e-AT.length,n=Math.ceil(r/2),a=Math.floor(r/2);return t.slice(0,n)+AT+t.slice(-a)}i(ag,"truncateString");var PHe=i(function(e){var r=e.file.meta,n=r.author,a=r.name;function o(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return i(o,"getMaxNameLength"),S("div",{className:"uppy-Dashboard-Item-name",title:a},ag(a,o()))},"renderFileName"),EHe=i(function(e){var r=e.file.meta.author,n=e.file.remote.providerName,a="\xB7";return r?S("div",{className:"uppy-Dashboard-Item-author"},S("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},ag(r.name,13)),n?S(ri,null," ".concat(a," "),n," ".concat(a," ")):null):null},"renderAuthor"),RHe=i(function(e){return e.file.size&&S("div",{className:"uppy-Dashboard-Item-statusSize"},(0,mV.default)(e.file.size))},"renderFileSize"),THe=i(function(e){return e.file.isGhost&&S("span",null," \u2022 ",S("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},"ReSelectButton"),AHe=i(function(e){var r=e.file,n=e.onClick;return r.error?S("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null},"ErrorButton");function IT(t){var e=t.file;return S("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},S("div",{className:"uppy-Dashboard-Item-fileName"},PHe(t),S(AHe,{file:t.file,onClick:i(function(){return alert(t.file.error)},"onClick")})),S("div",{className:"uppy-Dashboard-Item-status"},EHe(t),RHe(t),THe(t)),S(Ap,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}i(IT,"FileInfo");function kT(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(function(r){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();var a=i(function(){document.body.removeChild(n),window.prompt(e,t),r()},"magicCopyFailed");try{var o=document.execCommand("copy");return o?(document.body.removeChild(n),r()):a("copy command unavailable")}catch(u){return document.body.removeChild(n),a(u)}})}i(kT,"copyToClipboard");function IHe(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,a=t.canEditFile,o=t.i18n,u=t.onClick;return!r&&n&&n.length>0||!r&&a(e)?S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFileWithFilename",{file:e.meta.name}),title:o("editFileWithFilename",{file:e.meta.name}),onClick:i(function(){return u()},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},S("g",{fillRule:"evenodd"},S("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),S("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),S("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}i(IHe,"EditButton");function kHe(t){var e=t.i18n,r=t.onClick,n=t.file;return S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:i(function(){return r()},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},S("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),S("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}i(kHe,"RemoveButton");var qHe=i(function(e,r){kT(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})},"copyLinkToClipboard");function xHe(t){var e=t.i18n;return S("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:i(function(n){return qHe(n,t)},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},S("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}i(xHe,"CopyLinkButton");function qT(t){var e=t.uppy,r=t.file,n=t.uploadInProgressOrComplete,a=t.canEditFile,o=t.metaFields,u=t.showLinkToFileUploadResult,s=t.showRemoveButton,c=t.i18n,f=t.toggleFileCard,d=t.openFileEditor,y=i(function(){o&&o.length>0?f(!0,r.id):d(r)},"editAction");return S("div",{className:"uppy-Dashboard-Item-actionWrapper"},S(IHe,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:a,metaFields:o,onClick:y}),u&&r.uploadURL?S(xHe,{file:r,uppy:e,i18n:c}):null,s?S(kHe,{i18n:c,file:r,uppy:e,onClick:i(function(){return t.uppy.removeFile(r.id,"removed-by-user")},"onClick")}):null)}i(qT,"Buttons");function xT(t){return xT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xT(t)}i(xT,"_typeof");function CHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(CHe,"_classCallCheck");function gV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gV,"_defineProperties");function FHe(t,e,r){return e&&gV(t.prototype,e),r&&gV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(FHe,"_createClass");function LHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CT(t,e)}i(LHe,"_inherits");function CT(t,e){return CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),CT(t,e)}i(CT,"_setPrototypeOf");function jHe(t){var e=UHe();return i(function(){var n=ug(t),a;if(e){var o=ug(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return NHe(this,a)},"_createSuperInternal")}i(jHe,"_createSuper");function NHe(t,e){if(e&&(xT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DHe(t)}i(NHe,"_possibleConstructorReturn");function DHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(DHe,"_assertThisInitialized");function UHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(UHe,"_isNativeReflectConstruct");function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ug(t)}i(ug,"_getPrototypeOf");var OV=function(t){LHe(r,t);var e=jHe(r);function r(){return CHe(this,r),e.apply(this,arguments)}return i(r,"FileItem"),FHe(r,[{key:"componentDidMount",value:i(function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)},"componentDidMount")},{key:"shouldComponentUpdate",value:i(function(a){return!(0,wV.default)(this.props,a)},"shouldComponentUpdate")},{key:"componentDidUpdate",value:i(function(){var a=this.props.file;a.preview||this.props.handleRequestThumbnail(a)},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){var a=this.props.file;a.preview||this.props.handleCancelThumbnail(a)},"componentWillUnmount")},{key:"render",value:i(function(){var a=this.props.file,o=a.progress.preprocess||a.progress.postprocess,u=a.progress.uploadComplete&&!o&&!a.error,s=a.progress.uploadStarted||o,c=a.progress.uploadStarted&&!a.progress.uploadComplete||o,f=a.error||!1,d=a.isGhost,y=(this.props.individualCancellation||!c)&&!u;u&&this.props.showRemoveButtonAfterComplete&&(y=!0);var m=(0,bV.default)({"uppy-Dashboard-Item":!0,"is-inprogress":c&&!this.props.recoveredState,"is-processing":o,"is-complete":u,"is-error":!!f,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":d});return S("div",{className:m,id:"uppy_".concat(a.id),role:this.props.role},S("div",{className:"uppy-Dashboard-Item-preview"},S(_T,{file:a,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),S(RT,{uppy:this.props.uppy,file:a,error:f,isUploaded:u,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),S("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},S(IT,{file:a,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),S(qT,{file:a,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:y,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:s,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))},"render")}]),r}(Be);function FT(t){return FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FT(t)}i(FT,"_typeof");var MHe=["data","rowHeight","renderRow","overscanCount"];function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(SV,"ownKeys");function sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){BHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(sg,"_objectSpread");function BHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(BHe,"_defineProperty");function $He(t,e){if(t==null)return{};var r=zHe(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}i($He,"_objectWithoutProperties");function zHe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}i(zHe,"_objectWithoutPropertiesLoose");function GHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(GHe,"_classCallCheck");function _V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_V,"_defineProperties");function HHe(t,e,r){return e&&_V(t.prototype,e),r&&_V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(HHe,"_createClass");function VHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LT(t,e)}i(VHe,"_inherits");function LT(t,e){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),LT(t,e)}i(LT,"_setPrototypeOf");function WHe(t){var e=XHe();return i(function(){var n=lg(t),a;if(e){var o=lg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return KHe(this,a)},"_createSuperInternal")}i(WHe,"_createSuper");function KHe(t,e){if(e&&(FT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YHe(t)}i(KHe,"_possibleConstructorReturn");function YHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(YHe,"_assertThisInitialized");function XHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(XHe,"_isNativeReflectConstruct");function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),lg(t)}i(lg,"_getPrototypeOf");function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(this,arguments)}i(jT,"_extends");var JHe={position:"relative",width:"100%",minHeight:"100%"},QHe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},ZHe=function(t){VHe(r,t);var e=WHe(r);function r(n){var a;return GHe(this,r),a=e.call(this,n),a.handleScroll=function(){a.setState({offset:a.base.scrollTop})},a.handleResize=function(){a.resize()},a.focusElement=null,a.state={offset:0,height:0},a}return i(r,"VirtualList"),HHe(r,[{key:"componentDidMount",value:i(function(){this.resize(),window.addEventListener("resize",this.handleResize)},"componentDidMount")},{key:"componentWillUpdate",value:i(function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},"componentWillUpdate")},{key:"componentDidUpdate",value:i(function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},"componentDidUpdate")},{key:"componentWillUnmount",value:i(function(){window.removeEventListener("resize",this.handleResize)},"componentWillUnmount")},{key:"resize",value:i(function(){var a=this.state.height;a!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},"resize")},{key:"render",value:i(function(a){var o=a.data,u=a.rowHeight,s=a.renderRow,c=a.overscanCount,f=c===void 0?10:c,d=$He(a,MHe),y=this.state,m=y.offset,w=y.height,_=Math.floor(m/u),R=Math.floor(w/u);f&&(_=Math.max(0,_-_%f),R+=f);var T=_+R+4,E=o.slice(_,T),A=sg(sg({},JHe),{},{height:o.length*u}),x=sg(sg({},QHe),{},{top:_*u});return S("div",jT({onScroll:this.handleScroll},d),S("div",{role:"presentation",style:A},S("div",{role:"presentation",style:x},E.map(s))))},"render")}]),r}(Be),PV=ZHe;function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NT.apply(this,arguments)}i(NT,"_extends");function eVe(t,e){var r=[],n=[];return t.forEach(function(a){n.length<e?n.push(a):(r.push(n),n=[a])}),n.length&&r.push(n),r}i(eVe,"chunks");var RV=i(function(t){var e=t.totalFileCount===0,r=(0,EV.default)("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,a={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},o=i(function(d,y){return t.files[y].isGhost-t.files[d].isGhost},"sortByGhostComesFirst"),u=Object.keys(t.files);t.recoveredState&&u.sort(o);var s=eVe(u,t.itemsPerRow),c=i(function(d){return S("div",{role:"presentation",key:d[0]},d.map(function(y){return S(OV,NT({key:y,uppy:t.uppy},a,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[y]}))}))},"renderRow");return S(PV,{class:r,role:"list",data:s,renderRow:c,rowHeight:n})},"default");function DT(t){return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DT(t)}i(DT,"_typeof");function tVe(t){return oVe(t)||iVe(t)||nVe(t)||rVe()}i(tVe,"_toConsumableArray");function rVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(rVe,"_nonIterableSpread");function nVe(t,e){if(!!t){if(typeof t=="string")return UT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UT(t,e)}}i(nVe,"_unsupportedIterableToArray");function iVe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(iVe,"_iterableToArray");function oVe(t){if(Array.isArray(t))return UT(t)}i(oVe,"_arrayWithoutHoles");function UT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(UT,"_arrayLikeToArray");function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aVe,"_classCallCheck");function TV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(TV,"_defineProperties");function uVe(t,e,r){return e&&TV(t.prototype,e),r&&TV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uVe,"_createClass");function sVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}i(sVe,"_inherits");function MT(t,e){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),MT(t,e)}i(MT,"_setPrototypeOf");function lVe(t){var e=pVe();return i(function(){var n=cg(t),a;if(e){var o=cg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return cVe(this,a)},"_createSuperInternal")}i(lVe,"_createSuper");function cVe(t,e){if(e&&(DT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}i(cVe,"_possibleConstructorReturn");function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(fVe,"_assertThisInitialized");function pVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(pVe,"_isNativeReflectConstruct");function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),cg(t)}i(cg,"_getPrototypeOf");var AV;AV=Symbol.for("uppy test: disable unused locale key warning");var dVe=function(t,e){sVe(n,t);var r=lVe(n);function n(){var a;return aVe(this,n),a=r.apply(this,arguments),a.triggerFileInputClick=function(){a.fileInput.click()},a.triggerFolderInputClick=function(){a.folderInput.click()},a.triggerVideoCameraInputClick=function(){a.mobileVideoFileInput.click()},a.triggerPhotoCameraInputClick=function(){a.mobilePhotoFileInput.click()},a.onFileInputChange=function(o){a.props.handleInputChange(o),o.target.value=null},a.renderHiddenInput=function(o,u){return S("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:o,type:"file",name:"files[]",multiple:a.props.maxNumberOfFiles!==1,onChange:a.onFileInputChange,accept:a.props.allowedFileTypes,ref:u})},a.renderHiddenCameraInput=function(o,u,s){var c={photo:"image/*",video:"video/*"},f=c[o];return S("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(o),onChange:a.onFileInputChange,capture:u,accept:f,ref:s})},a.renderMyDeviceAcquirer=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerFileInputClick},S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),S("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("myDevice"))))},a.renderPhotoCamera=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerPhotoCameraInputClick},S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),S("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("takePictureBtn"))))},a.renderVideoCamera=function(){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:a.triggerVideoCameraInputClick},S("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},S("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),S("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),S("div",{className:"uppy-DashboardTab-name"},a.props.i18n("recordVideoBtn"))))},a.renderBrowseButton=function(o,u){var s=a.props.acquirers.length;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:u,"data-uppy-super-focusable":s===0},o)},a.renderDropPasteBrowseTagline=function(){var o=a.props.acquirers.length,u=a.renderBrowseButton(a.props.i18n("browseFiles"),a.triggerFileInputClick),s=a.renderBrowseButton(a.props.i18n("browseFolders"),a.triggerFolderInputClick),c=a.props.fileManagerSelectionType,f=c.charAt(0).toUpperCase()+c.slice(1);return S("div",{class:"uppy-Dashboard-AddFiles-title"},a.props.disableLocalFiles?a.props.i18n("importFiles"):o>0?a.props.i18nArray("dropPasteImport".concat(f),{browseFiles:u,browseFolders:s,browse:u}):a.props.i18nArray("dropPaste".concat(f),{browseFiles:u,browseFolders:s,browse:u}))},a.renderAcquirer=function(o){return S("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":o.id},S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":o.id,"aria-controls":"uppy-DashboardContent-panel--".concat(o.id),"aria-selected":a.props.activePickerPanel.id===o.id,"data-uppy-super-focusable":!0,onClick:i(function(){return a.props.showPanel(o.id)},"onClick")},o.icon(),S("div",{className:"uppy-DashboardTab-name"},o.name)))},a.renderAcquirers=function(o){var u=tVe(o),s=u.splice(o.length-2,o.length);return S(ri,null,u.map(function(c){return a.renderAcquirer(c)}),S("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(c){return a.renderAcquirer(c)})))},a.renderSourcesList=function(o,u){var s=a.props,c=s.showNativePhotoCameraButton,f=s.showNativeVideoCameraButton;return S("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!u&&a.renderMyDeviceAcquirer(),!u&&c&&a.renderPhotoCamera(),!u&&f&&a.renderVideoCamera(),o.length>0&&a.renderAcquirers(o))},a}return i(n,"AddFiles"),uVe(n,[{key:e,value:i(function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")},"value")},{key:"renderPoweredByUppy",value:i(function(){var o=this.props.i18nArray,u=S("span",null,S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},S("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),S("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),s=o("poweredBy",{uppy:u});return S("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},s)},"renderPoweredByUppy")},{key:"render",value:i(function(){var o=this,u=this.props,s=u.showNativePhotoCameraButton,c=u.showNativeVideoCameraButton,f=u.nativeCameraFacingMode;return S("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(d){o.fileInput=d}),this.renderHiddenInput(!0,function(d){o.folderInput=d}),s&&this.renderHiddenCameraInput("photo",f,function(d){o.mobilePhotoFileInput=d}),c&&this.renderHiddenCameraInput("video",f,function(d){o.mobileVideoFileInput=d}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),S("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&S("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},"render")}]),n}(Be,AV),fg=dVe;var IV=Te(Mr(),1);var hVe=i(function(e){return S("div",{className:(0,IV.default)("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return e.toggleAddFilesPanel(!1)},"onClick")},e.i18n("back"))),S(fg,e))},"AddFilesPanel"),kV=hVe;var qV=Te(Mr(),1);function vVe(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}i(vVe,"ignoreEvent");var ci=vVe;function yVe(t){var e=t.activePickerPanel,r=t.className,n=t.hideAllPanels,a=t.i18n,o=t.state,u=t.uppy;return S("div",{className:(0,qV.default)("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(e.id),onDragOver:ci,onDragLeave:ci,onDrop:ci,onPaste:ci},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},a("importFrom",{name:e.name})),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},a("cancel"))),S("div",{className:"uppy-DashboardContent-panelBody"},u.getPlugin(e.id).render(o)))}i(yVe,"PickerPanelContent");var xV=yVe;var CV=Te(Mr(),1);function mVe(t){var e=t.files[t.fileCardFor];return S("div",{className:(0,CV.default)("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:S("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),S("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),S("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}i(mVe,"EditorPanel");var FV=mVe;var fi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function gVe(t,e,r,n){if(n===void 0&&(n={}),t)return fi.STATE_ERROR;if(e)return fi.STATE_COMPLETE;if(r)return fi.STATE_PAUSED;for(var a=fi.STATE_WAITING,o=Object.keys(n),u=0;u<o.length;u++){var s=n[o[u]].progress;if(s.uploadStarted&&!s.uploadComplete)return fi.STATE_UPLOADING;s.preprocess&&a!==fi.STATE_UPLOADING&&(a=fi.STATE_PREPROCESSING),s.postprocess&&a!==fi.STATE_UPLOADING&&a!==fi.STATE_PREPROCESSING&&(a=fi.STATE_POSTPROCESSING)}return a}i(gVe,"getUploadingState");function bVe(t){var e=t.files,r=t.i18n,n=t.isAllComplete,a=t.isAllErrored,o=t.isAllPaused,u=t.inProgressNotPausedFiles,s=t.newFiles,c=t.processingFiles,f=gVe(a,n,o,e);switch(f){case"uploading":return r("uploadingXFiles",{smart_count:u.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:c.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:s.length});case"complete":return r("uploadComplete");default:}}i(bVe,"UploadStatus");function wVe(t){var e=t.i18n,r=t.isAllComplete,n=t.hideCancelButton,a=t.maxNumberOfFiles,o=t.toggleAddFilesPanel,u=t.uppy,s=t.allowNewUpload;return s&&a&&(s=t.totalFileCount<t.maxNumberOfFiles),S("div",{className:"uppy-DashboardContent-bar"},!r&&!n?S("button",{className:"uppy-DashboardContent-back",type:"button",onClick:i(function(){return u.cancelAll()},"onClick")},e("cancel")):S("div",null),S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},S(bVe,t)),s?S("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:i(function(){return o(!0)},"onClick")},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},S("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),S("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):S("div",null))}i(wVe,"PanelTopBar");var LV=wVe;var MV=Te(Mr(),1);function BT(t){return BT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(t)}i(BT,"_typeof");function jV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(jV,"ownKeys");function NV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(r),!0).forEach(function(n){UV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(NV,"_objectSpread");function UV(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(UV,"_defineProperty");function OVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(OVe,"_classCallCheck");function DV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(DV,"_defineProperties");function SVe(t,e,r){return e&&DV(t.prototype,e),r&&DV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(SVe,"_createClass");function _Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$T(t,e)}i(_Ve,"_inherits");function $T(t,e){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),$T(t,e)}i($T,"_setPrototypeOf");function PVe(t){var e=TVe();return i(function(){var n=pg(t),a;if(e){var o=pg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return EVe(this,a)},"_createSuperInternal")}i(PVe,"_createSuper");function EVe(t,e){if(e&&(BT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RVe(t)}i(EVe,"_possibleConstructorReturn");function RVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(RVe,"_assertThisInitialized");function TVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(TVe,"_isNativeReflectConstruct");function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),pg(t)}i(pg,"_getPrototypeOf");var AVe=function(t){_Ve(r,t);var e=PVe(r);function r(n){var a;OVe(this,r),a=e.call(this,n),a.form=document.createElement("form"),a.updateMeta=function(c,f){a.setState(function(d){var y=d.formState;return{formState:NV(NV({},y),{},UV({},f,c))}})},a.handleSave=function(c){c.preventDefault();var f=a.props.fileCardFor;a.props.saveFileCard(a.state.formState,f)},a.handleCancel=function(){var c=a.props.files[a.props.fileCardFor];a.props.uppy.emit("file-editor:cancel",c),a.props.toggleFileCard(!1)},a.saveOnEnter=function(c){if(c.keyCode===13){c.stopPropagation(),c.preventDefault();var f=a.props.files[a.props.fileCardFor];a.props.saveFileCard(a.state.formState,f.id)}},a.renderMetaFields=function(){var c=a.getMetaFields()||[],f={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return c.map(function(d){var y="uppy-Dashboard-FileCard-input-".concat(d.id),m=a.props.requiredMetaFields.includes(d.id);return S("fieldset",{key:d.id,className:"uppy-Dashboard-FileCard-fieldset"},S("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:y},d.name),d.render!==void 0?d.render({value:a.state.formState[d.id],onChange:i(function(_){return a.updateMeta(_,d.id)},"onChange"),fieldCSSClasses:f,required:m,form:a.form.id},S):S("input",{className:f.text,id:y,form:a.form.id,type:d.type||"text",required:m,value:a.state.formState[d.id],placeholder:d.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:a.saveOnEnter,onInput:i(function(_){return a.updateMeta(_.target.value,d.id)},"onInput"),"data-uppy-super-focusable":!0}))})};var o=a.props.files[a.props.fileCardFor],u=a.getMetaFields()||[],s={};return u.forEach(function(c){s[c.id]=o.meta[c.id]||""}),a.state={formState:s},a.form.id=sn(),a}return i(r,"FileCard"),SVe(r,[{key:"componentWillMount",value:i(function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)},"componentWillMount")},{key:"componentWillUnmount",value:i(function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)},"componentWillUnmount")},{key:"getMetaFields",value:i(function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields},"getMetaFields")},{key:"render",value:i(function(){var a=this,o=this.props.files[this.props.fileCardFor],u=this.props.canEditFile(o);return S("div",{className:(0,MV.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:ci,onDragLeave:ci,onDrop:ci,onPaste:ci},S("div",{className:"uppy-DashboardContent-bar"},S("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:S("span",{className:"uppy-DashboardContent-titleFile"},o.meta?o.meta.name:o.name)})),S("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),S("div",{className:"uppy-Dashboard-FileCard-inner"},S("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:du(o.type).color}},S(Tp,{file:o}),u&&S("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:i(function(c){a.handleSave(c),a.props.openFileEditor(o)},"onClick"),form:this.form.id},this.props.i18n("editFile"))),S("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),S("div",{className:"uppy-Dashboard-FileCard-actions"},S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))},"render")}]),r}(Be),BV=AVe;var GV=Te(Mr(),1);function zT(t){return zT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zT(t)}i(zT,"_typeof");function IVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(IVe,"_classCallCheck");function $V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i($V,"_defineProperties");function kVe(t,e,r){return e&&$V(t.prototype,e),r&&$V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(kVe,"_createClass");function qVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}i(qVe,"_inherits");function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),GT(t,e)}i(GT,"_setPrototypeOf");function xVe(t){var e=LVe();return i(function(){var n=dg(t),a;if(e){var o=dg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return CVe(this,a)},"_createSuperInternal")}i(xVe,"_createSuper");function CVe(t,e){if(e&&(zT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FVe(t)}i(CVe,"_possibleConstructorReturn");function FVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(FVe,"_assertThisInitialized");function LVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(LVe,"_isNativeReflectConstruct");function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dg(t)}i(dg,"_getPrototypeOf");var dl="uppy-transition-slideDownUp",zV=250,jVe=function(t){qVe(r,t);var e=xVe(r);function r(n){var a;return IVe(this,r),a=e.call(this,n),a.state={cachedChildren:null,className:""},a}return i(r,"Slide"),kVe(r,[{key:"componentWillUpdate",value:i(function(a){var o=this,u=this.state.cachedChildren,s=cn(a.children)[0];if(u===s)return null;var c={cachedChildren:s};s&&!u&&(c.className="".concat(dl,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){o.setState({className:"".concat(dl,"-enter ").concat(dl,"-enter-active")}),o.enterTimeout=setTimeout(function(){o.setState({className:""})},zV)})),u&&!s&&this.leaveTimeout===void 0&&(c.cachedChildren=u,c.className="".concat(dl,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){o.setState({className:"".concat(dl,"-leave ").concat(dl,"-leave-active")}),o.leaveTimeout=setTimeout(function(){o.setState({cachedChildren:null,className:""})},zV)})),this.setState(c)},"componentWillUpdate")},{key:"render",value:i(function(){var a=this.state,o=a.cachedChildren,u=a.className;return o?fm(o,{className:(0,GV.default)(u,o.props.className)}):null},"render")}]),r}(Be),Ip=jVe;function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ra.apply(this,arguments)}i(ra,"_extends");var HV=900,VV=700,HT=576,NVe=400;function VT(t){var e=t.totalFileCount===0,r=t.containerWidth>HT,n=(0,WV.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>HT,"uppy-size--lg":t.containerWidth>VV,"uppy-size--xl":t.containerWidth>HV,"uppy-size--height-md":t.containerHeight>NVe,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),a=1;t.containerWidth>HV?a=5:t.containerWidth>VV?a=4:t.containerWidth>HT&&(a=3);var o=t.showSelectedFiles&&!e,u=t.recoveredState?Object.keys(t.recoveredState.files).length:null,s=t.files?Object.keys(t.files).filter(function(d){return t.files[d].isGhost}).length:null,c=i(function(){return s>0?t.i18n("recoveredXFiles",{smart_count:s}):t.i18n("recoveredAllFiles")},"renderRestoredText"),f=S("div",{className:n,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&Rp(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},S("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),S("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:S("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},S("span",{"aria-hidden":"true"},"\xD7")),S("div",{className:"uppy-Dashboard-innerWrap"},S("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),o&&S(LV,t),u&&S("div",{className:"uppy-Dashboard-serviceMsg"},S("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},S("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},S("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),S("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),S("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),S("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),S("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),o?S(RV,ra({},t,{itemsPerRow:a})):S(fg,ra({},t,{isSizeMD:r})),S(Ip,null,t.showAddFilesPanel?S(kV,ra({key:"AddFiles"},t,{isSizeMD:r})):null),S(Ip,null,t.fileCardFor?S(BV,ra({key:"FileCard"},t)):null),S(Ip,null,t.activePickerPanel?S(xV,ra({key:"Picker"},t)):null),S(Ip,null,t.showFileEditor?S(FV,ra({key:"Editor"},t)):null),S("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(d){return t.uppy.getPlugin(d.id).render(t.state)})))));return f}i(VT,"Dashboard");var KV={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}i(hg,"_typeof");function JT(){"use strict";JT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&hg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(JT,"_regeneratorRuntime");function YV(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(YV,"asyncGeneratorStep");function DVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){YV(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){YV(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(DVe,"_asyncToGenerator");function XV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(XV,"ownKeys");function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(r),!0).forEach(function(n){eW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(na,"_objectSpread");function eW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(eW,"_defineProperty");function JV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(JV,"_defineProperties");function UVe(t,e,r){return e&&JV(t.prototype,e),r&&JV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(UVe,"_createClass");function MVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(MVe,"_classCallCheck");function BVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}i(BVe,"_inherits");function QT(t,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),QT(t,e)}i(QT,"_setPrototypeOf");function $Ve(t){var e=GVe();return i(function(){var n=vg(t),a;if(e){var o=vg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return zVe(this,a)},"_createSuperInternal")}i($Ve,"_createSuper");function zVe(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(t)}i(zVe,"_possibleConstructorReturn");function at(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(at,"_assertThisInitialized");function GVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(GVe,"_isNativeReflectConstruct");function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),vg(t)}i(vg,"_getPrototypeOf");function pn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pn,"_classPrivateFieldLooseBase");var HVe=0;function hl(t){return"__private_"+HVe+++"_"+t}i(hl,"_classPrivateFieldLooseKey");var VVe={version:"3.1.0"},WT=gT.default||gT,QV=9,WVe=27;function ZV(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}i(ZV,"createPromise");function KVe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},S("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}i(KVe,"defaultPickerIcon");var kp=hl("openFileEditorWhenFilesAdded"),hu=hl("attachRenderFunctionToTarget"),KT=hl("isTargetSupported"),YT=hl("getAcquirers"),XT=hl("getProgressIndicators"),Xi=hl("getEditors"),vl=function(t){BVe(r,t);var e=$Ve(r);function r(n,a){var o;MVe(this,r);var u;o=e.call(this,n,a),u=at(o),o.removeTarget=function(c){var f=o.getPluginState(),d=f.targets.filter(function(y){return y.id!==c.id});o.setPluginState({targets:d})},o.addTarget=function(c){var f=c.id||c.constructor.name,d=c.title||f,y=c.type;if(y!=="acquirer"&&y!=="progressindicator"&&y!=="editor"){var m="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";o.uppy.log(m,"error");return}var w={id:f,name:d,type:y},_=o.getPluginState(),R=_.targets.slice();return R.push(w),o.setPluginState({targets:R}),o.el},o.hideAllPanels=function(){var c=o.getPluginState(),f={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};c.activePickerPanel===f.activePickerPanel&&c.showAddFilesPanel===f.showAddFilesPanel&&c.showFileEditor===f.showFileEditor&&c.activeOverlayType===f.activeOverlayType||o.setPluginState(f)},o.showPanel=function(c){var f=o.getPluginState(),d=f.targets,y=d.filter(function(m){return m.type==="acquirer"&&m.id===c})[0];o.setPluginState({activePickerPanel:y,activeOverlayType:"PickerPanel"}),o.uppy.emit("dashboard:show-panel",c)},o.canEditFile=function(c){var f=o.getPluginState(),d=f.targets,y=pn(at(o),Xi)[Xi](d);return y.some(function(m){return o.uppy.getPlugin(m.id).canEditFile(c)})},o.openFileEditor=function(c){var f=o.getPluginState(),d=f.targets,y=pn(at(o),Xi)[Xi](d);o.setPluginState({showFileEditor:!0,fileCardFor:c.id||null,activeOverlayType:"FileEditor"}),y.forEach(function(m){o.uppy.getPlugin(m.id).selectFile(c)})},o.saveFileEditor=function(){var c=o.getPluginState(),f=c.targets,d=pn(at(o),Xi)[Xi](f);d.forEach(function(y){o.uppy.getPlugin(y.id).save()}),o.hideAllPanels()},o.openModal=function(){var c=ZV(),f=c.promise,d=c.resolve;if(o.savedScrollPosition=window.pageYOffset,o.savedActiveElement=document.activeElement,o.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),o.opts.animateOpenClose&&o.getPluginState().isClosing){var y=i(function m(){o.setPluginState({isHidden:!1}),o.el.removeEventListener("animationend",m,!1),d()},"handler");o.el.addEventListener("animationend",y,!1)}else o.setPluginState({isHidden:!1}),d();return o.opts.browserBackButtonClose&&o.updateBrowserHistory(),document.addEventListener("keydown",o.handleKeyDownInModal),o.uppy.emit("dashboard:modal-open"),f},o.closeModal=function(c){c===void 0&&(c={});var f=c,d=f.manualClose,y=d===void 0?!0:d,m=u.getPluginState(),w=m.isHidden,_=m.isClosing;if(!(w||_)){var R=ZV(),T=R.promise,E=R.resolve;if(u.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),u.opts.animateOpenClose){u.setPluginState({isClosing:!0});var A=i(function U(){u.setPluginState({isHidden:!0,isClosing:!1}),u.superFocus.cancel(),u.savedActiveElement.focus(),u.el.removeEventListener("animationend",U,!1),E()},"handler");u.el.addEventListener("animationend",A,!1)}else u.setPluginState({isHidden:!0}),u.superFocus.cancel(),u.savedActiveElement.focus(),E();if(document.removeEventListener("keydown",u.handleKeyDownInModal),y&&u.opts.browserBackButtonClose){var x;(x=history.state)!=null&&x[u.modalName]&&history.back()}return u.uppy.emit("dashboard:modal-closed"),T}},o.isModalOpen=function(){return!o.getPluginState().isHidden||!1},o.requestCloseModal=function(){return o.opts.onRequestCloseModal?o.opts.onRequestCloseModal():o.closeModal()},o.setDarkModeCapability=function(c){var f=o.uppy.getState(),d=f.capabilities;o.uppy.setState({capabilities:na(na({},d),{},{darkMode:c})})},o.handleSystemDarkModeChange=function(c){var f=c.matches;o.uppy.log("[Dashboard] Dark mode is ".concat(f?"on":"off")),o.setDarkModeCapability(f)},o.toggleFileCard=function(c,f){var d=o.uppy.getFile(f);c?o.uppy.emit("dashboard:file-edit-start",d):o.uppy.emit("dashboard:file-edit-complete",d),o.setPluginState({fileCardFor:c?f:null,activeOverlayType:c?"FileCard":null})},o.toggleAddFilesPanel=function(c){o.setPluginState({showAddFilesPanel:c,activeOverlayType:c?"AddFiles":null})},o.addFiles=function(c){var f=c.map(function(d){return{source:o.id,name:d.name,type:d.type,data:d,meta:{relativePath:d.relativePath||d.webkitRelativePath||null}}});try{o.uppy.addFiles(f)}catch(d){o.uppy.log(d)}},o.startListeningToResize=function(){o.resizeObserver=new ResizeObserver(function(c){var f=c[0],d=f.contentRect,y=d.width,m=d.height;o.uppy.log("[Dashboard] resized: ".concat(y," / ").concat(m),"debug"),o.setPluginState({containerWidth:y,containerHeight:m,areInsidesReadyToBeVisible:!0})}),o.resizeObserver.observe(o.el.querySelector(".uppy-Dashboard-inner")),o.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var c=o.getPluginState(),f=!o.opts.inline&&c.isHidden;!c.areInsidesReadyToBeVisible&&!f&&(o.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),o.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},o.stopListeningToResize=function(){o.resizeObserver.disconnect(),clearTimeout(o.makeDashboardInsidesVisibleAnywayTimeout)},o.recordIfFocusedOnUppyRecently=function(c){o.el.contains(c.target)?o.ifFocusedOnUppyRecently=!0:(o.ifFocusedOnUppyRecently=!1,o.superFocus.cancel())},o.disableAllFocusableElements=function(c){var f=Et(o.el.querySelectorAll(pl));c?f.forEach(function(d){var y=d.getAttribute("tabindex");y&&(d.dataset.inertTabindex=y),d.setAttribute("tabindex","-1")}):f.forEach(function(d){"inertTabindex"in d.dataset?d.setAttribute("tabindex",d.dataset.inertTabindex):d.removeAttribute("tabindex")}),o.dashboardIsDisabled=c},o.updateBrowserHistory=function(){var c;(c=history.state)!=null&&c[o.modalName]||history.pushState(na(na({},history.state),{},eW({},o.modalName,!0)),""),window.addEventListener("popstate",o.handlePopState,!1)},o.handlePopState=function(c){var f;o.isModalOpen()&&(!c.state||!c.state[o.modalName])&&o.closeModal({manualClose:!1}),!o.isModalOpen()&&(f=c.state)!=null&&f[o.modalName]&&history.back()},o.handleKeyDownInModal=function(c){c.keyCode===WVe&&o.requestCloseModal(c),c.keyCode===QV&&bT(c,o.getPluginState().activeOverlayType,o.el)},o.handleClickOutside=function(){o.opts.closeModalOnClickOutside&&o.requestCloseModal()},o.handlePaste=function(c){o.uppy.iteratePlugins(function(d){d.type==="acquirer"&&(d.handleRootPaste==null||d.handleRootPaste(c))});var f=Et(c.clipboardData.files);f.length>0&&(o.uppy.log("[Dashboard] Files pasted"),o.addFiles(f))},o.handleInputChange=function(c){c.preventDefault();var f=Et(c.target.files);f.length>0&&(o.uppy.log("[Dashboard] Files selected through input"),o.addFiles(f))},o.handleDragOver=function(c){var f,d;c.preventDefault(),c.stopPropagation();var y=i(function(){var T=!0;return o.uppy.iteratePlugins(function(E){E.canHandleRootDrop!=null&&E.canHandleRootDrop(c)&&(T=!0)}),T},"canSomePluginHandleRootDrop"),m=i(function(){var T=c.dataTransfer.types;return T.some(function(E){return E==="Files"})},"doesEventHaveFiles"),w=y(c),_=m(c);if(!w&&!_||o.opts.disabled||o.opts.disableLocalFiles&&(_||!w)||!o.uppy.getState().allowNewUpload){c.dataTransfer.dropEffect="none",clearTimeout(o.removeDragOverClassTimeout);return}c.dataTransfer.dropEffect="copy",clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!0}),(f=(d=o.opts).onDragOver)==null||f.call(d,c)},o.handleDragLeave=function(c){var f,d;c.preventDefault(),c.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.removeDragOverClassTimeout=setTimeout(function(){o.setPluginState({isDraggingOver:!1})},50),(f=(d=o.opts).onDragLeave)==null||f.call(d,c)},o.handleDrop=function(){var c=DVe(JT().mark(i(function f(d){var y,m,w,_,R;return JT().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return d.preventDefault(),d.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!1}),o.uppy.iteratePlugins(function(A){A.type==="acquirer"&&(A.handleRootDrop==null||A.handleRootDrop(d))}),w=!1,_=i(function(x){o.uppy.log(x,"error"),w||(o.uppy.info(x.message,"error"),w=!0)},"logDropError"),E.next=9,fu(d.dataTransfer,{logDropError:_});case 9:R=E.sent,R.length>0&&(o.uppy.log("[Dashboard] Files dropped"),o.addFiles(R)),(y=(m=o.opts).onDrop)==null||y.call(m,d);case 12:case"end":return E.stop()}},"_callee$"),f)},"_callee")));return function(f){return c.apply(this,arguments)}}(),o.handleRequestThumbnail=function(c){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:request",c)},o.handleCancelThumbnail=function(c){o.opts.waitForThumbnailsBeforeUpload||o.uppy.emit("thumbnail:cancel",c)},o.handleKeyDownInInline=function(c){c.keyCode===QV&&aV(c,o.getPluginState().activeOverlayType,o.el)},o.handlePasteOnBody=function(c){var f=o.el.contains(document.activeElement);f&&o.handlePaste(c)},o.handleComplete=function(c){var f=c.failed;o.opts.closeAfterFinish&&f.length===0&&o.requestCloseModal()},o.handleCancelRestore=function(){o.uppy.emit("restore-canceled")},Object.defineProperty(at(o),kp,{writable:!0,value:i(function(f){var d=f[0];o.canEditFile(d)&&o.openFileEditor(d)},"value")}),o.initEvents=function(){if(o.opts.trigger&&!o.opts.inline){var c=eg(o.opts.trigger);c?c.forEach(function(f){return f.addEventListener("click",o.openModal)}):o.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}o.startListeningToResize(),document.addEventListener("paste",o.handlePasteOnBody),o.uppy.on("plugin-remove",o.removeTarget),o.uppy.on("file-added",o.hideAllPanels),o.uppy.on("dashboard:modal-closed",o.hideAllPanels),o.uppy.on("file-editor:complete",o.hideAllPanels),o.uppy.on("complete",o.handleComplete),document.addEventListener("focus",o.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",o.recordIfFocusedOnUppyRecently,!0),o.opts.inline&&o.el.addEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.on("files-added",pn(at(o),kp)[kp])},o.removeEvents=function(){var c=eg(o.opts.trigger);!o.opts.inline&&c&&c.forEach(function(f){return f.removeEventListener("click",o.openModal)}),o.stopListeningToResize(),document.removeEventListener("paste",o.handlePasteOnBody),window.removeEventListener("popstate",o.handlePopState,!1),o.uppy.off("plugin-remove",o.removeTarget),o.uppy.off("file-added",o.hideAllPanels),o.uppy.off("dashboard:modal-closed",o.hideAllPanels),o.uppy.off("file-editor:complete",o.hideAllPanels),o.uppy.off("complete",o.handleComplete),document.removeEventListener("focus",o.recordIfFocusedOnUppyRecently),document.removeEventListener("click",o.recordIfFocusedOnUppyRecently),o.opts.inline&&o.el.removeEventListener("keydown",o.handleKeyDownInInline),o.opts.autoOpenFileEditor&&o.uppy.off("files-added",pn(at(o),kp)[kp])},o.superFocusOnEachUpdate=function(){var c=o.el.contains(document.activeElement),f=document.activeElement===document.body||document.activeElement===null,d=o.uppy.getState().info.length===0,y=!o.opts.inline;d&&(y||c||f&&o.ifFocusedOnUppyRecently)?o.superFocus(o.el,o.getPluginState().activeOverlayType):o.superFocus.cancel()},o.afterUpdate=function(){if(o.opts.disabled&&!o.dashboardIsDisabled){o.disableAllFocusableElements(!0);return}!o.opts.disabled&&o.dashboardIsDisabled&&o.disableAllFocusableElements(!1),o.superFocusOnEachUpdate()},o.saveFileCard=function(c,f){o.uppy.setFileMeta(f,c),o.toggleFileCard(!1,f)},Object.defineProperty(at(o),hu,{writable:!0,value:i(function(f){var d=o.uppy.getPlugin(f.id);return na(na({},f),{},{icon:d.icon||o.opts.defaultPickerIcon,render:d.render})},"value")}),Object.defineProperty(at(o),KT,{writable:!0,value:i(function(f){var d=o.uppy.getPlugin(f.id);return typeof d.isSupported!="function"?!0:d.isSupported()},"value")}),Object.defineProperty(at(o),YT,{writable:!0,value:WT(function(c){return c.filter(function(f){return f.type==="acquirer"&&pn(at(o),KT)[KT](f)}).map(pn(at(o),hu)[hu])})}),Object.defineProperty(at(o),XT,{writable:!0,value:WT(function(c){return c.filter(function(f){return f.type==="progressindicator"}).map(pn(at(o),hu)[hu])})}),Object.defineProperty(at(o),Xi,{writable:!0,value:WT(function(c){return c.filter(function(f){return f.type==="editor"}).map(pn(at(o),hu)[hu])})}),o.render=function(c){var f=o.getPluginState(),d=c.files,y=c.capabilities,m=c.allowNewUpload,w=o.uppy.getObjectOfFilesPerState(),_=w.newFiles,R=w.uploadStartedFiles,T=w.completeFiles,E=w.erroredFiles,A=w.inProgressFiles,x=w.inProgressNotPausedFiles,U=w.processingFiles,G=w.isUploadStarted,M=w.isAllComplete,z=w.isAllErrored,W=w.isAllPaused,Y=pn(at(o),YT)[YT](f.targets),p=pn(at(o),XT)[XT](f.targets),l=pn(at(o),Xi)[Xi](f.targets),h;return o.opts.theme==="auto"?h=y.darkMode?"dark":"light":h=o.opts.theme,["files","folders","both"].indexOf(o.opts.fileManagerSelectionType)<0&&(o.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(o.opts.fileManagerSelectionType,'".'))),VT({state:c,isHidden:f.isHidden,files:d,newFiles:_,uploadStartedFiles:R,completeFiles:T,erroredFiles:E,inProgressFiles:A,inProgressNotPausedFiles:x,processingFiles:U,isUploadStarted:G,isAllComplete:M,isAllErrored:z,isAllPaused:W,totalFileCount:Object.keys(d).length,totalProgress:c.totalProgress,allowNewUpload:m,acquirers:Y,theme:h,disabled:o.opts.disabled,disableLocalFiles:o.opts.disableLocalFiles,direction:o.opts.direction,activePickerPanel:f.activePickerPanel,showFileEditor:f.showFileEditor,saveFileEditor:o.saveFileEditor,disableAllFocusableElements:o.disableAllFocusableElements,animateOpenClose:o.opts.animateOpenClose,isClosing:f.isClosing,progressindicators:p,editors:l,autoProceed:o.uppy.opts.autoProceed,id:o.id,closeModal:o.requestCloseModal,handleClickOutside:o.handleClickOutside,handleInputChange:o.handleInputChange,handlePaste:o.handlePaste,inline:o.opts.inline,showPanel:o.showPanel,hideAllPanels:o.hideAllPanels,i18n:o.i18n,i18nArray:o.i18nArray,uppy:o.uppy,note:o.opts.note,recoveredState:c.recoveredState,metaFields:f.metaFields,resumableUploads:y.resumableUploads||!1,individualCancellation:y.individualCancellation,isMobileDevice:y.isMobileDevice,fileCardFor:f.fileCardFor,toggleFileCard:o.toggleFileCard,toggleAddFilesPanel:o.toggleAddFilesPanel,showAddFilesPanel:f.showAddFilesPanel,saveFileCard:o.saveFileCard,openFileEditor:o.openFileEditor,canEditFile:o.canEditFile,width:o.opts.width,height:o.opts.height,showLinkToFileUploadResult:o.opts.showLinkToFileUploadResult,fileManagerSelectionType:o.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:o.opts.proudlyDisplayPoweredByUppy,hideCancelButton:o.opts.hideCancelButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:o.opts.showRemoveButtonAfterComplete,containerWidth:f.containerWidth,containerHeight:f.containerHeight,areInsidesReadyToBeVisible:f.areInsidesReadyToBeVisible,isTargetDOMEl:o.isTargetDOMEl,parentElement:o.el,allowedFileTypes:o.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:o.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:o.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:o.opts.showSelectedFiles,showNativePhotoCameraButton:o.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:o.opts.showNativeVideoCameraButton,nativeCameraFacingMode:o.opts.nativeCameraFacingMode,handleCancelRestore:o.handleCancelRestore,handleRequestThumbnail:o.handleRequestThumbnail,handleCancelThumbnail:o.handleCancelThumbnail,isDraggingOver:f.isDraggingOver,handleDragOver:o.handleDragOver,handleDragLeave:o.handleDragLeave,handleDrop:o.handleDrop})},o.discoverProviderPlugins=function(){o.uppy.iteratePlugins(function(c){c&&!c.target&&c.opts&&c.opts.target===o.constructor&&o.addTarget(c)})},o.install=function(){o.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:o.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var c=o.opts,f=c.inline,d=c.closeAfterFinish;if(f&&d)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var y=o.uppy.opts,m=y.allowMultipleUploads,w=y.allowMultipleUploadBatches;(m||w)&&d&&o.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var _=o.opts.target;_&&o.mount(_,at(o));var R=o.opts.plugins||[];R.forEach(function(E){var A=o.uppy.getPlugin(E);A&&A.mount(at(o),A)}),o.opts.disableStatusBar||o.uppy.use(il,{id:"".concat(o.id,":StatusBar"),target:at(o),hideUploadButton:o.opts.hideUploadButton,hideRetryButton:o.opts.hideRetryButton,hidePauseResumeButton:o.opts.hidePauseResumeButton,hideCancelButton:o.opts.hideCancelButton,showProgressDetails:o.opts.showProgressDetails,hideAfterFinish:o.opts.hideProgressAfterFinish,locale:o.opts.locale,doneButtonHandler:o.opts.doneButtonHandler}),o.opts.disableInformer||o.uppy.use(ol,{id:"".concat(o.id,":Informer"),target:at(o)}),o.opts.disableThumbnailGenerator||o.uppy.use(_p,{id:"".concat(o.id,":ThumbnailGenerator"),thumbnailWidth:o.opts.thumbnailWidth,thumbnailHeight:o.opts.thumbnailHeight,thumbnailType:o.opts.thumbnailType,waitForThumbnailsBeforeUpload:o.opts.waitForThumbnailsBeforeUpload,lazy:!o.opts.waitForThumbnailsBeforeUpload}),o.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var T=o.darkModeMediaQuery?o.darkModeMediaQuery.matches:!1;o.uppy.log("[Dashboard] Dark mode is ".concat(T?"on":"off")),o.setDarkModeCapability(T),o.opts.theme==="auto"&&o.darkModeMediaQuery.addListener(o.handleSystemDarkModeChange),o.discoverProviderPlugins(),o.initEvents()},o.uninstall=function(){if(!o.opts.disableInformer){var c=o.uppy.getPlugin("".concat(o.id,":Informer"));c&&o.uppy.removePlugin(c)}if(!o.opts.disableStatusBar){var f=o.uppy.getPlugin("".concat(o.id,":StatusBar"));f&&o.uppy.removePlugin(f)}if(!o.opts.disableThumbnailGenerator){var d=o.uppy.getPlugin("".concat(o.id,":ThumbnailGenerator"));d&&o.uppy.removePlugin(d)}var y=o.opts.plugins||[];y.forEach(function(m){var w=o.uppy.getPlugin(m);w&&w.unmount()}),o.opts.theme==="auto"&&o.darkModeMediaQuery.removeListener(o.handleSystemDarkModeChange),o.unmount(),o.removeEvents()},o.id=o.opts.id||"Dashboard",o.title="Dashboard",o.type="orchestrator",o.modalName="uppy-Dashboard-".concat(sn()),o.defaultLocale=KV;var s={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:KVe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:i(function(){o.uppy.cancelAll(),o.requestCloseModal()},"doneButtonHandler"),note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:i(function(){return o.closeModal()},"onRequestCloseModal"),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return o.opts=na(na({},s),a),o.i18nInit(),o.superFocus=ST(),o.ifFocusedOnUppyRecently=!1,o.makeDashboardInsidesVisibleAnywayTimeout=null,o.removeDragOverClassTimeout=null,o}return i(r,"Dashboard"),UVe(r)}(Se);vl.VERSION=VVe.version;var tW={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function yg(t){return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}i(yg,"_typeof");function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(rW,"ownKeys");function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){YVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(nW,"_objectSpread");function YVe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(YVe,"_defineProperty");function ZT(){"use strict";ZT=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&yg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(ZT,"_regeneratorRuntime");function iW(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(iW,"asyncGeneratorStep");function XVe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){iW(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){iW(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(XVe,"_asyncToGenerator");function JVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(JVe,"_classCallCheck");function oW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(oW,"_defineProperties");function QVe(t,e,r){return e&&oW(t.prototype,e),r&&oW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(QVe,"_createClass");function ZVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}i(ZVe,"_inherits");function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),eA(t,e)}i(eA,"_setPrototypeOf");function eWe(t){var e=rWe();return i(function(){var n=mg(t),a;if(e){var o=mg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return tWe(this,a)},"_createSuperInternal")}i(eWe,"_createSuper");function tWe(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vu(t)}i(tWe,"_possibleConstructorReturn");function vu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vu,"_assertThisInitialized");function rWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(rWe,"_isNativeReflectConstruct");function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),mg(t)}i(mg,"_getPrototypeOf");var nWe={version:"3.0.1"},gg=function(t){ZVe(r,t);var e=eWe(r);function r(n,a){var o;JVe(this,r),o=e.call(this,n,a),o.handleDrop=function(){var s=XVe(ZT().mark(i(function c(f){var d,y,m,w;return ZT().wrap(i(function(R){for(;;)switch(R.prev=R.next){case 0:return f.preventDefault(),f.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),o.setPluginState({isDraggingOver:!1}),m=i(function(E){o.uppy.log(E,"error")},"logDropError"),R.next=7,fu(f.dataTransfer,{logDropError:m});case 7:w=R.sent,w.length>0&&(o.uppy.log("[DragDrop] Files dropped"),o.addFiles(w)),(d=(y=o.opts).onDrop)==null||d.call(y,f);case 10:case"end":return R.stop()}},"_callee$"),c)},"_callee")));return function(c){return s.apply(this,arguments)}}(),o.type="acquirer",o.id=o.opts.id||"DragDrop",o.title="Drag & Drop",o.defaultLocale=tW;var u={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return o.opts=nW(nW({},u),a),o.i18nInit(),o.isDragDropSupported=Rp(),o.removeDragOverClassTimeout=null,o.onInputChange=o.onInputChange.bind(vu(o)),o.handleDragOver=o.handleDragOver.bind(vu(o)),o.handleDragLeave=o.handleDragLeave.bind(vu(o)),o.handleDrop=o.handleDrop.bind(vu(o)),o.addFiles=o.addFiles.bind(vu(o)),o.render=o.render.bind(vu(o)),o}return i(r,"DragDrop"),QVe(r,[{key:"addFiles",value:i(function(a){var o=this,u=a.map(function(s){return{source:o.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||null}}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"onInputChange",value:i(function(a){var o=Et(a.target.files);o.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(o)),a.target.value=null},"onInputChange")},{key:"handleDragOver",value:i(function(a){var o,u;a.preventDefault(),a.stopPropagation();var s=a.dataTransfer.types,c=s.some(function(y){return y==="Files"}),f=this.uppy.getState(),d=f.allowNewUpload;if(!c||!d){a.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}a.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(u=this.opts).onDragOver)==null||o.call(u,a)},"handleDragOver")},{key:"handleDragLeave",value:i(function(a){var o=this,u,s;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){o.setPluginState({isDraggingOver:!1})},50),(u=(s=this.opts).onDragLeave)==null||u.call(s,a)},"handleDragLeave")},{key:"renderHiddenFileInput",value:i(function(){var a=this,o=this.uppy.opts.restrictions;return S("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:i(function(s){a.fileInputRef=s},"ref"),name:this.opts.inputName,multiple:o.maxNumberOfFiles!==1,accept:o.allowedFileTypes,onChange:this.onInputChange})},"renderHiddenFileInput")},{key:"renderLabel",value:i(function(){return S("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:S("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))},"renderLabel")},{key:"renderNote",value:i(function(){return S("span",{className:"uppy-DragDrop-note"},this.opts.note)},"renderNote")},{key:"render",value:i(function(){var a=this,o="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),u={width:this.opts.width,height:this.opts.height};return S("button",{type:"button",className:o,style:u,onClick:i(function(){return a.fileInputRef.click()},"onClick"),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),S("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))},"render")},{key:"install",value:i(function(){var a=this.opts.target;this.setPluginState({isDraggingOver:!1}),a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}],[{key:"renderArrowSvg",value:i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},S("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))},"renderArrowSvg")}]),r}(Se);gg.VERSION=nWe.version;function bg(t){return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}i(bg,"_typeof");function aW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(aW,"ownKeys");function uW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(r),!0).forEach(function(n){iWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(uW,"_objectSpread");function iWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(iWe,"_defineProperty");function rA(){"use strict";rA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&bg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(rA,"_regeneratorRuntime");function sW(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(sW,"asyncGeneratorStep");function oWe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){sW(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){sW(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(oWe,"_asyncToGenerator");function aWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(aWe,"_classCallCheck");function lW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(lW,"_defineProperties");function uWe(t,e,r){return e&&lW(t.prototype,e),r&&lW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(uWe,"_createClass");function sWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}i(sWe,"_inherits");function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),nA(t,e)}i(nA,"_setPrototypeOf");function lWe(t){var e=pWe();return i(function(){var n=wg(t),a;if(e){var o=wg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return cWe(this,a)},"_createSuperInternal")}i(lWe,"_createSuper");function cWe(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fWe(t)}i(cWe,"_possibleConstructorReturn");function fWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(fWe,"_assertThisInitialized");function pWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(pWe,"_isNativeReflectConstruct");function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),wg(t)}i(wg,"_getPrototypeOf");var dWe={version:"2.0.1"};function tA(t){var e,r;return(e=(r=t.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?e:!1}i(tA,"isFileTransfer");var iA=function(t){sWe(r,t);var e=lWe(r);function r(n,a){var o;aWe(this,r),o=e.call(this,n,a),o.addFiles=function(s){var c=s.map(function(f){return{source:o.id,name:f.name,type:f.type,data:f,meta:{relativePath:f.relativePath||null}}});try{o.uppy.addFiles(c)}catch(f){o.uppy.log(f)}},o.handleDrop=function(){var s=oWe(rA().mark(i(function c(f){var d,y,m,w,_;return rA().wrap(i(function(T){for(;;)switch(T.prev=T.next){case 0:if(tA(f)){T.next=2;break}return T.abrupt("return");case 2:return f.preventDefault(),f.stopPropagation(),clearTimeout(o.removeDragOverClassTimeout),f.currentTarget.classList.remove("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!1}),o.uppy.iteratePlugins(function(E){E.type==="acquirer"&&(E.handleRootDrop==null||E.handleRootDrop(f))}),m=!1,w=i(function(A){o.uppy.log(A,"error"),m||(o.uppy.info(A.message,"error"),m=!0)},"logDropError"),T.next=12,fu(f.dataTransfer,{logDropError:w});case 12:_=T.sent,_.length>0&&(o.uppy.log("[DropTarget] Files were dropped"),o.addFiles(_)),(d=(y=o.opts).onDrop)==null||d.call(y,f);case 15:case"end":return T.stop()}},"_callee$"),c)},"_callee")));return function(c){return s.apply(this,arguments)}}(),o.handleDragOver=function(s){var c,f;!tA(s)||(s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="copy",clearTimeout(o.removeDragOverClassTimeout),s.currentTarget.classList.add("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!0}),(c=(f=o.opts).onDragOver)==null||c.call(f,s))},o.handleDragLeave=function(s){var c,f;if(!!tA(s)){s.preventDefault(),s.stopPropagation();var d=s.currentTarget;clearTimeout(o.removeDragOverClassTimeout),o.removeDragOverClassTimeout=setTimeout(function(){d.classList.remove("uppy-is-drag-over"),o.setPluginState({isDraggingOver:!1})},50),(c=(f=o.opts).onDragLeave)==null||c.call(f,s)}},o.addListeners=function(){var s=o.opts.target;if(s instanceof Element?o.nodes=[s]:typeof s=="string"&&(o.nodes=Et(document.querySelectorAll(s))),!o.nodes&&!o.nodes.length>0)throw new Error('"'.concat(s,'" does not match any HTML elements'));o.nodes.forEach(function(c){c.addEventListener("dragover",o.handleDragOver,!1),c.addEventListener("dragleave",o.handleDragLeave,!1),c.addEventListener("drop",o.handleDrop,!1)})},o.removeListeners=function(){o.nodes&&o.nodes.forEach(function(s){s.removeEventListener("dragover",o.handleDragOver,!1),s.removeEventListener("dragleave",o.handleDragLeave,!1),s.removeEventListener("drop",o.handleDrop,!1)})},o.type="acquirer",o.id=o.opts.id||"DropTarget",o.title="Drop Target";var u={target:null};return o.opts=uW(uW({},u),a),o.removeDragOverClassTimeout=null,o}return i(r,"DropTarget"),uWe(r,[{key:"install",value:i(function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()},"install")},{key:"uninstall",value:i(function(){this.removeListeners()},"uninstall")}]),r}(lt);iA.VERSION=dWe.version;var cW={strings:{chooseFiles:"Choose files"}};function oA(t){return oA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(t)}i(oA,"_typeof");function fW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(fW,"ownKeys");function pW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(r),!0).forEach(function(n){hWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(pW,"_objectSpread");function hWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(hWe,"_defineProperty");function vWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(vWe,"_classCallCheck");function dW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(dW,"_defineProperties");function yWe(t,e,r){return e&&dW(t.prototype,e),r&&dW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(yWe,"_createClass");function mWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}i(mWe,"_inherits");function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),aA(t,e)}i(aA,"_setPrototypeOf");function gWe(t){var e=wWe();return i(function(){var n=Sg(t),a;if(e){var o=Sg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return bWe(this,a)},"_createSuperInternal")}i(gWe,"_createSuper");function bWe(t,e){if(e&&(oA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Og(t)}i(bWe,"_possibleConstructorReturn");function Og(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Og,"_assertThisInitialized");function wWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(wWe,"_isNativeReflectConstruct");function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Sg(t)}i(Sg,"_getPrototypeOf");var OWe={version:"3.0.1"},_g=function(t){mWe(r,t);var e=gWe(r);function r(n,a){var o;vWe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"FileInput",o.title="File Input",o.type="acquirer",o.defaultLocale=cW;var u={target:null,pretty:!0,inputName:"files[]"};return o.opts=pW(pW({},u),a),o.i18nInit(),o.render=o.render.bind(Og(o)),o.handleInputChange=o.handleInputChange.bind(Og(o)),o.handleClick=o.handleClick.bind(Og(o)),o}return i(r,"FileInput"),yWe(r,[{key:"addFiles",value:i(function(a){var o=this,u=a.map(function(s){return{source:o.id,name:s.name,type:s.type,data:s}});try{this.uppy.addFiles(u)}catch(s){this.uppy.log(s)}},"addFiles")},{key:"handleInputChange",value:i(function(a){this.uppy.log("[FileInput] Something selected through input...");var o=Et(a.target.files);this.addFiles(o),a.target.value=null},"handleInputChange")},{key:"handleClick",value:i(function(){this.input.click()},"handleClick")},{key:"render",value:i(function(){var a=this,o={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},u=this.uppy.opts.restrictions,s=u.allowedFileTypes?u.allowedFileTypes.join(","):null;return S("div",{className:"uppy-FileInput-container"},S("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&o,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:u.maxNumberOfFiles!==1,accept:s,ref:i(function(f){a.input=f},"ref")}),this.opts.pretty&&S("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);_g.VERSION=OWe.version;var yW=Te(hW(),1);function lA(t){return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(t)}i(lA,"_typeof");function SWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(SWe,"_classCallCheck");function vW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(vW,"_defineProperties");function _We(t,e,r){return e&&vW(t.prototype,e),r&&vW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(_We,"_createClass");function PWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}i(PWe,"_inherits");function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),cA(t,e)}i(cA,"_setPrototypeOf");function EWe(t){var e=AWe();return i(function(){var n=Eg(t),a;if(e){var o=Eg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return RWe(this,a)},"_createSuperInternal")}i(EWe,"_createSuper");function RWe(t,e){if(e&&(lA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TWe(t)}i(RWe,"_possibleConstructorReturn");function TWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(TWe,"_assertThisInitialized");function AWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(AWe,"_isNativeReflectConstruct");function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Eg(t)}i(Eg,"_getPrototypeOf");var mW=function(t){PWe(r,t);var e=EWe(r);function r(n){var a;return SWe(this,r),a=e.call(this,n),a.granularRotateOnChange=function(o){var u=a.state,s=u.rotationAngle,c=u.rotationDelta,f=Number(o.target.value)-c;if(cancelAnimationFrame(a.granularRotateOnInputNextFrame),f!==0){var d=s+f;a.granularRotateOnInputNextFrame=requestAnimationFrame(function(){a.cropper.rotateTo(d)})}},a.state={rotationAngle:0,rotationDelta:0},a}return i(r,"Editor"),_We(r,[{key:"componentDidMount",value:i(function(){var a=this,o=this.props,u=o.opts,s=o.storeCropperInstance;this.cropper=new yW.default(this.imgElement,u.cropperOptions),s(this.cropper),u.actions.granularRotate&&this.imgElement.addEventListener("crop",function(c){var f=c.detail.rotate;a.setState({rotationAngle:f,rotationDelta:(f+405)%90-45})})},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){this.cropper.destroy()},"componentWillUnmount")},{key:"renderGranularRotate",value:i(function(){var a=this.props.i18n,o=this.state,u=o.rotationDelta,s=o.rotationAngle;return S("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(s,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},S("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:u,min:"-45",max:"44","aria-label":a("rotate")}))},"renderGranularRotate")},{key:"renderRevert",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("revert"),"data-microtip-position":"top",onClick:i(function(){a.cropper.reset(),a.cropper.setAspectRatio(0)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))},"renderRevert")},{key:"renderRotate",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:i(function(){return a.cropper.rotate(-90)},"onClick"),"aria-label":o("rotate"),"data-microtip-position":"top"},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))},"renderRotate")},{key:"renderFlip",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("flipHorizontal"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.scaleX(-a.cropper.getData().scaleX||-1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))},"renderFlip")},{key:"renderZoomIn",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("zoomIn"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.zoom(.1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},S("path",{d:"M0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),S("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))},"renderZoomIn")},{key:"renderZoomOut",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("zoomOut"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.zoom(-.1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0V0z",fill:"none"}),S("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))},"renderZoomOut")},{key:"renderCropSquare",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioSquare"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(1)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))},"renderCropSquare")},{key:"renderCropWidescreen",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioLandscape"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(16/9)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),S("path",{fill:"none",d:"M0 0h24v24H0z"})))},"renderCropWidescreen")},{key:"renderCropWidescreenVertical",value:i(function(){var a=this,o=this.props.i18n;return S("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":o("aspectRatioPortrait"),"data-microtip-position":"top",onClick:i(function(){return a.cropper.setAspectRatio(9/16)},"onClick")},S("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),S("path",{d:"M0 0h24v24H0z",fill:"none"})))},"renderCropWidescreenVertical")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.currentImage,s=o.opts,c=s.actions,f=URL.createObjectURL(u.data);return S("div",{className:"uppy-ImageCropper"},S("div",{className:"uppy-ImageCropper-container"},S("img",{className:"uppy-ImageCropper-image",alt:u.name,src:f,ref:i(function(y){a.imgElement=y},"ref")})),S("div",{className:"uppy-ImageCropper-controls"},c.revert&&this.renderRevert(),c.rotate&&this.renderRotate(),c.granularRotate&&this.renderGranularRotate(),c.flip&&this.renderFlip(),c.zoomIn&&this.renderZoomIn(),c.zoomOut&&this.renderZoomOut(),c.cropSquare&&this.renderCropSquare(),c.cropWidescreen&&this.renderCropWidescreen(),c.cropWidescreenVertical&&this.renderCropWidescreenVertical()))},"render")}]),r}(Be);var gW={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};function fA(t){return fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(t)}i(fA,"_typeof");function bW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(bW,"ownKeys");function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(r),!0).forEach(function(n){IWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(yu,"_objectSpread");function IWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(IWe,"_defineProperty");function kWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kWe,"_classCallCheck");function wW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wW,"_defineProperties");function qWe(t,e,r){return e&&wW(t.prototype,e),r&&wW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(qWe,"_createClass");function xWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}i(xWe,"_inherits");function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),pA(t,e)}i(pA,"_setPrototypeOf");function CWe(t){var e=jWe();return i(function(){var n=Rg(t),a;if(e){var o=Rg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return FWe(this,a)},"_createSuperInternal")}i(CWe,"_createSuper");function FWe(t,e){if(e&&(fA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LWe(t)}i(FWe,"_possibleConstructorReturn");function LWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(LWe,"_assertThisInitialized");function jWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(jWe,"_isNativeReflectConstruct");function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rg(t)}i(Rg,"_getPrototypeOf");var NWe={version:"2.0.1"},Tg=function(t){xWe(r,t);var e=CWe(r);function r(n,a){var o;kWe(this,r),o=e.call(this,n,a),o.save=function(){var f=i(function(w){var _=o.getPluginState(),R=_.currentImage;o.uppy.setFileState(R.id,{data:w,size:w.size,preview:null});var T=o.uppy.getFile(R.id);o.uppy.emit("thumbnail:request",T),o.setPluginState({currentImage:T}),o.uppy.emit("file-editor:complete",T)},"saveBlobCallback"),d=o.getPluginState(),y=d.currentImage;o.cropper.getCroppedCanvas(o.opts.cropperOptions.croppedCanvasOptions).toBlob(f,y.type,o.opts.quality)},o.storeCropperInstance=function(f){o.cropper=f},o.selectFile=function(f){o.uppy.emit("file-editor:start",f),o.setPluginState({currentImage:f})},o.id=o.opts.id||"ImageEditor",o.title="Image Editor",o.type="editor",o.defaultLocale=gW;var u={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},s={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},c={quality:.8};return o.opts=yu(yu(yu({},c),a),{},{actions:yu(yu({},s),a.actions),cropperOptions:yu(yu({},u),a.cropperOptions)}),o.i18nInit(),o}return i(r,"ImageEditor"),qWe(r,[{key:"canEditFile",value:i(function(a){if(!a.type||a.isRemote)return!1;var o=a.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(o)},"canEditFile")},{key:"install",value:i(function(){this.setPluginState({currentImage:null});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){var a=this.getPluginState(),o=a.currentImage;if(o){var u=this.uppy.getFile(o.id);this.uppy.emit("file-editor:cancel",u)}this.unmount()},"uninstall")},{key:"render",value:i(function(){var a=this.getPluginState(),o=a.currentImage;return o===null||o.isRemote?null:S(mW,{currentImage:o,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})},"render")}]),r}(Se);Tg.VERSION=NWe.version;function dA(t){return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}i(dA,"_typeof");function OW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(OW,"ownKeys");function SW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(r),!0).forEach(function(n){DWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(SW,"_objectSpread");function DWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(DWe,"_defineProperty");function UWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(UWe,"_classCallCheck");function _W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_W,"_defineProperties");function MWe(t,e,r){return e&&_W(t.prototype,e),r&&_W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(MWe,"_createClass");function BWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}i(BWe,"_inherits");function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),hA(t,e)}i(hA,"_setPrototypeOf");function $We(t){var e=GWe();return i(function(){var n=Ag(t),a;if(e){var o=Ag(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return zWe(this,a)},"_createSuperInternal")}i($We,"_createSuper");function zWe(t,e){if(e&&(dA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PW(t)}i(zWe,"_possibleConstructorReturn");function PW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(PW,"_assertThisInitialized");function GWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(GWe,"_isNativeReflectConstruct");function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ag(t)}i(Ag,"_getPrototypeOf");var HWe={version:"3.0.1"},Ig=function(t){BWe(r,t);var e=$We(r);function r(n,a){var o;UWe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"ProgressBar",o.title="Progress Bar",o.type="progressindicator";var u={target:"body",fixed:!1,hideAfterFinish:!0};return o.opts=SW(SW({},u),a),o.render=o.render.bind(PW(o)),o}return i(r,"ProgressBar"),MWe(r,[{key:"render",value:i(function(a){var o=a.totalProgress||0,u=(o===0||o===100)&&this.opts.hideAfterFinish;return S("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":u},S("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(o,"%")}}),S("div",{className:"uppy-ProgressBar-percentage"},o))},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);Ig.VERSION=HWe.version;function VWe(t,e){return XWe(t)||YWe(t,e)||KWe(t,e)||WWe()}i(VWe,"_slicedToArray");function WWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(WWe,"_nonIterableRest");function KWe(t,e){if(!!t){if(typeof t=="string")return EW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EW(t,e)}}i(KWe,"_unsupportedIterableToArray");function EW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(EW,"_arrayLikeToArray");function YWe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(YWe,"_iterableToArrayLimit");function XWe(t){if(Array.isArray(t))return t}i(XWe,"_arrayWithHoles");var JWe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function pi(t){var e=t.split(";",1),r=VWe(e,1);return t=r[0],JWe[t]||null}i(pi,"getFileTypeExtension");function vA(){var t;return typeof MediaRecorder=="function"&&typeof((t=MediaRecorder.prototype)==null?void 0:t.start)=="function"}i(vA,"supportsMediaRecorder");var bA,Tr,yA,RW,mA=0,CW=[],kg=[],TW=Ee.__b,AW=Ee.__r,IW=Ee.diffed,kW=Ee.__c,qW=Ee.unmount;function FW(t,e){Ee.__h&&Ee.__h(Tr,t,mA||e),mA=0;var r=Tr.__H||(Tr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:kg}),r.__[t]}i(FW,"p");function wA(t,e){var r=FW(bA++,3);!Ee.__s&&LW(r.__H,e)&&(r.__=t,r.u=e,Tr.__H.__h.push(r))}i(wA,"_");function OA(t){return mA=5,QWe(function(){return{current:t}},[])}i(OA,"s");function QWe(t,e){var r=FW(bA++,7);return LW(r.__H,e)?(r.__V=t(),r.u=e,r.__h=t,r.__V):r.__}i(QWe,"F");function ZWe(){for(var t;t=CW.shift();)if(t.__P)try{t.__H.__h.forEach(qg),t.__H.__h.forEach(gA),t.__H.__h=[]}catch(e){t.__H.__h=[],Ee.__e(e,t.__v)}}i(ZWe,"b");Ee.__b=function(t){Tr=null,TW&&TW(t)},Ee.__r=function(t){AW&&AW(t),bA=0;var e=(Tr=t.__c).__H;e&&(yA===Tr?(e.__h=[],Tr.__h=[],e.__.forEach(function(r){r.__V=kg,r.u=void 0})):(e.__h.forEach(qg),e.__h.forEach(gA),e.__h=[])),yA=Tr},Ee.diffed=function(t){IW&&IW(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(CW.push(e)!==1&&RW===Ee.requestAnimationFrame||((RW=Ee.requestAnimationFrame)||function(r){var n,a=i(function(){clearTimeout(o),xW&&cancelAnimationFrame(n),setTimeout(r)},"u"),o=setTimeout(a,100);xW&&(n=requestAnimationFrame(a))})(ZWe)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.__V!==kg&&(r.__=r.__V),r.u=void 0,r.__V=kg})),yA=Tr=null},Ee.__c=function(t,e){e.some(function(r){try{r.__h.forEach(qg),r.__h=r.__h.filter(function(n){return!n.__||gA(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ee.__e(n,r.__v)}}),kW&&kW(t,e)},Ee.unmount=function(t){qW&&qW(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{qg(n)}catch(a){e=a}}),e&&Ee.__e(e,r.__v))};var xW=typeof requestAnimationFrame=="function";function qg(t){var e=Tr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Tr=e}i(qg,"j");function gA(t){var e=Tr;t.__c=t.__(),Tr=e}i(gA,"k");function LW(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}i(LW,"w");function SA(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("stopAudioRecording"),"aria-label":a("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:a("startAudioRecording"),"aria-label":a("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},S("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}i(SA,"RecordButton");function _A(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(_A,"formatSeconds");function PA(t){var e=t.recordingLengthSeconds,r=t.i18n,n=_A(e);return S("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(PA,"RecordingLength");var jW=i(function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return S("div",{className:"uppy-Audio-videoSource"},S("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:i(function(o){n(o.target.value)},"onChange")},r.map(function(a){return S("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===e},a.label)})))},"default");function eKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(eKe,"_classCallCheck");function NW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(NW,"_defineProperties");function tKe(t,e,r){return e&&NW(t.prototype,e),r&&NW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(tKe,"_createClass");function rKe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(rKe,"_classPrivateFieldLooseBase");var nKe=0;function iKe(t){return"__private_"+nKe+++"_"+t}i(iKe,"_classPrivateFieldLooseKey");function DW(t){return typeof t=="function"}i(DW,"isFunction");function qp(t){return DW(t)?t():t}i(qp,"result");var EA=iKe("draw"),UW=function(){function t(e,r){var n=this;eKe(this,t),r===void 0&&(r={}),Object.defineProperty(this,EA,{writable:!0,value:i(function(){return n.draw()},"value")});var a=r.canvas||{},o=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=qp(a.width)||this.canvas.width,this.height=qp(a.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=qp(o.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=qp(o.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=qp(o.lineWidth)||1,this.onDrawFrame=DW(r.onDrawFrame)?r.onDrawFrame:function(){}}return i(t,"AudioOscilloscope"),tKe(t,[{key:"addSource",value:i(function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)},"addSource")},{key:"draw",value:i(function(){var r=this.analyser,n=this.dataArray,a=this.bufferLength,o=this.canvasContext,u=this.width,s=this.height;r&&r.getByteTimeDomainData(n),o.fillRect(0,0,u,s),o.beginPath();var c=u*1/a,f=0;a||o.moveTo(0,this.height/2);for(var d=0;d<a;d++){var y=n[d]/128,m=y*(s/2);d===0?o.moveTo(f,m):o.lineTo(f,m),f+=c}o.lineTo(u,s/2),o.stroke(),this.onDrawFrame(this),requestAnimationFrame(rKe(this,EA)[EA])},"draw")}]),t}();function oKe(t){var e=t.onSubmit,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i(oKe,"SubmitButton");var MW=oKe;function aKe(t){var e=t.onDiscard,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},S("g",{fill:"#FFF",fillRule:"evenodd"},S("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),S("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(aKe,"DiscardButton");var BW=aKe;function RA(t){var e=t.stream,r=t.recordedAudio,n=t.onStop,a=t.recording,o=t.supportsRecording,u=t.audioSources,s=t.showAudioSourceDropdown,c=t.onSubmit,f=t.i18n,d=t.onStartRecording,y=t.onStopRecording,m=t.onDiscardRecordedAudio,w=t.recordingLengthSeconds,_=OA(null),R=OA(null);wA(function(){return function(){R.current=null,n()}},[n]),wA(function(){if(!r&&(R.current=new UW(_.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),R.current.draw(),e)){var x=new AudioContext,U=x.createMediaStreamSource(e);R.current.addSource(U)}},[r,e]);var T=r!=null,E=!T&&o,A=s&&!T&&u&&u.length>1;return S("div",{className:"uppy-Audio-container"},S("div",{className:"uppy-Audio-audioContainer"},T?S("audio",{className:"uppy-Audio-player",controls:!0,src:r}):S("canvas",{ref:_,className:"uppy-Audio-canvas"})),S("div",{className:"uppy-Audio-footer"},S("div",{className:"uppy-Audio-audioSourceContainer"},A?jW(t):null),S("div",{className:"uppy-Audio-buttonContainer"},E&&S(SA,{recording:a,onStartRecording:d,onStopRecording:y,i18n:f}),T&&S(MW,{onSubmit:c,i18n:f}),T&&S(BW,{onDiscard:m,i18n:f})),S("div",{className:"uppy-Audio-recordingLength"},!T&&S(PA,{recordingLengthSeconds:w,i18n:f}))))}i(RA,"RecordingScreen");var $W=i(function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return S("div",{className:"uppy-Audio-permissons"},S("div",{className:"uppy-Audio-permissonsIcon"},e()),S("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),S("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))},"default");var zW={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function xg(t){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}i(xg,"_typeof");function GW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(GW,"ownKeys");function uKe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(r),!0).forEach(function(n){sKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(uKe,"_objectSpread");function sKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(sKe,"_defineProperty");function CA(){"use strict";CA=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&xg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(CA,"_regeneratorRuntime");function HW(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(HW,"asyncGeneratorStep");function lKe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){HW(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){HW(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(lKe,"_asyncToGenerator");function cKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(cKe,"_classCallCheck");function VW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(VW,"_defineProperties");function fKe(t,e,r){return e&&VW(t.prototype,e),r&&VW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(fKe,"_createClass");function pKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}i(pKe,"_inherits");function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),FA(t,e)}i(FA,"_setPrototypeOf");function dKe(t){var e=vKe();return i(function(){var n=Cg(t),a;if(e){var o=Cg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return hKe(this,a)},"_createSuperInternal")}i(dKe,"_createSuper");function hKe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}i(hKe,"_possibleConstructorReturn");function ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ye,"_assertThisInitialized");function vKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(vKe,"_isNativeReflectConstruct");function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Cg(t)}i(Cg,"_getPrototypeOf");function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LA.apply(this,arguments)}i(LA,"_extends");function fe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(fe,"_classPrivateFieldLooseBase");var yKe=0;function Ht(t){return"__private_"+yKe+++"_"+t}i(Ht,"_classPrivateFieldLooseKey");var mKe={version:"1.0.2"},zt=Ht("stream"),Ji=Ht("audioActive"),ft=Ht("recordingChunks"),ct=Ht("recorder"),Qi=Ht("capturedMediaFile"),Gt=Ht("mediaDevices"),xp=Ht("supportsUserMedia"),TA=Ht("hasAudioCheck"),mu=Ht("start"),AA=Ht("startRecording"),Cp=Ht("stopRecording"),IA=Ht("discardRecordedAudio"),kA=Ht("submit"),Zi=Ht("stop"),qA=Ht("getAudio"),xA=Ht("changeSource"),gu=Ht("updateSources"),Fg=function(t){pKe(r,t);var e=dKe(r);function r(n,a){var o;cKe(this,r);var u;return o=e.call(this,n,a),u=ye(o),Object.defineProperty(ye(o),qA,{value:bKe}),Object.defineProperty(ye(o),TA,{value:gKe}),Object.defineProperty(ye(o),zt,{writable:!0,value:null}),Object.defineProperty(ye(o),Ji,{writable:!0,value:!1}),Object.defineProperty(ye(o),ft,{writable:!0,value:null}),Object.defineProperty(ye(o),ct,{writable:!0,value:null}),Object.defineProperty(ye(o),Qi,{writable:!0,value:null}),Object.defineProperty(ye(o),Gt,{writable:!0,value:null}),Object.defineProperty(ye(o),xp,{writable:!0,value:null}),Object.defineProperty(ye(o),mu,{writable:!0,value:i(function(c){if(c===void 0&&(c=null),!fe(u,xp)[xp])return Promise.reject(new Error("Microphone access not supported"));fe(u,Ji)[Ji]=!0,fe(u,TA)[TA]().then(function(f){return u.setPluginState({hasAudio:f}),fe(u,Gt)[Gt].getUserMedia({audio:!0}).then(function(d){fe(u,zt)[zt]=d;var y=null,m=d.getAudioTracks();!c||!c.deviceId?y=m[0].getSettings().deviceId:m.forEach(function(w){w.getSettings().deviceId===c.deviceId&&(y=w.getSettings().deviceId)}),fe(u,gu)[gu](),u.setPluginState({currentDeviceId:y,audioReady:!0})}).catch(function(d){u.setPluginState({audioReady:!1,cameraError:d}),u.uppy.info(d.message,"error")})})},"value")}),Object.defineProperty(ye(o),AA,{writable:!0,value:i(function(){fe(ye(o),ct)[ct]=new MediaRecorder(fe(ye(o),zt)[zt]),fe(ye(o),ft)[ft]=[];var c=!1;fe(ye(o),ct)[ct].addEventListener("dataavailable",function(f){fe(ye(o),ft)[ft].push(f.data);var d=o.uppy.opts.restrictions;if(fe(ye(o),ft)[ft].length>1&&d.maxFileSize!=null&&!c){var y=fe(ye(o),ft)[ft].reduce(function(R,T){return R+T.size},0),m=(y-fe(ye(o),ft)[ft][0].size)/(fe(ye(o),ft)[ft].length-1),w=m*3,_=Math.max(0,d.maxFileSize-w);y>_&&(c=!0,o.uppy.info(o.i18n("recordingStoppedMaxSize"),"warning",4e3),fe(ye(o),Cp)[Cp]())}}),fe(ye(o),ct)[ct].start(500),o.recordingLengthTimer=setInterval(function(){var f=o.getPluginState().recordingLengthSeconds;o.setPluginState({recordingLengthSeconds:f+1})},1e3),o.setPluginState({isRecording:!0})},"value")}),Object.defineProperty(ye(o),Cp,{writable:!0,value:i(function(){var c=new Promise(function(f){fe(ye(o),ct)[ct].addEventListener("stop",function(){f()}),fe(ye(o),ct)[ct].stop(),clearInterval(o.recordingLengthTimer),o.setPluginState({recordingLengthSeconds:0})});return c.then(function(){return o.setPluginState({isRecording:!1}),fe(ye(o),qA)[qA]()}).then(function(f){try{fe(ye(o),Qi)[Qi]=f,o.setPluginState({recordedAudio:URL.createObjectURL(f.data)})}catch(d){d.isRestriction||o.uppy.log(d)}}).then(function(){fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null},function(f){throw fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null,f})},"value")}),Object.defineProperty(ye(o),IA,{writable:!0,value:i(function(){o.setPluginState({recordedAudio:null}),fe(ye(o),Qi)[Qi]=null},"value")}),Object.defineProperty(ye(o),kA,{writable:!0,value:i(function(){try{fe(ye(o),Qi)[Qi]&&o.uppy.addFile(fe(ye(o),Qi)[Qi])}catch(c){c.isRestriction||o.uppy.log(c,"error")}},"value")}),Object.defineProperty(ye(o),Zi,{writable:!0,value:function(){var s=lKe(CA().mark(i(function f(){var d;return CA().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(fe(ye(o),zt)[zt]&&(d=fe(ye(o),zt)[zt].getAudioTracks(),d.forEach(function(w){return w.stop()})),!fe(ye(o),ct)[ct]){m.next=4;break}return m.next=4,new Promise(function(w){fe(ye(o),ct)[ct].addEventListener("stop",w,{once:!0}),fe(ye(o),ct)[ct].stop(),clearInterval(o.recordingLengthTimer)});case 4:fe(ye(o),ft)[ft]=null,fe(ye(o),ct)[ct]=null,fe(ye(o),Ji)[Ji]=!1,fe(ye(o),zt)[zt]=null,o.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return m.stop()}},"_callee$"),f)},"_callee")));function c(){return s.apply(this,arguments)}return i(c,"value"),c}()}),Object.defineProperty(ye(o),xA,{writable:!0,value:i(function(c){fe(ye(o),Zi)[Zi](),fe(ye(o),mu)[mu]({deviceId:c})},"value")}),Object.defineProperty(ye(o),gu,{writable:!0,value:i(function(){fe(ye(o),Gt)[Gt].enumerateDevices().then(function(c){o.setPluginState({audioSources:c.filter(function(f){return f.kind==="audioinput"})})})},"value")}),fe(ye(o),Gt)[Gt]=navigator.mediaDevices,fe(ye(o),xp)[xp]=fe(ye(o),Gt)[Gt]!=null,o.id=o.opts.id||"Audio",o.type="acquirer",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},S("g",{fill:"none","fill-rule":"evenodd"},S("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),S("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},o.defaultLocale=zW,o.opts=uKe({},a),o.i18nInit(),o.title=o.i18n("pluginNameAudio"),o.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),o}return i(r,"Audio"),fKe(r,[{key:"render",value:i(function(){fe(this,Ji)[Ji]||fe(this,mu)[mu]();var a=this.getPluginState();return!a.audioReady||!a.hasAudio?S($W,{icon:this.icon,i18n:this.i18n,hasAudio:a.hasAudio}):S(RA,LA({},a,{audioActive:fe(this,Ji)[Ji],onChangeSource:fe(this,xA)[xA],onStartRecording:fe(this,AA)[AA],onStopRecording:fe(this,Cp)[Cp],onDiscardRecordedAudio:fe(this,IA)[IA],onSubmit:fe(this,kA)[kA],onStop:fe(this,Zi)[Zi],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:vA(),recording:a.isRecording,stream:fe(this,zt)[zt]}))},"render")},{key:"install",value:i(function(){var a=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var o=this.opts.target;o&&this.mount(o,this),fe(this,Gt)[Gt]&&(fe(this,gu)[gu](),fe(this,Gt)[Gt].ondevicechange=function(){if(fe(a,gu)[gu](),fe(a,zt)[zt]){var u=!0,s=a.getPluginState(),c=s.audioSources,f=s.currentDeviceId;c.forEach(function(d){f===d.deviceId&&(u=!1)}),u&&(fe(a,Zi)[Zi](),fe(a,mu)[mu]())}})},"install")},{key:"uninstall",value:i(function(){fe(this,zt)[zt]&&fe(this,Zi)[Zi](),this.unmount()},"uninstall")}]),r}(Se);function gKe(){return fe(this,Gt)[Gt]?fe(this,Gt)[Gt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}i(gKe,"_hasAudioCheck2");function bKe(){var t=fe(this,ft)[ft].find(function(o){var u;return((u=o.type)==null?void 0:u.length)>0}).type,e=pi(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(fe(this,ft)[ft],{type:t}),a={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(a)}i(bKe,"_getAudio2");Fg.VERSION=mKe.version;var WW={strings:{pluginNameBox:"Box"}};function jA(t){return jA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jA(t)}i(jA,"_typeof");function wKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(wKe,"_classCallCheck");function KW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(KW,"_defineProperties");function OKe(t,e,r){return e&&KW(t.prototype,e),r&&KW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(OKe,"_createClass");function SKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}i(SKe,"_inherits");function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),NA(t,e)}i(NA,"_setPrototypeOf");function _Ke(t){var e=EKe();return i(function(){var n=jg(t),a;if(e){var o=jg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return PKe(this,a)},"_createSuperInternal")}i(_Ke,"_createSuper");function PKe(t,e){if(e&&(jA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lg(t)}i(PKe,"_possibleConstructorReturn");function Lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Lg,"_assertThisInitialized");function EKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(EKe,"_isNativeReflectConstruct");function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),jg(t)}i(jg,"_getPrototypeOf");var RKe={version:"2.0.1"},yl=function(t){SKe(r,t);var e=_Ke(r);function r(n,a){var o;return wKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Box",Me.initPlugin(Lg(o),a),o.title=o.opts.title||"Box",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),S("g",{fill:"#fff",fillRule:"nonzero"},S("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),S("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"box",pluginId:o.id}),o.defaultLocale=WW,o.i18nInit(),o.title=o.i18n("pluginNameBox"),o.onFirstRender=o.onFirstRender.bind(Lg(o)),o.render=o.render.bind(Lg(o)),o}return i(r,"Box"),OKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return this.view.getFolder()},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);yl.VERSION=RKe.version;var YW={strings:{pluginNameDropbox:"Dropbox"}};function DA(t){return DA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(t)}i(DA,"_typeof");function TKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(TKe,"_classCallCheck");function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XW,"_defineProperties");function AKe(t,e,r){return e&&XW(t.prototype,e),r&&XW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(AKe,"_createClass");function IKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}i(IKe,"_inherits");function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),UA(t,e)}i(UA,"_setPrototypeOf");function kKe(t){var e=xKe();return i(function(){var n=Dg(t),a;if(e){var o=Dg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return qKe(this,a)},"_createSuperInternal")}i(kKe,"_createSuper");function qKe(t,e){if(e&&(DA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ng(t)}i(qKe,"_possibleConstructorReturn");function Ng(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ng,"_assertThisInitialized");function xKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(xKe,"_isNativeReflectConstruct");function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Dg(t)}i(Dg,"_getPrototypeOf");var CKe={version:"3.0.1"},ml=function(t){IKe(r,t);var e=kKe(r);function r(n,a){var o;return TKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Dropbox",Me.initPlugin(Ng(o),a),o.title=o.opts.title||"Dropbox",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),S("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"dropbox",pluginId:o.id}),o.defaultLocale=YW,o.i18nInit(),o.title=o.i18n("pluginNameDropbox"),o.onFirstRender=o.onFirstRender.bind(Ng(o)),o.render=o.render.bind(Ng(o)),o}return i(r,"Dropbox"),AKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);ml.VERSION=CKe.version;var JW={strings:{pluginNameFacebook:"Facebook"}};function MA(t){return MA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MA(t)}i(MA,"_typeof");function FKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(FKe,"_classCallCheck");function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(QW,"_defineProperties");function LKe(t,e,r){return e&&QW(t.prototype,e),r&&QW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(LKe,"_createClass");function jKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}i(jKe,"_inherits");function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),BA(t,e)}i(BA,"_setPrototypeOf");function NKe(t){var e=UKe();return i(function(){var n=Mg(t),a;if(e){var o=Mg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return DKe(this,a)},"_createSuperInternal")}i(NKe,"_createSuper");function DKe(t,e){if(e&&(MA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ug(t)}i(DKe,"_possibleConstructorReturn");function Ug(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ug,"_assertThisInitialized");function UKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(UKe,"_isNativeReflectConstruct");function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Mg(t)}i(Mg,"_getPrototypeOf");var MKe={version:"3.0.1"},gl=function(t){jKe(r,t);var e=NKe(r);function r(n,a){var o;return FKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Facebook",Me.initPlugin(Ug(o),a),o.title=o.opts.title||"Facebook",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),S("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"facebook",pluginId:o.id}),o.defaultLocale=JW,o.i18nInit(),o.title=o.i18n("pluginNameFacebook"),o.onFirstRender=o.onFirstRender.bind(Ug(o)),o.render=o.render.bind(Ug(o)),o}return i(r,"Facebook"),LKe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){var o={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(o.viewType="grid",o.showFilter=!1,o.showTitles=!1),this.view.render(a,o)},"render")}]),r}(Se);gl.VERSION=MKe.version;function $A(t){return $A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(t)}i($A,"_typeof");function BKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(BKe,"_classCallCheck");function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(ZW,"_defineProperties");function $Ke(t,e,r){return e&&ZW(t.prototype,e),r&&ZW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i($Ke,"_createClass");function Bg(){return typeof Reflect!="undefined"&&Reflect.get?Bg=Reflect.get.bind():Bg=i(function(e,r,n){var a=zKe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),Bg.apply(this,arguments)}i(Bg,"_get");function zKe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bl(t),t!==null););return t}i(zKe,"_superPropBase");function GKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}i(GKe,"_inherits");function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),zA(t,e)}i(zA,"_setPrototypeOf");function HKe(t){var e=KKe();return i(function(){var n=bl(t),a;if(e){var o=bl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return VKe(this,a)},"_createSuperInternal")}i(HKe,"_createSuper");function VKe(t,e){if(e&&($A(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WKe(t)}i(VKe,"_possibleConstructorReturn");function WKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(WKe,"_assertThisInitialized");function KKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(KKe,"_isNativeReflectConstruct");function bl(t){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),bl(t)}i(bl,"_getPrototypeOf");var eK=function(t){GKe(r,t);var e=HKe(r);function r(){return BKe(this,r),e.apply(this,arguments)}return i(r,"DriveProviderViews"),$Ke(r,[{key:"toggleCheckbox",value:i(function(a,o){a.stopPropagation(),a.preventDefault(),o.custom.isSharedDrive||Bg(bl(r.prototype),"toggleCheckbox",this).call(this,a,o)},"toggleCheckbox")}]),r}(Dt);var tK={strings:{pluginNameGoogleDrive:"Google Drive"}};function GA(t){return GA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(t)}i(GA,"_typeof");function YKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(YKe,"_classCallCheck");function rK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rK,"_defineProperties");function XKe(t,e,r){return e&&rK(t.prototype,e),r&&rK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(XKe,"_createClass");function JKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}i(JKe,"_inherits");function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),HA(t,e)}i(HA,"_setPrototypeOf");function QKe(t){var e=eYe();return i(function(){var n=zg(t),a;if(e){var o=zg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return ZKe(this,a)},"_createSuperInternal")}i(QKe,"_createSuper");function ZKe(t,e){if(e&&(GA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $g(t)}i(ZKe,"_possibleConstructorReturn");function $g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($g,"_assertThisInitialized");function eYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(eYe,"_isNativeReflectConstruct");function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),zg(t)}i(zg,"_getPrototypeOf");var tYe={version:"3.0.1"},wl=function(t){JKe(r,t);var e=QKe(r);function r(n,a){var o;return YKe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"GoogleDrive",o.title=o.opts.title||"Google Drive",Me.initPlugin($g(o),a),o.title=o.opts.title||"Google Drive",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),S("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"drive",pluginId:o.id}),o.defaultLocale=tK,o.i18nInit(),o.title=o.i18n("pluginNameGoogleDrive"),o.onFirstRender=o.onFirstRender.bind($g(o)),o.render=o.render.bind($g(o)),o}return i(r,"GoogleDrive"),XKe(r,[{key:"install",value:i(function(){this.view=new eK(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);wl.VERSION=tYe.version;var nK={strings:{pluginNameInstagram:"Instagram"}};function VA(t){return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(t)}i(VA,"_typeof");function rYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(rYe,"_classCallCheck");function iK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(iK,"_defineProperties");function nYe(t,e,r){return e&&iK(t.prototype,e),r&&iK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(nYe,"_createClass");function iYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}i(iYe,"_inherits");function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),WA(t,e)}i(WA,"_setPrototypeOf");function oYe(t){var e=uYe();return i(function(){var n=Hg(t),a;if(e){var o=Hg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aYe(this,a)},"_createSuperInternal")}i(oYe,"_createSuper");function aYe(t,e){if(e&&(VA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gg(t)}i(aYe,"_possibleConstructorReturn");function Gg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Gg,"_assertThisInitialized");function uYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(uYe,"_isNativeReflectConstruct");function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Hg(t)}i(Hg,"_getPrototypeOf");var sYe={version:"3.0.1"},Ol=function(t){iYe(r,t);var e=oYe(r);function r(n,a){var o;return rYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Instagram",Me.initPlugin(Gg(o),a),o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),S("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},o.defaultLocale=nK,o.i18nInit(),o.title=o.i18n("pluginNameInstagram"),o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"instagram",pluginId:o.id}),o.onFirstRender=o.onFirstRender.bind(Gg(o)),o.render=o.render.bind(Gg(o)),o}return i(r,"Instagram"),nYe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Ol.VERSION=sYe.version;var oK={strings:{pluginNameOneDrive:"OneDrive"}};function KA(t){return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}i(KA,"_typeof");function lYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(lYe,"_classCallCheck");function aK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(aK,"_defineProperties");function cYe(t,e,r){return e&&aK(t.prototype,e),r&&aK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(cYe,"_createClass");function fYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}i(fYe,"_inherits");function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),YA(t,e)}i(YA,"_setPrototypeOf");function pYe(t){var e=hYe();return i(function(){var n=Wg(t),a;if(e){var o=Wg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return dYe(this,a)},"_createSuperInternal")}i(pYe,"_createSuper");function dYe(t,e){if(e&&(KA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vg(t)}i(dYe,"_possibleConstructorReturn");function Vg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Vg,"_assertThisInitialized");function hYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(hYe,"_isNativeReflectConstruct");function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Wg(t)}i(Wg,"_getPrototypeOf");var vYe={version:"3.0.1"},Sl=function(t){fYe(r,t);var e=pYe(r);function r(n,a){var o;return lYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"OneDrive",Me.initPlugin(Vg(o),a),o.title=o.opts.title||"OneDrive",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),S("g",{fill:"#FFF",fillRule:"nonzero"},S("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),S("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule,provider:"onedrive",pluginId:o.id}),o.defaultLocale=oK,o.i18nInit(),o.title=o.i18n("pluginNameOneDrive"),o.onFirstRender=o.onFirstRender.bind(Vg(o)),o.render=o.render.bind(Vg(o)),o}return i(r,"OneDrive"),cYe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Sl.VERSION=vYe.version;function XA(t){return XA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XA(t)}i(XA,"_typeof");function yYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(yYe,"_classCallCheck");function uK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(uK,"_defineProperties");function mYe(t,e,r){return e&&uK(t.prototype,e),r&&uK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(mYe,"_createClass");function gYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}i(gYe,"_inherits");function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),JA(t,e)}i(JA,"_setPrototypeOf");function bYe(t){var e=OYe();return i(function(){var n=Kg(t),a;if(e){var o=Kg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return wYe(this,a)},"_createSuperInternal")}i(bYe,"_createSuper");function wYe(t,e){if(e&&(XA(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sK(t)}i(wYe,"_possibleConstructorReturn");function sK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(sK,"_assertThisInitialized");function OYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(OYe,"_isNativeReflectConstruct");function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Kg(t)}i(Kg,"_getPrototypeOf");var SYe={version:"3.0.1"},_l=function(t){gYe(r,t);var e=bYe(r);function r(n,a){var o;if(yYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Unsplash",o.title=o.opts.title||"Unsplash",Me.initPlugin(sK(o),a,{}),o.icon=function(){return S("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},S("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),S("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!o.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return o.hostname=o.opts.companionUrl,o.provider=new _m(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule,provider:"unsplash",pluginId:o.id}),o}return i(r,"Unsplash"),mYe(r,[{key:"install",value:i(function(){this.view=new nl(this,{provider:this.provider,viewType:"unsplash"});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"onFirstRender",value:i(function(){},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);_l.VERSION=SYe.version;function eI(t){return eI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eI(t)}i(eI,"_typeof");function _Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(_Ye,"_classCallCheck");function lK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(lK,"_defineProperties");function PYe(t,e,r){return e&&lK(t.prototype,e),r&&lK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(PYe,"_createClass");function EYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tI(t,e)}i(EYe,"_inherits");function tI(t,e){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),tI(t,e)}i(tI,"_setPrototypeOf");function RYe(t){var e=AYe();return i(function(){var n=Xg(t),a;if(e){var o=Xg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return TYe(this,a)},"_createSuperInternal")}i(RYe,"_createSuper");function TYe(t,e){if(e&&(eI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yg(t)}i(TYe,"_possibleConstructorReturn");function Yg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Yg,"_assertThisInitialized");function AYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(AYe,"_isNativeReflectConstruct");function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Xg(t)}i(Xg,"_getPrototypeOf");function QA(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(QA,"_classPrivateFieldLooseBase");var IYe=0;function cK(t){return"__private_"+IYe+++"_"+t}i(cK,"_classPrivateFieldLooseKey");var ZA=cK("handleKeyPress"),Fp=cK("handleSubmit"),kYe=function(t){EYe(r,t);var e=RYe(r);function r(){var n;return _Ye(this,r),n=e.apply(this,arguments),Object.defineProperty(Yg(n),ZA,{writable:!0,value:i(function(o){o.keyCode===13&&QA(Yg(n),Fp)[Fp]()},"value")}),Object.defineProperty(Yg(n),Fp,{writable:!0,value:i(function(){var o=n.props.addFile,u=n.input.value.trim();o(u)},"value")}),n}return i(r,"UrlUI"),PYe(r,[{key:"componentDidMount",value:i(function(){this.input.value=""},"componentDidMount")},{key:"render",value:i(function(){var a=this,o=this.props.i18n;return S("div",{className:"uppy-Url"},S("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":o("enterUrlToImport"),placeholder:o("enterUrlToImport"),onKeyUp:QA(this,ZA)[ZA],ref:i(function(s){a.input=s},"ref"),"data-uppy-super-focusable":!0}),S("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:QA(this,Fp)[Fp]},o("import")))},"render")}]),r}(Be),fK=kYe;function Jg(t,e,r){var n=Et(t.items),a;switch(e){case"paste":{var o=n.some(function(u){return u.kind==="file"});if(o)return;a=n.filter(function(u){return u.kind==="string"&&u.type==="text/plain"});break}case"drop":{a=n.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(e))}a.forEach(function(u){u.getAsString(function(s){return r(s)})})}i(Jg,"forEachDroppedOrPastedUrl");var pK={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};function Qg(t){return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}i(Qg,"_typeof");function rI(){"use strict";rI=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Qg(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(rI,"_regeneratorRuntime");function dK(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(dK,"asyncGeneratorStep");function qYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){dK(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){dK(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(qYe,"_asyncToGenerator");function hK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(hK,"ownKeys");function vK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hK(Object(r),!0).forEach(function(n){xYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(vK,"_objectSpread");function xYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(xYe,"_defineProperty");function CYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(CYe,"_classCallCheck");function yK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(yK,"_defineProperties");function FYe(t,e,r){return e&&yK(t.prototype,e),r&&yK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(FYe,"_createClass");function LYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}i(LYe,"_inherits");function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),nI(t,e)}i(nI,"_setPrototypeOf");function jYe(t){var e=DYe();return i(function(){var n=Zg(t),a;if(e){var o=Zg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return NYe(this,a)},"_createSuperInternal")}i(jYe,"_createSuper");function NYe(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lp(t)}i(NYe,"_possibleConstructorReturn");function Lp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Lp,"_assertThisInitialized");function DYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(DYe,"_isNativeReflectConstruct");function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Zg(t)}i(Zg,"_getPrototypeOf");var UYe={version:"3.1.0"};function MYe(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),S("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}i(MYe,"UrlIcon");function BYe(t){var e=/^[a-z0-9]+:\/\//,r="http://";return e.test(t)?t:r+t}i(BYe,"addProtocolToURL");function $Ye(t){var e=Et(t.dataTransfer.items),r=e.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list"});return r.length>0}i($Ye,"canHandleRootDrop");function zYe(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return!(e!=="http"&&e!=="https")}i(zYe,"checkIfCorrectURL");function GYe(t){var e=new URL(t),r=e.pathname;return r.substring(r.lastIndexOf("/")+1)}i(GYe,"getFileNameFromUrl");var bu=function(t){LYe(r,t);var e=jYe(r);function r(n,a){var o;CYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Url",o.title=o.opts.title||"Link",o.type="acquirer",o.icon=function(){return S(MYe,null)},o.defaultLocale=pK;var u={};if(o.opts=vK(vK({},u),a),o.i18nInit(),o.hostname=o.opts.companionUrl,!o.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return o.getMeta=o.getMeta.bind(Lp(o)),o.addFile=o.addFile.bind(Lp(o)),o.handleRootDrop=o.handleRootDrop.bind(Lp(o)),o.handleRootPaste=o.handleRootPaste.bind(Lp(o)),o.client=new dt(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionCookiesRule:o.opts.companionCookiesRule}),o}return i(r,"Url"),FYe(r,[{key:"getMeta",value:i(function(a){var o=this;return this.client.post("url/meta",{url:a}).then(function(u){if(u.error)throw o.uppy.log("[URL] Error:"),o.uppy.log(u.error),new Error("Failed to fetch the file");return u})},"getMeta")},{key:"addFile",value:function(){var n=qYe(rI().mark(i(function o(u,s){var c,f,d;return rI().wrap(i(function(m){for(;;)switch(m.prev=m.next){case 0:if(s===void 0&&(s=void 0),c=BYe(u),zYe(c)){m.next=6;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(c)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),m.abrupt("return",void 0);case 6:return m.prev=6,m.next=9,this.getMeta(c);case 9:return f=m.sent,d={meta:s,source:this.id,name:GYe(c),type:f.type,data:{size:f.size},isRemote:!0,body:{url:c},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:c,url:c},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),m.prev=12,m.abrupt("return",this.uppy.addFile(d));case 16:return m.prev=16,m.t0=m.catch(12),m.t0.isRestriction||this.uppy.log(m.t0),m.abrupt("return",m.t0);case 20:m.next=27;break;case 22:return m.prev=22,m.t1=m.catch(6),this.uppy.log(m.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:m.t1},"error",4e3),m.abrupt("return",m.t1);case 27:case"end":return m.stop()}},"_callee$"),o,this,[[6,22],[12,16]])},"_callee")));function a(o,u){return n.apply(this,arguments)}return i(a,"addFile"),a}()},{key:"handleRootDrop",value:i(function(a){var o=this;Jg(a.dataTransfer,"drop",function(u){o.uppy.log("[URL] Adding file from dropped url: ".concat(u)),o.addFile(u)})},"handleRootDrop")},{key:"handleRootPaste",value:i(function(a){var o=this;Jg(a.clipboardData,"paste",function(u){o.uppy.log("[URL] Adding file from pasted url: ".concat(u)),o.addFile(u)})},"handleRootPaste")},{key:"render",value:i(function(){return S(fK,{i18n:this.i18n,addFile:this.addFile})},"render")},{key:"install",value:i(function(){var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.unmount()},"uninstall")}]),r}(Se);bu.VERSION=UYe.version;bu.prototype.canHandleRootDrop=$Ye;var mK={strings:{pluginNameZoom:"Zoom"}};function iI(t){return iI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iI(t)}i(iI,"_typeof");function HYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(HYe,"_classCallCheck");function gK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(gK,"_defineProperties");function VYe(t,e,r){return e&&gK(t.prototype,e),r&&gK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(VYe,"_createClass");function WYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oI(t,e)}i(WYe,"_inherits");function oI(t,e){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),oI(t,e)}i(oI,"_setPrototypeOf");function KYe(t){var e=XYe();return i(function(){var n=tb(t),a;if(e){var o=tb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return YYe(this,a)},"_createSuperInternal")}i(KYe,"_createSuper");function YYe(t,e){if(e&&(iI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(t)}i(YYe,"_possibleConstructorReturn");function eb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(eb,"_assertThisInitialized");function XYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(XYe,"_isNativeReflectConstruct");function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),tb(t)}i(tb,"_getPrototypeOf");var JYe={version:"2.0.1"},Pl=function(t){WYe(r,t);var e=KYe(r);function r(n,a){var o;return HYe(this,r),o=e.call(this,n,a),o.id=o.opts.id||"Zoom",Me.initPlugin(eb(o),a),o.title=o.opts.title||"Zoom",o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),S("g",{fill:"none",fillRule:"evenodd"},S("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),S("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}})))},o.provider=new Me(n,{companionUrl:o.opts.companionUrl,companionHeaders:o.opts.companionHeaders,companionKeysParams:o.opts.companionKeysParams,companionCookiesRule:o.opts.companionCookiesRule,provider:"zoom",pluginId:o.id}),o.defaultLocale=mK,o.i18nInit(),o.title=o.i18n("pluginNameZoom"),o.onFirstRender=o.onFirstRender.bind(eb(o)),o.render=o.render.bind(eb(o)),o}return i(r,"Zoom"),VYe(r,[{key:"install",value:i(function(){this.view=new Dt(this,{provider:this.provider});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.view.tearDown(),this.unmount()},"uninstall")},{key:"onFirstRender",value:i(function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])},"onFirstRender")},{key:"render",value:i(function(a){return this.view.render(a)},"render")}]),r}(Se);Pl.VERSION=JYe.version;function sI(t){return sI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sI(t)}i(sI,"_typeof");function QYe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZYe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(QYe,"_createForOfIteratorHelper");function ZYe(t,e){if(!!t){if(typeof t=="string")return bK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bK(t,e)}}i(ZYe,"_unsupportedIterableToArray");function bK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(bK,"_arrayLikeToArray");function wK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(wK,"ownKeys");function rb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wK(Object(r),!0).forEach(function(n){eXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(rb,"_objectSpread");function eXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(eXe,"_defineProperty");function tXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(tXe,"_classCallCheck");function OK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(OK,"_defineProperties");function rXe(t,e,r){return e&&OK(t.prototype,e),r&&OK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(rXe,"_createClass");function nb(){return typeof Reflect!="undefined"&&Reflect.get?nb=Reflect.get.bind():nb=i(function(e,r,n){var a=nXe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),nb.apply(this,arguments)}i(nb,"_get");function nXe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=El(t),t!==null););return t}i(nXe,"_superPropBase");function iXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lI(t,e)}i(iXe,"_inherits");function lI(t,e){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),lI(t,e)}i(lI,"_setPrototypeOf");function oXe(t){var e=uXe();return i(function(){var n=El(t),a;if(e){var o=El(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aXe(this,a)},"_createSuperInternal")}i(oXe,"_createSuper");function aXe(t,e){if(e&&(sI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SK(t)}i(aXe,"_possibleConstructorReturn");function SK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(SK,"_assertThisInitialized");function uXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(uXe,"_isNativeReflectConstruct");function El(t){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),El(t)}i(El,"_getPrototypeOf");function aI(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(aI,"_classPrivateFieldLooseBase");var sXe=0;function lXe(t){return"__private_"+sXe+++"_"+t}i(lXe,"_classPrivateFieldLooseKey");var cXe={version:"1.0.2"},uI={__proto__:null,Box:yl,Dropbox:ml,Facebook:gl,GoogleDrive:wl,Instagram:Ol,OneDrive:Sl,Unsplash:_l,Url:bu,Zoom:Pl},wu=lXe("installedPlugins"),cI=function(t){iXe(r,t);var e=oXe(r);function r(n,a){var o;tXe(this,r),o=e.call(this,n,a),Object.defineProperty(SK(o),wu,{writable:!0,value:new Set}),o.id=o.opts.id||"RemoteSources",o.type="acquirer";var u={sources:Object.keys(uI),target:vl};if(o.opts=rb(rb({},u),a),o.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl");return o}return i(r,"RemoteSources"),rXe(r,[{key:"setOptions",value:i(function(a){this.uninstall(),nb(El(r.prototype),"setOptions",this).call(this,a),this.install()},"setOptions")},{key:"install",value:i(function(){var a=this;this.opts.sources.forEach(function(o){var u=rb(rb({},a.opts),{},{sources:void 0}),s=uI[o];if(s==null){var c=Object.keys(uI),f=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error('Invalid plugin: "'.concat(o,'" is not one of: ').concat(f.format(c),"."))}a.uppy.use(s,u),aI(a,wu)[wu].add(a.uppy.getPlugin(o))})},"install")},{key:"uninstall",value:i(function(){var a=QYe(aI(this,wu)[wu]),o;try{for(a.s();!(o=a.n()).done;){var u=o.value;this.uppy.removePlugin(u)}}catch(s){a.e(s)}finally{a.f()}aI(this,wu)[wu].clear()},"uninstall")}]),r}(lt);cI.VERSION=cXe.version;var _K=i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),S("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),S("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))},"default");function fI(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:a("stopCapturing"),"aria-label":a("stopCapturing"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:a("startCapturing"),"aria-label":a("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("circle",{cx:"50",cy:"50",r:"40"})))}i(fI,"RecordButton");function pI(t){var e=t.recording,r=t.recordedVideo,n=t.onSubmit,a=t.i18n;return r&&!e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:a("submitRecordedFile"),"aria-label":a("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}i(pI,"SubmitButton");function dI(t){return dI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dI(t)}i(dI,"_typeof");function PK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(PK,"ownKeys");function fXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PK(Object(r),!0).forEach(function(n){pXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(fXe,"_objectSpread");function pXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(pXe,"_defineProperty");function dXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dXe,"_classCallCheck");function EK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(EK,"_defineProperties");function hXe(t,e,r){return e&&EK(t.prototype,e),r&&EK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hXe,"_createClass");function vXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}i(vXe,"_inherits");function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),hI(t,e)}i(hI,"_setPrototypeOf");function yXe(t){var e=bXe();return i(function(){var n=ib(t),a;if(e){var o=ib(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return mXe(this,a)},"_createSuperInternal")}i(yXe,"_createSuper");function mXe(t,e){if(e&&(dI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gXe(t)}i(mXe,"_possibleConstructorReturn");function gXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(gXe,"_assertThisInitialized");function bXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(bXe,"_isNativeReflectConstruct");function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ib(t)}i(ib,"_getPrototypeOf");var wXe=function(t){vXe(r,t);var e=yXe(r);function r(n){var a;return dXe(this,r),a=e.call(this,n),a.state={elapsedTime:0},a.wrapperStyle={width:"100%",height:"100%",display:"flex"},a.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},a.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},a.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},a.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},a}return i(r,"StopWatch"),hXe(r,[{key:"startTimer",value:i(function(){this.timerTick(),this.timerRunning=!0},"startTimer")},{key:"resetTimer",value:i(function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1},"resetTimer")},{key:"timerTick",value:i(function(){var a=this;this.timer=setTimeout(function(){a.setState(function(o){return{elapsedTime:o.elapsedTime+1}}),a.timerTick()},1e3)},"timerTick")},{key:"fmtMSS",value:i(function(a){return(a-(a%=60))/60+(a>9?":":":0")+a},"fmtMSS")},{key:"render",value:i(function(){var a=fXe({},this.props),o=a.recording,u=a.i18n,s=this.state.elapsedTime,c=this.fmtMSS(s);return o&&!this.timerRunning&&this.startTimer(),!o&&this.timerRunning&&this.resetTimer(),o?S("div",{style:this.wrapperStyle},S("div",{style:this.overlayStyle}),S("div",{style:this.infoContainerStyle},S("div",{style:this.infotextStyle},u("recording")),S("div",{style:this.timeStyle},c))):null},"render")}]),r}(Be),RK=wXe;var TK=i(function(t){var e=t.streamActive,r=t.i18n;return e?S("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},S("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):S("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},S("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},S("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),S("path",{d:"M0 0h24v24H0z",fill:"none"}),S("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function vI(t){return vI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI(t)}i(vI,"_typeof");function OXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(OXe,"_classCallCheck");function AK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(AK,"_defineProperties");function SXe(t,e,r){return e&&AK(t.prototype,e),r&&AK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(SXe,"_createClass");function _Xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}i(_Xe,"_inherits");function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),yI(t,e)}i(yI,"_setPrototypeOf");function PXe(t){var e=TXe();return i(function(){var n=ob(t),a;if(e){var o=ob(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return EXe(this,a)},"_createSuperInternal")}i(PXe,"_createSuper");function EXe(t,e){if(e&&(vI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RXe(t)}i(EXe,"_possibleConstructorReturn");function RXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(RXe,"_assertThisInitialized");function TXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(TXe,"_isNativeReflectConstruct");function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ob(t)}i(ob,"_getPrototypeOf");function mI(){return mI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mI.apply(this,arguments)}i(mI,"_extends");var AXe=function(t){_Xe(r,t);var e=PXe(r);function r(){return OXe(this,r),e.apply(this,arguments)}return i(r,"RecorderScreen"),SXe(r,[{key:"componentWillUnmount",value:i(function(){var a=this.props.onStop;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.recording,s=o.stream,c=o.recordedVideo,f={playsinline:!0};return(u||!c&&!u)&&(f.muted=!0,f.autoplay=!0,f.srcObject=s),c&&!u&&(f.muted=!1,f.controls=!0,f.src=c,this.videoElement&&(this.videoElement.srcObject=void 0)),S("div",{className:"uppy uppy-ScreenCapture-container"},S("div",{className:"uppy-ScreenCapture-videoContainer"},S(TK,this.props),S("video",mI({ref:i(function(y){a.videoElement=y},"ref"),className:"uppy-ScreenCapture-video"},f)),S(RK,this.props)),S("div",{className:"uppy-ScreenCapture-buttonContainer"},S(fI,this.props),S(pI,this.props)))},"render")}]),r}(Be),IK=AXe;var kK={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function bI(t){return bI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bI(t)}i(bI,"_typeof");function qK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(qK,"ownKeys");function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qK(Object(r),!0).forEach(function(n){IXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(gI,"_objectSpread");function IXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(IXe,"_defineProperty");function kXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(kXe,"_classCallCheck");function xK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(xK,"_defineProperties");function qXe(t,e,r){return e&&xK(t.prototype,e),r&&xK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(qXe,"_createClass");function xXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wI(t,e)}i(xXe,"_inherits");function wI(t,e){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),wI(t,e)}i(wI,"_setPrototypeOf");function CXe(t){var e=LXe();return i(function(){var n=ab(t),a;if(e){var o=ab(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return FXe(this,a)},"_createSuperInternal")}i(CXe,"_createSuper");function FXe(t,e){if(e&&(bI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(t)}i(FXe,"_possibleConstructorReturn");function di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(di,"_assertThisInitialized");function LXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(LXe,"_isNativeReflectConstruct");function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),ab(t)}i(ab,"_getPrototypeOf");function OI(){return OI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OI.apply(this,arguments)}i(OI,"_extends");var jXe={version:"3.0.1"};function NXe(){var t;return window.MediaRecorder&&((t=navigator.mediaDevices)==null?void 0:t.getDisplayMedia)}i(NXe,"isScreenRecordingSupported");function DXe(){return window.MediaRecorder&&navigator.mediaDevices}i(DXe,"getMediaDevices");var ub=function(t){xXe(r,t);var e=CXe(r);function r(n,a){var o;kXe(this,r),o=e.call(this,n,a),o.mediaDevices=DXe(),o.protocol=location.protocol==="https:"?"https":"http",o.id=o.opts.id||"ScreenCapture",o.title=o.opts.title||"Screencast",o.type="acquirer",o.icon=_K,o.defaultLocale=kK;var u={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return o.opts=gI(gI({},u),a),o.i18nInit(),o.install=o.install.bind(di(o)),o.setPluginState=o.setPluginState.bind(di(o)),o.render=o.render.bind(di(o)),o.start=o.start.bind(di(o)),o.stop=o.stop.bind(di(o)),o.startRecording=o.startRecording.bind(di(o)),o.stopRecording=o.stopRecording.bind(di(o)),o.submit=o.submit.bind(di(o)),o.streamInterrupted=o.streamInactivated.bind(di(o)),o.captureActive=!1,o.capturedMediaFile=null,o}return i(r,"ScreenCapture"),qXe(r,[{key:"install",value:i(function(){if(!NXe())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var a=this.opts.target;a&&this.mount(a,this)},"install")},{key:"uninstall",value:i(function(){this.videoStream&&this.stop(),this.unmount()},"uninstall")},{key:"start",value:i(function(){var a=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(o){o===!1&&a.parent&&a.parent.hideAllPanels&&(a.parent.hideAllPanels(),a.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))},"start")},{key:"selectVideoStreamSource",value:i(function(){var a=this;return this.videoStream?new Promise(function(o){return o(a.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(o){return a.videoStream=o,a.videoStream.addEventListener("inactive",function(){a.streamInactivated()}),a.setPluginState({streamActive:!0}),o}).catch(function(o){return a.setPluginState({screenRecError:o}),a.userDenied=!0,setTimeout(function(){a.userDenied=!1},1e3),!1})},"selectVideoStreamSource")},{key:"selectAudioStreamSource",value:i(function(){var a=this;return this.audioStream?new Promise(function(o){return o(a.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(o){return a.audioStream=o,a.setPluginState({audioStreamActive:!0}),o}).catch(function(o){return o.name==="NotAllowedError"&&a.uppy.info(a.i18n("micDisabled"),"error",5e3),!1})},"selectAudioStreamSource")},{key:"startRecording",value:i(function(){var a=this,o={};this.capturedMediaFile=null,this.recordingChunks=[];var u=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(s){u&&MediaRecorder.isTypeSupported(u)&&pi(u)&&(o.mimeType=u);var c=[s.getVideoTracks()[0]];a.audioStream&&c.push(a.audioStream.getAudioTracks()[0]),a.outputStream=new MediaStream(c),a.recorder=new MediaRecorder(a.outputStream,o),a.recorder.addEventListener("dataavailable",function(f){a.recordingChunks.push(f.data)}),a.recorder.start(),a.setPluginState({recording:!0})}).catch(function(s){a.uppy.log(s,"error")})},"startRecording")},{key:"streamInactivated",value:i(function(){var a=gI({},this.getPluginState()),o=a.recordedVideo,u=a.recording;!o&&!u?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():u&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})},"streamInactivated")},{key:"stopRecording",value:i(function(){var a=this,o=new Promise(function(u){a.recorder.addEventListener("stop",function(){u()}),a.recorder.stop()});return o.then(function(){return a.setPluginState({recording:!1}),a.getVideo()}).then(function(u){a.capturedMediaFile=u,a.setPluginState({recordedVideo:URL.createObjectURL(u.data)})}).then(function(){a.recordingChunks=null,a.recorder=null},function(u){throw a.recordingChunks=null,a.recorder=null,u})},"stopRecording")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}},"submit")},{key:"stop",value:i(function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(a){a.stop()}),this.videoStream.getAudioTracks().forEach(function(a){a.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(a){a.stop()}),this.audioStream.getVideoTracks().forEach(function(a){a.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(a){a.stop()}),this.outputStream.getVideoTracks().forEach(function(a){a.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1},"stop")},{key:"getVideo",value:i(function(){var a=this.recordingChunks[0].type,o=pi(a);if(!o)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var u="screencap-".concat(Date.now(),".").concat(o),s=new Blob(this.recordingChunks,{type:a}),c={source:this.id,name:u,data:new Blob([s],{type:a}),type:a};return Promise.resolve(c)},"getVideo")},{key:"render",value:i(function(){var a=this.getPluginState();return!a.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),S(IK,OI({},a,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))},"render")}]),r}(Se);ub.VERSION=jXe.version;var VK=Te(CK(),1);function _I(t,e,r){return new Promise(function(n){t.toBlob(n,e,r)})}i(_I,"canvasToBlob");function PI(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}i(PI,"supportsMediaRecorder");var lb=i(function(){return S("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},S("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))},"default");var FK=i(function(t){var e=t.onSnapshot,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},lb())},"default");function EI(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,a=t.i18n;return e?S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("stopRecording"),"aria-label":a("stopRecording"),onClick:n,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("rect",{x:"15",y:"15",width:"70",height:"70"}))):S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("startRecording"),"aria-label":a("startRecording"),onClick:r,"data-uppy-super-focusable":!0},S("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},S("circle",{cx:"50",cy:"50",r:"40"})))}i(EI,"RecordButton");function RI(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}i(RI,"formatSeconds");function TI(t){var e=t.recordingLengthSeconds,r=t.i18n,n=RI(e);return S("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}i(TI,"RecordingLength");var LK=i(function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return S("div",{className:"uppy-Webcam-videoSource"},S("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:i(function(o){n(o.target.value)},"onChange")},r.map(function(a){return S("option",{key:a.deviceId,value:a.deviceId,selected:a.deviceId===e},a.label)})))},"default");function $Xe(t){var e=t.onSubmit,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}i($Xe,"SubmitButton");var jK=$Xe;function zXe(t){var e=t.onDiscard,r=t.i18n;return S("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},S("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},S("g",{fill:"#FFF",fillRule:"evenodd"},S("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),S("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}i(zXe,"DiscardButton");var NK=zXe;function AI(t){return AI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AI(t)}i(AI,"_typeof");function GXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(GXe,"_classCallCheck");function DK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(DK,"_defineProperties");function HXe(t,e,r){return e&&DK(t.prototype,e),r&&DK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(HXe,"_createClass");function VXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&II(t,e)}i(VXe,"_inherits");function II(t,e){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),II(t,e)}i(II,"_setPrototypeOf");function WXe(t){var e=XXe();return i(function(){var n=fb(t),a;if(e){var o=fb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return KXe(this,a)},"_createSuperInternal")}i(WXe,"_createSuper");function KXe(t,e){if(e&&(AI(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YXe(t)}i(KXe,"_possibleConstructorReturn");function YXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(YXe,"_assertThisInitialized");function XXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(XXe,"_isNativeReflectConstruct");function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),fb(t)}i(fb,"_getPrototypeOf");function kI(){return kI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kI.apply(this,arguments)}i(kI,"_extends");function cb(t,e){return t.includes(e)}i(cb,"isModeAvailable");var JXe=function(t){VXe(r,t);var e=WXe(r);function r(){return GXe(this,r),e.apply(this,arguments)}return i(r,"CameraScreen"),HXe(r,[{key:"componentDidMount",value:i(function(){var a=this.props.onFocus;a()},"componentDidMount")},{key:"componentWillUnmount",value:i(function(){var a=this.props.onStop;a()},"componentWillUnmount")},{key:"render",value:i(function(){var a=this,o=this.props,u=o.src,s=o.recordedVideo,c=o.recording,f=o.modes,d=o.supportsRecording,y=o.videoSources,m=o.showVideoSourceDropdown,w=o.showRecordingLength,_=o.onSubmit,R=o.i18n,T=o.mirror,E=o.onSnapshot,A=o.onStartRecording,x=o.onStopRecording,U=o.onDiscardRecordedVideo,G=o.recordingLengthSeconds,M=!!s,z=!M&&d&&(cb(f,"video-only")||cb(f,"audio-only")||cb(f,"video-audio")),W=!M&&cb(f,"picture"),Y=d&&w&&!M,p=m&&y&&y.length>1,l={playsinline:!0};return s?(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)):(l.muted=!0,l.autoplay=!0,l.srcObject=u),S("div",{className:"uppy uppy-Webcam-container"},S("div",{className:"uppy-Webcam-videoContainer"},S("video",kI({ref:i(function(v){return a.videoElement=v},"ref"),className:"uppy-Webcam-video  ".concat(T?"uppy-Webcam-video--mirrored":"")},l))),S("div",{className:"uppy-Webcam-footer"},S("div",{className:"uppy-Webcam-videoSourceContainer"},p?LK(this.props):null),S("div",{className:"uppy-Webcam-buttonContainer"},W&&S(FK,{onSnapshot:E,i18n:R}),z&&S(EI,{recording:c,onStartRecording:A,onStopRecording:x,i18n:R}),M&&S(jK,{onSubmit:_,i18n:R}),M&&S(NK,{onDiscard:U,i18n:R})),S("div",{className:"uppy-Webcam-recordingLength"},Y&&S(TI,{recordingLengthSeconds:G,i18n:R}))))},"render")}]),r}(Be),UK=JXe;var MK=i(function(t){var e=t.icon,r=t.i18n,n=t.hasCamera;return S("div",{className:"uppy-Webcam-permissons"},S("div",{className:"uppy-Webcam-permissonsIcon"},e()),S("h1",{className:"uppy-Webcam-title"},r(n?"allowAccessTitle":"noCameraTitle")),S("p",null,r(n?"allowAccessDescription":"noCameraDescription")))},"default");var BK={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function Np(t){return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}i(Np,"_typeof");function xI(){"use strict";xI=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Np(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(xI,"_regeneratorRuntime");function $K(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i($K,"asyncGeneratorStep");function QXe(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){$K(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){$K(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(QXe,"_asyncToGenerator");function zK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(zK,"ownKeys");function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zK(Object(r),!0).forEach(function(n){ZXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ia,"_objectSpread");function ZXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(ZXe,"_defineProperty");function eJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(eJe,"_classCallCheck");function GK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GK,"_defineProperties");function tJe(t,e,r){return e&&GK(t.prototype,e),r&&GK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(tJe,"_createClass");function pb(){return typeof Reflect!="undefined"&&Reflect.get?pb=Reflect.get.bind():pb=i(function(e,r,n){var a=rJe(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),pb.apply(this,arguments)}i(pb,"_get");function rJe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Rl(t),t!==null););return t}i(rJe,"_superPropBase");function nJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CI(t,e)}i(nJe,"_inherits");function CI(t,e){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),CI(t,e)}i(CI,"_setPrototypeOf");function iJe(t){var e=aJe();return i(function(){var n=Rl(t),a;if(e){var o=Rl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return oJe(this,a)},"_createSuperInternal")}i(iJe,"_createSuper");function oJe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(t)}i(oJe,"_possibleConstructorReturn");function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(tr,"_assertThisInitialized");function aJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(aJe,"_isNativeReflectConstruct");function Rl(t){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rl(t)}i(Rl,"_getPrototypeOf");function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FI.apply(this,arguments)}i(FI,"_extends");function jp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(jp,"_classPrivateFieldLooseBase");var uJe=0;function sJe(t){return"__private_"+uJe+++"_"+t}i(sJe,"_classPrivateFieldLooseKey");var lJe={version:"3.2.1"};function HK(t){return t[0]==="."?Ff[t.slice(1)]:t}i(HK,"toMimeType");function cJe(t){return/^video\/[^*]+$/.test(t)}i(cJe,"isVideoMimeType");function fJe(t){return/^image\/[^*]+$/.test(t)}i(fJe,"isImageMimeType");function pJe(){return navigator.mediaDevices}i(pJe,"getMediaDevices");function qI(t,e){return t.includes(e)}i(qI,"isModeAvailable");var Ln=sJe("enableMirror"),db=function(t){nJe(r,t);var e=iJe(r);function r(n,a){var o;eJe(this,r),o=e.call(this,n,a),Object.defineProperty(tr(o),Ln,{writable:!0,value:void 0}),o.mediaDevices=pJe(),o.supportsUserMedia=!!o.mediaDevices,o.protocol=location.protocol.match(/https/i)?"https":"http",o.id=o.opts.id||"Webcam",o.type="acquirer",o.capturedMediaFile=null,o.icon=function(){return S("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},S("g",{fill:"none",fillRule:"evenodd"},S("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),S("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},o.defaultLocale=BK;var u={onBeforeSnapshot:i(function(){return Promise.resolve()},"onBeforeSnapshot"),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,VK.default)({tablet:!0})};return o.opts=ia(ia({},u),a),o.i18nInit(),o.title=o.i18n("pluginNameCamera"),jp(tr(o),Ln)[Ln]=o.opts.mirror,o.install=o.install.bind(tr(o)),o.setPluginState=o.setPluginState.bind(tr(o)),o.render=o.render.bind(tr(o)),o.start=o.start.bind(tr(o)),o.stop=o.stop.bind(tr(o)),o.takeSnapshot=o.takeSnapshot.bind(tr(o)),o.startRecording=o.startRecording.bind(tr(o)),o.stopRecording=o.stopRecording.bind(tr(o)),o.discardRecordedVideo=o.discardRecordedVideo.bind(tr(o)),o.submit=o.submit.bind(tr(o)),o.oneTwoThreeSmile=o.oneTwoThreeSmile.bind(tr(o)),o.focus=o.focus.bind(tr(o)),o.changeVideoSource=o.changeVideoSource.bind(tr(o)),o.webcamActive=!1,o.opts.countdown&&(o.opts.onBeforeSnapshot=o.oneTwoThreeSmile),o.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),o}return i(r,"Webcam"),tJe(r,[{key:"setOptions",value:i(function(a){pb(Rl(r.prototype),"setOptions",this).call(this,ia(ia({},a),{},{videoConstraints:ia(ia({},this.opts.videoConstraints),a==null?void 0:a.videoConstraints)}))},"setOptions")},{key:"hasCameraCheck",value:i(function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(a){return a.some(function(o){return o.kind==="videoinput"})}):Promise.resolve(!1)},"hasCameraCheck")},{key:"isAudioOnly",value:i(function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"},"isAudioOnly")},{key:"getConstraints",value:i(function(a){a===void 0&&(a=null);var o=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,u=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),s=ia(ia({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),a?{deviceId:a,facingMode:null}:{});return{audio:o,video:u?s:!1}},"getConstraints")},{key:"start",value:i(function(a){var o=this;if(a===void 0&&(a=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(jp(this,Ln)[Ln]=!0);var u=this.getConstraints(a&&a.deviceId?a.deviceId:null);this.hasCameraCheck().then(function(s){return o.setPluginState({hasCamera:s}),o.mediaDevices.getUserMedia(u).then(function(c){o.stream=c;var f=null,d=o.isAudioOnly()?c.getAudioTracks():c.getVideoTracks();!a||!a.deviceId?f=d[0].getSettings().deviceId:d.forEach(function(y){y.getSettings().deviceId===a.deviceId&&(f=y.getSettings().deviceId)}),o.updateVideoSources(),o.setPluginState({currentDeviceId:f,cameraReady:!0})}).catch(function(c){o.setPluginState({cameraReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})},"start")},{key:"getMediaRecorderOptions",value:i(function(){var a={};if(MediaRecorder.isTypeSupported){var o=this.uppy.opts.restrictions,u=[];this.opts.preferredVideoMimeType?u=[this.opts.preferredVideoMimeType]:o.allowedFileTypes&&(u=o.allowedFileTypes.map(HK).filter(cJe));var s=i(function(d){return MediaRecorder.isTypeSupported(d)&&pi(d)},"filterSupportedTypes"),c=u.filter(s);c.length>0&&(a.mimeType=c[0])}return a},"getMediaRecorderOptions")},{key:"startRecording",value:i(function(){var a=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var o=!1;this.recorder.addEventListener("dataavailable",function(u){a.recordingChunks.push(u.data);var s=a.uppy.opts.restrictions;if(a.recordingChunks.length>1&&s.maxFileSize!=null&&!o){var c=a.recordingChunks.reduce(function(m,w){return m+w.size},0),f=(c-a.recordingChunks[0].size)/(a.recordingChunks.length-1),d=f*3,y=Math.max(0,s.maxFileSize-d);c>y&&(o=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),a.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var u=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:u+1})},1e3)),this.setPluginState({isRecording:!0})},"startRecording")},{key:"stopRecording",value:i(function(){var a=this,o=new Promise(function(u){a.recorder.addEventListener("stop",function(){u()}),a.recorder.stop(),a.opts.showRecordingLength&&(clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0}))});return o.then(function(){return a.setPluginState({isRecording:!1}),a.getVideo()}).then(function(u){try{a.capturedMediaFile=u,a.setPluginState({recordedVideo:URL.createObjectURL(u.data)}),jp(a,Ln)[Ln]=!1}catch(s){s.isRestriction||a.uppy.log(s)}}).then(function(){a.recordingChunks=null,a.recorder=null},function(u){throw a.recordingChunks=null,a.recorder=null,u})},"stopRecording")},{key:"discardRecordedVideo",value:i(function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(jp(this,Ln)[Ln]=!0),this.capturedMediaFile=null},"discardRecordedVideo")},{key:"submit",value:i(function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(a){a.isRestriction||this.uppy.log(a,"error")}},"submit")},{key:"stop",value:function(){var n=QXe(xI().mark(i(function o(){var u=this,s,c;return xI().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.stream&&(s=this.stream.getAudioTracks(),c=this.stream.getVideoTracks(),s.concat(c).forEach(function(y){return y.stop()})),!this.recorder){d.next=4;break}return d.next=4,new Promise(function(y){u.recorder.addEventListener("stop",y,{once:!0}),u.recorder.stop(),u.opts.showRecordingLength&&clearInterval(u.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return d.stop()}},"_callee$"),o,this)},"_callee")));function a(){return n.apply(this,arguments)}return i(a,"stop"),a}()},{key:"getVideoElement",value:i(function(){return this.el.querySelector(".uppy-Webcam-video")},"getVideoElement")},{key:"oneTwoThreeSmile",value:i(function(){var a=this;return new Promise(function(o,u){var s=a.opts.countdown,c=setInterval(function(){if(!a.webcamActive)return clearInterval(c),a.captureInProgress=!1,u(new Error("Webcam is not active"));s>0?(a.uppy.info("".concat(s,"..."),"warning",800),s--):(clearInterval(c),a.uppy.info(a.i18n("smile"),"success",1500),setTimeout(function(){return o()},1500))},1e3)})},"oneTwoThreeSmile")},{key:"takeSnapshot",value:i(function(){var a=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(o){var u=Np(o)==="object"?o.message:o;return a.uppy.info(u,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(u)))}).then(function(){return a.getImage()}).then(function(o){a.captureInProgress=!1;try{a.uppy.addFile(o)}catch(u){u.isRestriction||a.uppy.log(u)}},function(o){throw a.captureInProgress=!1,o}))},"takeSnapshot")},{key:"getImage",value:i(function(){var a=this,o=this.getVideoElement();if(!o)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var u=o.videoWidth,s=o.videoHeight,c=document.createElement("canvas");c.width=u,c.height=s;var f=c.getContext("2d");f.drawImage(o,0,0);var d=this.uppy.opts.restrictions,y=[];this.opts.preferredImageMimeType?y=[this.opts.preferredImageMimeType]:d.allowedFileTypes&&(y=d.allowedFileTypes.map(HK).filter(fJe));var m=y[0]||"image/jpeg",w=pi(m)||"jpg",_="cam-".concat(Date.now(),".").concat(w);return _I(c,m).then(function(R){return{source:a.id,name:_,data:new Blob([R],{type:m}),type:m}})},"getImage")},{key:"getVideo",value:i(function(){var a=this.recordingChunks.find(function(f){var d;return((d=f.type)==null?void 0:d.length)>0}).type,o=pi(a);if(!o)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(a,'"')));var u="webcam-".concat(Date.now(),".").concat(o),s=new Blob(this.recordingChunks,{type:a}),c={source:this.id,name:u,data:new Blob([s],{type:a}),type:a};return Promise.resolve(c)},"getVideo")},{key:"focus",value:i(function(){var a=this;!this.opts.countdown||setTimeout(function(){a.uppy.info(a.i18n("smile"),"success",1500)},1e3)},"focus")},{key:"changeVideoSource",value:i(function(a){this.stop(),this.start({deviceId:a})},"changeVideoSource")},{key:"updateVideoSources",value:i(function(){var a=this;this.mediaDevices.enumerateDevices().then(function(o){a.setPluginState({videoSources:o.filter(function(u){return u.kind==="videoinput"})})})},"updateVideoSources")},{key:"render",value:i(function(){this.webcamActive||this.start();var a=this.getPluginState();return!a.cameraReady||!a.hasCamera?S(MK,{icon:lb,i18n:this.i18n,hasCamera:a.hasCamera}):S(UK,FI({},a,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:PI(),recording:a.isRecording,mirror:jp(this,Ln)[Ln],src:this.stream}))},"render")},{key:"install",value:i(function(){var a=this,o=this.opts,u=o.mobileNativeCamera,s=o.modes,c=o.facingMode,f=o.videoConstraints,d=this.opts.target;if(u&&d){var y;(y=this.getTargetPlugin(d))==null||y.setOptions({showNativeVideoCameraButton:qI(s,"video-only")||qI(s,"video-audio"),showNativePhotoCameraButton:qI(s,"picture"),nativeCameraFacingMode:(f==null?void 0:f.facingMode)||c});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),d&&this.mount(d,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(a.updateVideoSources(),a.stream){var m=!0,w=a.getPluginState(),_=w.videoSources,R=w.currentDeviceId;_.forEach(function(T){R===T.deviceId&&(m=!1)}),m&&(a.stop(),a.start())}})},"install")},{key:"uninstall",value:i(function(){this.stop(),this.unmount()},"uninstall")},{key:"onUnmount",value:i(function(){this.stop()},"onUnmount")}]),r}(Se);db.VERSION=lJe.version;function dJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dJe,"_classCallCheck");function WK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(WK,"_defineProperties");function hJe(t,e,r){return e&&WK(t.prototype,e),r&&WK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(hJe,"_createClass");function ge(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(ge,"_classPrivateFieldLooseBase");var vJe=0;function Ar(t){return"__private_"+vJe+++"_"+t}i(Ar,"_classPrivateFieldLooseKey");function yJe(){return new Error("Cancelled")}i(yJe,"createCancelError");var Gr=Ar("activeRequests"),cr=Ar("queuedHandlers"),zr=Ar("paused"),Ou=Ar("pauseTimer"),lr=Ar("downLimit"),Su=Ar("upperLimit"),eo=Ar("rateLimitingTimer"),Dp=Ar("call"),to=Ar("queueNext"),NI=Ar("next"),LI=Ar("queue"),DI=Ar("dequeue"),jI=Ar("resume"),_u=Ar("increaseLimit"),dn=function(){function t(e){var r=this;dJe(this,t),Object.defineProperty(this,DI,{value:OJe}),Object.defineProperty(this,LI,{value:wJe}),Object.defineProperty(this,NI,{value:bJe}),Object.defineProperty(this,to,{value:gJe}),Object.defineProperty(this,Dp,{value:mJe}),Object.defineProperty(this,Gr,{writable:!0,value:0}),Object.defineProperty(this,cr,{writable:!0,value:[]}),Object.defineProperty(this,zr,{writable:!0,value:!1}),Object.defineProperty(this,Ou,{writable:!0,value:void 0}),Object.defineProperty(this,lr,{writable:!0,value:1}),Object.defineProperty(this,Su,{writable:!0,value:void 0}),Object.defineProperty(this,eo,{writable:!0,value:void 0}),Object.defineProperty(this,jI,{writable:!0,value:i(function(){return r.resume()},"value")}),Object.defineProperty(this,_u,{writable:!0,value:i(function(){if(ge(r,zr)[zr]){ge(r,eo)[eo]=setTimeout(ge(r,_u)[_u],0);return}ge(r,lr)[lr]=r.limit,r.limit=Math.ceil((ge(r,Su)[Su]+ge(r,lr)[lr])/2);for(var a=ge(r,lr)[lr];a<=r.limit;a++)ge(r,to)[to]();ge(r,Su)[Su]-ge(r,lr)[lr]>3?ge(r,eo)[eo]=setTimeout(ge(r,_u)[_u],2e3):ge(r,lr)[lr]=Math.floor(ge(r,lr)[lr]/2)},"value")}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return i(t,"RateLimitedQueue"),hJe(t,[{key:"run",value:i(function(r,n){return!ge(this,zr)[zr]&&ge(this,Gr)[Gr]<this.limit?ge(this,Dp)[Dp](r):ge(this,LI)[LI](r,n)},"run")},{key:"wrapPromiseFunction",value:i(function(r,n){var a=this;return function(){for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];var c,f=new Promise(function(d,y){c=a.run(function(){var m,w;try{w=Promise.resolve(r.apply(void 0,u))}catch(_){w=Promise.reject(_)}return w.then(function(_){m?y(m):(c.done(),d(_))},function(_){m?y(m):(c.done(),y(_))}),function(){m=yJe()}},n)});return f.abort=function(){c.abort()},f}},"wrapPromiseFunction")},{key:"resume",value:i(function(){ge(this,zr)[zr]=!1,clearTimeout(ge(this,Ou)[Ou]);for(var r=0;r<this.limit;r++)ge(this,to)[to]()},"resume")},{key:"pause",value:i(function(r){r===void 0&&(r=null),ge(this,zr)[zr]=!0,clearTimeout(ge(this,Ou)[Ou]),r!=null&&(ge(this,Ou)[Ou]=setTimeout(ge(this,jI)[jI],r))},"pause")},{key:"rateLimit",value:i(function(r){clearTimeout(ge(this,eo)[eo]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(ge(this,Su)[Su]=this.limit-1,this.limit=ge(this,lr)[lr],ge(this,eo)[eo]=setTimeout(ge(this,_u)[_u],r))},"rateLimit")},{key:"isPaused",get:i(function(){return ge(this,zr)[zr]},"get")}]),t}();function mJe(t){var e=this;ge(this,Gr)[Gr]+=1;var r=!1,n;try{n=t()}catch(a){throw ge(this,Gr)[Gr]-=1,a}return{abort:i(function(){r||(r=!0,ge(e,Gr)[Gr]-=1,n(),ge(e,to)[to]())},"abort"),done:i(function(){r||(r=!0,ge(e,Gr)[Gr]-=1,ge(e,to)[to]())},"done")}}i(mJe,"_call2");function gJe(){var t=this;queueMicrotask(function(){return ge(t,NI)[NI]()})}i(gJe,"_queueNext2");function bJe(){if(!(ge(this,zr)[zr]||ge(this,Gr)[Gr]>=this.limit)&&ge(this,cr)[cr].length!==0){var t=ge(this,cr)[cr].shift(),e=ge(this,Dp)[Dp](t.fn);t.abort=e.abort,t.done=e.done}}i(bJe,"_next2");function wJe(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:i(function(){ge(r,DI)[DI](n)},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done")},a=ge(this,cr)[cr].findIndex(function(o){return n.priority>o.priority});return a===-1?ge(this,cr)[cr].push(n):ge(this,cr)[cr].splice(a,0,n),n}i(wJe,"_queue2");function OJe(t){var e=ge(this,cr)[cr].indexOf(t);e!==-1&&ge(this,cr)[cr].splice(e,1)}i(OJe,"_dequeue2");var oa=Symbol("__queue");var KK=Te(Cf(),1);function SJe(t,e,r){var n=e.progress,a=e.bytesUploaded,o=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:a,bytesTotal:o}))}i(SJe,"emitSocketProgress");var aa=(0,KK.default)(SJe,300,{leading:!0,trailing:!0});function ro(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,r=e.exec(t)[1],n=/^http:\/\//i.test(t)?"ws":"wss";return"".concat(n,"://").concat(r)}i(ro,"getSocketHost");function _Je(t,e){return RJe(t)||EJe(t,e)||JK(t,e)||PJe()}i(_Je,"_slicedToArray");function PJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(PJe,"_nonIterableRest");function EJe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(EJe,"_iterableToArrayLimit");function RJe(t){if(Array.isArray(t))return t}i(RJe,"_arrayWithHoles");function TJe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=JK(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(TJe,"_createForOfIteratorHelper");function JK(t,e){if(!!t){if(typeof t=="string")return YK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YK(t,e)}}i(JK,"_unsupportedIterableToArray");function YK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(YK,"_arrayLikeToArray");function AJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(AJe,"_classCallCheck");function XK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(XK,"_defineProperties");function IJe(t,e,r){return e&&XK(t.prototype,e),r&&XK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(IJe,"_createClass");function Up(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Up,"_classPrivateFieldLooseBase");var kJe=0;function QK(t){return"__private_"+kJe+++"_"+t}i(QK,"_classPrivateFieldLooseKey");var Pu=QK("emitter"),Mp=QK("events"),hn=function(){function t(e){AJe(this,t),Object.defineProperty(this,Pu,{writable:!0,value:void 0}),Object.defineProperty(this,Mp,{writable:!0,value:[]}),Up(this,Pu)[Pu]=e}return i(t,"EventTracker"),IJe(t,[{key:"on",value:i(function(r,n){return Up(this,Mp)[Mp].push([r,n]),Up(this,Pu)[Pu].on(r,n)},"on")},{key:"remove",value:i(function(){var r=TJe(Up(this,Mp)[Mp].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=_Je(n.value,2),o=a[0],u=a[1];Up(this,Pu)[Pu].off(o,u)}}catch(s){r.e(s)}finally{r.f()}},"remove")}]),t}();function qJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(qJe,"_classCallCheck");function ZK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(ZK,"_defineProperties");function xJe(t,e,r){return e&&ZK(t.prototype,e),r&&ZK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(xJe,"_createClass");function vn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(vn,"_classPrivateFieldLooseBase");var CJe=0;function hb(t){return"__private_"+CJe+++"_"+t}i(hb,"_classPrivateFieldLooseKey");var no=hb("aliveTimer"),Eu=hb("isDone"),Bp=hb("onTimedOut"),Ru=hb("timeout"),FJe=function(){function t(e,r){qJe(this,t),Object.defineProperty(this,no,{writable:!0,value:void 0}),Object.defineProperty(this,Eu,{writable:!0,value:!1}),Object.defineProperty(this,Bp,{writable:!0,value:void 0}),Object.defineProperty(this,Ru,{writable:!0,value:void 0}),vn(this,Ru)[Ru]=e,vn(this,Bp)[Bp]=r}return i(t,"ProgressTimeout"),xJe(t,[{key:"progress",value:i(function(){vn(this,Eu)[Eu]||vn(this,Ru)[Ru]>0&&(clearTimeout(vn(this,no)[no]),vn(this,no)[no]=setTimeout(vn(this,Bp)[Bp],vn(this,Ru)[Ru]))},"progress")},{key:"done",value:i(function(){vn(this,Eu)[Eu]||(clearTimeout(vn(this,no)[no]),vn(this,no)[no]=null,vn(this,Eu)[Eu]=!0)},"done")}]),t}(),$p=FJe;function LJe(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}i(LJe,"isNetworkError");var Tu=LJe;function $I(t){return $I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$I(t)}i($I,"_typeof");function Gp(){"use strict";Gp=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&$I(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Gp,"_regeneratorRuntime");function eY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(eY,"ownKeys");function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eY(Object(r),!0).forEach(function(n){jJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(hi,"_objectSpread");function jJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(jJe,"_defineProperty");function tY(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(tY,"asyncGeneratorStep");function iY(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){tY(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){tY(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(iY,"_asyncToGenerator");function NJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NJe,"_classCallCheck");function rY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rY,"_defineProperties");function DJe(t,e,r){return e&&rY(t.prototype,e),r&&rY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DJe,"_createClass");function Ir(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ir,"_classPrivateFieldLooseBase");var UJe=0;function qu(t){return"__private_"+UJe+++"_"+t}i(qu,"_classPrivateFieldLooseKey");function nY(t,e){if(Tu(t))return new xn(e,t);var r=new ni("Upload error",{cause:e});return r.request=t,r}i(nY,"buildResponseError");function MJe(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(MJe,"setTypeInBlob");function BJe(t,e,r){var n=Array.isArray(r.allowedMetaFields)?r.allowedMetaFields:Object.keys(e);n.forEach(function(a){t.append(a,e[a])})}i(BJe,"addMetadata");function $Je(t,e){var r=new FormData;BJe(r,t.meta,e);var n=MJe(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}i($Je,"createFormDataUpload");var zJe=i(function(e){return e.data},"createBareUpload"),zp=qu("queueRequestSocketToken"),Au=qu("getOptions"),Iu=qu("addEventHandlerForFile"),ku=qu("addEventHandlerIfFileStillExists"),UI=qu("uploadLocalFile"),MI=qu("requestSocketToken"),BI=qu("uploadRemoteFile"),oY=function(){function t(e,r){var n=this;NJe(this,t),Object.defineProperty(this,BI,{value:KJe}),Object.defineProperty(this,UI,{value:WJe}),Object.defineProperty(this,ku,{value:VJe}),Object.defineProperty(this,Iu,{value:HJe}),Object.defineProperty(this,Au,{value:GJe}),Object.defineProperty(this,zp,{writable:!0,value:void 0}),Object.defineProperty(this,MI,{writable:!0,value:function(){var a=iY(Gp().mark(i(function u(s){var c,f,d,y,m;return Gp().wrap(i(function(_){for(;;)switch(_.prev=_.next){case 0:return c=Ir(n,Au)[Au](s),f=s.remote.providerOptions.provider?Me:dt,d=new f(n.uppy,s.remote.providerOptions),y=Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(s.meta),s.tus&&Object.assign(c,s.tus),_.next=7,d.post(s.remote.url,hi(hi({},s.remote.body),{},{protocol:"multipart",endpoint:c.endpoint,size:s.data.size,fieldname:c.fieldName,metadata:Object.fromEntries(y.map(function(R){return[R,s.meta[R]]})),httpMethod:c.method,useFormData:c.formData,headers:c.headers}));case 7:return m=_.sent,_.abrupt("return",m.token);case 9:case"end":return _.stop()}},"_callee$"),u)},"_callee")));function o(u){return a.apply(this,arguments)}return i(o,"value"),o}()}),this.uppy=e,this.opts=hi({validateStatus:i(function(o){return o>=200&&o<300},"validateStatus")},r),this.requests=r[oa],this.uploaderEvents=Object.create(null),this.i18n=r.i18n,Ir(this,zp)[zp]=this.requests.wrapPromiseFunction(Ir(this,MI)[MI],{priority:-1})}return i(t,"MiniXHRUpload"),DJe(t,[{key:"uploadFile",value:i(function(r,n,a){var o=this.uppy.getFile(r);if(o.error)throw new Error(o.error);return o.isRemote?Ir(this,BI)[BI](o,n,a):Ir(this,UI)[UI](o,n,a)},"uploadFile")},{key:"connectToServerSocket",value:i(function(r){var n=this;return new Promise(function(a,o){var u=Ir(n,Au)[Au](r),s=r.serverToken,c=ro(r.remote.companionUrl),f,d=i(function(){f==null&&(f=new ii({target:"".concat(c,"/api/").concat(s)}),f.on("progress",function(_){return aa(n,_,r)}),f.on("success",function(_){var R=u.getResponseData(_.response.responseText,_.response),T=R[u.responseUrlFieldName],E={status:_.response.status,body:R,uploadURL:T,bytesUploaded:_.bytesUploaded};return n.uppy.emit("upload-success",r,E),y.done(),f.close(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),a()}),f.on("error",function(_){var R=_.response,T=R?u.getResponseError(R.responseText,R):new ni(_.error.message,{cause:_.error});n.uppy.emit("upload-error",r,T),y.done(),n.uploaderEvents[r.id]&&(n.uploaderEvents[r.id].remove(),n.uploaderEvents[r.id]=null),o(T)}))},"createSocket");n.uploaderEvents[r.id]=new hn(n.uppy);var y=n.requests.run(function(){if(r.isPaused){var w;(w=f)==null||w.send("pause",{})}else d();return function(){return f.close()}});Ir(n,Iu)[Iu]("file-removed",r.id,function(){var w;(w=f)==null||w.send("cancel",{}),y.abort(),a("upload ".concat(r.id," was removed"))}),Ir(n,ku)[ku]("cancel-all",r.id,function(w){var _=w===void 0?{}:w,R=_.reason;if(R==="user"){var T;(T=f)==null||T.send("cancel",{}),y.abort()}a("upload ".concat(r.id," was canceled"))});var m=i(function(){f==null?y.abort():(f.send("pause",{}),y.done()),y=n.requests.run(function(){return r.isPaused||(f==null?d():f.send("resume",{})),function(){return f.close()}})},"onRetryRequest");Ir(n,Iu)[Iu]("upload-retry",r.id,m),Ir(n,ku)[ku]("retry-all",r.id,m)}).catch(function(a){return n.uppy.emit("upload-error",r,a),Promise.reject(a)})},"connectToServerSocket")}]),t}();function GJe(t){var e,r=this.uppy,n=r.getState().xhrUpload,a=hi(hi(hi(hi({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:hi(hi(hi({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return a}i(GJe,"_getOptions2");function HJe(t,e,r){this.uploaderEvents[e].on(t,function(n){var a,o=(a=n==null?void 0:n.id)!=null?a:n;e===o&&r()})}i(HJe,"_addEventHandlerForFile2");function VJe(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r.apply(void 0,arguments)})}i(VJe,"_addEventHandlerIfFileStillExists2");function WJe(t,e,r){var n=this,a=Ir(this,Au)[Au](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(o,u){var s=a.formData?$Je(t,a):zJe(t,a),c=new XMLHttpRequest;n.uploaderEvents[t.id]=new hn(n.uppy);var f=new $p(a.timeout,function(){c.abort(),y.done();var m=new Error(n.i18n("timedOut",{seconds:Math.ceil(a.timeout/1e3)}));n.uppy.emit("upload-error",t,m),u(m)}),d=sn();c.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," started"))}),c.upload.addEventListener("progress",function(m){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," progress: ").concat(m.loaded," / ").concat(m.total)),f.progress(),m.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:m.loaded,bytesTotal:m.total})}),c.addEventListener("load",function(m){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(d," finished")),f.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),a.validateStatus(m.target.status,c.responseText,c)){var w=a.getResponseData(c.responseText,c),_=w[a.responseUrlFieldName],R={status:m.target.status,body:w,uploadURL:_};return n.uppy.emit("upload-success",t,R),_&&n.uppy.log("Download ".concat(t.name," from ").concat(_)),o(t)}var T=a.getResponseData(c.responseText,c),E=nY(c,a.getResponseError(c.responseText,c)),A={status:m.target.status,body:T};return n.uppy.emit("upload-error",t,E,A),u(E)}),c.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(d," errored")),f.done(),y.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var m=nY(c,a.getResponseError(c.responseText,c));return n.uppy.emit("upload-error",t,m),u(m)}),c.open(a.method.toUpperCase(),a.endpoint,!0),c.withCredentials=Boolean(a.withCredentials),a.responseType!==""&&(c.responseType=a.responseType),Object.keys(a.headers).forEach(function(m){c.setRequestHeader(m,a.headers[m])});var y=n.requests.run(function(){return c.send(s),function(){f.done(),c.abort()}},{priority:1});Ir(n,Iu)[Iu]("file-removed",t.id,function(){y.abort(),u(new Error("File removed"))}),Ir(n,ku)[ku]("cancel-all",t.id,function(m){var w=m===void 0?{}:m,_=w.reason;_==="user"&&y.abort(),u(new Error("Upload cancelled"))})})}i(WJe,"_uploadLocalFile2");function KJe(t){return zI.apply(this,arguments)}i(KJe,"_uploadRemoteFile2");function zI(){return zI=iY(Gp().mark(i(function t(e){var r;return Gp().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.serverToken){a.next=3;break}return a.abrupt("return",this.connectToServerSocket(e));case 3:return a.next=5,Ir(this,zp)[zp](e);case 5:if(r=a.sent,this.uppy.getState().files[e.id]){a.next=8;break}return a.abrupt("return",void 0);case 8:return this.uppy.setFileState(e.id,{serverToken:r}),a.abrupt("return",this.connectToServerSocket(this.uppy.getFile(e.id)));case 12:throw a.prev=12,a.t0=a.catch(0),this.uppy.emit("upload-error",e,a.t0),a.t0;case 16:case"end":return a.stop()}},"_callee2$"),t,this,[[0,12]])},"_callee2"))),zI.apply(this,arguments)}i(zI,"_uploadRemoteFile3");function YJe(t){return t.replace(/;.*$/,"")}i(YJe,"removeMimeParameters");function XJe(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=YJe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}i(XJe,"isXml");var GI=XJe;var aY={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function uY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(uY,"ownKeys");function Hp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uY(Object(r),!0).forEach(function(n){Yp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Hp,"_objectSpread");function Yp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Yp,"_defineProperty");function JJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(JJe,"_classCallCheck");function sY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(sY,"_defineProperties");function QJe(t,e,r){return e&&sY(t.prototype,e),r&&sY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(QJe,"_createClass");function ZJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}i(ZJe,"_inherits");function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),HI(t,e)}i(HI,"_setPrototypeOf");function eQe(t){var e=rQe();return i(function(){var n=vb(t),a;if(e){var o=vb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return tQe(this,a)},"_createSuperInternal")}i(eQe,"_createSuper");function tQe(t,e){if(e&&(yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yn(t)}i(tQe,"_possibleConstructorReturn");function yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(yn,"_assertThisInitialized");function rQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(rQe,"_isNativeReflectConstruct");function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),vb(t)}i(vb,"_getPrototypeOf");function yb(t){return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}i(yb,"_typeof");var cY;function fr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(fr,"_classPrivateFieldLooseBase");var nQe=0;function Jp(t){return"__private_"+nQe+++"_"+t}i(Jp,"_classPrivateFieldLooseKey");var iQe={version:"3.0.4"};function oQe(t,e){return new URL(e,t||void 0).toString()}i(oQe,"resolveUrl");function Xp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}i(Xp,"getXmlValue");function aQe(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(aQe,"assertServerError");function uQe(t,e){var r=e!=null&&typeof e.url=="string"&&(yb(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var a=e.method==null||/^p(u|os)t$/i.test(e.method);if(!a){var o=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw o}}i(uQe,"validateParameters");function sQe(t,e){if(!!GI(t,e)){var r=Xp(t,"Message");return new Error(r)}}i(sQe,"defaultGetResponseError");var lY=!1,Hr=Jp("client"),xu=Jp("requests"),Vp=Jp("uploader"),Wp=Jp("handleUpload"),Kp=Jp("setCompanionHeaders");cY=Symbol.for("uppy test: getClient");var VI=function(t,e){ZJe(n,t);var r=eQe(n);function n(a,o){var u;JJe(this,n),u=r.call(this,a,o),Object.defineProperty(yn(u),Hr,{writable:!0,value:void 0}),Object.defineProperty(yn(u),xu,{writable:!0,value:void 0}),Object.defineProperty(yn(u),Vp,{writable:!0,value:void 0}),Object.defineProperty(yn(u),Wp,{writable:!0,value:i(function(f){var d=Object.create(null);function y(_){var R,T=_.id;(R=d[T])==null||R.abort()}i(y,"onremove"),u.uppy.on("file-removed",y),f.forEach(function(_){var R=u.uppy.getFile(_);u.uppy.emit("upload-started",R)});var m=fr(yn(u),xu)[xu].wrapPromiseFunction(function(_){return u.opts.getUploadParameters(_)}),w=f.length;return Promise.allSettled(f.map(function(_,R){return d[_]=m(u.uppy.getFile(_)),d[_].then(function(T){delete d[_];var E=u.uppy.getFile(_);uQe(E,T);var A=T.method,x=A===void 0?"post":A,U=T.url,G=T.fields,M=T.headers,z={method:x,formData:x.toLowerCase()==="post",endpoint:U,allowedMetaFields:G?Object.keys(G):[]};return M&&(z.headers=M),u.uppy.setFileState(E.id,{meta:Hp(Hp({},E.meta),G),xhrUpload:z}),fr(yn(u),Vp)[Vp].uploadFile(E.id,R,w)}).catch(function(T){delete d[_];var E=u.uppy.getFile(_);return u.uppy.emit("upload-error",E,T),Promise.reject(T)})})).finally(function(){u.uppy.off("file-removed",y)})},"value")}),Object.defineProperty(yn(u),Kp,{writable:!0,value:i(function(){return fr(yn(u),Hr)[Hr].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3",u.title="AWS S3",u.defaultLocale=aY;var s={timeout:30*1e3,limit:0,allowedMetaFields:[],getUploadParameters:u.getUploadParameters.bind(yn(u)),companionHeaders:{}};if(u.opts=Hp(Hp({},s),o),(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in u.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");return u.i18nInit(),fr(yn(u),Hr)[Hr]=new dt(a,o),fr(yn(u),xu)[xu]=new dn(u.opts.limit),u}return i(n,"AwsS3"),QJe(n,[{key:e,value:i(function(){return fr(this,Hr)[Hr]},"value")},{key:"client",get:i(function(){return fr(this,Hr)[Hr]},"get")},{key:"client",set:i(function(o){fr(this,Hr)[Hr]=o},"set")},{key:"getUploadParameters",value:i(function(o){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var u=o.meta.name,s=o.meta.type,c=Object.fromEntries(this.opts.allowedMetaFields.filter(function(d){return o.meta[d]!=null}).map(function(d){return["metadata[".concat(d,"]"),o.meta[d].toString()]})),f=new URLSearchParams(Hp({filename:u,type:s},c));return fr(this,Hr)[Hr].get("s3/params?".concat(f)).then(aQe)},"getUploadParameters")},{key:"install",value:i(function(){var o,u=this.uppy;u.addPreProcessor(fr(this,Kp)[Kp]),u.addUploader(fr(this,Wp)[Wp]);function s(f,d){var y=this;return GI(f,d)?{location:oQe(d.responseURL,Xp(f,"Location")),bucket:Xp(f,"Bucket"),key:Xp(f,"Key"),etag:Xp(f,"ETag")}:y.method.toUpperCase()==="POST"?(lY||(u.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),lY=!0),{location:null}):d.responseURL?{location:d.responseURL.replace(/\?.*$/,"")}:{location:null}}i(s,"defaultGetResponseData");var c=(o={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},Yp(o,oa,fr(this,xu)[xu]),Yp(o,"responseType","text"),Yp(o,"getResponseData",this.opts.getResponseData||s),Yp(o,"getResponseError",sQe),o);c.i18n=this.i18n,fr(this,Vp)[Vp]=new oY(u,c)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(fr(this,Kp)[Kp]),this.uppy.removeUploader(fr(this,Wp)[Wp])},"uninstall")}]),n}(lt,cY);VI.VERSION=iQe.version;var WI=globalThis.AbortController;var Qwt=globalThis.AbortSignal;var io=i(function(e){return e===void 0&&(e="Aborted"),new DOMException(e,"AbortError")},"createAbortError");function KI(t,e){return new Promise(function(r,n){var a,o;if(e!=null&&(a=e.signal)!=null&&a.aborted)return n(io());var u=setTimeout(function(){c(),r()},t);function s(){clearTimeout(u),c(),n(io())}i(s,"onabort"),e==null||(o=e.signal)==null||o.addEventListener("abort",s);function c(){var f;e==null||(f=e.signal)==null||f.removeEventListener("abort",s)}i(c,"cleanup")})}i(KI,"delay");function Cu(){"use strict";Cu=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Zp(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Cu,"_regeneratorRuntime");function lQe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=cQe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(lQe,"_createForOfIteratorHelper");function cQe(t,e){if(!!t){if(typeof t=="string")return fY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fY(t,e)}}i(cQe,"_unsupportedIterableToArray");function fY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(fY,"_arrayLikeToArray");function pY(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(pY,"asyncGeneratorStep");function sk(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){pY(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){pY(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(sk,"_asyncToGenerator");function Zp(t){return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}i(Zp,"_typeof");function dY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(dY,"ownKeys");function hY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dY(Object(r),!0).forEach(function(n){fQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(hY,"_objectSpread");function fQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(fQe,"_defineProperty");function pQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(pQe,"_classCallCheck");function vY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(vY,"_defineProperties");function dQe(t,e,r){return e&&vY(t.prototype,e),r&&vY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(dQe,"_createClass");function Je(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Je,"_classPrivateFieldLooseBase");var hQe=0;function pr(t){return"__private_"+hQe+++"_"+t}i(pr,"_classPrivateFieldLooseKey");var vQe=1024*1024,yY={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:i(function(e){return Math.ceil(e.size/1e4)},"getChunkSize"),onStart:i(function(){},"onStart"),onProgress:i(function(){},"onProgress"),onPartComplete:i(function(){},"onPartComplete"),onSuccess:i(function(){},"onSuccess"),onError:i(function(e){throw e},"onError")};function mY(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}i(mY,"ensureInt");var oo=pr("aborted"),YI=pr("initChunks"),XI=pr("createUpload"),JI=pr("resumeUpload"),Fu=pr("uploadParts"),ed=pr("retryable"),ZI=pr("prepareUploadPartsRetryable"),ek=pr("uploadPartRetryable"),tk=pr("uploadPart"),Qp=pr("onPartProgress"),rk=pr("onPartComplete"),nk=pr("uploadPartBytes"),ik=pr("completeUpload"),QI=pr("abortUpload"),jn=pr("onError"),yQe=function(){function t(e,r){pQe(this,t),Object.defineProperty(this,jn,{value:qQe}),Object.defineProperty(this,QI,{value:kQe}),Object.defineProperty(this,ik,{value:IQe}),Object.defineProperty(this,nk,{value:AQe}),Object.defineProperty(this,rk,{value:TQe}),Object.defineProperty(this,Qp,{value:RQe}),Object.defineProperty(this,tk,{value:EQe}),Object.defineProperty(this,ek,{value:PQe}),Object.defineProperty(this,ZI,{value:_Qe}),Object.defineProperty(this,ed,{value:SQe}),Object.defineProperty(this,Fu,{value:OQe}),Object.defineProperty(this,JI,{value:wQe}),Object.defineProperty(this,XI,{value:bQe}),Object.defineProperty(this,YI,{value:gQe}),Object.defineProperty(this,oo,{value:mQe}),this.options=hY(hY({},yY),r),this.options.getChunkSize||(this.options.getChunkSize=yY.getChunkSize),this.file=e,this.abortController=new WI,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Je(this,YI)[YI](),this.createdPromise.catch(function(){})}return i(t,"MultipartUploader"),dQe(t,[{key:"start",value:i(function(){this.isPaused=!1,this.uploadId?Je(this,JI)[JI]():Je(this,XI)[XI]()},"start")},{key:"pause",value:i(function(){this.abortController.abort(),this.abortController=new WI,this.isPaused=!0},"pause")},{key:"abort",value:i(function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Je(this,QI)[QI]():this.pause()},"abort")}]),t}();function mQe(){return this.abortController.signal.aborted}i(mQe,"_aborted2");function gQe(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*vQe,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var a=0;a<this.file.size;a+=n){var o=Math.min(this.file.size,a+n);t.push(this.file.slice(a,o))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}i(gQe,"_initChunks2");function bQe(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Je(t,oo)[oo]())throw io();var r=Zp(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Je(t,Fu)[Fu]()}).catch(function(e){Je(t,jn)[jn](e)})}i(bQe,"_createUpload2");function wQe(){return ok.apply(this,arguments)}i(wQe,"_resumeUpload2");function ok(){return ok=sk(Cu().mark(i(function t(){var e=this,r;return Cu().wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=a.sent,!Je(this,oo)[oo]()){a.next=6;break}throw io();case 6:r.forEach(function(o){var u=o.PartNumber-1;e.chunkState[u]={uploaded:mY(o.Size),etag:o.ETag,done:!0},e.parts.some(function(s){return s.PartNumber===o.PartNumber})||e.parts.push({PartNumber:o.PartNumber,ETag:o.ETag})}),Je(this,Fu)[Fu](),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Je(this,jn)[jn](a.t0);case 13:case"end":return a.stop()}},"_callee$"),t,this,[[0,10]])},"_callee"))),ok.apply(this,arguments)}i(ok,"_resumeUpload3");function OQe(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(n){return n.done})){Je(this,ik)[ik]();return}var e=i(function(){var a=t.options.limit-t.partsInProgress,o=t.chunkState.filter(function(y){return y.done}).length,u=t.chunks.length-o,s=Math.ceil(t.options.limit/2);if(s>u&&(s=u),a<s)return[];for(var c=[],f=0;f<t.chunkState.length;f++){var d=t.chunkState[f];if(!(d.done||d.busy)&&(c.push(f),c.length>=a))break}return c},"getChunkIndexes"),r=e();r.length!==0&&Je(this,ZI)[ZI](r).then(function(n){var a=n.presignedUrls,o=n.headers,u=lQe(r),s;try{for(u.s();!(s=u.n()).done;){var c=s.value,f=c+1,d={url:a[f],headers:o==null?void 0:o[f]};Je(t,ek)[ek](c,d).then(function(){return Je(t,Fu)[Fu]()},function(y){return Je(t,jn)[jn](y)})}}catch(y){u.e(y)}finally{u.f()}},function(n){return Je(t,jn)[jn](n)})}}i(OQe,"_uploadParts2");function SQe(t){var e=this,r=t.before,n=t.attempt,a=t.after,o=this.options.retryDelays,u=this.abortController.signal;r&&r();function s(f){if(f.source&&typeof f.source.status=="number"){var d=f.source.status;return d===0||d===409||d===423||d>=500&&d<600}return!1}i(s,"shouldRetry");var c=i(function f(d){return n().catch(function(y){if(Je(e,oo)[oo]())throw io();if(s(y)&&d<o.length)return KI(o[d],{signal:u}).then(function(){return f(d+1)});throw y})},"doAttempt");return c(0).then(function(f){return a&&a(),f},function(f){throw a&&a(),f})}i(SQe,"_retryable2");function _Qe(t){return ak.apply(this,arguments)}i(_Qe,"_prepareUploadPartsRetryable2");function ak(){return ak=sk(Cu().mark(i(function t(e){var r=this,n;return Cu().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return e.forEach(function(u){r.chunkState[u].busy=!0}),o.next=3,Je(this,ed)[ed]({attempt:i(function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,parts:e.map(function(s){return{number:s+1,chunk:r.chunks[s]}})})},"attempt")});case 3:if(n=o.sent,Zp(n==null?void 0:n.presignedUrls)==="object"){o.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return o.abrupt("return",n);case 7:case"end":return o.stop()}},"_callee2$"),t,this)},"_callee2"))),ak.apply(this,arguments)}i(ak,"_prepareUploadPartsRetryable3");function PQe(t,e){var r=this;return Je(this,ed)[ed]({before:i(function(){r.chunkState[t].busy=!0,r.partsInProgress+=1},"before"),attempt:i(function(){return Je(r,tk)[tk](t,e)},"attempt"),after:i(function(){r.chunkState[t].busy=!1,r.partsInProgress-=1},"after")})}i(PQe,"_uploadPartRetryable2");function EQe(t,e){var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,a=e.headers;if(Je(this,oo)[oo]())throw io();return Je(this,nk)[nk](t,n,a)}i(EQe,"_uploadPart2");function RQe(t,e){this.chunkState[t].uploaded=mY(e);var r=this.chunkState.reduce(function(n,a){return n+a.uploaded},0);this.options.onProgress(r,this.file.size)}i(RQe,"_onPartProgress2");function TQe(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}i(TQe,"_onPartComplete2");function AQe(t,e,r){var n=this,a=this.chunks[t],o=this.abortController.signal,u,s=new Promise(function(y,m){u={resolve:y,reject:m}}),c=new XMLHttpRequest;c.open("PUT",e,!0),r&&Object.keys(r).forEach(function(y){c.setRequestHeader(y,r[y])}),c.responseType="text";function f(){o.removeEventListener("abort",d)}i(f,"cleanup");function d(){c.abort()}return i(d,"onabort"),o.addEventListener("abort",d),c.upload.addEventListener("progress",function(y){!y.lengthComputable||Je(n,Qp)[Qp](t,y.loaded,y.total)}),c.addEventListener("abort",function(){f(),u.reject(io())}),c.addEventListener("load",function(y){if(f(),y.target.status<200||y.target.status>=300){var m=new Error("Non 2xx");m.source=y.target,u.reject(m);return}n.chunks[t]=null,Je(n,Qp)[Qp](t,a.size,a.size);var w=y.target.getResponseHeader("ETag");if(w===null){u.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Je(n,rk)[rk](t,w),u.resolve()}),c.addEventListener("error",function(y){f();var m=new Error("Unknown error");m.source=y.target,u.reject(m)}),c.send(a),s}i(AQe,"_uploadPartBytes2");function IQe(){return uk.apply(this,arguments)}i(IQe,"_completeUpload2");function uk(){return uk=sk(Cu().mark(i(function t(){var e;return Cu().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(a,o){return a.PartNumber-o.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Je(this,jn)[jn](n.t0);case 11:case"end":return n.stop()}},"_callee3$"),t,this,[[1,8]])},"_callee3"))),uk.apply(this,arguments)}i(uk,"_completeUpload3");function kQe(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){return t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})}).catch(function(){})}i(kQe,"_abortUpload2");function qQe(t){t&&t.name==="AbortError"||this.options.onError(t)}i(qQe,"_onError2");var gY=yQe;function mb(t){return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}i(mb,"_typeof");function id(){"use strict";id=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&mb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(id,"_regeneratorRuntime");function bY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(bY,"ownKeys");function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bY(Object(r),!0).forEach(function(n){xQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Vr,"_objectSpread");function xQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(xQe,"_defineProperty");function wY(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(wY,"asyncGeneratorStep");function OY(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){wY(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){wY(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(OY,"_asyncToGenerator");function CQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(CQe,"_classCallCheck");function SY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(SY,"_defineProperties");function FQe(t,e,r){return e&&SY(t.prototype,e),r&&SY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(FQe,"_createClass");function LQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}i(LQe,"_inherits");function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ck(t,e)}i(ck,"_setPrototypeOf");function jQe(t){var e=DQe();return i(function(){var n=gb(t),a;if(e){var o=gb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return NQe(this,a)},"_createSuperInternal")}i(jQe,"_createSuper");function NQe(t,e){if(e&&(mb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}i(NQe,"_possibleConstructorReturn");function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(dr,"_assertThisInitialized");function DQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(DQe,"_isNativeReflectConstruct");function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),gb(t)}i(gb,"_getPrototypeOf");var _Y;function Wr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Wr,"_classPrivateFieldLooseBase");var UQe=0;function bb(t){return"__private_"+UQe+++"_"+t}i(bb,"_classPrivateFieldLooseKey");var MQe={version:"3.0.2"};function td(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}i(td,"assertServerError");var rd=bb("queueRequestSocketToken"),Vt=bb("client"),lk=bb("requestSocketToken"),nd=bb("setCompanionHeaders");_Y=Symbol.for("uppy test: getClient");var fk=function(t,e){LQe(n,t);var r=jQe(n);function n(a,o){var u;CQe(this,n),u=r.call(this,a,o),Object.defineProperty(dr(u),rd,{writable:!0,value:void 0}),Object.defineProperty(dr(u),Vt,{writable:!0,value:void 0}),Object.defineProperty(dr(u),lk,{writable:!0,value:function(){var c=OY(id().mark(i(function d(y){var m,w,_,R;return id().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return m=y.remote.providerOptions.provider?Me:dt,w=new m(u.uppy,y.remote.providerOptions),_=Vr({},u.opts),y.tus&&Object.assign(_,y.tus),E.next=6,w.post(y.remote.url,Vr(Vr({},y.remote.body),{},{protocol:"s3-multipart",size:y.data.size,metadata:y.meta}));case 6:return R=E.sent,E.abrupt("return",R.token);case 8:case"end":return E.stop()}},"_callee$"),d)},"_callee")));function f(d){return c.apply(this,arguments)}return i(f,"value"),f}()}),Object.defineProperty(dr(u),nd,{writable:!0,value:i(function(){return Wr(dr(u),Vt)[Vt].setCompanionHeaders(u.opts.companionHeaders),Promise.resolve()},"value")}),u.type="uploader",u.id=u.opts.id||"AwsS3Multipart",u.title="AWS S3 Multipart",Wr(dr(u),Vt)[Vt]=new dt(a,o);var s={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:u.createMultipartUpload.bind(dr(u)),listParts:u.listParts.bind(dr(u)),prepareUploadParts:u.prepareUploadParts.bind(dr(u)),abortMultipartUpload:u.abortMultipartUpload.bind(dr(u)),completeMultipartUpload:u.completeMultipartUpload.bind(dr(u)),companionHeaders:{}};return u.opts=Vr(Vr({},s),o),u.upload=u.upload.bind(dr(u)),u.requests=new dn(u.opts.limit),u.uploaders=Object.create(null),u.uploaderEvents=Object.create(null),u.uploaderSockets=Object.create(null),Wr(dr(u),rd)[rd]=u.requests.wrapPromiseFunction(Wr(dr(u),lk)[lk]),u}return i(n,"AwsS3Multipart"),FQe(n,[{key:e,value:i(function(){return Wr(this,Vt)[Vt]},"value")},{key:"resetUploaderReferences",value:i(function(o,u){u===void 0&&(u={}),this.uploaders[o]&&(this.uploaders[o].abort({really:u.abort||!1}),this.uploaders[o]=null),this.uploaderEvents[o]&&(this.uploaderEvents[o].remove(),this.uploaderEvents[o]=null),this.uploaderSockets[o]&&(this.uploaderSockets[o].close(),this.uploaderSockets[o]=null)},"resetUploaderReferences")},{key:"assertHost",value:i(function(o){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(o,"` implementation."))},"assertHost")},{key:"createMultipartUpload",value:i(function(o){this.assertHost("createMultipartUpload");var u={};return Object.keys(o.meta).forEach(function(s){o.meta[s]!=null&&(u[s]=o.meta[s].toString())}),Wr(this,Vt)[Vt].post("s3/multipart",{filename:o.name,type:o.type,metadata:u}).then(td)},"createMultipartUpload")},{key:"listParts",value:i(function(o,u){var s=u.key,c=u.uploadId;this.assertHost("listParts");var f=encodeURIComponent(s);return Wr(this,Vt)[Vt].get("s3/multipart/".concat(c,"?key=").concat(f)).then(td)},"listParts")},{key:"prepareUploadParts",value:i(function(o,u){var s=u.key,c=u.uploadId,f=u.parts;this.assertHost("prepareUploadParts");var d=encodeURIComponent(s),y=f.map(function(m){return m.number}).join(",");return Wr(this,Vt)[Vt].get("s3/multipart/".concat(c,"/batch?key=").concat(d,"&partNumbers=").concat(y)).then(td)},"prepareUploadParts")},{key:"completeMultipartUpload",value:i(function(o,u){var s=u.key,c=u.uploadId,f=u.parts;this.assertHost("completeMultipartUpload");var d=encodeURIComponent(s),y=encodeURIComponent(c);return Wr(this,Vt)[Vt].post("s3/multipart/".concat(y,"/complete?key=").concat(d),{parts:f}).then(td)},"completeMultipartUpload")},{key:"abortMultipartUpload",value:i(function(o,u){var s=u.key,c=u.uploadId;this.assertHost("abortMultipartUpload");var f=encodeURIComponent(s),d=encodeURIComponent(c);return Wr(this,Vt)[Vt].delete("s3/multipart/".concat(d,"?key=").concat(f)).then(td)},"abortMultipartUpload")},{key:"uploadFile",value:i(function(o){var u=this,s=this;return new Promise(function(c,f){var d,y=i(function(A){var x=u.uppy.getFile(o.id);u.uppy.setFileState(o.id,{s3Multipart:Vr(Vr({},x.s3Multipart),{},{key:A.key,uploadId:A.uploadId})})},"onStart"),m=i(function(A,x){u.uppy.emit("upload-progress",o,{uploader:u,bytesUploaded:A,bytesTotal:x})},"onProgress"),w=i(function(A){u.uppy.log(A),u.uppy.emit("upload-error",o,A),d.done(),u.resetUploaderReferences(o.id),f(A)},"onError"),_=i(function(A){var x=T,U={body:Vr({},A),uploadURL:A.location};d.done(),u.resetUploaderReferences(o.id);var G=u.uppy.getFile(o.id);u.uppy.emit("upload-success",G||o,U),A.location&&u.uppy.log("Download ".concat(x.file.name," from ").concat(A.location)),c(x)},"onSuccess"),R=i(function(A){var x=u.uppy.getFile(o.id);!x||u.uppy.emit("s3-multipart:part-uploaded",x,A)},"onPartComplete"),T=new gY(o.data,Vr({createMultipartUpload:u.opts.createMultipartUpload.bind(u,o),listParts:u.opts.listParts.bind(u,o),prepareUploadParts:u.opts.prepareUploadParts.bind(u,o),completeMultipartUpload:u.opts.completeMultipartUpload.bind(u,o),abortMultipartUpload:u.opts.abortMultipartUpload.bind(u,o),getChunkSize:u.opts.getChunkSize?u.opts.getChunkSize.bind(u):null,onStart:y,onProgress:m,onError:w,onSuccess:_,onPartComplete:R,limit:u.opts.limit||5,retryDelays:u.opts.retryDelays||[]},o.s3Multipart));u.uploaders[o.id]=T,u.uploaderEvents[o.id]=new hn(u.uppy),d=u.requests.run(function(){return o.isPaused||T.start(),function(){}}),u.onFileRemove(o.id,function(E){d.abort(),u.resetUploaderReferences(o.id,{abort:!0}),c("upload ".concat(E.id," was removed"))}),u.onCancelAll(o.id,function(E){var A=E===void 0?{}:E,x=A.reason;x==="user"&&(d.abort(),s.resetUploaderReferences(o.id,{abort:!0})),c("upload ".concat(o.id," was canceled"))}),u.onFilePause(o.id,function(E){E?(d.abort(),T.pause()):(d.abort(),d=u.requests.run(function(){return T.start(),function(){}}))}),u.onPauseAll(o.id,function(){d.abort(),T.pause()}),u.onResumeAll(o.id,function(){d.abort(),o.error&&T.abort(),d=u.requests.run(function(){return T.start(),function(){}})}),(!o.progress.uploadStarted||!o.isRestored)&&u.uppy.emit("upload-started",o)})},"uploadFile")},{key:"uploadRemote",value:function(){var a=OY(id().mark(i(function u(s){var c;return id().wrap(i(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.resetUploaderReferences(s.id),(!s.progress.uploadStarted||!s.isRestored)&&this.uppy.emit("upload-started",s),d.prev=2,!s.serverToken){d.next=5;break}return d.abrupt("return",this.connectToServerSocket(s));case 5:return d.next=7,Wr(this,rd)[rd](s);case 7:return c=d.sent,this.uppy.setFileState(s.id,{serverToken:c}),d.abrupt("return",this.connectToServerSocket(this.uppy.getFile(s.id)));case 12:throw d.prev=12,d.t0=d.catch(2),this.uppy.emit("upload-error",s,d.t0),d.t0;case 16:case"end":return d.stop()}},"_callee2$"),u,this,[[2,12]])},"_callee2")));function o(u){return a.apply(this,arguments)}return i(o,"uploadRemote"),o}()},{key:"connectToServerSocket",value:i(function(o){var u=this,s=this;return new Promise(function(c,f){var d,y=o.serverToken,m=ro(o.remote.companionUrl),w=new ii({target:"".concat(m,"/api/").concat(y)});u.uploaderSockets[o.id]=w,u.uploaderEvents[o.id]=new hn(u.uppy),u.onFileRemove(o.id,function(){d.abort(),w.send("cancel",{}),u.resetUploaderReferences(o.id,{abort:!0}),c("upload ".concat(o.id," was removed"))}),u.onFilePause(o.id,function(_){_?(d.abort(),w.send("pause",{})):(d.abort(),d=u.requests.run(function(){return w.send("resume",{}),function(){}}))}),u.onPauseAll(o.id,function(){d.abort(),w.send("pause",{})}),u.onCancelAll(o.id,function(_){var R=_===void 0?{}:_,T=R.reason;T==="user"&&(d.abort(),w.send("cancel",{}),s.resetUploaderReferences(o.id)),c("upload ".concat(o.id," was canceled"))}),u.onResumeAll(o.id,function(){d.abort(),o.error&&w.send("pause",{}),d=u.requests.run(function(){w.send("resume",{})})}),u.onRetry(o.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),u.onRetryAll(o.id,function(){w.isOpen&&(w.send("pause",{}),w.send("resume",{}))}),w.on("progress",function(_){return aa(u,_,o)}),w.on("error",function(_){u.uppy.emit("upload-error",o,new Error(_.error)),u.resetUploaderReferences(o.id),d.done(),f(new Error(_.error))}),w.on("success",function(_){var R={uploadURL:_.url};u.uppy.emit("upload-success",o,R),u.resetUploaderReferences(o.id),d.done(),c()}),d=u.requests.run(function(){return o.isPaused&&w.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"upload",value:i(function(o){var u=this;if(o.length===0)return Promise.resolve();var s=o.map(function(c){var f=u.uppy.getFile(c);return f.isRemote?u.uploadRemote(f):u.uploadFile(f)});return Promise.all(s)},"upload")},{key:"onFileRemove",value:i(function(o,u){this.uploaderEvents[o].on("file-removed",function(s){o===s.id&&u(s.id)})},"onFileRemove")},{key:"onFilePause",value:i(function(o,u){this.uploaderEvents[o].on("upload-pause",function(s,c){o===s&&u(c)})},"onFilePause")},{key:"onRetry",value:i(function(o,u){this.uploaderEvents[o].on("upload-retry",function(s){o===s&&u()})},"onRetry")},{key:"onRetryAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("retry-all",function(){!s.uppy.getFile(o)||u()})},"onRetryAll")},{key:"onPauseAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("pause-all",function(){!s.uppy.getFile(o)||u()})},"onPauseAll")},{key:"onCancelAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("cancel-all",function(){!s.uppy.getFile(o)||u.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(o,u){var s=this;this.uploaderEvents[o].on("resume-all",function(){!s.uppy.getFile(o)||u()})},"onResumeAll")},{key:"install",value:i(function(){var o=this.uppy.getState(),u=o.capabilities;this.uppy.setState({capabilities:Vr(Vr({},u),{},{resumableUploads:!0})}),this.uppy.addPreProcessor(Wr(this,nd)[nd]),this.uppy.addUploader(this.upload)},"install")},{key:"uninstall",value:i(function(){var o=this.uppy.getState(),u=o.capabilities;this.uppy.setState({capabilities:Vr(Vr({},u),{},{resumableUploads:!1})}),this.uppy.removePreProcessor(Wr(this,nd)[nd]),this.uppy.removeUploader(this.upload)},"uninstall")}]),n}(lt,_Y);fk.VERSION=MQe.version;var IY="3.7.2",BQe=IY,$Qe=typeof atob=="function",zQe=typeof btoa=="function",Al=typeof Buffer=="function",PY=typeof TextDecoder=="function"?new TextDecoder:void 0,EY=typeof TextEncoder=="function"?new TextEncoder:void 0,GQe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",od=Array.prototype.slice.call(GQe),wb=function(t){var e={};return t.forEach(function(r,n){return e[r]=n}),e}(od),HQe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Wt=String.fromCharCode.bind(String),RY=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){return r};return new Uint8Array(Array.prototype.slice.call(t,0).map(e))},kY=i(function(e){return e.replace(/=/g,"").replace(/[+\/]/g,function(r){return r=="+"?"-":"_"})},"_mkUriSafe"),qY=i(function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),xY=i(function(e){for(var r,n,a,o,u="",s=e.length%3,c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255||(o=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");r=n<<16|a<<8|o,u+=od[r>>18&63]+od[r>>12&63]+od[r>>6&63]+od[r&63]}return s?u.slice(0,s-3)+"===".substring(s):u},"btoaPolyfill"),hk=zQe?function(t){return btoa(t)}:Al?function(t){return Buffer.from(t,"binary").toString("base64")}:xY,pk=Al?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=4096,r=[],n=0,a=t.length;n<a;n+=e)r.push(Wt.apply(null,t.subarray(n,n+e)));return hk(r.join(""))},Ob=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?kY(pk(e)):pk(e)},"fromUint8Array"),VQe=i(function(e){if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?Wt(192|r>>>6)+Wt(128|r&63):Wt(224|r>>>12&15)+Wt(128|r>>>6&63)+Wt(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Wt(240|r>>>18&7)+Wt(128|r>>>12&63)+Wt(128|r>>>6&63)+Wt(128|r&63)}},"cb_utob"),WQe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,CY=i(function(e){return e.replace(WQe,VQe)},"utob"),TY=Al?function(t){return Buffer.from(t,"utf8").toString("base64")}:EY?function(t){return pk(EY.encode(t))}:function(t){return hk(CY(t))},Tl=i(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r?kY(TY(e)):TY(e)},"encode"),AY=i(function(e){return Tl(e,!0)},"encodeURI"),KQe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,YQe=i(function(e){switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=r-65536;return Wt((n>>>10)+55296)+Wt((n&1023)+56320);case 3:return Wt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Wt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},"cb_btou"),FY=i(function(e){return e.replace(KQe,YQe)},"btou"),LY=i(function(e){if(e=e.replace(/\s+/g,""),!HQe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));for(var r,n="",a,o,u=0;u<e.length;)r=wb[e.charAt(u++)]<<18|wb[e.charAt(u++)]<<12|(a=wb[e.charAt(u++)])<<6|(o=wb[e.charAt(u++)]),n+=a===64?Wt(r>>16&255):o===64?Wt(r>>16&255,r>>8&255):Wt(r>>16&255,r>>8&255,r&255);return n},"atobPolyfill"),vk=$Qe?function(t){return atob(qY(t))}:Al?function(t){return Buffer.from(t,"base64").toString("binary")}:LY,jY=Al?function(t){return RY(Buffer.from(t,"base64"))}:function(t){return RY(vk(t),function(e){return e.charCodeAt(0)})},NY=i(function(e){return jY(DY(e))},"toUint8Array"),XQe=Al?function(t){return Buffer.from(t,"base64").toString("utf8")}:PY?function(t){return PY.decode(jY(t))}:function(t){return FY(vk(t))},DY=i(function(e){return qY(e.replace(/[-_]/g,function(r){return r=="-"?"+":"/"}))},"_unURI"),dk=i(function(e){return XQe(DY(e))},"decode"),JQe=i(function(e){if(typeof e!="string")return!1;var r=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(r)||!/[^\s0-9a-zA-Z\-_]/.test(r)},"isValid"),UY=i(function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),MY=i(function(){var e=i(function(n,a){return Object.defineProperty(String.prototype,n,UY(a))},"_add");e("fromBase64",function(){return dk(this)}),e("toBase64",function(r){return Tl(this,r)}),e("toBase64URI",function(){return Tl(this,!0)}),e("toBase64URL",function(){return Tl(this,!0)}),e("toUint8Array",function(){return NY(this)})},"extendString"),BY=i(function(){var e=i(function(n,a){return Object.defineProperty(Uint8Array.prototype,n,UY(a))},"_add");e("toBase64",function(r){return Ob(this,r)}),e("toBase64URI",function(){return Ob(this,!0)}),e("toBase64URL",function(){return Ob(this,!0)})},"extendUint8Array"),QQe=i(function(){MY(),BY()},"extendBuiltins"),$Y={version:IY,VERSION:BQe,atob:vk,atobPolyfill:LY,btoa:hk,btoaPolyfill:xY,fromBase64:dk,toBase64:Tl,encode:Tl,encodeURI:AY,encodeURL:AY,utob:CY,btou:FY,decode:dk,isValid:JQe,fromUint8Array:Ob,toUint8Array:NY,extendString:MY,extendUint8Array:BY,extendBuiltins:QQe};var dX=Te(tX());function bk(t){return bk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(t)}i(bk,"_typeof");function rX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rX,"_defineProperties");function cZe(t,e,r){return e&&rX(t.prototype,e),r&&rX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(cZe,"_createClass");function fZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(fZe,"_classCallCheck");function pZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ud(t,e)}i(pZe,"_inherits");function dZe(t){var e=nX();return i(function(){var n=sd(t),a;if(e){var o=sd(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return hZe(this,a)},"_createSuperInternal")}i(dZe,"_createSuper");function hZe(t,e){if(e&&(bk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZe(t)}i(hZe,"_possibleConstructorReturn");function vZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(vZe,"_assertThisInitialized");function wk(t){var e=typeof Map=="function"?new Map:void 0;return wk=i(function(n){if(n===null||!yZe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return _b(n,arguments,sd(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ud(a,n)},"_wrapNativeSuper"),wk(t)}i(wk,"_wrapNativeSuper");function _b(t,e,r){return nX()?_b=Reflect.construct.bind():_b=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&ud(f,u.prototype),f},"_construct"),_b.apply(null,arguments)}i(_b,"_construct");function nX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(nX,"_isNativeReflectConstruct");function yZe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(yZe,"_isNativeFunction");function ud(t,e){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),ud(t,e)}i(ud,"_setPrototypeOf");function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),sd(t)}i(sd,"_getPrototypeOf");var mZe=function(t){pZe(r,t);var e=dZe(r);function r(n){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(fZe(this,r),a=e.call(this,n),a.originalRequest=u,a.originalResponse=s,a.causingError=o,o!=null&&(n+=", caused by ".concat(o.toString())),u!=null){var c=u.getHeader("X-Request-ID")||"n/a",f=u.getMethod(),d=u.getURL(),y=s?s.getStatus():"n/a",m=s?s.getBody()||"":"n/a";n+=", originated from request (method: ".concat(f,", url: ").concat(d,", response code: ").concat(y,", response text: ").concat(m,", request id: ").concat(c,")")}return a.message=n,a}return i(r,"DetailedError"),cZe(r)}(wk(Error)),Il=mZe;var gZe=!1;function ua(t){!gZe||console.log(t)}i(ua,"log");function Ok(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}i(Ok,"uuid");function pX(t,e){return SZe(t)||OZe(t,e)||wZe(t,e)||bZe()}i(pX,"_slicedToArray");function bZe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(bZe,"_nonIterableRest");function wZe(t,e){if(!!t){if(typeof t=="string")return iX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iX(t,e)}}i(wZe,"_unsupportedIterableToArray");function iX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(iX,"_arrayLikeToArray");function OZe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(OZe,"_iterableToArrayLimit");function SZe(t){if(Array.isArray(t))return t}i(SZe,"_arrayWithHoles");function oX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(oX,"ownKeys");function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oX(Object(r),!0).forEach(function(n){_Ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(kl,"_objectSpread");function _Ze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(_Ze,"_defineProperty");function PZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(PZe,"_classCallCheck");function aX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(aX,"_defineProperties");function EZe(t,e,r){return e&&aX(t.prototype,e),r&&aX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(EZe,"_createClass");var RZe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},hX=function(){function t(e,r){PZe(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return i(t,"BaseUpload"),EZe(t,[{key:"findPreviousUploads",value:i(function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:i(function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:i(function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var a=this.options.retryDelays;if(a!=null&&Object.prototype.toString.call(a)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var o=0,u=["uploadUrl","uploadSize","uploadLengthDeferred"];o<u.length;o++){var s=u[o];if(this.options[s]){this._emitError(new Error("tus: cannot use the ".concat(s," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(c){return c==null?ua("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):ua("Calculated fingerprint: ".concat(c)),r._fingerprint=c,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(c){if(r._source=c,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(c){r._emitError(c)})},"start")},{key:"_startParallelUpload",value:i(function(){var r,n=this,a=this._size,o=0;this._parallelUploads=[];var u=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,s=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:AZe(this._source.size,u);this._parallelUploadUrls&&s.forEach(function(d,y){d.uploadUrl=n._parallelUploadUrls[y]||null}),this._parallelUploadUrls=new Array(s.length);var c=s.map(function(d,y){var m=0;return n._source.slice(d.start,d.end).then(function(w){var _=w.value;return new Promise(function(R,T){var E=kl(kl({},n.options),{},{uploadUrl:d.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:kl(kl({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:R,onError:T,onProgress:i(function(U){o=o-m+U,m=U,n._emitProgress(o,a)},"onProgress"),_onUploadUrlAvailable:i(function(){n._parallelUploadUrls[y]=A.url,n._parallelUploadUrls.filter(function(U){return Boolean(U)}).length===s.length&&n._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),A=new t(_,E);A.start(),n._parallelUploads.push(A)})})}),f;Promise.all(c).then(function(){f=n._openRequest("POST",n.options.endpoint),f.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var d=uX(n.options.metadata);return d!==""&&f.setHeader("Upload-Metadata",d),n._sendRequest(f,null)}).then(function(d){if(!ql(d.getStatus(),200)){n._emitHttpError(f,d,"tus: unexpected response while creating upload");return}var y=d.getHeader("Location");if(y==null){n._emitHttpError(f,d,"tus: invalid or missing Location header");return}n.url=fX(n.options.endpoint,y),ua("Created upload at ".concat(n.url)),n._emitSuccess()}).catch(function(d){n._emitError(d)})},"_startParallelUpload")},{key:"_startSingleUpload",value:i(function(){if(this._aborted=!1,this.url!=null){ua("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){ua("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,this._resumeUpload();return}ua("Creating a new upload"),this._createUpload()},"_startSingleUpload")},{key:"abort",value:i(function(r){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(a){a.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:i(function(r,n,a,o){this._emitError(new Il(a,o,r,n))},"_emitHttpError")},{key:"_emitError",value:i(function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var a=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(a&&(this._retryAttempt=0),cX(r,this._retryAttempt,this.options)){var o=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},o);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}},"_emitError")},{key:"_emitSuccess",value:i(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:i(function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)},"_emitProgress")},{key:"_emitChunkComplete",value:i(function(r,n,a){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,a)},"_emitChunkComplete")},{key:"_createUpload",value:i(function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var a=uX(this.options.metadata);a!==""&&n.setHeader("Upload-Metadata",a);var o;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,o=this._addChunkToRequest(n)):o=this._sendRequest(n,null),o.then(function(u){if(!ql(u.getStatus(),200)){r._emitHttpError(n,u,"tus: unexpected response while creating upload");return}var s=u.getHeader("Location");if(s==null){r._emitHttpError(n,u,"tus: invalid or missing Location header");return}if(r.url=fX(r.options.endpoint,s),ua("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,u):(r._offset=0,r._performUpload())})}).catch(function(u){r._emitHttpError(n,null,"tus: failed to create upload",u)})},"_createUpload")},{key:"_resumeUpload",value:i(function(){var r=this,n=this._openRequest("HEAD",this.url),a=this._sendRequest(n,null);a.then(function(o){var u=o.getStatus();if(!ql(u,200)){if(u===423){r._emitHttpError(n,o,"tus: upload is currently locked; retry later");return}if(ql(u,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,o,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var s=parseInt(o.getHeader("Upload-Offset"),10);if(Number.isNaN(s)){r._emitHttpError(n,o,"tus: invalid or missing offset value");return}var c=parseInt(o.getHeader("Upload-Length"),10);if(Number.isNaN(c)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,o,"tus: invalid or missing length value");return}typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(s===c){r._emitProgress(c,c),r._emitSuccess();return}r._offset=s,r._performUpload()})}).catch(function(o){r._emitHttpError(n,null,"tus: failed to resume upload",o)})},"_resumeUpload")},{key:"_performUpload",value:i(function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var a=this._addChunkToRequest(n);a.then(function(o){if(!ql(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,o)}).catch(function(o){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),o)})}},"_performUpload")},{key:"_addChunkToRequest",value:i(function(r){var n=this,a=this._offset,o=this._offset+this.options.chunkSize;return r.setProgressHandler(function(u){n._emitProgress(a+u,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(o===1/0||o>this._size)&&!this.options.uploadLengthDeferred&&(o=this._size),this._source.slice(a,o).then(function(u){var s=u.value,c=u.done;return n.options.uploadLengthDeferred&&c&&(n._size=n._offset+(s&&s.size?s.size:0),r.setHeader("Upload-Length",n._size)),s===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,s))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:i(function(r,n){var a=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(a,this._size),this._emitChunkComplete(a-this._offset,a,this._size),this._offset=a,a===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:i(function(r,n){var a=sX(r,n,this.options);return this._req=a,a},"_openRequest")},{key:"_removeFromUrlStorage",value:i(function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:i(function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(a){r._urlStorageKey=a})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return lX(r,n,this.options)},"_sendRequest")}],[{key:"terminate",value:i(function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=sX("DELETE",r,n);return lX(a,null,n).then(function(o){if(o.getStatus()!==204)throw new Il("tus: unexpected response while terminating upload",null,a,o)}).catch(function(o){if(o instanceof Il||(o=new Il("tus: failed to terminate upload",o,a,null)),!cX(o,0,n))throw o;var u=n.retryDelays[0],s=n.retryDelays.slice(1),c=kl(kl({},n),{},{retryDelays:s});return new Promise(function(f){return setTimeout(f,u)}).then(function(){return t.terminate(r,c)})})},"terminate")}]),t}();function uX(t){return Object.entries(t).map(function(e){var r=pX(e,2),n=r[0],a=r[1];return"".concat(n," ").concat($Y.encode(String(a)))}).join(",")}i(uX,"encodeMetadata");function ql(t,e){return t>=e&&t<e+100}i(ql,"inStatusCategory");function sX(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var a=r.headers||{};if(Object.entries(a).forEach(function(u){var s=pX(u,2),c=s[0],f=s[1];n.setHeader(c,f)}),r.addRequestId){var o=Ok();n.setHeader("X-Request-ID",o)}return n}i(sX,"openRequest");function lX(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(a){var o=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,a)):Promise.resolve();return o.then(function(){return a})})})}i(lX,"sendRequest");function TZe(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}i(TZe,"isOnline");function cX(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!ql(n,400)||n===409||n===423)&&TZe()}i(cX,"shouldRetry");function fX(t,e){return new dX.default(e,t).toString()}i(fX,"resolveUrl");function AZe(t,e){for(var r=Math.floor(t/e),n=[],a=0;a<e;a++)n.push({start:r*a,end:r*(a+1)});return n[e-1].end=t,n}i(AZe,"splitSizeIntoParts");hX.defaultOptions=RZe;var Pb=hX;function IZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(IZe,"_classCallCheck");function vX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(vX,"_defineProperties");function kZe(t,e,r){return e&&vX(t.prototype,e),r&&vX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(kZe,"_createClass");var yX=function(){function t(){IZe(this,t)}return i(t,"NoopUrlStorage"),kZe(t,[{key:"listAllUploads",value:i(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){return Promise.resolve(null)},"addUpload")}]),t}();function qZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(qZe,"_classCallCheck");function mX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(mX,"_defineProperties");function xZe(t,e,r){return e&&mX(t.prototype,e),r&&mX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(xZe,"_createClass");var _k=!1;try{_k="localStorage"in window,Sk="tusSupport",localStorage.setItem(Sk,localStorage.getItem(Sk))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)_k=!1;else throw t}var Sk,gX=_k,bX=function(){function t(){qZe(this,t)}return i(t,"WebStorageUrlStorage"),xZe(t,[{key:"findAllUploads",value:i(function(){var r=this._findEntries("tus::");return Promise.resolve(r)},"findAllUploads")},{key:"findUploadsByFingerprint",value:i(function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)},"findUploadsByFingerprint")},{key:"removeUpload",value:i(function(r){return localStorage.removeItem(r),Promise.resolve()},"removeUpload")},{key:"addUpload",value:i(function(r,n){var a=Math.round(Math.random()*1e12),o="tus::".concat(r,"::").concat(a);return localStorage.setItem(o,JSON.stringify(n)),Promise.resolve(o)},"addUpload")},{key:"_findEntries",value:i(function(r){for(var n=[],a=0;a<localStorage.length;a++){var o=localStorage.key(a);if(o.indexOf(r)===0)try{var u=JSON.parse(localStorage.getItem(o));u.urlStorageKey=o,n.push(u)}catch(s){}}return n},"_findEntries")}]),t}();function Pk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Pk,"_classCallCheck");function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wX,"_defineProperties");function Ek(t,e,r){return e&&wX(t.prototype,e),r&&wX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ek,"_createClass");var OX=function(){function t(){Pk(this,t)}return i(t,"XHRHttpStack"),Ek(t,[{key:"createRequest",value:i(function(r,n){return new CZe(r,n)},"createRequest")},{key:"getName",value:i(function(){return"XHRHttpStack"},"getName")}]),t}();var CZe=function(){function t(e,r){Pk(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return i(t,"Request"),Ek(t,[{key:"getMethod",value:i(function(){return this._method},"getMethod")},{key:"getURL",value:i(function(){return this._url},"getURL")},{key:"setHeader",value:i(function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n},"setHeader")},{key:"getHeader",value:i(function(r){return this._headers[r]},"getHeader")},{key:"setProgressHandler",value:i(function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})},"setProgressHandler")},{key:"send",value:i(function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(a,o){r._xhr.onload=function(){a(new FZe(r._xhr))},r._xhr.onerror=function(u){o(u)},r._xhr.send(n)})},"send")},{key:"abort",value:i(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}(),FZe=function(){function t(e){Pk(this,t),this._xhr=e}return i(t,"Response"),Ek(t,[{key:"getStatus",value:i(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:i(function(r){return this._xhr.getResponseHeader(r)},"getHeader")},{key:"getBody",value:i(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:i(function(){return this._xhr},"getUnderlyingObject")}]),t}();var LZe=i(function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),Eb=LZe;function Rk(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var a=n.response;e(a)},n.onerror=function(a){r(a)},n.open("GET",t),n.send()})}i(Rk,"uriToBlob");var jZe=i(function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},"isCordova"),SX=jZe;function Tk(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var a=new Uint8Array(n.result);e({value:a})},n.onerror=function(a){r(a)},n.readAsArrayBuffer(t)})}i(Tk,"readAsByteArray");function NZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(NZe,"_classCallCheck");function _X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_X,"_defineProperties");function DZe(t,e,r){return e&&_X(t.prototype,e),r&&_X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(DZe,"_createClass");var Ak=function(){function t(e){NZe(this,t),this._file=e,this.size=e.size}return i(t,"FileSource"),DZe(t,[{key:"slice",value:i(function(r,n){if(SX())return Tk(this._file.slice(r,n));var a=this._file.slice(r,n);return Promise.resolve({value:a})},"slice")},{key:"close",value:i(function(){},"close")}]),t}();function UZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(UZe,"_classCallCheck");function PX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(PX,"_defineProperties");function MZe(t,e,r){return e&&PX(t.prototype,e),r&&PX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(MZe,"_createClass");function EX(t){return t===void 0?0:t.size!==void 0?t.size:t.length}i(EX,"len");function BZe(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}i(BZe,"concat");var RX=function(){function t(e){UZe(this,t),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return i(t,"StreamSource"),MZe(t,[{key:"slice",value:i(function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)},"slice")},{key:"_readUntilEnoughDataOrDone",value:i(function(r,n){var a=this,o=n<=this._bufferOffset+EX(this._buffer);if(this._done||o){var u=this._getDataFromBuffer(r,n),s=u==null?this._done:!1;return Promise.resolve({value:u,done:s})}return this._reader.read().then(function(c){var f=c.value,d=c.done;return d?a._done=!0:a._buffer===void 0?a._buffer=f:a._buffer=BZe(a._buffer,f),a._readUntilEnoughDataOrDone(r,n)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:i(function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var a=EX(this._buffer)===0;return this._done&&a?null:this._buffer.slice(0,n-r)},"_getDataFromBuffer")},{key:"close",value:i(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),t}();function $Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i($Ze,"_classCallCheck");function TX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(TX,"_defineProperties");function zZe(t,e,r){return e&&TX(t.prototype,e),r&&TX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(zZe,"_createClass");var AX=function(){function t(){$Ze(this,t)}return i(t,"FileReader"),zZe(t,[{key:"openFile",value:i(function(r,n){return Eb()&&r&&typeof r.uri!="undefined"?Rk(r.uri).then(function(a){return new Ak(a)}).catch(function(a){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(a))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new Ak(r)):typeof r.read=="function"?(n=Number(n),Number.isFinite(n)?Promise.resolve(new RX(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),t}();function Ik(t,e){return Eb()?Promise.resolve(GZe(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}i(Ik,"fingerprint");function GZe(t,e){var r=t.exif?HZe(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}i(GZe,"reactNativeFingerprint");function HZe(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}i(HZe,"hashCode");function kk(t){return kk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kk(t)}i(kk,"_typeof");function VZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(VZe,"_classCallCheck");function IX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(IX,"_defineProperties");function WZe(t,e,r){return e&&IX(t.prototype,e),r&&IX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(WZe,"_createClass");function KZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qk(t,e)}i(KZe,"_inherits");function qk(t,e){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),qk(t,e)}i(qk,"_setPrototypeOf");function YZe(t){var e=QZe();return i(function(){var n=Rb(t),a;if(e){var o=Rb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return XZe(this,a)},"_createSuperInternal")}i(YZe,"_createSuper");function XZe(t,e){if(e&&(kk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JZe(t)}i(XZe,"_possibleConstructorReturn");function JZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(JZe,"_assertThisInitialized");function QZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(QZe,"_isNativeReflectConstruct");function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Rb(t)}i(Rb,"_getPrototypeOf");function kX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(kX,"ownKeys");function xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kX(Object(r),!0).forEach(function(n){ZZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(xl,"_objectSpread");function ZZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(ZZe,"_defineProperty");var Tb=xl(xl({},Pb.defaultOptions),{},{httpStack:new OX,fileReader:new AX,urlStorage:gX?new bX:new yX,fingerprint:Ik}),xX=function(t){KZe(r,t);var e=YZe(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return VZe(this,r),a=xl(xl({},Tb),a),e.call(this,n,a)}return i(r,"Upload"),WZe(r,null,[{key:"terminate",value:i(function(a,o,u){return o=xl(xl({},Tb),o),Pb.terminate(a,o,u)},"terminate")}]),r}(Pb),CX=window,eet=CX.XMLHttpRequest,qX=CX.Blob,Q0t=eet&&qX&&typeof qX.prototype.slice=="function";function ld(t){var e=[],r=[];function n(u){e.push(u)}i(n,"resolved");function a(u){r.push(u)}i(a,"rejected");var o=Promise.all(t.map(function(u){return u.then(n,a)}));return o.then(function(){return{successful:e,failed:r}})}i(ld,"settle");function tet(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}i(tet,"isCordova");function ret(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}i(ret,"isReactNative");function xk(t){return function(e,r){if(tet()||ret())return Tb.fingerprint(e,r);var n=["tus",t.id,r.endpoint].join("-");return Promise.resolve(n)}}i(xk,"getFingerprint");function Ab(t){return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}i(Ab,"_typeof");function dd(){"use strict";dd=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Ab(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(dd,"_regeneratorRuntime");function LX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(LX,"ownKeys");function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LX(Object(r),!0).forEach(function(n){net(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ct,"_objectSpread");function net(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(net,"_defineProperty");function jX(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(jX,"asyncGeneratorStep");function NX(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){jX(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){jX(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(NX,"_asyncToGenerator");function iet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(iet,"_classCallCheck");function DX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(DX,"_defineProperties");function oet(t,e,r){return e&&DX(t.prototype,e),r&&DX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(oet,"_createClass");function aet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fk(t,e)}i(aet,"_inherits");function Fk(t,e){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Fk(t,e)}i(Fk,"_setPrototypeOf");function uet(t){var e=cet();return i(function(){var n=Ib(t),a;if(e){var o=Ib(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return set(this,a)},"_createSuperInternal")}i(uet,"_createSuper");function set(t,e){if(e&&(Ab(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}i(set,"_possibleConstructorReturn");function ao(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(ao,"_assertThisInitialized");function cet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(cet,"_isNativeReflectConstruct");function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ib(t)}i(Ib,"_getPrototypeOf");function cd(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(cd,"_classPrivateFieldLooseBase");var fet=0;function Lk(t){return"__private_"+fet+++"_"+t}i(Lk,"_classPrivateFieldLooseKey");var pet={version:"3.0.4"},UX={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},fd=Lk("retryDelayIterator"),pd=Lk("queueRequestSocketToken"),Ck=Lk("requestSocketToken"),Cl=function(t){aet(r,t);var e=uet(r);function r(n,a){var o;iet(this,r);var u,s;o=e.call(this,n,a),Object.defineProperty(ao(o),fd,{writable:!0,value:void 0}),Object.defineProperty(ao(o),pd,{writable:!0,value:void 0}),Object.defineProperty(ao(o),Ck,{writable:!0,value:function(){var f=NX(dd().mark(i(function y(m){var w,_,R,T;return dd().wrap(i(function(A){for(;;)switch(A.prev=A.next){case 0:return w=m.remote.providerOptions.provider?Me:dt,_=new w(o.uppy,m.remote.providerOptions),R=Ct({},o.opts),m.tus&&Object.assign(R,m.tus),A.next=6,_.post(m.remote.url,Ct(Ct({},m.remote.body),{},{endpoint:R.endpoint,uploadUrl:R.uploadUrl,protocol:"tus",size:m.data.size,headers:R.headers,metadata:m.meta}));case 6:return T=A.sent,A.abrupt("return",T.token);case 8:case"end":return A.stop()}},"_callee$"),y)},"_callee")));function d(y){return f.apply(this,arguments)}return i(d,"value"),d}()}),o.type="uploader",o.id=o.opts.id||"Tus",o.title="Tus";var c={useFastRemoteRetry:!0,limit:20,retryDelays:UX.retryDelays,withCredentials:!1};if(o.opts=Ct(Ct({},c),a),(a==null?void 0:a.allowedMetaFields)===void 0&&"metaFields"in o.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in a)throw new Error("The `autoRetry` option was deprecated and has been removed.");return o.requests=(u=o.opts.rateLimitedQueue)!=null?u:new dn(o.opts.limit),cd(ao(o),fd)[fd]=(s=o.opts.retryDelays)==null?void 0:s.values(),o.uploaders=Object.create(null),o.uploaderEvents=Object.create(null),o.uploaderSockets=Object.create(null),o.handleResetProgress=o.handleResetProgress.bind(ao(o)),o.handleUpload=o.handleUpload.bind(ao(o)),cd(ao(o),pd)[pd]=o.requests.wrapPromiseFunction(cd(ao(o),Ck)[Ck]),o}return i(r,"Tus"),oet(r,[{key:"handleResetProgress",value:i(function(){var a=Ct({},this.uppy.getState().files);Object.keys(a).forEach(function(o){if(a[o].tus&&a[o].tus.uploadUrl){var u=Ct({},a[o].tus);delete u.uploadUrl,a[o]=Ct(Ct({},a[o]),{},{tus:u})}}),this.uppy.setState({files:a})},"handleResetProgress")},{key:"resetUploaderReferences",value:i(function(a,o){if(o===void 0&&(o={}),this.uploaders[a]){var u=this.uploaders[a];u.abort(),o.abort&&u.abort(!0),this.uploaders[a]=null}this.uploaderEvents[a]&&(this.uploaderEvents[a].remove(),this.uploaderEvents[a]=null),this.uploaderSockets[a]&&(this.uploaderSockets[a].close(),this.uploaderSockets[a]=null)},"resetUploaderReferences")},{key:"upload",value:i(function(a){var o=this,u=this;return this.resetUploaderReferences(a.id),new Promise(function(s,c){var f,d,y;o.uppy.emit("upload-started",a);var m=Ct(Ct({},o.opts),a.tus||{});typeof m.headers=="function"&&(m.headers=m.headers(a));var w=Ct(Ct({},UX),m);w.fingerprint=xk(a),w.onBeforeRequest=function(A){var x=A.getUnderlyingObject();x.withCredentials=!!m.withCredentials;var U;if(typeof m.onBeforeRequest=="function"&&(U=m.onBeforeRequest(A,a)),Dr(f,"shouldBeRequeued")){if(!f.shouldBeRequeued)return Promise.reject();var G,M=new Promise(function(z){G=z});return f=o.requests.run(function(){return a.isPaused&&f.abort(),G(),function(){}}),Promise.all([M,U])}return U},w.onError=function(A){var x;o.uppy.log(A);var U=A.originalRequest?A.originalRequest.getUnderlyingObject():null;Tu(U)&&(A=new xn(A,U)),o.resetUploaderReferences(a.id),(x=f)==null||x.abort(),o.uppy.emit("upload-error",a,A),c(A)},w.onProgress=function(A,x){o.onReceiveUploadUrl(a,y.url),o.uppy.emit("upload-progress",a,{uploader:o,bytesUploaded:A,bytesTotal:x})},w.onSuccess=function(){var A={uploadURL:y.url};o.resetUploaderReferences(a.id),f.done(),o.uppy.emit("upload-success",a,A),y.url&&o.uppy.log("Download ".concat(y.file.name," from ").concat(y.url)),s(y)};var _=i(function(x){var U,G=x==null||(U=x.originalResponse)==null?void 0:U.getStatus();if(G===429){if(!o.requests.isPaused){var M,z=(M=cd(o,fd)[fd])==null?void 0:M.next();if(z==null||z.done)return!1;o.requests.rateLimit(z.value)}}else{if(G>400&&G<500&&G!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(o.requests.isPaused||(o.requests.pause(),window.addEventListener("online",function(){o.requests.resume()},{once:!0})))}return f.abort(),f={shouldBeRequeued:!0,abort:i(function(){this.shouldBeRequeued=!1},"abort"),done:i(function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},"done"),fn:i(function(){throw new Error("Cannot run a queued request: this indicates a bug")},"fn")},!0},"defaultOnShouldRetry");m.onShouldRetry!=null?w.onShouldRetry=function(){for(var A=arguments.length,x=new Array(A),U=0;U<A;U++)x[U]=arguments[U];return m.onShouldRetry.apply(m,x.concat([_]))}:w.onShouldRetry=_;var R=i(function(x,U,G){Dr(x,U)&&!Dr(x,G)&&(x[G]=x[U])},"copyProp"),T={},E=Array.isArray(m.allowedMetaFields)?m.allowedMetaFields:Object.keys(a.meta);E.forEach(function(A){T[A]=a.meta[A]}),R(T,"type","filetype"),R(T,"name","filename"),w.metadata=T,y=new xX(a.data,w),o.uploaders[a.id]=y,o.uploaderEvents[a.id]=new hn(o.uppy),d=i(function(){return a.isPaused||y.start(),function(){}},"qRequest"),y.findPreviousUploads().then(function(A){var x=A[0];x&&(o.uppy.log("[Tus] Resuming upload of ".concat(a.id," started at ").concat(x.creationTime)),y.resumeFromPreviousUpload(x))}),f=o.requests.run(d),o.onFileRemove(a.id,function(A){f.abort(),o.resetUploaderReferences(a.id,{abort:!!y.url}),s("upload ".concat(A," was removed"))}),o.onPause(a.id,function(A){f.abort(),A?y.abort():f=o.requests.run(d)}),o.onPauseAll(a.id,function(){f.abort(),y.abort()}),o.onCancelAll(a.id,function(A){var x=A===void 0?{}:A,U=x.reason;U==="user"&&(f.abort(),u.resetUploaderReferences(a.id,{abort:!!y.url})),s("upload ".concat(a.id," was canceled"))}),o.onResumeAll(a.id,function(){f.abort(),a.error&&y.abort(),f=o.requests.run(d)})}).catch(function(s){throw o.uppy.emit("upload-error",a,s),s})},"upload")},{key:"uploadRemote",value:function(){var n=NX(dd().mark(i(function o(u){var s;return dd().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.resetUploaderReferences(u.id),(!u.progress.uploadStarted||!u.isRestored)&&this.uppy.emit("upload-started",u),f.prev=2,!u.serverToken){f.next=5;break}return f.abrupt("return",this.connectToServerSocket(u));case 5:return f.next=7,cd(this,pd)[pd](u);case 7:if(s=f.sent,this.uppy.getState().files[u.id]){f.next=10;break}return f.abrupt("return",void 0);case 10:return this.uppy.setFileState(u.id,{serverToken:s}),f.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 14:throw f.prev=14,f.t0=f.catch(2),this.uppy.emit("upload-error",u,f.t0),f.t0;case 18:case"end":return f.stop()}},"_callee2$"),o,this,[[2,14]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"uploadRemote"),a}()},{key:"connectToServerSocket",value:i(function(a){var o=this,u=this;return new Promise(function(s,c){var f=a.serverToken,d=ro(a.remote.companionUrl),y=new ii({target:"".concat(d,"/api/").concat(f)});o.uploaderSockets[a.id]=y,o.uploaderEvents[a.id]=new hn(o.uppy);var m;o.onFileRemove(a.id,function(){m.abort(),y.send("cancel",{}),o.resetUploaderReferences(a.id),s("upload ".concat(a.id," was removed"))}),o.onPause(a.id,function(w){w?(m.abort(),y.send("pause",{})):(m.abort(),m=o.requests.run(function(){return y.send("resume",{}),function(){}}))}),o.onPauseAll(a.id,function(){m.abort(),y.send("pause",{})}),o.onCancelAll(a.id,function(w){var _=w===void 0?{}:w,R=_.reason;R==="user"&&(m.abort(),y.send("cancel",{}),u.resetUploaderReferences(a.id)),s("upload ".concat(a.id," was canceled"))}),o.onResumeAll(a.id,function(){m.abort(),a.error&&y.send("pause",{}),m=o.requests.run(function(){return y.send("resume",{}),function(){}})}),o.onRetry(a.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),o.onRetryAll(a.id,function(){y.isOpen&&(y.send("pause",{}),y.send("resume",{}))}),y.on("progress",function(w){return aa(o,w,a)}),y.on("error",function(w){var _=w.error.message,R=Object.assign(new Error(_),{cause:w.error});o.opts.useFastRemoteRetry?y.close():(o.resetUploaderReferences(a.id),o.uppy.setFileState(a.id,{serverToken:null})),o.uppy.emit("upload-error",a,R),m.done(),c(R)}),y.on("success",function(w){var _={uploadURL:w.url};o.uppy.emit("upload-success",a,_),o.resetUploaderReferences(a.id),m.done(),s()}),m=o.requests.run(function(){return a.isPaused&&y.send("pause",{}),function(){}})})},"connectToServerSocket")},{key:"onReceiveUploadUrl",value:i(function(a,o){var u=this.uppy.getFile(a.id);!u||(!u.tus||u.tus.uploadUrl!==o)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(u.id,{tus:Ct(Ct({},u.tus),{},{uploadUrl:o})}))},"onReceiveUploadUrl")},{key:"onFileRemove",value:i(function(a,o){this.uploaderEvents[a].on("file-removed",function(u){a===u.id&&o(u.id)})},"onFileRemove")},{key:"onPause",value:i(function(a,o){this.uploaderEvents[a].on("upload-pause",function(u,s){a===u&&o(s)})},"onPause")},{key:"onRetry",value:i(function(a,o){this.uploaderEvents[a].on("upload-retry",function(u){a===u&&o()})},"onRetry")},{key:"onRetryAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("retry-all",function(){!u.uppy.getFile(a)||o()})},"onRetryAll")},{key:"onPauseAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("pause-all",function(){!u.uppy.getFile(a)||o()})},"onPauseAll")},{key:"onCancelAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("cancel-all",function(){!u.uppy.getFile(a)||o.apply(void 0,arguments)})},"onCancelAll")},{key:"onResumeAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("resume-all",function(){!u.uppy.getFile(a)||o()})},"onResumeAll")},{key:"uploadFiles",value:i(function(a){var o=this,u=a.map(function(s,c){var f=c+1,d=a.length;return"error"in s&&s.error?Promise.reject(new Error(s.error)):s.isRemote?((!s.progress.uploadStarted||!s.isRestored)&&o.uppy.emit("upload-started",s),o.uploadRemote(s,f,d)):((!s.progress.uploadStarted||!s.isRestored)&&o.uppy.emit("upload-started",s),o.upload(s,f,d))});return ld(u)},"uploadFiles")},{key:"handleUpload",value:i(function(a){var o=this;if(a.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var u=a.map(function(s){return o.uppy.getFile(s)});return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){this.uppy.setState({capabilities:Ct(Ct({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)},"install")},{key:"uninstall",value:i(function(){this.uppy.setState({capabilities:Ct(Ct({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(lt);Cl.VERSION=pet.version;var UJ=Te(Nk(),1);var Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";var hd=Object.create(null);Object.keys(Nn).forEach(function(t){hd[Nn[t]]=t});var MX={type:"error",data:"parser error"};var het=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vet=typeof ArrayBuffer=="function",yet=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},"isView"),met=i(function(e,r,n){var a=e.type,o=e.data;return het&&o instanceof Blob?r?n(o):BX(o,n):vet&&(o instanceof ArrayBuffer||yet(o))?r?n(o):BX(new Blob([o]),n):n(Nn[a]+(o||""))},"encodePacket"),BX=i(function(e,r){var n=new FileReader;return n.onload=function(){var a=n.result.split(",")[1];r("b"+a)},n.readAsDataURL(e)},"encodeBlobAsBase64"),kb=met;var $X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yd=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(vd=0;vd<$X.length;vd++)yd[$X.charCodeAt(vd)]=vd;var vd;var zX=i(function(e){var r=e.length*.75,n=e.length,a,o=0,u,s,c,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=new ArrayBuffer(r),y=new Uint8Array(d);for(a=0;a<n;a+=4)u=yd[e.charCodeAt(a)],s=yd[e.charCodeAt(a+1)],c=yd[e.charCodeAt(a+2)],f=yd[e.charCodeAt(a+3)],y[o++]=u<<2|s>>4,y[o++]=(s&15)<<4|c>>2,y[o++]=(c&3)<<6|f&63;return d},"decode");var get=typeof ArrayBuffer=="function",bet=i(function(e,r){if(typeof e!="string")return{type:"message",data:GX(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:wet(e.substring(1),r)};var a=hd[n];return a?e.length>1?{type:hd[n],data:e.substring(1)}:{type:hd[n]}:MX},"decodePacket"),wet=i(function(e,r){if(get){var n=zX(e);return GX(n,r)}else return{base64:!0,data:e}},"decodeBase64Packet"),GX=i(function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},"mapBinary"),qb=bet;var HX=String.fromCharCode(30),VX=i(function(e,r){var n=e.length,a=new Array(n),o=0;e.forEach(function(u,s){kb(u,!1,function(c){a[s]=c,++o===n&&r(a.join(HX))})})},"encodePayload"),WX=i(function(e,r){for(var n=e.split(HX),a=[],o=0;o<n.length;o++){var u=qb(n[o],r);if(a.push(u),u.type==="error")break}return a},"decodePayload"),Dk=4;function Qe(t){if(t)return Oet(t)}i(Qe,"Emitter");function Oet(t){for(var e in Qe.prototype)t[e]=Qe.prototype[e];return t}i(Oet,"mixin");Qe.prototype.on=Qe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Qe.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return i(r,"on"),r.fn=e,this.on(t,r),this};Qe.prototype.off=Qe.prototype.removeListener=Qe.prototype.removeAllListeners=Qe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Qe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Qe.prototype.emitReserved=Qe.prototype.emit;Qe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Qe.prototype.hasListeners=function(t){return!!this.listeners(t).length};var mn=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}();function xb(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(a,o){return t.hasOwnProperty(o)&&(a[o]=t[o]),a},{})}i(xb,"pick");var _et=setTimeout,Pet=clearTimeout;function uo(t,e){e.useNativeTimers?(t.setTimeoutFn=_et.bind(mn),t.clearTimeoutFn=Pet.bind(mn)):(t.setTimeoutFn=setTimeout.bind(mn),t.clearTimeoutFn=clearTimeout.bind(mn))}i(uo,"installTimerFunctions");var Eet=1.33;function KX(t){return typeof t=="string"?Ret(t):Math.ceil((t.byteLength||t.size)*Eet)}i(KX,"byteLength");function Ret(t){for(var e=0,r=0,n=0,a=t.length;n<a;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}i(Ret,"utf8Length");function Uk(t){return Uk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uk(t)}i(Uk,"_typeof");function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get.bind():Lu=i(function(e,r,n){var a=Tet(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),Lu.apply(this,arguments)}i(Lu,"_get");function Tet(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=mi(t),t!==null););return t}i(Tet,"_superPropBase");function YX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YX,"_defineProperties");function XX(t,e,r){return e&&YX(t.prototype,e),r&&YX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(XX,"_createClass");function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(JX,"_classCallCheck");function QX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&md(t,e)}i(QX,"_inherits");function ZX(t){var e=tJ();return i(function(){var n=mi(t),a;if(e){var o=mi(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Aet(this,a)},"_createSuperInternal")}i(ZX,"_createSuper");function Aet(t,e){if(e&&(Uk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJ(t)}i(Aet,"_possibleConstructorReturn");function eJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(eJ,"_assertThisInitialized");function Mk(t){var e=typeof Map=="function"?new Map:void 0;return Mk=i(function(n){if(n===null||!Iet(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Cb(n,arguments,mi(this).constructor)}return i(a,"Wrapper"),a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),md(a,n)},"_wrapNativeSuper"),Mk(t)}i(Mk,"_wrapNativeSuper");function Cb(t,e,r){return tJ()?Cb=Reflect.construct.bind():Cb=i(function(a,o,u){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(a,s),f=new c;return u&&md(f,u.prototype),f},"_construct"),Cb.apply(null,arguments)}i(Cb,"_construct");function tJ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(tJ,"_isNativeReflectConstruct");function Iet(t){return Function.toString.call(t).indexOf("[native code]")!==-1}i(Iet,"_isNativeFunction");function md(t,e){return md=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),md(t,e)}i(md,"_setPrototypeOf");function mi(t){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),mi(t)}i(mi,"_getPrototypeOf");var ket=function(t){QX(r,t);var e=ZX(r);function r(n,a,o){var u;return JX(this,r),u=e.call(this,n),u.description=a,u.context=o,u.type="TransportError",u}return i(r,"TransportError"),XX(r)}(Mk(Error)),gd=function(t){QX(r,t);var e=ZX(r);function r(n){var a;return JX(this,r),a=e.call(this),a.writable=!1,uo(eJ(a),n),a.opts=n,a.query=n.query,a.readyState="",a.socket=n.socket,a}return i(r,"Transport"),XX(r,[{key:"onError",value:i(function(a,o,u){return Lu(mi(r.prototype),"emitReserved",this).call(this,"error",new ket(a,o,u)),this},"onError")},{key:"open",value:i(function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},"open")},{key:"close",value:i(function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},"close")},{key:"send",value:i(function(a){this.readyState==="open"&&this.write(a)},"send")},{key:"onOpen",value:i(function(){this.readyState="open",this.writable=!0,Lu(mi(r.prototype),"emitReserved",this).call(this,"open")},"onOpen")},{key:"onData",value:i(function(a){var o=qb(a,this.socket.binaryType);this.onPacket(o)},"onData")},{key:"onPacket",value:i(function(a){Lu(mi(r.prototype),"emitReserved",this).call(this,"packet",a)},"onPacket")},{key:"onClose",value:i(function(a){this.readyState="closed",Lu(mi(r.prototype),"emitReserved",this).call(this,"close",a)},"onClose")}]),r}(Qe);var oJ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Bk=64,qet={},rJ=0,Fb=0,nJ;function iJ(t){var e="";do e=oJ[t%Bk]+e,t=Math.floor(t/Bk);while(t>0);return e}i(iJ,"encode");function Lb(){var t=iJ(+new Date);return t!==nJ?(rJ=0,nJ=t):t+"."+iJ(rJ++)}i(Lb,"yeast");for(;Fb<Bk;Fb++)qet[oJ[Fb]]=Fb;function jb(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}i(jb,"encode");function aJ(t){for(var e={},r=t.split("&"),n=0,a=r.length;n<a;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}i(aJ,"decode");var uJ=!1;try{uJ=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}var sJ=uJ;function $k(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||sJ))return new XMLHttpRequest}catch(r){}if(!e)try{return new mn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}i($k,"XHR");function zk(t){return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zk(t)}i(zk,"_typeof");function pJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(pJ,"_classCallCheck");function lJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(lJ,"_defineProperties");function dJ(t,e,r){return e&&lJ(t.prototype,e),r&&lJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(dJ,"_createClass");function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gk(t,e)}i(hJ,"_inherits");function Gk(t,e){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Gk(t,e)}i(Gk,"_setPrototypeOf");function vJ(t){var e=Cet();return i(function(){var n=Nb(t),a;if(e){var o=Nb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return xet(this,a)},"_createSuperInternal")}i(vJ,"_createSuper");function xet(t,e){if(e&&(zk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJ(t)}i(xet,"_possibleConstructorReturn");function yJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(yJ,"_assertThisInitialized");function Cet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Cet,"_isNativeReflectConstruct");function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Nb(t)}i(Nb,"_getPrototypeOf");function Fet(){}i(Fet,"empty");var Let=function(){var t=new $k({xdomain:!1});return t.responseType!=null}(),mJ=function(t){hJ(r,t);var e=vJ(r);function r(n){var a;if(pJ(this,r),a=e.call(this,n),a.polling=!1,typeof location!="undefined"){var o=location.protocol==="https:",u=location.port;u||(u=o?"443":"80"),a.xd=typeof location!="undefined"&&n.hostname!==location.hostname||u!==n.port,a.xs=n.secure!==o}var s=n&&n.forceBase64;return a.supportsBinary=Let&&!s,a}return i(r,"Polling"),dJ(r,[{key:"name",get:i(function(){return"polling"},"get")},{key:"doOpen",value:i(function(){this.poll()},"doOpen")},{key:"pause",value:i(function(a){var o=this;this.readyState="pausing";var u=i(function(){o.readyState="paused",a()},"pause");if(this.polling||!this.writable){var s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||u()})),this.writable||(s++,this.once("drain",function(){--s||u()}))}else u()},"pause")},{key:"poll",value:i(function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")},"poll")},{key:"onData",value:i(function(a){var o=this,u=i(function(c){if(o.readyState==="opening"&&c.type==="open"&&o.onOpen(),c.type==="close")return o.onClose({description:"transport closed by the server"}),!1;o.onPacket(c)},"callback");WX(a,this.socket.binaryType).forEach(u),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())},"onData")},{key:"doClose",value:i(function(){var a=this,o=i(function(){a.write([{type:"close"}])},"close");this.readyState==="open"?o():this.once("open",o)},"doClose")},{key:"write",value:i(function(a){var o=this;this.writable=!1,VX(a,function(u){o.doWrite(u,function(){o.writable=!0,o.emitReserved("drain")})})},"write")},{key:"uri",value:i(function(){var a=this.query||{},o=this.opts.secure?"https":"http",u="";this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=Lb()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.opts.port&&(o==="https"&&Number(this.opts.port)!==443||o==="http"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port);var s=jb(a),c=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"request",value:i(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(a,{xd:this.xd,xs:this.xs},this.opts),new Fl(this.uri(),a)},"request")},{key:"doWrite",value:i(function(a,o){var u=this,s=this.request({method:"POST",data:a});s.on("success",o),s.on("error",function(c,f){u.onError("xhr post error",c,f)})},"doWrite")},{key:"doPoll",value:i(function(){var a=this,o=this.request();o.on("data",this.onData.bind(this)),o.on("error",function(u,s){a.onError("xhr poll error",u,s)}),this.pollXhr=o},"doPoll")}]),r}(gd),Fl=function(t){hJ(r,t);var e=vJ(r);function r(n,a){var o;return pJ(this,r),o=e.call(this),uo(yJ(o),a),o.opts=a,o.method=a.method||"GET",o.uri=n,o.async=a.async!==!1,o.data=a.data!==void 0?a.data:null,o.create(),o}return i(r,"Request"),dJ(r,[{key:"create",value:i(function(){var a=this,o=xb(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd,o.xscheme=!!this.opts.xs;var u=this.xhr=new $k(o);try{u.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){u.setDisableHeaderCheck&&u.setDisableHeaderCheck(!0);for(var s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&u.setRequestHeader(s,this.opts.extraHeaders[s])}}catch(c){}if(this.method==="POST")try{u.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}try{u.setRequestHeader("Accept","*/*")}catch(c){}"withCredentials"in u&&(u.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(u.timeout=this.opts.requestTimeout),u.onreadystatechange=function(){u.readyState===4&&(u.status===200||u.status===1223?a.onLoad():a.setTimeoutFn(function(){a.onError(typeof u.status=="number"?u.status:0)},0))},u.send(this.data)}catch(c){this.setTimeoutFn(function(){a.onError(c)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)},"create")},{key:"onError",value:i(function(a){this.emitReserved("error",a,this.xhr),this.cleanup(!0)},"onError")},{key:"cleanup",value:i(function(a){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Fet,a)try{this.xhr.abort()}catch(o){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}},"cleanup")},{key:"onLoad",value:i(function(){var a=this.xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this.cleanup())},"onLoad")},{key:"abort",value:i(function(){this.cleanup()},"abort")}]),r}(Qe);Fl.requestsCount=0;Fl.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",fJ):typeof addEventListener=="function"&&(cJ="onpagehide"in mn?"pagehide":"unload",addEventListener(cJ,fJ,!1)));var cJ;function fJ(){for(var t in Fl.requests)Fl.requests.hasOwnProperty(t)&&Fl.requests[t].abort()}i(fJ,"unloadHandler");var gJ=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}(),bd=mn.WebSocket||mn.MozWebSocket,Db=!0,bJ="arraybuffer";function Hk(t){return Hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hk(t)}i(Hk,"_typeof");function jet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(jet,"_classCallCheck");function wJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(wJ,"_defineProperties");function Net(t,e,r){return e&&wJ(t.prototype,e),r&&wJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Net,"_createClass");function Det(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vk(t,e)}i(Det,"_inherits");function Vk(t,e){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Vk(t,e)}i(Vk,"_setPrototypeOf");function Uet(t){var e=$et();return i(function(){var n=Ub(t),a;if(e){var o=Ub(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Met(this,a)},"_createSuperInternal")}i(Uet,"_createSuper");function Met(t,e){if(e&&(Hk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bet(t)}i(Met,"_possibleConstructorReturn");function Bet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Bet,"_assertThisInitialized");function $et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i($et,"_isNativeReflectConstruct");function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ub(t)}i(Ub,"_getPrototypeOf");var OJ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",SJ=function(t){Det(r,t);var e=Uet(r);function r(n){var a;return jet(this,r),a=e.call(this,n),a.supportsBinary=!n.forceBase64,a}return i(r,"WS"),Net(r,[{key:"name",get:i(function(){return"websocket"},"get")},{key:"doOpen",value:i(function(){if(!!this.check()){var a=this.uri(),o=this.opts.protocols,u=OJ?{}:xb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(u.headers=this.opts.extraHeaders);try{this.ws=Db&&!OJ?o?new bd(a,o):new bd(a):new bd(a,o,u)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||bJ,this.addEventListeners()}},"doOpen")},{key:"addEventListeners",value:i(function(){var a=this;this.ws.onopen=function(){a.opts.autoUnref&&a.ws._socket.unref(),a.onOpen()},this.ws.onclose=function(o){return a.onClose({description:"websocket connection closed",context:o})},this.ws.onmessage=function(o){return a.onData(o.data)},this.ws.onerror=function(o){return a.onError("websocket error",o)}},"addEventListeners")},{key:"write",value:i(function(a){var o=this;this.writable=!1;for(var u=i(function(f){var d=a[f],y=f===a.length-1;kb(d,o.supportsBinary,function(m){var w={};if(!Db&&(d.options&&(w.compress=d.options.compress),o.opts.perMessageDeflate)){var _=typeof m=="string"?Buffer.byteLength(m):m.length;_<o.opts.perMessageDeflate.threshold&&(w.compress=!1)}try{Db?o.ws.send(m):o.ws.send(m,w)}catch(R){}y&&gJ(function(){o.writable=!0,o.emitReserved("drain")},o.setTimeoutFn)})},"_loop"),s=0;s<a.length;s++)u(s)},"write")},{key:"doClose",value:i(function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)},"doClose")},{key:"uri",value:i(function(){var a=this.query||{},o=this.opts.secure?"wss":"ws",u="";this.opts.port&&(o==="wss"&&Number(this.opts.port)!==443||o==="ws"&&Number(this.opts.port)!==80)&&(u=":"+this.opts.port),this.opts.timestampRequests&&(a[this.opts.timestampParam]=Lb()),this.supportsBinary||(a.b64=1);var s=jb(a),c=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+u+this.opts.path+(s.length?"?"+s:"")},"uri")},{key:"check",value:i(function(){return!!bd},"check")}]),r}(gd);var Wk={websocket:SJ,polling:mJ};var zet=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Get=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ll(t){var e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));for(var a=zet.exec(t||""),o={},u=14;u--;)o[Get[u]]=a[u]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Het(o,o.path),o.queryKey=Vet(o,o.query),o}i(Ll,"parse");function Het(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}i(Het,"pathNames");function Vet(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,o){a&&(r[a]=o)}),r}i(Vet,"queryKey");function Mb(t){return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}i(Mb,"_typeof");function Wet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Wet,"_classCallCheck");function _J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(_J,"_defineProperties");function Ket(t,e,r){return e&&_J(t.prototype,e),r&&_J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ket,"_createClass");function Yet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kk(t,e)}i(Yet,"_inherits");function Kk(t,e){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Kk(t,e)}i(Kk,"_setPrototypeOf");function Xet(t){var e=Qet();return i(function(){var n=Bb(t),a;if(e){var o=Bb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Jet(this,a)},"_createSuperInternal")}i(Xet,"_createSuper");function Jet(t,e){if(e&&(Mb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PJ(t)}i(Jet,"_possibleConstructorReturn");function PJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(PJ,"_assertThisInitialized");function Qet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Qet,"_isNativeReflectConstruct");function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Bb(t)}i(Bb,"_getPrototypeOf");var wd=function(t){Yet(r,t);var e=Xet(r);function r(n){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Wet(this,r),a=e.call(this),n&&Mb(n)==="object"&&(o=n,n=null),n?(n=Ll(n),o.hostname=n.host,o.secure=n.protocol==="https"||n.protocol==="wss",o.port=n.port,n.query&&(o.query=n.query)):o.host&&(o.hostname=Ll(o.host).host),uo(PJ(a),o),a.secure=o.secure!=null?o.secure:typeof location!="undefined"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=a.secure?"443":"80"),a.hostname=o.hostname||(typeof location!="undefined"?location.hostname:"localhost"),a.port=o.port||(typeof location!="undefined"&&location.port?location.port:a.secure?"443":"80"),a.transports=o.transports||["polling","websocket"],a.readyState="",a.writeBuffer=[],a.prevBufferLen=0,a.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),a.opts.path=a.opts.path.replace(/\/$/,"")+"/",typeof a.opts.query=="string"&&(a.opts.query=aJ(a.opts.query)),a.id=null,a.upgrades=null,a.pingInterval=null,a.pingTimeout=null,a.pingTimeoutTimer=null,typeof addEventListener=="function"&&(a.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){a.transport&&(a.transport.removeAllListeners(),a.transport.close())},!1),a.hostname!=="localhost"&&(a.offlineEventListener=function(){a.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",a.offlineEventListener,!1))),a.open(),a}return i(r,"Socket"),Ket(r,[{key:"createTransport",value:i(function(a){var o=Object.assign({},this.opts.query);o.EIO=Dk,o.transport=a,this.id&&(o.sid=this.id);var u=Object.assign({},this.opts.transportOptions[a],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Wk[a](u)},"createTransport")},{key:"open",value:i(function(){var a=this,o;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)o="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){a.emitReserved("error","No transports available")},0);return}else o=this.transports[0];this.readyState="opening";try{o=this.createTransport(o)}catch(u){this.transports.shift(),this.open();return}o.open(),this.setTransport(o)},"open")},{key:"setTransport",value:i(function(a){var o=this;this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(u){return o.onClose("transport close",u)})},"setTransport")},{key:"probe",value:i(function(a){var o=this,u=this.createTransport(a),s=!1;r.priorWebsocketSuccess=!1;var c=i(function(){s||(u.send([{type:"ping",data:"probe"}]),u.once("packet",function(T){if(!s)if(T.type==="pong"&&T.data==="probe"){if(o.upgrading=!0,o.emitReserved("upgrading",u),!u)return;r.priorWebsocketSuccess=u.name==="websocket",o.transport.pause(function(){s||o.readyState!=="closed"&&(_(),o.setTransport(u),u.send([{type:"upgrade"}]),o.emitReserved("upgrade",u),u=null,o.upgrading=!1,o.flush())})}else{var E=new Error("probe error");E.transport=u.name,o.emitReserved("upgradeError",E)}}))},"onTransportOpen");function f(){s||(s=!0,_(),u.close(),u=null)}i(f,"freezeTransport");var d=i(function(T){var E=new Error("probe error: "+T);E.transport=u.name,f(),o.emitReserved("upgradeError",E)},"onerror");function y(){d("transport closed")}i(y,"onTransportClose");function m(){d("socket closed")}i(m,"onclose");function w(R){u&&R.name!==u.name&&f()}i(w,"onupgrade");var _=i(function(){u.removeListener("open",c),u.removeListener("error",d),u.removeListener("close",y),o.off("close",m),o.off("upgrading",w)},"cleanup");u.once("open",c),u.once("error",d),u.once("close",y),this.once("close",m),this.once("upgrading",w),u.open()},"probe")},{key:"onOpen",value:i(function(){if(this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause)for(var a=0,o=this.upgrades.length;a<o;a++)this.probe(this.upgrades[a])},"onOpen")},{key:"onPacket",value:i(function(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var o=new Error("server error");o.code=a.data,this.onError(o);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}},"onPacket")},{key:"onHandshake",value:i(function(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()},"onHandshake")},{key:"resetPingTimeout",value:i(function(){var a=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){a.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()},"resetPingTimeout")},{key:"onDrain",value:i(function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()},"onDrain")},{key:"flush",value:i(function(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var a=this.getWritablePackets();this.transport.send(a),this.prevBufferLen=a.length,this.emitReserved("flush")}},"flush")},{key:"getWritablePackets",value:i(function(){var a=this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1;if(!a)return this.writeBuffer;for(var o=1,u=0;u<this.writeBuffer.length;u++){var s=this.writeBuffer[u].data;if(s&&(o+=KX(s)),u>0&&o>this.maxPayload)return this.writeBuffer.slice(0,u);o+=2}return this.writeBuffer},"getWritablePackets")},{key:"write",value:i(function(a,o,u){return this.sendPacket("message",a,o,u),this},"write")},{key:"send",value:i(function(a,o,u){return this.sendPacket("message",a,o,u),this},"send")},{key:"sendPacket",value:i(function(a,o,u,s){if(typeof o=="function"&&(s=o,o=void 0),typeof u=="function"&&(s=u,u=null),!(this.readyState==="closing"||this.readyState==="closed")){u=u||{},u.compress=u.compress!==!1;var c={type:a,data:o,options:u};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),s&&this.once("flush",s),this.flush()}},"sendPacket")},{key:"close",value:i(function(){var a=this,o=i(function(){a.onClose("forced close"),a.transport.close()},"close"),u=i(function c(){a.off("upgrade",c),a.off("upgradeError",c),o()},"cleanupAndClose"),s=i(function(){a.once("upgrade",u),a.once("upgradeError",u)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){a.upgrading?s():o()}):this.upgrading?s():o()),this},"close")},{key:"onError",value:i(function(a){r.priorWebsocketSuccess=!1,this.emitReserved("error",a),this.onClose("transport error",a)},"onError")},{key:"onClose",value:i(function(a,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",a,o),this.writeBuffer=[],this.prevBufferLen=0)},"onClose")},{key:"filterUpgrades",value:i(function(a){for(var o=[],u=0,s=a.length;u<s;u++)~this.transports.indexOf(a[u])&&o.push(a[u]);return o},"filterUpgrades")}]),r}(Qe);wd.protocol=Dk;var hSt=wd.protocol;function EJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),n=Ll(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var a=n.host.indexOf(":")!==-1,o=a?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}i(EJ,"url");var tq={};Hl(tq,{Decoder:function(){return ctt},Encoder:function(){return ltt},PacketType:function(){return De},protocol:function(){return kJ}});function Yk(t){return Yk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yk(t)}i(Yk,"_typeof");var Zet=typeof ArrayBuffer=="function",ett=i(function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},"isView"),RJ=Object.prototype.toString,ttt=typeof Blob=="function"||typeof Blob!="undefined"&&RJ.call(Blob)==="[object BlobConstructor]",rtt=typeof File=="function"||typeof File!="undefined"&&RJ.call(File)==="[object FileConstructor]";function Sd(t){return Zet&&(t instanceof ArrayBuffer||ett(t))||ttt&&t instanceof Blob||rtt&&t instanceof File}i(Sd,"isBinary");function Od(t,e){if(!t||Yk(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(Od(t[r]))return!0;return!1}if(Sd(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Od(t.toJSON(),!0);for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&Od(t[a]))return!0;return!1}i(Od,"hasBinary");function $b(t){return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}i($b,"_typeof");function TJ(t){var e=[],r=t.data,n=t;return n.data=Xk(r,e),n.attachments=e.length,{packet:n,buffers:e}}i(TJ,"deconstructPacket");function Xk(t,e){if(!t)return t;if(Sd(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),a=0;a<t.length;a++)n[a]=Xk(t[a],e);return n}else if($b(t)==="object"&&!(t instanceof Date)){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(o[u]=Xk(t[u],e));return o}return t}i(Xk,"_deconstructPacket");function AJ(t,e){return t.data=Jk(t.data,e),t.attachments=void 0,t}i(AJ,"reconstructPacket");function Jk(t,e){if(!t)return t;if(t&&t._placeholder===!0){var r=typeof t.num=="number"&&t.num>=0&&t.num<e.length;if(r)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Jk(t[n],e);else if($b(t)==="object")for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=Jk(t[a],e));return t}i(Jk,"_reconstructPacket");function _d(t){return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}i(_d,"_typeof");function jl(){return typeof Reflect!="undefined"&&Reflect.get?jl=Reflect.get.bind():jl=i(function(e,r,n){var a=ntt(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),jl.apply(this,arguments)}i(jl,"_get");function ntt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=sa(t),t!==null););return t}i(ntt,"_superPropBase");function itt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qk(t,e)}i(itt,"_inherits");function Qk(t,e){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Qk(t,e)}i(Qk,"_setPrototypeOf");function ott(t){var e=stt();return i(function(){var n=sa(t),a;if(e){var o=sa(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return att(this,a)},"_createSuperInternal")}i(ott,"_createSuper");function att(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return utt(t)}i(att,"_possibleConstructorReturn");function utt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(utt,"_assertThisInitialized");function stt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(stt,"_isNativeReflectConstruct");function sa(t){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),sa(t)}i(sa,"_getPrototypeOf");function Zk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Zk,"_classCallCheck");function IJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(IJ,"_defineProperties");function eq(t,e,r){return e&&IJ(t.prototype,e),r&&IJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(eq,"_createClass");var kJ=5,De;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));var ltt=function(){function t(e){Zk(this,t),this.replacer=e}return i(t,"Encoder"),eq(t,[{key:"encode",value:i(function(r){return(r.type===De.EVENT||r.type===De.ACK)&&Od(r)?(r.type=r.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]},"encode")},{key:"encodeAsString",value:i(function(r){var n=""+r.type;return(r.type===De.BINARY_EVENT||r.type===De.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data,this.replacer)),n},"encodeAsString")},{key:"encodeAsBinary",value:i(function(r){var n=TJ(r),a=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(a),o},"encodeAsBinary")}]),t}(),ctt=function(t){itt(r,t);var e=ott(r);function r(n){var a;return Zk(this,r),a=e.call(this),a.reviver=n,a}return i(r,"Decoder"),eq(r,[{key:"add",value:i(function(a){var o;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(a),o.type===De.BINARY_EVENT||o.type===De.BINARY_ACK?(this.reconstructor=new ftt(o),o.attachments===0&&jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o)):jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o)}else if(Sd(a)||a.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(a),o&&(this.reconstructor=null,jl(sa(r.prototype),"emitReserved",this).call(this,"decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)},"add")},{key:"decodeString",value:i(function(a){var o=0,u={type:Number(a.charAt(0))};if(De[u.type]===void 0)throw new Error("unknown packet type "+u.type);if(u.type===De.BINARY_EVENT||u.type===De.BINARY_ACK){for(var s=o+1;a.charAt(++o)!=="-"&&o!=a.length;);var c=a.substring(s,o);if(c!=Number(c)||a.charAt(o)!=="-")throw new Error("Illegal attachments");u.attachments=Number(c)}if(a.charAt(o+1)==="/"){for(var f=o+1;++o;){var d=a.charAt(o);if(d===","||o===a.length)break}u.nsp=a.substring(f,o)}else u.nsp="/";var y=a.charAt(o+1);if(y!==""&&Number(y)==y){for(var m=o+1;++o;){var w=a.charAt(o);if(w==null||Number(w)!=w){--o;break}if(o===a.length)break}u.id=Number(a.substring(m,o+1))}if(a.charAt(++o)){var _=this.tryParse(a.substr(o));if(r.isPayloadValid(u.type,_))u.data=_;else throw new Error("invalid payload")}return u},"decodeString")},{key:"tryParse",value:i(function(a){try{return JSON.parse(a,this.reviver)}catch(o){return!1}},"tryParse")},{key:"destroy",value:i(function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},"destroy")}],[{key:"isPayloadValid",value:i(function(a,o){switch(a){case De.CONNECT:return _d(o)==="object";case De.DISCONNECT:return o===void 0;case De.CONNECT_ERROR:return typeof o=="string"||_d(o)==="object";case De.EVENT:case De.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case De.ACK:case De.BINARY_ACK:return Array.isArray(o)}},"isPayloadValid")}]),r}(Qe),ftt=function(){function t(e){Zk(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return i(t,"BinaryReconstructor"),eq(t,[{key:"takeBinaryData",value:i(function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=AJ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null},"takeBinaryData")},{key:"finishedReconstruction",value:i(function(){this.reconPack=null,this.buffers=[]},"finishedReconstruction")}]),t}();function Yr(t,e,r){return t.on(e,r),i(function(){t.off(e,r)},"subDestroy")}i(Yr,"on");function rq(t){return rq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rq(t)}i(rq,"_typeof");function qJ(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ptt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(qJ,"_createForOfIteratorHelper");function ptt(t,e){if(!!t){if(typeof t=="string")return xJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xJ(t,e)}}i(ptt,"_unsupportedIterableToArray");function xJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(xJ,"_arrayLikeToArray");function dtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(dtt,"_classCallCheck");function CJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(CJ,"_defineProperties");function htt(t,e,r){return e&&CJ(t.prototype,e),r&&CJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(htt,"_createClass");function zb(){return typeof Reflect!="undefined"&&Reflect.get?zb=Reflect.get.bind():zb=i(function(e,r,n){var a=vtt(e,r);if(!!a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?e:n):o.value}},"_get"),zb.apply(this,arguments)}i(zb,"_get");function vtt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Nl(t),t!==null););return t}i(vtt,"_superPropBase");function ytt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nq(t,e)}i(ytt,"_inherits");function nq(t,e){return nq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),nq(t,e)}i(nq,"_setPrototypeOf");function mtt(t){var e=wtt();return i(function(){var n=Nl(t),a;if(e){var o=Nl(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return gtt(this,a)},"_createSuperInternal")}i(mtt,"_createSuper");function gtt(t,e){if(e&&(rq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return btt(t)}i(gtt,"_possibleConstructorReturn");function btt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(btt,"_assertThisInitialized");function wtt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(wtt,"_isNativeReflectConstruct");function Nl(t){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Nl(t)}i(Nl,"_getPrototypeOf");var Ott=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Gb=function(t){ytt(r,t);var e=mtt(r);function r(n,a,o){var u;return dtt(this,r),u=e.call(this),u.connected=!1,u.receiveBuffer=[],u.sendBuffer=[],u.ids=0,u.acks={},u.flags={},u.io=n,u.nsp=a,o&&o.auth&&(u.auth=o.auth),u.io._autoConnect&&u.open(),u}return i(r,"Socket"),htt(r,[{key:"disconnected",get:i(function(){return!this.connected},"get")},{key:"subEvents",value:i(function(){if(!this.subs){var a=this.io;this.subs=[Yr(a,"open",this.onopen.bind(this)),Yr(a,"packet",this.onpacket.bind(this)),Yr(a,"error",this.onerror.bind(this)),Yr(a,"close",this.onclose.bind(this))]}},"subEvents")},{key:"active",get:i(function(){return!!this.subs},"get")},{key:"connect",value:i(function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)},"connect")},{key:"open",value:i(function(){return this.connect()},"open")},{key:"send",value:i(function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return o.unshift("message"),this.emit.apply(this,o),this},"send")},{key:"emit",value:i(function(a){if(Ott.hasOwnProperty(a))throw new Error('"'+a+'" is a reserved event name');for(var o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];u.unshift(a);var c={type:De.EVENT,data:u};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){var f=this.ids++,d=u.pop();this._registerAckCallback(f,d),c.id=f}var y=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,m=this.flags.volatile&&(!y||!this.connected);return m||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this},"emit")},{key:"_registerAckCallback",value:i(function(a,o){var u=this,s=this.flags.timeout;if(s===void 0){this.acks[a]=o;return}var c=this.io.setTimeoutFn(function(){delete u.acks[a];for(var f=0;f<u.sendBuffer.length;f++)u.sendBuffer[f].id===a&&u.sendBuffer.splice(f,1);o.call(u,new Error("operation has timed out"))},s);this.acks[a]=function(){u.io.clearTimeoutFn(c);for(var f=arguments.length,d=new Array(f),y=0;y<f;y++)d[y]=arguments[y];o.apply(u,[null].concat(d))}},"_registerAckCallback")},{key:"packet",value:i(function(a){a.nsp=this.nsp,this.io._packet(a)},"packet")},{key:"onopen",value:i(function(){var a=this;typeof this.auth=="function"?this.auth(function(o){a.packet({type:De.CONNECT,data:o})}):this.packet({type:De.CONNECT,data:this.auth})},"onopen")},{key:"onerror",value:i(function(a){this.connected||this.emitReserved("connect_error",a)},"onerror")},{key:"onclose",value:i(function(a,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,o)},"onclose")},{key:"onpacket",value:i(function(a){var o=a.nsp===this.nsp;if(!!o)switch(a.type){case De.CONNECT:if(a.data&&a.data.sid){var u=a.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(a);break;case De.ACK:case De.BINARY_ACK:this.onack(a);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();var s=new Error(a.data.message);s.data=a.data.data,this.emitReserved("connect_error",s);break}},"onpacket")},{key:"onevent",value:i(function(a){var o=a.data||[];a.id!=null&&o.push(this.ack(a.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))},"onevent")},{key:"emitEvent",value:i(function(a){if(this._anyListeners&&this._anyListeners.length){var o=this._anyListeners.slice(),u=qJ(o),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;c.apply(this,a)}}catch(f){u.e(f)}finally{u.f()}}zb(Nl(r.prototype),"emit",this).apply(this,a)},"emitEvent")},{key:"ack",value:i(function(a){var o=this,u=!1;return function(){if(!u){u=!0;for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];o.packet({type:De.ACK,id:a,data:c})}}},"ack")},{key:"onack",value:i(function(a){var o=this.acks[a.id];typeof o=="function"&&(o.apply(this,a.data),delete this.acks[a.id])},"onack")},{key:"onconnect",value:i(function(a){this.id=a,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")},"onconnect")},{key:"emitBuffered",value:i(function(){var a=this;this.receiveBuffer.forEach(function(o){return a.emitEvent(o)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(o){a.notifyOutgoingListeners(o),a.packet(o)}),this.sendBuffer=[]},"emitBuffered")},{key:"ondisconnect",value:i(function(){this.destroy(),this.onclose("io server disconnect")},"ondisconnect")},{key:"destroy",value:i(function(){this.subs&&(this.subs.forEach(function(a){return a()}),this.subs=void 0),this.io._destroy(this)},"destroy")},{key:"disconnect",value:i(function(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},"disconnect")},{key:"close",value:i(function(){return this.disconnect()},"close")},{key:"compress",value:i(function(a){return this.flags.compress=a,this},"compress")},{key:"volatile",get:i(function(){return this.flags.volatile=!0,this},"get")},{key:"timeout",value:i(function(a){return this.flags.timeout=a,this},"timeout")},{key:"onAny",value:i(function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this},"onAny")},{key:"prependAny",value:i(function(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this},"prependAny")},{key:"offAny",value:i(function(a){if(!this._anyListeners)return this;if(a){for(var o=this._anyListeners,u=0;u<o.length;u++)if(a===o[u])return o.splice(u,1),this}else this._anyListeners=[];return this},"offAny")},{key:"listenersAny",value:i(function(){return this._anyListeners||[]},"listenersAny")},{key:"onAnyOutgoing",value:i(function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this},"onAnyOutgoing")},{key:"prependAnyOutgoing",value:i(function(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this},"prependAnyOutgoing")},{key:"offAnyOutgoing",value:i(function(a){if(!this._anyOutgoingListeners)return this;if(a){for(var o=this._anyOutgoingListeners,u=0;u<o.length;u++)if(a===o[u])return o.splice(u,1),this}else this._anyOutgoingListeners=[];return this},"offAnyOutgoing")},{key:"listenersAnyOutgoing",value:i(function(){return this._anyOutgoingListeners||[]},"listenersAnyOutgoing")},{key:"notifyOutgoingListeners",value:i(function(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var o=this._anyOutgoingListeners.slice(),u=qJ(o),s;try{for(u.s();!(s=u.n()).done;){var c=s.value;c.apply(this,a.data)}}catch(f){u.e(f)}finally{u.f()}}},"notifyOutgoingListeners")}]),r}(Qe);function ju(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}i(ju,"Backoff");ju.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ju.prototype.reset=function(){this.attempts=0};ju.prototype.setMin=function(t){this.ms=t};ju.prototype.setMax=function(t){this.max=t};ju.prototype.setJitter=function(t){this.jitter=t};function Hb(t){return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}i(Hb,"_typeof");function Stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Stt,"_classCallCheck");function FJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FJ,"_defineProperties");function _tt(t,e,r){return e&&FJ(t.prototype,e),r&&FJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(_tt,"_createClass");function Ptt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iq(t,e)}i(Ptt,"_inherits");function iq(t,e){return iq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),iq(t,e)}i(iq,"_setPrototypeOf");function Ett(t){var e=Ttt();return i(function(){var n=Vb(t),a;if(e){var o=Vb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Rtt(this,a)},"_createSuperInternal")}i(Ett,"_createSuper");function Rtt(t,e){if(e&&(Hb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}i(Rtt,"_possibleConstructorReturn");function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(LJ,"_assertThisInitialized");function Ttt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Ttt,"_isNativeReflectConstruct");function Vb(t){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Vb(t)}i(Vb,"_getPrototypeOf");var Wb=function(t){Ptt(r,t);var e=Ett(r);function r(n,a){var o;Stt(this,r);var u;o=e.call(this),o.nsps={},o.subs=[],n&&Hb(n)==="object"&&(a=n,n=void 0),a=a||{},a.path=a.path||"/socket.io",o.opts=a,uo(LJ(o),a),o.reconnection(a.reconnection!==!1),o.reconnectionAttempts(a.reconnectionAttempts||1/0),o.reconnectionDelay(a.reconnectionDelay||1e3),o.reconnectionDelayMax(a.reconnectionDelayMax||5e3),o.randomizationFactor((u=a.randomizationFactor)!==null&&u!==void 0?u:.5),o.backoff=new ju({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(a.timeout==null?2e4:a.timeout),o._readyState="closed",o.uri=n;var s=a.parser||tq;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=a.autoConnect!==!1,o._autoConnect&&o.open(),o}return i(r,"Manager"),_tt(r,[{key:"reconnection",value:i(function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},"reconnection")},{key:"reconnectionAttempts",value:i(function(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)},"reconnectionAttempts")},{key:"reconnectionDelay",value:i(function(a){var o;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(o=this.backoff)===null||o===void 0||o.setMin(a),this)},"reconnectionDelay")},{key:"randomizationFactor",value:i(function(a){var o;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(o=this.backoff)===null||o===void 0||o.setJitter(a),this)},"randomizationFactor")},{key:"reconnectionDelayMax",value:i(function(a){var o;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(o=this.backoff)===null||o===void 0||o.setMax(a),this)},"reconnectionDelayMax")},{key:"timeout",value:i(function(a){return arguments.length?(this._timeout=a,this):this._timeout},"timeout")},{key:"maybeReconnectOnOpen",value:i(function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},"maybeReconnectOnOpen")},{key:"open",value:i(function(a){var o=this;if(~this._readyState.indexOf("open"))return this;this.engine=new wd(this.uri,this.opts);var u=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;var c=Yr(u,"open",function(){s.onopen(),a&&a()}),f=Yr(u,"error",function(m){s.cleanup(),s._readyState="closed",o.emitReserved("error",m),a?a(m):s.maybeReconnectOnOpen()});if(this._timeout!==!1){var d=this._timeout;d===0&&c();var y=this.setTimeoutFn(function(){c(),u.close(),u.emit("error",new Error("timeout"))},d);this.opts.autoUnref&&y.unref(),this.subs.push(i(function(){clearTimeout(y)},"subDestroy"))}return this.subs.push(c),this.subs.push(f),this},"open")},{key:"connect",value:i(function(a){return this.open(a)},"connect")},{key:"onopen",value:i(function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var a=this.engine;this.subs.push(Yr(a,"ping",this.onping.bind(this)),Yr(a,"data",this.ondata.bind(this)),Yr(a,"error",this.onerror.bind(this)),Yr(a,"close",this.onclose.bind(this)),Yr(this.decoder,"decoded",this.ondecoded.bind(this)))},"onopen")},{key:"onping",value:i(function(){this.emitReserved("ping")},"onping")},{key:"ondata",value:i(function(a){this.decoder.add(a)},"ondata")},{key:"ondecoded",value:i(function(a){this.emitReserved("packet",a)},"ondecoded")},{key:"onerror",value:i(function(a){this.emitReserved("error",a)},"onerror")},{key:"socket",value:i(function(a,o){var u=this.nsps[a];return u||(u=new Gb(this,a,o),this.nsps[a]=u),u},"socket")},{key:"_destroy",value:i(function(a){for(var o=Object.keys(this.nsps),u=0,s=o;u<s.length;u++){var c=s[u],f=this.nsps[c];if(f.active)return}this._close()},"_destroy")},{key:"_packet",value:i(function(a){for(var o=this.encoder.encode(a),u=0;u<o.length;u++)this.engine.write(o[u],a.options)},"_packet")},{key:"cleanup",value:i(function(){this.subs.forEach(function(a){return a()}),this.subs.length=0,this.decoder.destroy()},"cleanup")},{key:"_close",value:i(function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()},"_close")},{key:"disconnect",value:i(function(){return this._close()},"disconnect")},{key:"onclose",value:i(function(a,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,o),this._reconnection&&!this.skipReconnect&&this.reconnect()},"onclose")},{key:"reconnect",value:i(function(){var a=this;if(this._reconnecting||this.skipReconnect)return this;var o=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var u=this.backoff.duration();this._reconnecting=!0;var s=this.setTimeoutFn(function(){o.skipReconnect||(a.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(function(c){c?(o._reconnecting=!1,o.reconnect(),a.emitReserved("reconnect_error",c)):o.onreconnect()}))},u);this.opts.autoUnref&&s.unref(),this.subs.push(i(function(){clearTimeout(s)},"subDestroy"))}},"reconnect")},{key:"onreconnect",value:i(function(){var a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)},"onreconnect")}]),r}(Qe);function oq(t){return oq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oq(t)}i(oq,"_typeof");var Pd={};function Ed(t,e){oq(t)==="object"&&(e=t,t=void 0),e=e||{};var r=EJ(t,e.path||"/socket.io"),n=r.source,a=r.id,o=r.path,u=Pd[a]&&o in Pd[a].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||u,c;return s?c=new Wb(n,e):(Pd[a]||(Pd[a]=new Wb(n,e)),c=Pd[a]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}i(Ed,"lookup");Object.assign(Ed,{Manager:Wb,Socket:Gb,io:Ed,connect:Ed});function aq(t){var e=/^\w+:\/\//.exec(t),r=0;e&&(r=e[0].length+1);var n=t.indexOf("/",r);return n===-1?{origin:t,pathname:"/"}:{origin:t.slice(0,n),pathname:t.slice(n)}}i(aq,"parseUrl");function Yb(t){return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}i(Yb,"_typeof");function cq(){"use strict";cq=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Yb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(cq,"_regeneratorRuntime");function jJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(jJ,"asyncGeneratorStep");function Att(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){jJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){jJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(Att,"_asyncToGenerator");function Itt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Itt,"_classCallCheck");function NJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(NJ,"_defineProperties");function ktt(t,e,r){return e&&NJ(t.prototype,e),r&&NJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(ktt,"_createClass");function qtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fq(t,e)}i(qtt,"_inherits");function fq(t,e){return fq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),fq(t,e)}i(fq,"_setPrototypeOf");function xtt(t){var e=Ftt();return i(function(){var n=Xb(t),a;if(e){var o=Xb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ctt(this,a)},"_createSuperInternal")}i(xtt,"_createSuper");function Ctt(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gn(t)}i(Ctt,"_possibleConstructorReturn");function gn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(gn,"_assertThisInitialized");function Ftt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Ftt,"_isNativeReflectConstruct");function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Xb(t)}i(Xb,"_getPrototypeOf");function Rt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Rt,"_classPrivateFieldLooseBase");var Ltt=0;function co(t){return"__private_"+Ltt+++"_"+t}i(co,"_classPrivateFieldLooseKey");var jtt="ASSEMBLY_UPLOADING",pq="ASSEMBLY_EXECUTING",dq="ASSEMBLY_COMPLETED",DJ=[jtt,pq,dq];function Kb(t,e){return DJ.indexOf(t)>=DJ.indexOf(e)}i(Kb,"isStatus");var Du=co("rateLimitedQueue"),Rd=co("fetchWithNetworkError"),Nu=co("previousFetchStatusStillPending"),hq=co("onFinished"),uq=co("connectSocket"),so=co("onError"),sq=co("beginPolling"),lo=co("fetchStatus"),lq=co("diffStatus"),Ntt=function(t){qtt(r,t);var e=xtt(r);function r(n,a){var o;return Itt(this,r),o=e.call(this),Object.defineProperty(gn(o),lq,{value:ztt}),Object.defineProperty(gn(o),lo,{value:$tt}),Object.defineProperty(gn(o),sq,{value:Btt}),Object.defineProperty(gn(o),so,{value:Mtt}),Object.defineProperty(gn(o),uq,{value:Utt}),Object.defineProperty(gn(o),hq,{value:Dtt}),Object.defineProperty(gn(o),Du,{writable:!0,value:void 0}),Object.defineProperty(gn(o),Rd,{writable:!0,value:void 0}),Object.defineProperty(gn(o),Nu,{writable:!0,value:!1}),o.status=n,o.socket=null,o.pollInterval=null,o.closed=!1,Rt(gn(o),Du)[Du]=a,Rt(gn(o),Rd)[Rd]=a.wrapPromiseFunction($i),o}return i(r,"TransloaditAssembly"),ktt(r,[{key:"connect",value:i(function(){Rt(this,uq)[uq](),Rt(this,sq)[sq]()},"connect")},{key:"update",value:i(function(){return Rt(this,lo)[lo]({diff:!0})},"update")},{key:"updateStatus",value:i(function(a){Rt(this,lq)[lq](this.status,a),this.status=a},"updateStatus")},{key:"close",value:i(function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null},"close")}]),r}(UJ.default);function Dtt(){this.emit("finished"),this.close()}i(Dtt,"_onFinished2");function Utt(){var t=this,e=aq(this.status.websocket_url),r=Ed(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){Rt(t,hq)[hq]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),Rt(t,lo)[lo]({diff:!1})}),r.on("assembly_result_finished",function(n,a){t.emit("result",n,a),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(a)}),r.on("assembly_error",function(n){Rt(t,so)[so](n),Rt(t,lo)[lo]({diff:!1})}),this.socket=r}i(Utt,"_connectSocket2");function Mtt(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}i(Mtt,"_onError2");function Btt(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&Rt(t,lo)[lo]()},2e3)}i(Btt,"_beginPolling2");function $tt(t){return vq.apply(this,arguments)}i($tt,"_fetchStatus2");function vq(){return vq=Att(cq().mark(i(function t(e){var r,n,a,o,u;return cq().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=e===void 0?{}:e,n=r.diff,a=n===void 0?!0:n,!(this.closed||Rt(this,Du)[Du].isPaused||Rt(this,Nu)[Nu])){c.next=3;break}return c.abrupt("return");case 3:return c.prev=3,Rt(this,Nu)[Nu]=!0,c.next=7,Rt(this,Rd)[Rd](this.status.assembly_ssl_url);case 7:if(o=c.sent,Rt(this,Nu)[Nu]=!1,!this.closed){c.next=11;break}return c.abrupt("return");case 11:if(o.status!==429){c.next=14;break}return Rt(this,Du)[Du].rateLimit(2e3),c.abrupt("return");case 14:if(o.ok){c.next=17;break}return Rt(this,so)[so](new xn(o.statusText)),c.abrupt("return");case 17:return c.next=19,o.json();case 19:if(u=c.sent,!this.closed){c.next=22;break}return c.abrupt("return");case 22:this.emit("status",u),a?this.updateStatus(u):this.status=u,c.next=29;break;case 26:c.prev=26,c.t0=c.catch(3),Rt(this,so)[so](c.t0);case 29:case"end":return c.stop()}},"_callee$"),t,this,[[3,26]])},"_callee"))),vq.apply(this,arguments)}i(vq,"_fetchStatus3");function ztt(t,e){var r=this,n=t.ok,a=e.ok;if(e.error&&!t.error)return Rt(this,so)[so](e);var o=Kb(a,pq)&&!Kb(n,pq);o&&this.emit("executing"),Object.keys(e.uploads).filter(function(u){return!Dr(t.uploads,u)}).forEach(function(u){r.emit("upload",e.uploads[u])}),o&&this.emit("metadata"),Object.keys(e.results).forEach(function(u){var s=e.results[u],c=t.results[u];s.filter(function(f){return!c||!c.some(function(d){return d.id===f.id})}).forEach(function(f){r.emit("result",u,f)})}),Kb(a,dq)&&!Kb(n,dq)&&this.emit("finished")}i(ztt,"_diffStatus2");var yq=Ntt;function Gtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Gtt,"_classCallCheck");function MJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MJ,"_defineProperties");function Htt(t,e,r){return e&&MJ(t.prototype,e),r&&MJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Htt,"_createClass");function pt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(pt,"_classPrivateFieldLooseBase");var Vtt=0;function Jb(t){return"__private_"+Vtt+++"_"+t}i(Jb,"_classPrivateFieldLooseKey");var BJ="/assemblies",hr=Jb("headers"),Td=Jb("fetchWithNetworkError"),Kt=Jb("fetchJSON"),Xr=Jb("reportError"),$J=function(){function t(e){var r=this;Gtt(this,t),e===void 0&&(e={}),Object.defineProperty(this,Kt,{value:Wtt}),Object.defineProperty(this,hr,{writable:!0,value:{}}),Object.defineProperty(this,Td,{writable:!0,value:void 0}),Object.defineProperty(this,Xr,{writable:!0,value:i(function(a,o){if(r.opts.errorReporting===!1)throw a;var u={type:o.type};throw o.assembly&&(u.assembly=o.assembly.assembly_id,u.instance=o.assembly.instance),o.url&&(u.endpoint=o.url),r.submitError(a,u).catch(function(){}),a},"value")}),this.opts=e,this.opts.client!=null&&(pt(this,hr)[hr]["Transloadit-Client"]=this.opts.client),pt(this,Td)[Td]=this.opts.rateLimitedQueue.wrapPromiseFunction($i)}return i(t,"Client"),Htt(t,[{key:"createAssembly",value:i(function(r){var n=this,a=r.params,o=r.fields,u=r.signature,s=r.expectedFiles,c=new FormData;c.append("params",typeof a=="string"?a:JSON.stringify(a)),u&&c.append("signature",u),Object.keys(o).forEach(function(d){c.append(d,o[d])}),c.append("num_expected_upload_files",s);var f=new URL(BJ,"".concat(this.opts.service)).href;return pt(this,Kt)[Kt](f,{method:"post",headers:pt(this,hr)[hr],body:c}).catch(function(d){return pt(n,Xr)[Xr](d,{url:f,type:"API_ERROR"})})},"createAssembly")},{key:"reserveFile",value:i(function(r,n){var a=this,o=encodeURIComponent(n.size),u="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(o);return pt(this,Kt)[Kt](u,{method:"post",headers:pt(this,hr)[hr]}).catch(function(s){return pt(a,Xr)[Xr](s,{assembly:r,file:n,url:u,type:"API_ERROR"})})},"reserveFile")},{key:"addFile",value:i(function(r,n){var a=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var o=encodeURIComponent(n.size),u=encodeURIComponent(n.uploadURL),s=encodeURIComponent(n.name),c="file",f="size=".concat(o,"&filename=").concat(s,"&fieldname=").concat(c,"&s3Url=").concat(u),d="".concat(r.assembly_ssl_url,"/add_file?").concat(f);return pt(this,Kt)[Kt](d,{method:"post",headers:pt(this,hr)[hr]}).catch(function(y){return pt(a,Xr)[Xr](y,{assembly:r,file:n,url:d,type:"API_ERROR"})})},"addFile")},{key:"updateNumberOfFilesInAssembly",value:i(function(r,n){var a=this,o=new URL(r.assembly_ssl_url);o.pathname="/update_assemblies";var u=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:n}]});return pt(this,Kt)[Kt](o,{method:"post",headers:pt(this,hr)[hr],body:u}).catch(function(s){return pt(a,Xr)[Xr](s,{url:o,type:"API_ERROR"})})},"updateNumberOfFilesInAssembly")},{key:"cancelAssembly",value:i(function(r){var n=this,a=r.assembly_ssl_url;return pt(this,Kt)[Kt](a,{method:"delete",headers:pt(this,hr)[hr]}).catch(function(o){return pt(n,Xr)[Xr](o,{url:a,type:"API_ERROR"})})},"cancelAssembly")},{key:"getAssemblyStatus",value:i(function(r){var n=this;return pt(this,Kt)[Kt](r,{headers:pt(this,hr)[hr]}).catch(function(a){return pt(n,Xr)[Xr](a,{url:r,type:"STATUS_ERROR"})})},"getAssemblyStatus")},{key:"submitError",value:i(function(r,n){var a=n===void 0?{}:n,o=a.endpoint,u=a.instance,s=a.assembly,c=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return pt(this,Kt)[Kt]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:o,instance:u,assembly_id:s,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:c})})},"submitError")}]),t}();function Wtt(){for(var t,e=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=pt(this,Td))[Td].apply(t,n).then(function(o){if(o.status===429){var u;return e.opts.rateLimitedQueue.rateLimit(2e3),(u=pt(e,Kt))[Kt].apply(u,n)}if(!o.ok){var s=new Error(o.statusText);return s.statusCode=o.status,"".concat(n[0]).endsWith(BJ)?o.json().then(function(c){if(!c.error)throw s;var f=new Error(c.error);throw f.details=c.message,f.assembly=c,c.assembly_id&&(f.details+=" Assembly ID: ".concat(c.assembly_id)),f},function(c){throw c.cause=s,c}):Promise.reject(s)}return o.json()})}i(Wtt,"_fetchJSON2");function gq(t){return gq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gq(t)}i(gq,"_typeof");function Ad(){"use strict";Ad=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&gq(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Ad,"_regeneratorRuntime");function zJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(zJ,"asyncGeneratorStep");function VJ(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){zJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){zJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(VJ,"_asyncToGenerator");function Ktt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Ktt,"_classCallCheck");function GJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(GJ,"_defineProperties");function Ytt(t,e,r){return e&&GJ(t.prototype,e),r&&GJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ytt,"_createClass");function Xtt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Jtt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Xtt,"_createForOfIteratorHelper");function Jtt(t,e){if(!!t){if(typeof t=="string")return HJ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HJ(t,e)}}i(Jtt,"_unsupportedIterableToArray");function HJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(HJ,"_arrayLikeToArray");function Qtt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Qtt,"_classPrivateFieldLooseBase");var Ztt=0;function ert(t){return"__private_"+Ztt+++"_"+t}i(ert,"_classPrivateFieldLooseKey");function Id(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new ni("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}i(Id,"validateParams");function trt(t){var e=Object.create(null),r=Xtt(t.filter(Boolean)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value,o=a.fileIDs,u=a.options,s=JSON.stringify(u);s in e?e[s].fileIDArrays.push(o):e[s]={options:u,fileIDArrays:[o]}}}catch(c){r.e(c)}finally{r.f()}return Object.values(e).map(function(c){var f=c.options,d=c.fileIDArrays;return{options:f,fileIDs:d.flat(1)}})}i(trt,"dedupe");var mq=ert("getAssemblyOptions"),rrt=function(){function t(e,r){Ktt(this,t),Object.defineProperty(this,mq,{value:nrt}),this.files=e,this.opts=r}return i(t,"AssemblyOptions"),Ytt(t,[{key:"build",value:function(){var e=VJ(Ad().mark(i(function n(){var a=this,o,u;return Ad().wrap(i(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=this.opts,!(this.files.length>0)){c.next=3;break}return c.abrupt("return",Promise.all(this.files.map(function(f){return Qtt(a,mq)[mq](f)})).then(trt));case 3:if(!o.alwaysRunAssembly){c.next=9;break}return c.next=6,o.getAssemblyOptions(null,o);case 6:return u=c.sent,Id(u.params),c.abrupt("return",[{fileIDs:this.files.map(function(f){return f.id}),options:u}]);case 9:return c.abrupt("return",[]);case 10:case"end":return c.stop()}},"_callee$"),n,this)},"_callee")));function r(){return e.apply(this,arguments)}return i(r,"build"),r}()}]),t}();function nrt(t){return bq.apply(this,arguments)}i(nrt,"_getAssemblyOptions2");function bq(){return bq=VJ(Ad().mark(i(function t(e){var r,n;return Ad().wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:if(e!=null){o.next=2;break}return o.abrupt("return",void 0);case 2:return r=this.opts,o.next=5,r.getAssemblyOptions(e,r);case 5:if(n=o.sent,e!=null){o.next=8;break}return o.abrupt("return",void 0);case 8:return Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(u){return[u,e.meta[u]]})):n.fields==null&&(n.fields={}),Id(n.params),o.abrupt("return",{fileIDs:[e.id],options:n});case 11:case"end":return o.stop()}},"_callee2$"),t,this)},"_callee2"))),bq.apply(this,arguments)}i(bq,"_getAssemblyOptions3");var WJ=rrt;var YJ=Te(Nk(),1);function Sq(t){return Sq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sq(t)}i(Sq,"_typeof");function KJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(KJ,"_defineProperties");function irt(t,e,r){return e&&KJ(t.prototype,e),r&&KJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(irt,"_createClass");function ort(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(ort,"_classCallCheck");function art(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_q(t,e)}i(art,"_inherits");function _q(t,e){return _q=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),_q(t,e)}i(_q,"_setPrototypeOf");function urt(t){var e=lrt();return i(function(){var n=Qb(t),a;if(e){var o=Qb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return srt(this,a)},"_createSuperInternal")}i(urt,"_createSuper");function srt(t,e){if(e&&(Sq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}i(srt,"_possibleConstructorReturn");function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i($e,"_assertThisInitialized");function lrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(lrt,"_isNativeReflectConstruct");function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Qb(t)}i(Qb,"_getPrototypeOf");function ke(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(ke,"_classPrivateFieldLooseBase");var crt=0;function Jr(t){return"__private_"+crt+++"_"+t}i(Jr,"_classPrivateFieldLooseKey");var kd=Jr("assemblyIDs"),wq=Jr("reject"),Mu=Jr("remaining"),qd=Jr("resolve"),Ze=Jr("uppy"),fo=Jr("watching"),xd=Jr("onAssemblyComplete"),Cd=Jr("onAssemblyCancel"),Bu=Jr("onAssemblyError"),Fd=Jr("onImportError"),Uu=Jr("checkAllComplete"),Pq=Jr("removeListeners"),Oq=Jr("addListeners"),frt=function(t){art(r,t);var e=urt(r);function r(n,a){var o;return ort(this,r),o=e.call(this),Object.defineProperty($e(o),Oq,{value:vrt}),Object.defineProperty($e(o),Pq,{value:hrt}),Object.defineProperty($e(o),Uu,{value:drt}),Object.defineProperty($e(o),fo,{value:prt}),Object.defineProperty($e(o),kd,{writable:!0,value:void 0}),Object.defineProperty($e(o),wq,{writable:!0,value:void 0}),Object.defineProperty($e(o),Mu,{writable:!0,value:void 0}),Object.defineProperty($e(o),qd,{writable:!0,value:void 0}),Object.defineProperty($e(o),Ze,{writable:!0,value:void 0}),Object.defineProperty($e(o),xd,{writable:!0,value:i(function(s){!ke($e(o),fo)[fo](s.assembly_id)||(ke($e(o),Ze)[Ze].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(s.assembly_id)),o.emit("assembly-complete",s.assembly_id),ke($e(o),Uu)[Uu]())},"value")}),Object.defineProperty($e(o),Cd,{writable:!0,value:i(function(s){!ke($e(o),fo)[fo](s.assembly_id)||ke($e(o),Uu)[Uu]()},"value")}),Object.defineProperty($e(o),Bu,{writable:!0,value:i(function(s,c){!ke($e(o),fo)[fo](s.assembly_id)||(ke($e(o),Ze)[Ze].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(s.assembly_id)),ke($e(o),Ze)[Ze].log(c),o.emit("assembly-error",s.assembly_id,c),ke($e(o),Uu)[Uu]())},"value")}),Object.defineProperty($e(o),Fd,{writable:!0,value:i(function(s,c,f){!ke($e(o),fo)[fo](s.assembly_id)||ke($e(o),Bu)[Bu](s,f)},"value")}),ke($e(o),Ze)[Ze]=n,ke($e(o),kd)[kd]=a,ke($e(o),Mu)[Mu]=a.length,o.promise=new Promise(function(u,s){ke($e(o),qd)[qd]=u,ke($e(o),wq)[wq]=s}),ke($e(o),Oq)[Oq](),o}return i(r,"TransloaditAssemblyWatcher"),irt(r)}(YJ.default);function prt(t){return ke(this,kd)[kd].indexOf(t)!==-1}i(prt,"_watching2");function drt(){ke(this,Mu)[Mu]-=1,ke(this,Mu)[Mu]===0&&(ke(this,Pq)[Pq](),ke(this,qd)[qd]())}i(drt,"_checkAllComplete2");function hrt(){ke(this,Ze)[Ze].off("transloadit:complete",ke(this,xd)[xd]),ke(this,Ze)[Ze].off("transloadit:assembly-cancel",ke(this,Cd)[Cd]),ke(this,Ze)[Ze].off("transloadit:assembly-error",ke(this,Bu)[Bu]),ke(this,Ze)[Ze].off("transloadit:import-error",ke(this,Fd)[Fd])}i(hrt,"_removeListeners2");function vrt(){ke(this,Ze)[Ze].on("transloadit:complete",ke(this,xd)[xd]),ke(this,Ze)[Ze].on("transloadit:assembly-cancel",ke(this,Cd)[Cd]),ke(this,Ze)[Ze].on("transloadit:assembly-error",ke(this,Bu)[Bu]),ke(this,Ze)[Ze].on("transloadit:import-error",ke(this,Fd)[Fd])}i(vrt,"_addListeners2");var XJ=frt;var JJ={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function Zb(t){return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}i(Zb,"_typeof");function rQ(t){return grt(t)||mrt(t)||Uq(t)||yrt()}i(rQ,"_toConsumableArray");function yrt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(yrt,"_nonIterableSpread");function mrt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}i(mrt,"_iterableToArray");function grt(t){if(Array.isArray(t))return Cq(t)}i(grt,"_arrayWithoutHoles");function QJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(QJ,"ownKeys");function Ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QJ(Object(r),!0).forEach(function(n){la(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Ke,"_objectSpread");function brt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Uq(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(brt,"_createForOfIteratorHelper");function wrt(t,e){return _rt(t)||Srt(t,e)||Uq(t,e)||Ort()}i(wrt,"_slicedToArray");function Ort(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i(Ort,"_nonIterableRest");function Uq(t,e){if(!!t){if(typeof t=="string")return Cq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cq(t,e)}}i(Uq,"_unsupportedIterableToArray");function Cq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(Cq,"_arrayLikeToArray");function Srt(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,u,s;try{for(r=r.call(t);!(a=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){o=!0,s=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}i(Srt,"_iterableToArrayLimit");function _rt(t){if(Array.isArray(t))return t}i(_rt,"_arrayWithHoles");function la(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(la,"_defineProperty");function po(){"use strict";po=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&Zb(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(po,"_regeneratorRuntime");function ZJ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(ZJ,"asyncGeneratorStep");function ew(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){ZJ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){ZJ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(ew,"_asyncToGenerator");function Prt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Prt,"_classCallCheck");function eQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(eQ,"_defineProperties");function Ert(t,e,r){return e&&eQ(t.prototype,e),r&&eQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ert,"_createClass");function Rrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fq(t,e)}i(Rrt,"_inherits");function Fq(t,e){return Fq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Fq(t,e)}i(Fq,"_setPrototypeOf");function Trt(t){var e=Irt();return i(function(){var n=tw(t),a;if(e){var o=tw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Art(this,a)},"_createSuperInternal")}i(Trt,"_createSuper");function Art(t,e){if(e&&(Zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}i(Art,"_possibleConstructorReturn");function qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(qe,"_assertThisInitialized");function Irt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Irt,"_isNativeReflectConstruct");function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),tw(t)}i(tw,"_getPrototypeOf");function Ce(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(Ce,"_classPrivateFieldLooseBase");var krt=0;function ht(t){return"__private_"+krt+++"_"+t}i(ht,"_classPrivateFieldLooseKey");var qrt={version:"3.0.2"};function xrt(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}i(xrt,"defaultGetAssemblyOptions");var tQ=i(function(e){return function(r){var n=new ni("Failed to send error to the client",{cause:r});console.error(n,e)}},"sendErrorToConsole"),Mq="https://api2.transloadit.com/companion",Bq=/\.transloadit\.com$/,Crt=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Dn=ht("rateLimitedQueue"),Eq=ht("getClientVersion"),Lq=ht("attachAssemblyMetadata"),Rq=ht("createAssembly"),Ld=ht("createAssemblyWatcher"),Tq=ht("shouldWaitAfterUpload"),Aq=ht("reserveFiles"),jd=ht("onFileUploadURLAvailable"),$d=ht("findFile"),jq=ht("onFileUploadComplete"),Nq=ht("onResult"),Bd=ht("onAssemblyFinished"),zd=ht("cancelAssembly"),Iq=ht("onCancelAll"),kq=ht("getPersistentData"),qq=ht("onRestored"),Nd=ht("connectAssembly"),Dd=ht("prepareUpload"),$u=ht("afterUpload"),Ud=ht("closeAssemblyIfExists"),Md=ht("onError"),xq=ht("onTusError"),ca=function(t){Rrt(r,t);var e=Trt(r);function r(n,a){var o;Prt(this,r);var u;o=e.call(this,n,a),u=qe(o),Object.defineProperty(qe(o),Nd,{value:Hrt}),Object.defineProperty(qe(o),zd,{value:Grt}),Object.defineProperty(qe(o),Bd,{value:zrt}),Object.defineProperty(qe(o),Nq,{value:$rt}),Object.defineProperty(qe(o),jq,{value:Brt}),Object.defineProperty(qe(o),$d,{value:Mrt}),Object.defineProperty(qe(o),Aq,{value:Urt}),Object.defineProperty(qe(o),Tq,{value:Drt}),Object.defineProperty(qe(o),Ld,{value:Nrt}),Object.defineProperty(qe(o),Rq,{value:jrt}),Object.defineProperty(qe(o),Lq,{value:Lrt}),Object.defineProperty(qe(o),Eq,{value:Frt}),Object.defineProperty(qe(o),Dn,{writable:!0,value:void 0}),Object.defineProperty(qe(o),jd,{writable:!0,value:i(function(d){var y,m=o.uppy.getFile(d.id);if(!!(m!=null&&(y=m.transloadit)!=null&&y.assembly)){var w=o.getPluginState(),_=w.assemblies,R=_[m.transloadit.assembly];o.client.addFile(R,m).catch(function(T){o.uppy.log(T),o.uppy.emit("transloadit:import-error",R,m.id,T)})}},"value")}),Object.defineProperty(qe(o),Iq,{writable:!0,value:function(){var f=ew(po().mark(i(function y(m){var w,_,R,T,E,A;return po().wrap(i(function(U){for(;;)switch(U.prev=U.next){case 0:if(w=m===void 0?{}:m,_=w.reason,U.prev=1,_==="user"){U.next=4;break}return U.abrupt("return");case 4:return R=u.getPluginState(),T=R.uploadsAssemblies,E=Object.values(T).flat(1),A=E.map(function(G){return u.getAssembly(G)}),U.next=9,Promise.all(A.map(function(G){return Ce(u,zd)[zd](G)}));case 9:U.next=14;break;case 11:U.prev=11,U.t0=U.catch(1),u.uppy.log(U.t0);case 14:case"end":return U.stop()}},"_callee$"),y,null,[[1,11]])},"_callee")));function d(y){return f.apply(this,arguments)}return i(d,"value"),d}()}),Object.defineProperty(qe(o),kq,{writable:!0,value:i(function(d){var y=o.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies;d(la({},o.id,{assemblies:m,uploadsAssemblies:w}))},"value")}),Object.defineProperty(qe(o),qq,{writable:!0,value:i(function(d){var y=d&&d[o.id]?d[o.id]:{},m=y.assemblies||{},w=y.uploadsAssemblies||{};if(Object.keys(w).length!==0){var _=i(function(A){for(var x={},U=[],G=i(function(){var Y=wrt(z[M],2),p=Y[0],l=Y[1];l.uploads.forEach(function(v){var g=Ce(qe(o),$d)[$d](v);x[v.id]={id:g.id,assembly:p,uploadedFile:v}});var h=o.getPluginState();Object.keys(l.results).forEach(function(v){var g=brt(l.results[v]),b;try{for(g.s();!(b=g.n()).done;){var P=b.value,q=h.files[P.original_id];P.localId=q?q.id:null,U.push({id:P.id,result:P,stepName:v,assembly:p})}}catch(L){g.e(L)}finally{g.f()}})},"_loop"),M=0,z=Object.entries(A);M<z.length;M++)G();o.setPluginState({assemblies:A,files:x,results:U,uploadsAssemblies:w})},"restoreState"),R=i(function(){var A=o.getPluginState(),x=A.assemblies,U=A.uploadsAssemblies;Object.keys(U).forEach(function(M){var z=U[M];Ce(qe(o),Ld)[Ld](z,M)});var G=Object.keys(x);G.forEach(function(M){var z=new yq(x[M],Ce(qe(o),Dn)[Dn]);Ce(qe(o),Nd)[Nd](z)})},"restoreAssemblies"),T=i(function(){var A=o.getPluginState(),x=A.assemblies;return Promise.all(Object.keys(x).map(function(U){return o.activeAssemblies[U].update()}))},"updateAssemblies");o.restored=Promise.resolve().then(function(){return _(m),R(),T()}),o.restored.then(function(){o.restored=null})}},"value")}),Object.defineProperty(qe(o),Dd,{writable:!0,value:i(function(d,y){var m=d.map(function(A){return o.uppy.getFile(A)}),w=m.filter(function(A){return A.error?!1:(o.uppy.emit("preprocess-progress",A,{mode:"indeterminate",message:o.i18n("creatingAssembly")}),!0)}),_=function(){var A=ew(po().mark(i(function x(U){var G,M,z;return po().wrap(i(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return G=U.fileIDs,M=U.options,Y.prev=1,Y.next=4,Ce(qe(o),Rq)[Rq](G,y,M);case 4:if(z=Y.sent,!o.opts.importFromUploadURLs){Y.next=8;break}return Y.next=8,Ce(qe(o),Aq)[Aq](z,G);case 8:return G.forEach(function(p){var l=o.uppy.getFile(p);o.uppy.emit("preprocess-complete",l)}),Y.abrupt("return",z);case 12:throw Y.prev=12,Y.t0=Y.catch(1),G.forEach(function(p){var l=o.uppy.getFile(p);o.uppy.emit("preprocess-complete",l),o.uppy.emit("upload-error",l,Y.t0)}),Y.t0;case 16:case"end":return Y.stop()}},"_callee2$"),x,null,[[1,12]])},"_callee2")));return i(function(U){return A.apply(this,arguments)},"createAssembly")}(),R=o.getPluginState(),T=R.uploadsAssemblies;o.setPluginState({uploadsAssemblies:Ke(Ke({},T),{},la({},y,[]))});var E=new WJ(w,o.opts);return E.build().then(function(A){return Promise.all(A.map(_))}).then(function(A){var x=A.filter(Boolean),U=x.map(function(G){return G.status.assembly_id});return Ce(qe(o),Ld)[Ld](U,y),Promise.all(x.map(function(G){return Ce(qe(o),Nd)[Nd](G)}))}).catch(function(A){throw w.forEach(function(x){o.uppy.emit("preprocess-complete",x),o.uppy.emit("upload-error",x,A)}),A})},"value")}),Object.defineProperty(qe(o),$u,{writable:!0,value:i(function(d,y){var m=d.map(function(U){return o.uppy.getFile(U)}),w=m.filter(function(U){return!U.error}).map(function(U){return U.id}),_=o.getPluginState();if(o.restored)return o.restored.then(function(){return Ce(qe(o),$u)[$u](w,y)});var R=_.uploadsAssemblies[y],T=i(function(){R.forEach(function(G){var M=o.activeAssemblies[G];M.close(),delete o.activeAssemblies[G]})},"closeSocketConnections");if(!Ce(qe(o),Tq)[Tq]()){T();var E=R.map(function(U){return o.getAssembly(U)});return o.uppy.addResultData(y,{transloadit:E}),Promise.resolve()}if(R.length===0)return o.uppy.addResultData(y,{transloadit:[]}),Promise.resolve();var A=m.filter(function(U){return!Dr(o.completedFiles,U.id)});A.forEach(function(U){o.uppy.emit("postprocess-progress",U,{mode:"indeterminate",message:o.i18n("encoding")})});var x=o.assemblyWatchers[y];return x.promise.then(function(){T();var U=R.map(function(M){return o.getAssembly(M)}),G=Ke({},o.getPluginState().uploadsAssemblies);delete G[y],o.setPluginState({uploadsAssemblies:G}),o.uppy.addResultData(y,{transloadit:U})})},"value")}),Object.defineProperty(qe(o),Ud,{writable:!0,value:i(function(d){var y;(y=o.activeAssemblies[d])==null||y.close()},"value")}),Object.defineProperty(qe(o),Md,{writable:!0,value:i(function(d,y){d===void 0&&(d=null);var m=u.getPluginState(),w=m.uploadsAssemblies[y];w==null||w.forEach(Ce(u,Ud)[Ud]),u.client.submitError(d).catch(tQ(d))},"value")}),Object.defineProperty(qe(o),xq,{writable:!0,value:i(function(d,y){var m,w;if(Ce(qe(o),Ud)[Ud](d==null||(m=d.transloadit)==null?void 0:m.assembly),y!=null&&(w=y.message)!=null&&w.startsWith("tus: ")){var _,R,T=(_=y.originalRequest)==null||(R=_.getUnderlyingObject())==null?void 0:R.responseURL;o.client.submitError(y,{endpoint:T,type:"TUS_ERROR"}).catch(tQ(y))}},"value")}),o.type="uploader",o.id=o.opts.id||"Transloadit",o.title="Transloadit",o.defaultLocale=JJ;var s={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:xrt,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};o.opts=Ke(Ke({},s),a),Ce(qe(o),Dn)[Dn]=new dn(o.opts.limit),o.i18nInit();var c=o.opts.getAssemblyOptions!==s.getAssemblyOptions;return o.opts.params?Id(o.opts.params):c||Id(null),o.client=new $J({service:o.opts.service,client:Ce(qe(o),Eq)[Eq](),errorReporting:o.opts.errorReporting,rateLimitedQueue:Ce(qe(o),Dn)[Dn]}),o.activeAssemblies={},o.assemblyWatchers={},o.completedFiles=Object.create(null),o}return i(r,"Transloadit"),Ert(r,[{key:"install",value:i(function(){this.uppy.addPreProcessor(Ce(this,Dd)[Dd]),this.uppy.addPostProcessor(Ce(this,$u)[$u]),this.uppy.on("error",Ce(this,Md)[Md]),this.uppy.on("cancel-all",Ce(this,Iq)[Iq]),this.uppy.on("upload-error",Ce(this,xq)[xq]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Ce(this,jd)[jd]):this.uppy.use(Cl,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:Ce(this,Dn)[Dn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Ce(this,kq)[kq]),this.uppy.on("restored",Ce(this,qq)[qq]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:Ke(Ke({},o),{},{individualCancellation:!1})})},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(Ce(this,Dd)[Dd]),this.uppy.removePostProcessor(Ce(this,$u)[$u]),this.uppy.off("error",Ce(this,Md)[Md]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Ce(this,jd)[jd]);var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:Ke(Ke({},o),{},{individualCancellation:!0})})},"uninstall")},{key:"getAssembly",value:i(function(a){var o=this.getPluginState(),u=o.assemblies;return u[a]},"getAssembly")},{key:"getAssemblyFiles",value:i(function(a){return this.uppy.getFiles().filter(function(o){var u;return(o==null||(u=o.transloadit)==null?void 0:u.assembly)===a})},"getAssemblyFiles")}]),r}(lt);function Frt(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(Cl.VERSION)],r=i(function(a,o){var u=t.uppy.getPlugin(a);u&&e.push("".concat(o,":").concat(u.constructor.VERSION))},"addPluginVersion");return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}i(Frt,"_getClientVersion2");function Lrt(t,e){var r=Ke(Ke({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=Ke(Ke({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),a=t.remote;if(t.remote&&Crt.test(t.remote.companionUrl)){var o=e.companion_url.replace(/\/$/,""),u=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");a=Ke(Ke({},t.remote),{},{companionUrl:o,url:"".concat(o,"/").concat(u)})}var s=Ke(Ke({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(s,{meta:r,tus:n,remote:a}),s}i(Lrt,"_attachAssemblyMetadata2");function jrt(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(){var a=ew(po().mark(i(function o(u){var s,c,f,d,y,m,w,_,R;return po().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:if(s=n.uppy.getFiles().filter(function(A){var x=A.id;return t.includes(x)}),s.length===t.length){E.next=8;break}if(s.length!==0){E.next=6;break}return E.next=5,n.client.cancelAssembly(u);case 5:return E.abrupt("return",null);case 6:return E.next=8,n.client.updateNumberOfFilesInAssembly(u,s.length);case 8:return c=new yq(u,Ce(n,Dn)[Dn]),f=c.status,d=f.assembly_id,y=n.getPluginState(),m=y.assemblies,w=y.uploadsAssemblies,n.setPluginState({assemblies:Ke(Ke({},m),{},la({},d,f)),uploadsAssemblies:Ke(Ke({},w),{},la({},e,[].concat(rQ(w[e]),[d])))}),_={},s.forEach(function(A){_[A.id]=Ce(n,Lq)[Lq](A,f)}),n.uppy.setState({files:Ke(Ke({},n.uppy.getState().files),_)}),R=i(function A(x,U){if(U==="cancel-all")c.close(),n.uppy.off(A);else if(x.id in _){delete _[x.id];var G=Object.keys(_).length;G===0?(c.close(),Ce(n,zd)[zd](u).catch(function(){}),n.uppy.off(A)):n.client.updateNumberOfFilesInAssembly(u,G).catch(function(){})}},"fileRemovedHandler"),n.uppy.on("file-removed",R),n.uppy.emit("transloadit:assembly-created",f,t),n.uppy.log("[Transloadit] Created Assembly ".concat(d)),E.abrupt("return",c);case 21:case"end":return E.stop()}},"_callee3$"),o)},"_callee3")));return function(o){return a.apply(this,arguments)}}()).catch(function(a){var o=new ni("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(a.message),{cause:a});throw"details"in a&&(o.details=a.details),"assembly"in a&&(o.assembly=a.assembly),o})}i(jrt,"_createAssembly2");function Nrt(t,e){var r=this,n=new XJ(this.uppy,t);n.on("assembly-complete",function(a){var o=r.getAssemblyFiles(a);o.forEach(function(u){r.completedFiles[u.id]=!0,r.uppy.emit("postprocess-complete",u)})}),n.on("assembly-error",function(a,o){var u=r.getAssemblyFiles(a);u.forEach(function(s){r.uppy.emit("upload-error",s,o),r.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[e]=n}i(Nrt,"_createAssemblyWatcher2");function Drt(){return this.opts.waitForEncoding||this.opts.waitForMetadata}i(Drt,"_shouldWaitAfterUpload2");function Urt(t,e){var r=this;return Promise.all(e.map(function(n){var a=r.uppy.getFile(n);return r.client.reserveFile(t.status,a)}))}i(Urt,"_reserveFiles2");function Mrt(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}i(Mrt,"_findFile2");function Brt(t,e){var r=this.getPluginState(),n=Ce(this,$d)[$d](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:Ke(Ke({},r.files),{},la({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}i(Brt,"_onFileUploadComplete2");function $rt(t,e,r){var n=this.getPluginState(),a=n.files[r.original_id];r.localId=a?a.id:null;var o={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(rQ(n.results),[o])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}i($rt,"_onResult2");function zrt(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var a=n.assembly_id,o=e.getPluginState();e.setPluginState({assemblies:Ke(Ke({},o.assemblies),{},la({},a,n))}),e.uppy.emit("transloadit:complete",n)})}i(zrt,"_onAssemblyFinished2");function Grt(t){return Dq.apply(this,arguments)}i(Grt,"_cancelAssembly2");function Dq(){return Dq=ew(po().mark(i(function t(e){return po().wrap(i(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},"_callee4$"),t,this)},"_callee4"))),Dq.apply(this,arguments)}i(Dq,"_cancelAssembly3");function Hrt(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(a){var o=e.getPluginState(),u=o.assemblies;e.setPluginState({assemblies:Ke(Ke({},u),{},la({},n,a))})}),t.on("upload",function(a){Ce(e,jq)[jq](n,a)}),t.on("error",function(a){a.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,a)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(a,o){Ce(e,Nq)[Nq](n,a,o)}),this.opts.waitForEncoding?t.on("finished",function(){Ce(e,Bd)[Bd](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){Ce(e,Bd)[Bd](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}i(Hrt,"_connectAssembly2");ca.VERSION=qrt.version;ca.COMPANION=Mq;ca.COMPANION_PATTERN=Bq;var nQ={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function rw(t){return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}i(rw,"_typeof");function Hd(){"use strict";Hd=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&rw(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Hd,"_regeneratorRuntime");function iQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(iQ,"ownKeys");function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iQ(Object(r),!0).forEach(function(n){Vrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(kr,"_objectSpread");function Vrt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Vrt,"_defineProperty");function oQ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(oQ,"asyncGeneratorStep");function aQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){oQ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){oQ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(aQ,"_asyncToGenerator");function Wrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Wrt,"_classCallCheck");function uQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(uQ,"_defineProperties");function Krt(t,e,r){return e&&uQ(t.prototype,e),r&&uQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Krt,"_createClass");function Yrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gq(t,e)}i(Yrt,"_inherits");function Gq(t,e){return Gq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Gq(t,e)}i(Gq,"_setPrototypeOf");function Xrt(t){var e=Qrt();return i(function(){var n=nw(t),a;if(e){var o=nw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Jrt(this,a)},"_createSuperInternal")}i(Xrt,"_createSuper");function Jrt(t,e){if(e&&(rw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dl(t)}i(Jrt,"_possibleConstructorReturn");function Dl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Dl,"_assertThisInitialized");function Qrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Qrt,"_isNativeReflectConstruct");function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),nw(t)}i(nw,"_getPrototypeOf");function $q(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i($q,"_classPrivateFieldLooseBase");var Zrt=0;function cQ(t){return"__private_"+Zrt+++"_"+t}i(cQ,"_classPrivateFieldLooseKey");var ent={version:"3.0.4"};function sQ(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),Tu(t)?(r=new xn(r,t),r):(r.request=t,r)}i(sQ,"buildResponseError");function lQ(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}i(lQ,"setTypeInBlob");var Gd=cQ("queueRequestSocketToken"),zq=cQ("requestSocketToken"),Hq=function(t){Yrt(r,t);var e=Xrt(r);function r(n,a){var o;Wrt(this,r),o=e.call(this,n,a),Object.defineProperty(Dl(o),Gd,{writable:!0,value:void 0}),Object.defineProperty(Dl(o),zq,{writable:!0,value:function(){var s=aQ(Hd().mark(i(function f(d){var y,m,w,_,R;return Hd().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return y=o.getOptions(d),m=d.remote.providerOptions.provider?Me:dt,w=new m(o.uppy,d.remote.providerOptions),_=Array.isArray(y.allowedMetaFields)?y.allowedMetaFields:Object.keys(d.meta),E.next=6,w.post(d.remote.url,kr(kr({},d.remote.body),{},{protocol:"multipart",endpoint:y.endpoint,size:d.data.size,fieldname:y.fieldName,metadata:Object.fromEntries(_.map(function(A){return[A,d.meta[A]]})),httpMethod:y.method,useFormData:y.formData,headers:y.headers}));case 6:return R=E.sent,E.abrupt("return",R.token);case 8:case"end":return E.stop()}},"_callee$"),f)},"_callee")));function c(f){return s.apply(this,arguments)}return i(c,"value"),c}()}),o.type="uploader",o.id=o.opts.id||"XHRUpload",o.title="XHRUpload",o.defaultLocale=nQ;var u={formData:!0,fieldName:a.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:i(function(c){var f={};try{f=JSON.parse(c)}catch(d){n.log(d)}return f},"getResponseData"),getResponseError:i(function(c,f){var d=new Error("Upload error");return Tu(f)&&(d=new xn(d,f)),d},"getResponseError"),validateStatus:i(function(c){return c>=200&&c<300},"validateStatus")};if(o.opts=kr(kr({},u),a),o.i18nInit(),o.handleUpload=o.handleUpload.bind(Dl(o)),oa in o.opts?o.requests=o.opts[oa]:o.requests=new dn(o.opts.limit),o.opts.bundle&&!o.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((a==null?void 0:a.allowedMetaFields)===void 0&&"metaFields"in o.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");return o.uploaderEvents=Object.create(null),$q(Dl(o),Gd)[Gd]=o.requests.wrapPromiseFunction($q(Dl(o),zq)[zq],{priority:-1}),o}return i(r,"XHRUpload"),Krt(r,[{key:"getOptions",value:i(function(a){var o=this.uppy.getState().xhrUpload,u=this.opts.headers,s=kr(kr(kr(kr({},this.opts),o||{}),a.xhrUpload||{}),{},{headers:{}});return typeof u=="function"?s.headers=u(a):Object.assign(s.headers,this.opts.headers),o&&Object.assign(s.headers,o.headers),a.xhrUpload&&Object.assign(s.headers,a.xhrUpload.headers),s},"getOptions")},{key:"addMetadata",value:i(function(a,o,u){var s=Array.isArray(u.allowedMetaFields)?u.allowedMetaFields:Object.keys(o);s.forEach(function(c){a.append(c,o[c])})},"addMetadata")},{key:"createFormDataUpload",value:i(function(a,o){var u=new FormData;this.addMetadata(u,a.meta,o);var s=lQ(a);return a.name?u.append(o.fieldName,s,a.meta.name):u.append(o.fieldName,s),u},"createFormDataUpload")},{key:"createBundledUpload",value:i(function(a,o){var u=this,s=new FormData,c=this.uppy.getState(),f=c.meta;return this.addMetadata(s,f,o),a.forEach(function(d){var y=u.getOptions(d),m=lQ(d);d.name?s.append(y.fieldName,m,d.name):s.append(y.fieldName,m)}),s},"createBundledUpload")},{key:"upload",value:i(function(a,o,u){var s=this,c=this.getOptions(a);return this.uppy.log("uploading ".concat(o," of ").concat(u)),new Promise(function(f,d){s.uppy.emit("upload-started",a);var y=c.formData?s.createFormDataUpload(a,c):a.data,m=new XMLHttpRequest;s.uploaderEvents[a.id]=new hn(s.uppy);var w,_=new $p(c.timeout,function(){m.abort(),w.done();var T=new Error(s.i18n("timedOut",{seconds:Math.ceil(c.timeout/1e3)}));s.uppy.emit("upload-error",a,T),d(T)}),R=sn();m.upload.addEventListener("loadstart",function(){s.uppy.log("[XHRUpload] ".concat(R," started"))}),m.upload.addEventListener("progress",function(T){s.uppy.log("[XHRUpload] ".concat(R," progress: ").concat(T.loaded," / ").concat(T.total)),_.progress(),T.lengthComputable&&s.uppy.emit("upload-progress",a,{uploader:s,bytesUploaded:T.loaded,bytesTotal:T.total})}),m.addEventListener("load",function(){if(s.uppy.log("[XHRUpload] ".concat(R," finished")),_.done(),w.done(),s.uploaderEvents[a.id]&&(s.uploaderEvents[a.id].remove(),s.uploaderEvents[a.id]=null),c.validateStatus(m.status,m.responseText,m)){var T=c.getResponseData(m.responseText,m),E=T[c.responseUrlFieldName],A={status:m.status,body:T,uploadURL:E};return s.uppy.emit("upload-success",a,A),E&&s.uppy.log("Download ".concat(a.name," from ").concat(E)),f(a)}var x=c.getResponseData(m.responseText,m),U=sQ(m,c.getResponseError(m.responseText,m)),G={status:m.status,body:x};return s.uppy.emit("upload-error",a,U,G),d(U)}),m.addEventListener("error",function(){s.uppy.log("[XHRUpload] ".concat(R," errored")),_.done(),w.done(),s.uploaderEvents[a.id]&&(s.uploaderEvents[a.id].remove(),s.uploaderEvents[a.id]=null);var T=sQ(m,c.getResponseError(m.responseText,m));return s.uppy.emit("upload-error",a,T),d(T)}),m.open(c.method.toUpperCase(),c.endpoint,!0),m.withCredentials=c.withCredentials,c.responseType!==""&&(m.responseType=c.responseType),w=s.requests.run(function(){s.uppy.emit("upload-started",a);var T=s.getOptions(a);return Object.keys(T.headers).forEach(function(E){m.setRequestHeader(E,T.headers[E])}),m.send(y),function(){_.done(),m.abort()}}),s.onFileRemove(a.id,function(){w.abort(),d(new Error("File removed"))}),s.onCancelAll(a.id,function(T){var E=T.reason;E==="user"&&w.abort(),d(new Error("Upload cancelled"))})})},"upload")},{key:"uploadRemote",value:function(){var n=aQ(Hd().mark(i(function o(u){var s;return Hd().wrap(i(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,this.uppy.emit("upload-started",u),!u.serverToken){f.next=4;break}return f.abrupt("return",this.connectToServerSocket(u));case 4:return f.next=6,$q(this,Gd)[Gd](u);case 6:if(s=f.sent,this.uppy.getState().files[u.id]){f.next=9;break}return f.abrupt("return",void 0);case 9:return this.uppy.setFileState(u.id,{serverToken:s}),f.abrupt("return",this.connectToServerSocket(this.uppy.getFile(u.id)));case 13:throw f.prev=13,f.t0=f.catch(0),this.uppy.emit("upload-error",u,f.t0),f.t0;case 17:case"end":return f.stop()}},"_callee2$"),o,this,[[0,13]])},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"uploadRemote"),a}()},{key:"connectToServerSocket",value:i(function(a){var o=this;return new Promise(function(u,s){var c=o.getOptions(a),f=a.serverToken,d=ro(a.remote.companionUrl),y,m=i(function(){y==null&&(y=new ii({target:"".concat(d,"/api/").concat(f)}),y.on("progress",function(T){return aa(o,T,a)}),y.on("success",function(T){var E=c.getResponseData(T.response.responseText,T.response),A=E[c.responseUrlFieldName],x={status:T.response.status,body:E,uploadURL:A};return o.uppy.emit("upload-success",a,x),w.done(),y.close(),o.uploaderEvents[a.id]&&(o.uploaderEvents[a.id].remove(),o.uploaderEvents[a.id]=null),u()}),y.on("error",function(T){var E=T.response,A=E?c.getResponseError(E.responseText,E):Object.assign(new Error(T.error.message),{cause:T.error});o.uppy.emit("upload-error",a,A),w.done(),o.uploaderEvents[a.id]&&(o.uploaderEvents[a.id].remove(),o.uploaderEvents[a.id]=null),s(A)}))},"createSocket");o.uploaderEvents[a.id]=new hn(o.uppy);var w=o.requests.run(function(){if(a.isPaused){var R;(R=y)==null||R.send("pause",{})}else m();return function(){return y.close()}});o.onFileRemove(a.id,function(){var R;(R=y)==null||R.send("cancel",{}),w.abort(),u("upload ".concat(a.id," was removed"))}),o.onCancelAll(a.id,function(R){var T=R===void 0?{}:R,E=T.reason;if(E==="user"){var A;(A=y)==null||A.send("cancel",{}),w.abort()}u("upload ".concat(a.id," was canceled"))});var _=i(function(){y==null?w.abort():(y.send("pause",{}),w.done()),w=o.requests.run(function(){return a.isPaused||(y==null?m():y.send("resume",{})),function(){return y.close()}})},"onRetryRequest");o.onRetry(a.id,_),o.onRetryAll(a.id,_)}).catch(function(u){return o.uppy.emit("upload-error",a,u),Promise.reject(u)})},"connectToServerSocket")},{key:"uploadBundle",value:i(function(a){var o=this;return new Promise(function(u,s){var c=o.opts.endpoint,f=o.opts.method,d=o.uppy.getState().xhrUpload,y=o.createBundledUpload(a,kr(kr({},o.opts),d||{})),m=new XMLHttpRequest,w=i(function(T){a.forEach(function(E){o.uppy.emit("upload-error",E,T)})},"emitError"),_=new $p(o.opts.timeout,function(){m.abort();var R=new Error(o.i18n("timedOut",{seconds:Math.ceil(o.opts.timeout/1e3)}));w(R),s(R)});m.upload.addEventListener("loadstart",function(){o.uppy.log("[XHRUpload] started uploading bundle"),_.progress()}),m.upload.addEventListener("progress",function(R){_.progress(),R.lengthComputable&&a.forEach(function(T){o.uppy.emit("upload-progress",T,{uploader:o,bytesUploaded:R.loaded/R.total*T.size,bytesTotal:T.size})})}),m.addEventListener("load",function(R){if(_.done(),o.opts.validateStatus(R.target.status,m.responseText,m)){var T=o.opts.getResponseData(m.responseText,m),E={status:R.target.status,body:T};return a.forEach(function(x){o.uppy.emit("upload-success",x,E)}),u()}var A=o.opts.getResponseError(m.responseText,m)||new Error("Upload error");return A.request=m,w(A),s(A)}),m.addEventListener("error",function(){_.done();var R=o.opts.getResponseError(m.responseText,m)||new Error("Upload error");return w(R),s(R)}),o.uppy.on("cancel-all",function(R){var T=R===void 0?{}:R,E=T.reason;E==="user"&&(_.done(),m.abort())}),m.open(f.toUpperCase(),c,!0),m.withCredentials=o.opts.withCredentials,o.opts.responseType!==""&&(m.responseType=o.opts.responseType),Object.keys(o.opts.headers).forEach(function(R){m.setRequestHeader(R,o.opts.headers[R])}),m.send(y),a.forEach(function(R){o.uppy.emit("upload-started",R)})})},"uploadBundle")},{key:"uploadFiles",value:i(function(a){var o=this,u=a.map(function(s,c){var f=parseInt(c,10)+1,d=a.length;return s.error?Promise.reject(new Error(s.error)):s.isRemote?o.uploadRemote(s,f,d):o.upload(s,f,d)});return ld(u)},"uploadFiles")},{key:"onFileRemove",value:i(function(a,o){this.uploaderEvents[a].on("file-removed",function(u){a===u.id&&o(u.id)})},"onFileRemove")},{key:"onRetry",value:i(function(a,o){this.uploaderEvents[a].on("upload-retry",function(u){a===u&&o()})},"onRetry")},{key:"onRetryAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("retry-all",function(){!u.uppy.getFile(a)||o()})},"onRetryAll")},{key:"onCancelAll",value:i(function(a,o){var u=this;this.uploaderEvents[a].on("cancel-all",function(){!u.uppy.getFile(a)||o.apply(void 0,arguments)})},"onCancelAll")},{key:"handleUpload",value:i(function(a){var o=this;if(a.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[oa]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var u=a.map(function(c){return o.uppy.getFile(c)});if(this.opts.bundle){var s=u.some(function(c){return c.isRemote});if(s)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(u)}return this.uploadFiles(u).then(function(){return null})},"handleUpload")},{key:"install",value:i(function(){if(this.opts.bundle){var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:kr(kr({},o),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},"install")},{key:"uninstall",value:i(function(){if(this.opts.bundle){var a=this.uppy.getState(),o=a.capabilities;this.uppy.setState({capabilities:kr(kr({},o),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},"uninstall")}]),r}(lt);Hq.VERSION=ent.version;var Kq=Te(nm(),1),TQ=Te(bQ(),1);var wQ={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function uw(t){return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(t)}i(uw,"_typeof");function Ont(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Snt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=i(function(){},"F");return{s:a,n:i(function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},"n"),e:i(function(f){throw f},"e"),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,u=!1,s;return{s:i(function(){r=r.call(t)},"s"),n:i(function(){var f=r.next();return o=f.done,f},"n"),e:i(function(f){u=!0,s=f},"e"),f:i(function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw s}},"f")}}i(Ont,"_createForOfIteratorHelper");function Snt(t,e){if(!!t){if(typeof t=="string")return OQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OQ(t,e)}}i(Snt,"_unsupportedIterableToArray");function OQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i(OQ,"_arrayLikeToArray");function Kd(){"use strict";Kd=i(function(){return t},"_regeneratorRuntime");var t={},e=Object.prototype,r=e.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(p,l,h){return Object.defineProperty(p,l,{value:h,enumerable:!0,configurable:!0,writable:!0}),p[l]}i(s,"define");try{s({},"")}catch(p){s=i(function(h,v,g){return h[v]=g},"define")}function c(p,l,h,v){var g=l&&l.prototype instanceof y?l:y,b=Object.create(g.prototype),P=new z(v||[]);return b._invoke=function(q,L,O){var I="suspendedStart";return function(j,re){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(j==="throw")throw re;return Y()}for(O.method=j,O.arg=re;;){var ne=O.delegate;if(ne){var Q=U(ne,O);if(Q){if(Q===d)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(I==="suspendedStart")throw I="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);I="executing";var K=f(q,L,O);if(K.type==="normal"){if(I=O.done?"completed":"suspendedYield",K.arg===d)continue;return{value:K.arg,done:O.done}}K.type==="throw"&&(I="completed",O.method="throw",O.arg=K.arg)}}}(p,h,P),b}i(c,"wrap");function f(p,l,h){try{return{type:"normal",arg:p.call(l,h)}}catch(v){return{type:"throw",arg:v}}}i(f,"tryCatch"),t.wrap=c;var d={};function y(){}i(y,"Generator");function m(){}i(m,"GeneratorFunction");function w(){}i(w,"GeneratorFunctionPrototype");var _={};s(_,a,function(){return this});var R=Object.getPrototypeOf,T=R&&R(R(W([])));T&&T!==e&&r.call(T,a)&&(_=T);var E=w.prototype=y.prototype=Object.create(_);function A(p){["next","throw","return"].forEach(function(l){s(p,l,function(h){return this._invoke(l,h)})})}i(A,"defineIteratorMethods");function x(p,l){function h(g,b,P,q){var L=f(p[g],p,b);if(L.type!=="throw"){var O=L.arg,I=O.value;return I&&uw(I)=="object"&&r.call(I,"__await")?l.resolve(I.__await).then(function(j){h("next",j,P,q)},function(j){h("throw",j,P,q)}):l.resolve(I).then(function(j){O.value=j,P(O)},function(j){return h("throw",j,P,q)})}q(L.arg)}i(h,"invoke");var v;this._invoke=function(g,b){function P(){return new l(function(q,L){h(g,b,q,L)})}return i(P,"callInvokeWithMethodAndArg"),v=v?v.then(P,P):P()}}i(x,"AsyncIterator");function U(p,l){var h=p.iterator[l.method];if(h===void 0){if(l.delegate=null,l.method==="throw"){if(p.iterator.return&&(l.method="return",l.arg=void 0,U(p,l),l.method==="throw"))return d;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var v=f(h,p.iterator,l.arg);if(v.type==="throw")return l.method="throw",l.arg=v.arg,l.delegate=null,d;var g=v.arg;return g?g.done?(l[p.resultName]=g.value,l.next=p.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,d):g:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,d)}i(U,"maybeInvokeDelegate");function G(p){var l={tryLoc:p[0]};1 in p&&(l.catchLoc=p[1]),2 in p&&(l.finallyLoc=p[2],l.afterLoc=p[3]),this.tryEntries.push(l)}i(G,"pushTryEntry");function M(p){var l=p.completion||{};l.type="normal",delete l.arg,p.completion=l}i(M,"resetTryEntry");function z(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(G,this),this.reset(!0)}i(z,"Context");function W(p){if(p){var l=p[a];if(l)return l.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var h=-1,v=i(function g(){for(;++h<p.length;)if(r.call(p,h))return g.value=p[h],g.done=!1,g;return g.value=void 0,g.done=!0,g},"next");return v.next=v}}return{next:Y}}i(W,"values");function Y(){return{value:void 0,done:!0}}return i(Y,"doneResult"),m.prototype=w,s(E,"constructor",w),s(w,"constructor",m),m.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(p){var l=typeof p=="function"&&p.constructor;return!!l&&(l===m||(l.displayName||l.name)==="GeneratorFunction")},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,w):(p.__proto__=w,s(p,u,"GeneratorFunction")),p.prototype=Object.create(E),p},t.awrap=function(p){return{__await:p}},A(x.prototype),s(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(p,l,h,v,g){g===void 0&&(g=Promise);var b=new x(c(p,l,h,v),g);return t.isGeneratorFunction(l)?b:b.next().then(function(P){return P.done?P.value:b.next()})},A(E),s(E,u,"Generator"),s(E,a,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),t.keys=function(p){var l=[];for(var h in p)l.push(h);return l.reverse(),i(function v(){for(;l.length;){var g=l.pop();if(g in p)return v.value=g,v.done=!1,v}return v.done=!0,v},"next")},t.values=W,z.prototype={constructor:z,reset:i(function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!l)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},"reset"),stop:i(function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},"stop"),dispatchException:i(function(l){if(this.done)throw l;var h=this;function v(O,I){return P.type="throw",P.arg=l,h.next=O,I&&(h.method="next",h.arg=void 0),!!I}i(v,"handle");for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g],P=b.completion;if(b.tryLoc==="root")return v("end");if(b.tryLoc<=this.prev){var q=r.call(b,"catchLoc"),L=r.call(b,"finallyLoc");if(q&&L){if(this.prev<b.catchLoc)return v(b.catchLoc,!0);if(this.prev<b.finallyLoc)return v(b.finallyLoc)}else if(q){if(this.prev<b.catchLoc)return v(b.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return v(b.finallyLoc)}}}},"dispatchException"),abrupt:i(function(l,h){for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v];if(g.tryLoc<=this.prev&&r.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var b=g;break}}b&&(l==="break"||l==="continue")&&b.tryLoc<=h&&h<=b.finallyLoc&&(b=null);var P=b?b.completion:{};return P.type=l,P.arg=h,b?(this.method="next",this.next=b.finallyLoc,d):this.complete(P)},"abrupt"),complete:i(function(l,h){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&h&&(this.next=h),d},"complete"),finish:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.finallyLoc===l)return this.complete(v.completion,v.afterLoc),M(v),d}},"finish"),catch:i(function(l){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc===l){var g=v.completion;if(g.type==="throw"){var b=g.arg;M(v)}return b}}throw new Error("illegal catch attempt")},"_catch"),delegateYield:i(function(l,h,v){return this.delegate={iterator:W(l),resultName:h,nextLoc:v},this.method==="next"&&(this.arg=void 0),d},"delegateYield")},t}i(Kd,"_regeneratorRuntime");function SQ(t,e,r,n,a,o,u){try{var s=t[o](u),c=s.value}catch(f){r(f);return}s.done?e(c):Promise.resolve(c).then(n,a)}i(SQ,"asyncGeneratorStep");function _Q(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function u(c){SQ(o,n,a,u,s,"next",c)}i(u,"_next");function s(c){SQ(o,n,a,u,s,"throw",c)}i(s,"_throw"),u(void 0)})}}i(_Q,"_asyncToGenerator");function PQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(PQ,"ownKeys");function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PQ(Object(r),!0).forEach(function(n){_nt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(ho,"_objectSpread");function _nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(_nt,"_defineProperty");function Pnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Pnt,"_classCallCheck");function EQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(EQ,"_defineProperties");function Ent(t,e,r){return e&&EQ(t.prototype,e),r&&EQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Ent,"_createClass");function Rnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wq(t,e)}i(Rnt,"_inherits");function Wq(t,e){return Wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Wq(t,e)}i(Wq,"_setPrototypeOf");function Tnt(t){var e=Int();return i(function(){var n=sw(t),a;if(e){var o=sw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ant(this,a)},"_createSuperInternal")}i(Tnt,"_createSuper");function Ant(t,e){if(e&&(uw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yd(t)}i(Ant,"_possibleConstructorReturn");function Yd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Yd,"_assertThisInitialized");function Int(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(Int,"_isNativeReflectConstruct");function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),sw(t)}i(sw,"_getPrototypeOf");function RQ(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}i(RQ,"_classPrivateFieldLooseBase");var knt=0;function qnt(t){return"__private_"+knt+++"_"+t}i(qnt,"_classPrivateFieldLooseKey");var Wd=qnt("RateLimitedQueue"),AQ=function(t){Rnt(r,t);var e=Tnt(r);function r(n,a){var o;Pnt(this,r),o=e.call(this,n,a),Object.defineProperty(Yd(o),Wd,{writable:!0,value:void 0}),o.id=o.opts.id||"Compressor",o.type="modifier",o.defaultLocale=wQ;var u={quality:.6,limit:10};return o.opts=ho(ho({},u),a),RQ(Yd(o),Wd)[Wd]=new dn(o.opts.limit),o.i18nInit(),o.prepareUpload=o.prepareUpload.bind(Yd(o)),o.compress=o.compress.bind(Yd(o)),o}return i(r,"Compressor"),Ent(r,[{key:"compress",value:i(function(a){var o=this;return new Promise(function(u,s){new TQ.default(a,ho(ho({},o.opts),{},{success:u,error:s}))})},"compress")},{key:"prepareUpload",value:function(){var n=_Q(Kd().mark(i(function o(u){var s=this,c,f,d,y,m,w,_,R;return Kd().wrap(i(function(E){for(;;)switch(E.prev=E.next){case 0:return c=0,f=[],d=RQ(this,Wd)[Wd].wrapPromiseFunction(function(){var A=_Q(Kd().mark(i(function x(U){var G,M,z,W,Y,p;return Kd().wrap(i(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,s.compress(U.data);case 3:G=h.sent,M=U.data.size-G.size,s.uppy.log("[Image Compressor] Image ".concat(U.id," compressed by ").concat((0,Kq.default)(M))),c+=M,z=G.name,W=G.type,Y=G.size,p=z&&ji(z).extension,s.uppy.setFileState(U.id,ho(ho(ho(ho(ho({},z&&{name:z}),p&&{extension:p}),W&&{type:W}),Y&&{size:Y}),{},{data:G})),s.uppy.setFileMeta(U.id,{type:W}),f.push(U),h.next=18;break;case 14:h.prev=14,h.t0=h.catch(0),s.uppy.log("[Image Compressor] Failed to compress ".concat(U.id,":"),"warning"),s.uppy.log(h.t0,"warning");case 18:case"end":return h.stop()}},"_callee$"),x,null,[[0,14]])},"_callee")));return function(x){return A.apply(this,arguments)}}()),y=u.map(function(A){var x=s.uppy.getFile(A);return s.uppy.emit("preprocess-progress",x,{mode:"indeterminate",message:s.i18n("compressingImages")}),x.isRemote||(x.data.type||(x.data=x.data.slice(0,x.data.size,x.type)),!x.type.startsWith("image/"))?Promise.resolve():d(x)}),E.next=6,Promise.all(y);case 6:this.uppy.emit("compressor:complete",f),c>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,Kq.default)(c)}),"info"),m=Ont(u);try{for(m.s();!(w=m.n()).done;)_=w.value,R=this.uppy.getFile(_),this.uppy.emit("preprocess-complete",R)}catch(A){m.e(A)}finally{m.f()}case 10:case"end":return E.stop()}},"_callee2$"),o,this)},"_callee2")));function a(o){return n.apply(this,arguments)}return i(a,"prepareUpload"),a}()},{key:"install",value:i(function(){this.uppy.addPreProcessor(this.prepareUpload)},"install")},{key:"uninstall",value:i(function(){this.uppy.removePreProcessor(this.prepareUpload)},"uninstall")}]),r}(lt);function lw(){return lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}i(lw,"_extends");var xnt={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Cnt={button:!0,fieldset:!0,reset:!0,submit:!0},Fnt={checkbox:!0,radio:!0},Lnt=/^\s+|\s+$/g,jnt=Array.prototype.slice,IQ=Object.prototype.toString;function cw(t,e){if(!t)throw new Error("A form is required by getFormData, was given form="+t);e=lw({includeDisabled:!1,trim:!1},e);for(var r={},n,a=[],o={},u=0,s=t.elements.length;u<s;u++){var c=t.elements[u];Cnt[c.type]||c.disabled&&!e.includeDisabled||(n=c.name||c.id,n&&!o[n]&&(a.push(n),o[n]=!0))}for(var f=0,d=a.length;f<d;f++){n=a[f];var y=qQ(t,n,e);y!=null&&(r[n]=y)}return r}i(cw,"getFormData");function qQ(t,e,r){if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&IQ.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);r=lw({includeDisabled:!1,trim:!1},r);var n=t.elements[e];if(!n||n.disabled&&!r.includeDisabled)return null;if(!xnt[IQ.call(n)])return kQ(n,r.trim);for(var a=[],o=!0,u=0,s=n.length;u<s;u++)if(!(n[u].disabled&&!r.includeDisabled)){o&&n[u].type!=="radio"&&(o=!1);var c=kQ(n[u],r.trim);c!=null&&(a=a.concat(c))}return o&&a.length===1?a[0]:a.length>0?a:null}i(qQ,"getFieldData");function kQ(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var a=0,o=t.options.length;a<o;a++)t.options[a].selected&&r.push(t.options[a].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=jnt.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(Fnt[n]?t.checked&&(n==="checkbox"&&!t.hasAttribute("value")?r=!0:r=t.value):r=e?t.value.replace(Lnt,""):t.value,r)}i(kQ,"getFormElementValue");cw.getFieldData=qQ;function Yq(t){return Yq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yq(t)}i(Yq,"_typeof");function xQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(xQ,"ownKeys");function CQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xQ(Object(r),!0).forEach(function(n){Nnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(CQ,"_objectSpread");function Nnt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Nnt,"_defineProperty");function Dnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Dnt,"_classCallCheck");function FQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(FQ,"_defineProperties");function Unt(t,e,r){return e&&FQ(t.prototype,e),r&&FQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Unt,"_createClass");function Mnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xq(t,e)}i(Mnt,"_inherits");function Xq(t,e){return Xq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Xq(t,e)}i(Xq,"_setPrototypeOf");function Bnt(t){var e=znt();return i(function(){var n=fw(t),a;if(e){var o=fw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return $nt(this,a)},"_createSuperInternal")}i(Bnt,"_createSuper");function $nt(t,e){if(e&&(Yq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ul(t)}i($nt,"_possibleConstructorReturn");function Ul(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ul,"_assertThisInitialized");function znt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(znt,"_isNativeReflectConstruct");function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),fw(t)}i(fw,"_getPrototypeOf");var Gnt={version:"3.0.1"},Jq=function(t){Mnt(r,t);var e=Bnt(r);function r(n,a){var o;Dnt(this,r),o=e.call(this,n,a),o.type="acquirer",o.id=o.opts.id||"Form",o.title="Form";var u={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return o.opts=CQ(CQ({},u),a),o.handleFormSubmit=o.handleFormSubmit.bind(Ul(o)),o.handleUploadStart=o.handleUploadStart.bind(Ul(o)),o.handleSuccess=o.handleSuccess.bind(Ul(o)),o.addResultToForm=o.addResultToForm.bind(Ul(o)),o.getMetaFromForm=o.getMetaFromForm.bind(Ul(o)),o}return i(r,"Form"),Unt(r,[{key:"handleUploadStart",value:i(function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},"handleUploadStart")},{key:"handleSuccess",value:i(function(a){this.opts.addResultToForm&&this.addResultToForm(a),this.opts.submitOnSuccess&&this.form.submit()},"handleSuccess")},{key:"handleFormSubmit",value:i(function(a){var o=this;if(this.opts.triggerUploadOnSubmit){a.preventDefault();var u=Et(a.target.elements),s=[];u.forEach(function(c){var f=c.tagName==="BUTTON"||c.tagName==="INPUT"&&c.type==="submit";f&&!c.disabled&&(c.disabled=!0,s.push(c))}),this.uppy.upload().then(function(){s.forEach(function(c){c.disabled=!1})},function(c){return s.forEach(function(f){f.disabled=!1}),Promise.reject(c)}).catch(function(c){o.uppy.log(c.stack||c.message||c)})}},"handleFormSubmit")},{key:"addResultToForm",value:i(function(a){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(a);var o=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(o){var u;try{u=JSON.parse(o.value)}catch(s){}Array.isArray(u)||(u=[]),u.push(a),o.value=JSON.stringify(u);return}o=document.createElement("input"),o.name=this.opts.resultName,o.type="hidden",o.value=JSON.stringify([a]),this.form.appendChild(o)},"addResultToForm")},{key:"getMetaFromForm",value:i(function(){var a=cw(this.form);delete a[this.opts.resultName],this.uppy.setMeta(a)},"getMetaFromForm")},{key:"install",value:i(function(){if(this.form=Yf(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)},"install")},{key:"uninstall",value:i(function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},"uninstall")}]),r}(lt);Jq.VERSION=Gnt.version;var eZ=Te(Cf(),1);function Hnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Hnt,"_classCallCheck");function LQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(LQ,"_defineProperties");function Vnt(t,e,r){return e&&LQ(t.prototype,e),r&&LQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Vnt,"_createClass");var jQ=typeof navigator!="undefined"&&"serviceWorker"in navigator;function Wnt(){return new Promise(function(t,e){jQ?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}i(Wnt,"waitForServiceWorker");var NQ=function(){function t(e){Hnt(this,t),this.ready=Wnt(),this.name=e.storeName}return i(t,"ServiceWorkerStore"),Vnt(t,[{key:"list",value:i(function(){var r=this,n={},a=new Promise(function(u,s){n.resolve=u,n.reject=s}),o=i(function u(s){if(s.data.store===r.name)switch(s.data.type){case"uppy/ALL_FILES":n.resolve(s.data.files),navigator.serviceWorker.removeEventListener("message",u);break;default:n.reject()}},"onMessage");return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",o),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),a},"list")},{key:"put",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})},"_delete")}]),t}();NQ.isSupported=jQ;var DQ=NQ;function UQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(UQ,"ownKeys");function Knt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UQ(Object(r),!0).forEach(function(n){Ynt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Knt,"_objectSpread");function Ynt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(Ynt,"_defineProperty");function Xnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(Xnt,"_classCallCheck");function MQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(MQ,"_defineProperties");function Jnt(t,e,r){return e&&MQ(t.prototype,e),r&&MQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(Jnt,"_createClass");var GQ=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),Qnt=!!GQ,BQ="uppy-blobs",qr="files",HQ=24*60*60*1e3,Znt=3;function eit(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var a=n.value;a.expires=Date.now()+HQ,n.update(a)}}}i(eit,"migrateExpiration");function $Q(t){var e=GQ.open(t,Znt);return new Promise(function(r,n){e.onupgradeneeded=function(a){var o=a.target.result,u=a.currentTarget.transaction;if(a.oldVersion<2){var s=o.createObjectStore(qr,{keyPath:"id"});s.createIndex("store","store",{unique:!1})}if(a.oldVersion<3){var c=u.objectStore(qr);c.createIndex("expires","expires",{unique:!1}),eit(c)}u.oncomplete=function(){r(o)}},e.onsuccess=function(a){r(a.target.result)},e.onerror=n})}i($Q,"connect");function pw(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}i(pw,"waitForRequest");var zQ=!1,VQ=function(){function t(e){var r=this;Xnt(this,t),this.opts=Knt({dbName:BQ,storeName:"default",expires:HQ,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=i(function(){return $Q(r.opts.dbName)},"createConnection");zQ?this.ready=n():(zQ=!0,this.ready=t.cleanup().then(n,n))}return i(t,"IndexedDBStore"),Jnt(t,[{key:"key",value:i(function(r){return"".concat(this.name,"!").concat(r)},"key")},{key:"list",value:i(function(){var r=this;return this.ready.then(function(n){var a=n.transaction([qr],"readonly"),o=a.objectStore(qr),u=o.index("store").getAll(IDBKeyRange.only(r.name));return pw(u)}).then(function(n){var a={};return n.forEach(function(o){a[o.fileID]=o.data}),a})},"list")},{key:"get",value:i(function(r){var n=this;return this.ready.then(function(a){var o=a.transaction([qr],"readonly"),u=o.objectStore(qr).get(n.key(r));return pw(u)}).then(function(a){return{id:a.data.fileID,data:a.data.data}})},"get")},{key:"getSize",value:i(function(){var r=this;return this.ready.then(function(n){var a=n.transaction([qr],"readonly"),o=a.objectStore(qr),u=o.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(s,c){var f=0;u.onsuccess=function(d){var y=d.target.result;y?(f+=y.value.data.size,y.continue()):s(f)},u.onerror=function(){c(new Error("Could not retrieve stored blobs size"))}})})},"getSize")},{key:"put",value:i(function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(a){return a>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(a){var o=a.transaction([qr],"readwrite"),u=o.objectStore(qr).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return pw(u)})},"put")},{key:"delete",value:i(function(r){var n=this;return this.ready.then(function(a){var o=a.transaction([qr],"readwrite"),u=o.objectStore(qr).delete(n.key(r));return pw(u)})},"_delete")}],[{key:"cleanup",value:i(function(){return $Q(BQ).then(function(r){var n=r.transaction([qr],"readwrite"),a=n.objectStore(qr),o=a.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(u,s){o.onsuccess=function(c){var f=c.target.result;f?(f.delete(),f.continue()):u(r)},o.onerror=s})}).then(function(r){r.close()})},"cleanup")}]),t}();VQ.isSupported=Qnt;var WQ=VQ;function KQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(KQ,"ownKeys");function tit(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(r),!0).forEach(function(n){rit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(tit,"_objectSpread");function rit(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(rit,"_defineProperty");function nit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(nit,"_classCallCheck");function YQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(YQ,"_defineProperties");function iit(t,e,r){return e&&YQ(t.prototype,e),r&&YQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(iit,"_createClass");function oit(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice(10))}return t}i(oit,"findUppyInstances");function XQ(t){try{return JSON.parse(t)}catch(e){return null}}i(XQ,"maybeParse");var JQ=!1,Xd=function(){function t(e){nit(this,t),this.opts=tit({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),JQ||(JQ=!0,t.cleanup())}return i(t,"MetaDataStore"),iit(t,[{key:"load",value:i(function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=XQ(r);return n?n.metadata?n.metadata:(this.save(n),n):null},"load")},{key:"save",value:i(function(r){var n=Date.now()+this.opts.expires,a=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,a)},"save")}],[{key:"cleanup",value:i(function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=oit(),a=Date.now();n.forEach(function(o){var u=localStorage.getItem("uppyState:".concat(o));if(!!u){var s=XQ(u);!s||s.expires&&s.expires<a&&localStorage.removeItem("uppyState:".concat(o))}})},"cleanup")}]),t}();function Qq(t){return Qq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qq(t)}i(Qq,"_typeof");function QQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(QQ,"ownKeys");function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QQ(Object(r),!0).forEach(function(n){ait(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Yt,"_objectSpread");function ait(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(ait,"_defineProperty");function uit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(uit,"_classCallCheck");function ZQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(ZQ,"_defineProperties");function sit(t,e,r){return e&&ZQ(t.prototype,e),r&&ZQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(sit,"_createClass");function lit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zq(t,e)}i(lit,"_inherits");function Zq(t,e){return Zq=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),Zq(t,e)}i(Zq,"_setPrototypeOf");function cit(t){var e=pit();return i(function(){var n=dw(t),a;if(e){var o=dw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return fit(this,a)},"_createSuperInternal")}i(cit,"_createSuper");function fit(t,e){if(e&&(Qq(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ml(t)}i(fit,"_possibleConstructorReturn");function Ml(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(Ml,"_assertThisInitialized");function pit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(pit,"_isNativeReflectConstruct");function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),dw(t)}i(dw,"_getPrototypeOf");var dit={version:"3.0.2"},e2=function(t){lit(r,t);var e=cit(r);function r(n,a){var o;uit(this,r),o=e.call(this,n,a),o.addBlobToStores=function(s){s.isRemote||(o.ServiceWorkerStore&&o.ServiceWorkerStore.put(s).catch(function(c){o.uppy.log("[GoldenRetriever] Could not store file","warning"),o.uppy.log(c)}),o.IndexedDBStore.put(s).catch(function(c){o.uppy.log("[GoldenRetriever] Could not store file","warning"),o.uppy.log(c)}))},o.removeBlobFromStores=function(s){o.ServiceWorkerStore&&o.ServiceWorkerStore.delete(s.id).catch(function(c){o.uppy.log("[GoldenRetriever] Failed to remove file","warning"),o.uppy.log(c)}),o.IndexedDBStore.delete(s.id).catch(function(c){o.uppy.log("[GoldenRetriever] Failed to remove file","warning"),o.uppy.log(c)})},o.replaceBlobInStores=function(s){o.removeBlobFromStores(s),o.addBlobToStores(s)},o.handleRestoreConfirmed=function(){o.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var s=o.uppy.getState(),c=s.currentUploads;c&&(o.uppy.resumeAll(),Object.keys(c).forEach(function(f){o.uppy.restore(f,c[f])})),o.uppy.setState({recoveredState:null})},o.abortRestore=function(){o.uppy.log("[GoldenRetriever] Aborting restore...");var s=Object.keys(o.uppy.getState().files);o.deleteBlobs(s).then(function(){o.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files"))}).catch(function(c){o.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files"),"warning"),o.uppy.log(c)}),o.uppy.cancelAll(),o.uppy.setState({recoveredState:null}),Xd.cleanup(o.uppy.opts.id)},o.handleComplete=function(s){var c=s.successful,f=c.map(function(d){return d.id});o.deleteBlobs(f).then(function(){o.uppy.log("[GoldenRetriever] Removed ".concat(c.length," files that finished uploading"))}).catch(function(d){o.uppy.log("[GoldenRetriever] Could not remove ".concat(c.length," files that finished uploading"),"warning"),o.uppy.log(d)}),o.uppy.setState({recoveredState:null}),Xd.cleanup(o.uppy.opts.id)},o.restoreBlobs=function(){o.uppy.getFiles().length>0?Promise.all([o.loadFileBlobsFromServiceWorker(),o.loadFileBlobsFromIndexedDB()]).then(function(s){var c=Yt(Yt({},s[0]),s[1]);o.onBlobsLoaded(c)}):o.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},o.type="debugger",o.id=o.opts.id||"GoldenRetriever",o.title="Golden Retriever";var u={expires:24*60*60*1e3,serviceWorker:!1};return o.opts=Yt(Yt({},u),a),o.MetaDataStore=new Xd({expires:o.opts.expires,storeName:n.getID()}),o.ServiceWorkerStore=null,o.opts.serviceWorker&&(o.ServiceWorkerStore=new DQ({storeName:n.getID()})),o.IndexedDBStore=new WQ(Yt(Yt({expires:o.opts.expires},o.opts.indexedDB||{}),{},{storeName:n.getID()})),o.saveFilesStateToLocalStorage=(0,eZ.default)(o.saveFilesStateToLocalStorage.bind(Ml(o)),500,{leading:!0,trailing:!0}),o.restoreState=o.restoreState.bind(Ml(o)),o.loadFileBlobsFromServiceWorker=o.loadFileBlobsFromServiceWorker.bind(Ml(o)),o.loadFileBlobsFromIndexedDB=o.loadFileBlobsFromIndexedDB.bind(Ml(o)),o.onBlobsLoaded=o.onBlobsLoaded.bind(Ml(o)),o}return i(r,"GoldenRetriever"),sit(r,[{key:"restoreState",value:i(function(){var a=this.MetaDataStore.load();a&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:a.currentUploads||{},files:a.files||{},recoveredState:a}),this.savedPluginData=a.pluginData)},"restoreState")},{key:"getWaitingFiles",value:i(function(){var a={};return this.uppy.getFiles().forEach(function(o){(!o.progress||!o.progress.uploadStarted)&&(a[o.id]=o)}),a},"getWaitingFiles")},{key:"getUploadingFiles",value:i(function(){var a=this,o={},u=this.uppy.getState(),s=u.currentUploads;if(s){var c=Object.keys(s);c.forEach(function(f){var d=s[f].fileIDs;d.forEach(function(y){o[y]=a.uppy.getFile(y)})})}return o},"getUploadingFiles")},{key:"saveFilesStateToLocalStorage",value:i(function(){var a=Yt(Yt({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(a).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),Xd.cleanup(this.uppy.opts.id);return}var o={};Object.keys(a).forEach(function(f){a[f].isRemote?o[f]=Yt(Yt({},a[f]),{},{isRestored:!0}):o[f]=Yt(Yt({},a[f]),{},{isRestored:!0,data:null,preview:null})});var u={};this.uppy.emit("restore:get-data",function(f){Object.assign(u,f)});var s=this.uppy.getState(),c=s.currentUploads;this.MetaDataStore.save({currentUploads:c,files:o,pluginData:u})},"saveFilesStateToLocalStorage")},{key:"loadFileBlobsFromServiceWorker",value:i(function(){var a=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(o){var u=Object.keys(o).length;return u>0?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(u," blobs from Service Worker!")),o):(a.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(o){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),a.uppy.log(o),{}}):Promise.resolve({})},"loadFileBlobsFromServiceWorker")},{key:"loadFileBlobsFromIndexedDB",value:i(function(){var a=this;return this.IndexedDBStore.list().then(function(o){var u=Object.keys(o).length;return u>0?(a.uppy.log("[GoldenRetriever] Successfully recovered ".concat(u," blobs from IndexedDB!")),o):(a.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(o){return a.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),a.uppy.log(o),{}})},"loadFileBlobsFromIndexedDB")},{key:"onBlobsLoaded",value:i(function(a){var o=this,u=[],s=Yt({},this.uppy.getState().files);Object.keys(a).forEach(function(c){var f=o.uppy.getFile(c);if(!f){u.push(c);return}var d=a[c],y={data:d,isRestored:!0,isGhost:!1};s[c]=Yt(Yt({},f),y)}),Object.keys(s).forEach(function(c){s[c].data===null&&(s[c]=Yt(Yt({},s[c]),{},{isGhost:!0}))}),this.uppy.setState({files:s}),this.uppy.emit("restored",this.savedPluginData),u.length&&this.deleteBlobs(u).then(function(){o.uppy.log("[GoldenRetriever] Cleaned up ".concat(u.length," old files"))}).catch(function(c){o.uppy.log("[GoldenRetriever] Could not clean up ".concat(u.length," old files"),"warning"),o.uppy.log(c)})},"onBlobsLoaded")},{key:"deleteBlobs",value:i(function(a){var o=this,u=[];return a.forEach(function(s){o.ServiceWorkerStore&&u.push(o.ServiceWorkerStore.delete(s)),o.IndexedDBStore&&u.push(o.IndexedDBStore.delete(s))}),Promise.all(u)},"deleteBlobs")},{key:"install",value:i(function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)},"install")},{key:"uninstall",value:i(function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)},"uninstall")}]),r}(lt);e2.VERSION=dit.version;function t2(t){return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t2(t)}i(t2,"_typeof");function tZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}i(tZ,"ownKeys");function Bl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tZ(Object(r),!0).forEach(function(n){hit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}i(Bl,"_objectSpread");function hit(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i(hit,"_defineProperty");function vit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i(vit,"_classCallCheck");function rZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(rZ,"_defineProperties");function yit(t,e,r){return e&&rZ(t.prototype,e),r&&rZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}i(yit,"_createClass");function mit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}i(mit,"_inherits");function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():i(function(n,a){return n.__proto__=a,n},"_setPrototypeOf"),r2(t,e)}i(r2,"_setPrototypeOf");function git(t){var e=wit();return i(function(){var n=hw(t),a;if(e){var o=hw(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return bit(this,a)},"_createSuperInternal")}i(git,"_createSuper");function bit(t,e){if(e&&(t2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2(t)}i(bit,"_possibleConstructorReturn");function n2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i(n2,"_assertThisInitialized");function wit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}i(wit,"_isNativeReflectConstruct");function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():i(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),hw(t)}i(hw,"_getPrototypeOf");var Oit={version:"3.0.1"},i2=function(t){mit(r,t);var e=git(r);function r(n,a){var o;vit(this,r),o=e.call(this,n,a),o.type="debugger",o.id=o.opts.id||"ReduxDevTools",o.title="Redux DevTools";var u={};return o.opts=Bl(Bl({},u),a),o.handleStateChange=o.handleStateChange.bind(n2(o)),o.initDevTools=o.initDevTools.bind(n2(o)),o}return i(r,"ReduxDevTools"),yit(r,[{key:"handleStateChange",value:i(function(a,o){this.devTools.send("UPPY_STATE_UPDATE",o)},"handleStateChange")},{key:"initDevTools",value:i(function(){var a=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(o){if(o.type==="DISPATCH")switch(o.payload.type){case"RESET":a.uppy.cancelAll();return;case"IMPORT_STATE":{var u=o.payload.nextLiftedState.computedStates;a.uppy.store.state=Bl(Bl({},a.uppy.getState()),u[u.length-1].state),a.uppy.updateAll(a.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":a.uppy.store.state=Bl(Bl({},a.uppy.getState()),JSON.parse(o.state)),a.uppy.updateAll(a.uppy.getState());break;default:}})},"initDevTools")},{key:"install",value:i(function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},"install")},{key:"uninstall",value:i(function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},"uninstall")}]),r}(Se);i2.VERSION=Oit.version;function Sit(){throw new Error("Core has been renamed to Uppy")}i(Sit,"Core");var _it={ProviderView:mR};ca.COMPANION_URL=Mq;ca.COMPANION_ALLOWED_HOSTS=Bq;var Pit={};globalThis.Uppy=o2;typeof window.ResizeObserver!="function"&&(window.ResizeObserver=R$);})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
