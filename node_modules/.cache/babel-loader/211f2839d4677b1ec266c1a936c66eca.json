{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as dom from '../../../../base/browser/dom.js';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { PartFingerprints, ViewPart } from '../../view/viewPart.js';\nvar Coordinate = /** @class */function () {\n  function Coordinate(top, left) {\n    this.top = top;\n    this.left = left;\n  }\n  return Coordinate;\n}();\nvar ViewContentWidgets = /** @class */function (_super) {\n  __extends(ViewContentWidgets, _super);\n  function ViewContentWidgets(context, viewDomNode) {\n    var _this = _super.call(this, context) || this;\n    _this._viewDomNode = viewDomNode;\n    _this._widgets = {};\n    _this.domNode = createFastDomNode(document.createElement('div'));\n    PartFingerprints.write(_this.domNode, 1 /* ContentWidgets */);\n    _this.domNode.setClassName('contentWidgets');\n    _this.domNode.setPosition('absolute');\n    _this.domNode.setTop(0);\n    _this.overflowingContentWidgetsDomNode = createFastDomNode(document.createElement('div'));\n    PartFingerprints.write(_this.overflowingContentWidgetsDomNode, 2 /* OverflowingContentWidgets */);\n    _this.overflowingContentWidgetsDomNode.setClassName('overflowingContentWidgets');\n    return _this;\n  }\n  ViewContentWidgets.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n    this._widgets = {};\n  };\n  // --- begin event handlers\n  ViewContentWidgets.prototype.onConfigurationChanged = function (e) {\n    var keys = Object.keys(this._widgets);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n      var widgetId = keys_1[_i];\n      this._widgets[widgetId].onConfigurationChanged(e);\n    }\n    return true;\n  };\n  ViewContentWidgets.prototype.onDecorationsChanged = function (e) {\n    // true for inline decorations that can end up relayouting text\n    return true;\n  };\n  ViewContentWidgets.prototype.onFlushed = function (e) {\n    return true;\n  };\n  ViewContentWidgets.prototype.onLineMappingChanged = function (e) {\n    var keys = Object.keys(this._widgets);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n      var widgetId = keys_2[_i];\n      this._widgets[widgetId].onLineMappingChanged(e);\n    }\n    return true;\n  };\n  ViewContentWidgets.prototype.onLinesChanged = function (e) {\n    return true;\n  };\n  ViewContentWidgets.prototype.onLinesDeleted = function (e) {\n    return true;\n  };\n  ViewContentWidgets.prototype.onLinesInserted = function (e) {\n    return true;\n  };\n  ViewContentWidgets.prototype.onScrollChanged = function (e) {\n    return true;\n  };\n  ViewContentWidgets.prototype.onZonesChanged = function (e) {\n    return true;\n  };\n  // ---- end view event handlers\n  ViewContentWidgets.prototype.addWidget = function (_widget) {\n    var myWidget = new Widget(this._context, this._viewDomNode, _widget);\n    this._widgets[myWidget.id] = myWidget;\n    if (myWidget.allowEditorOverflow) {\n      this.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode);\n    } else {\n      this.domNode.appendChild(myWidget.domNode);\n    }\n    this.setShouldRender();\n  };\n  ViewContentWidgets.prototype.setWidgetPosition = function (widget, range, preference) {\n    var myWidget = this._widgets[widget.getId()];\n    myWidget.setPosition(range, preference);\n    this.setShouldRender();\n  };\n  ViewContentWidgets.prototype.removeWidget = function (widget) {\n    var widgetId = widget.getId();\n    if (this._widgets.hasOwnProperty(widgetId)) {\n      var myWidget = this._widgets[widgetId];\n      delete this._widgets[widgetId];\n      var domNode = myWidget.domNode.domNode;\n      domNode.parentNode.removeChild(domNode);\n      domNode.removeAttribute('monaco-visible-content-widget');\n      this.setShouldRender();\n    }\n  };\n  ViewContentWidgets.prototype.shouldSuppressMouseDownOnWidget = function (widgetId) {\n    if (this._widgets.hasOwnProperty(widgetId)) {\n      return this._widgets[widgetId].suppressMouseDown;\n    }\n    return false;\n  };\n  ViewContentWidgets.prototype.onBeforeRender = function (viewportData) {\n    var keys = Object.keys(this._widgets);\n    for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n      var widgetId = keys_3[_i];\n      this._widgets[widgetId].onBeforeRender(viewportData);\n    }\n  };\n  ViewContentWidgets.prototype.prepareRender = function (ctx) {\n    var keys = Object.keys(this._widgets);\n    for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n      var widgetId = keys_4[_i];\n      this._widgets[widgetId].prepareRender(ctx);\n    }\n  };\n  ViewContentWidgets.prototype.render = function (ctx) {\n    var keys = Object.keys(this._widgets);\n    for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\n      var widgetId = keys_5[_i];\n      this._widgets[widgetId].render(ctx);\n    }\n  };\n  return ViewContentWidgets;\n}(ViewPart);\nexport { ViewContentWidgets };\nvar Widget = /** @class */function () {\n  function Widget(context, viewDomNode, actual) {\n    this._context = context;\n    this._viewDomNode = viewDomNode;\n    this._actual = actual;\n    this.domNode = createFastDomNode(this._actual.getDomNode());\n    this.id = this._actual.getId();\n    this.allowEditorOverflow = this._actual.allowEditorOverflow || false;\n    this.suppressMouseDown = this._actual.suppressMouseDown || false;\n    var options = this._context.configuration.options;\n    var layoutInfo = options.get(107 /* layoutInfo */);\n    this._fixedOverflowWidgets = options.get(29 /* fixedOverflowWidgets */);\n    this._contentWidth = layoutInfo.contentWidth;\n    this._contentLeft = layoutInfo.contentLeft;\n    this._lineHeight = options.get(49 /* lineHeight */);\n    this._range = null;\n    this._viewRange = null;\n    this._preference = [];\n    this._cachedDomNodeClientWidth = -1;\n    this._cachedDomNodeClientHeight = -1;\n    this._maxWidth = this._getMaxWidth();\n    this._isVisible = false;\n    this._renderData = null;\n    this.domNode.setPosition(this._fixedOverflowWidgets && this.allowEditorOverflow ? 'fixed' : 'absolute');\n    this.domNode.setVisibility('hidden');\n    this.domNode.setAttribute('widgetId', this.id);\n    this.domNode.setMaxWidth(this._maxWidth);\n  }\n  Widget.prototype.onConfigurationChanged = function (e) {\n    var options = this._context.configuration.options;\n    this._lineHeight = options.get(49 /* lineHeight */);\n    if (e.hasChanged(107 /* layoutInfo */)) {\n      var layoutInfo = options.get(107 /* layoutInfo */);\n      this._contentLeft = layoutInfo.contentLeft;\n      this._contentWidth = layoutInfo.contentWidth;\n      this._maxWidth = this._getMaxWidth();\n    }\n  };\n  Widget.prototype.onLineMappingChanged = function (e) {\n    this._setPosition(this._range);\n  };\n  Widget.prototype._setPosition = function (range) {\n    this._range = range;\n    this._viewRange = null;\n    if (this._range) {\n      // Do not trust that widgets give a valid position\n      var validModelRange = this._context.model.validateModelRange(this._range);\n      if (this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getStartPosition()) || this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getEndPosition())) {\n        this._viewRange = this._context.model.coordinatesConverter.convertModelRangeToViewRange(validModelRange);\n      }\n    }\n  };\n  Widget.prototype._getMaxWidth = function () {\n    return this.allowEditorOverflow ? window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth : this._contentWidth;\n  };\n  Widget.prototype.setPosition = function (range, preference) {\n    this._setPosition(range);\n    this._preference = preference;\n    this._cachedDomNodeClientWidth = -1;\n    this._cachedDomNodeClientHeight = -1;\n  };\n  Widget.prototype._layoutBoxInViewport = function (topLeft, bottomLeft, width, height, ctx) {\n    // Our visible box is split horizontally by the current line => 2 boxes\n    // a) the box above the line\n    var aboveLineTop = topLeft.top;\n    var heightAboveLine = aboveLineTop;\n    // b) the box under the line\n    var underLineTop = bottomLeft.top + this._lineHeight;\n    var heightUnderLine = ctx.viewportHeight - underLineTop;\n    var aboveTop = aboveLineTop - height;\n    var fitsAbove = heightAboveLine >= height;\n    var belowTop = underLineTop;\n    var fitsBelow = heightUnderLine >= height;\n    // And its left\n    var actualAboveLeft = topLeft.left;\n    var actualBelowLeft = bottomLeft.left;\n    if (actualAboveLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\n      actualAboveLeft = ctx.scrollLeft + ctx.viewportWidth - width;\n    }\n    if (actualBelowLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\n      actualBelowLeft = ctx.scrollLeft + ctx.viewportWidth - width;\n    }\n    if (actualAboveLeft < ctx.scrollLeft) {\n      actualAboveLeft = ctx.scrollLeft;\n    }\n    if (actualBelowLeft < ctx.scrollLeft) {\n      actualBelowLeft = ctx.scrollLeft;\n    }\n    return {\n      fitsAbove: fitsAbove,\n      aboveTop: aboveTop,\n      aboveLeft: actualAboveLeft,\n      fitsBelow: fitsBelow,\n      belowTop: belowTop,\n      belowLeft: actualBelowLeft\n    };\n  };\n  Widget.prototype._layoutHorizontalSegmentInPage = function (windowSize, domNodePosition, left, width) {\n    // Initially, the limits are defined as the dom node limits\n    var MIN_LIMIT = Math.max(0, domNodePosition.left - width);\n    var MAX_LIMIT = Math.min(domNodePosition.left + domNodePosition.width + width, windowSize.width);\n    var absoluteLeft = domNodePosition.left + left - dom.StandardWindow.scrollX;\n    if (absoluteLeft + width > MAX_LIMIT) {\n      var delta = absoluteLeft - (MAX_LIMIT - width);\n      absoluteLeft -= delta;\n      left -= delta;\n    }\n    if (absoluteLeft < MIN_LIMIT) {\n      var delta = absoluteLeft - MIN_LIMIT;\n      absoluteLeft -= delta;\n      left -= delta;\n    }\n    return [left, absoluteLeft];\n  };\n  Widget.prototype._layoutBoxInPage = function (topLeft, bottomLeft, width, height, ctx) {\n    var aboveTop = topLeft.top - height;\n    var belowTop = bottomLeft.top + this._lineHeight;\n    var domNodePosition = dom.getDomNodePagePosition(this._viewDomNode.domNode);\n    var absoluteAboveTop = domNodePosition.top + aboveTop - dom.StandardWindow.scrollY;\n    var absoluteBelowTop = domNodePosition.top + belowTop - dom.StandardWindow.scrollY;\n    var windowSize = dom.getClientArea(document.body);\n    var _a = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, topLeft.left - ctx.scrollLeft + this._contentLeft, width),\n      aboveLeft = _a[0],\n      absoluteAboveLeft = _a[1];\n    var _b = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, bottomLeft.left - ctx.scrollLeft + this._contentLeft, width),\n      belowLeft = _b[0],\n      absoluteBelowLeft = _b[1];\n    // Leave some clearance to the top/bottom\n    var TOP_PADDING = 22;\n    var BOTTOM_PADDING = 22;\n    var fitsAbove = absoluteAboveTop >= TOP_PADDING;\n    var fitsBelow = absoluteBelowTop + height <= windowSize.height - BOTTOM_PADDING;\n    if (this._fixedOverflowWidgets) {\n      return {\n        fitsAbove: fitsAbove,\n        aboveTop: Math.max(absoluteAboveTop, TOP_PADDING),\n        aboveLeft: absoluteAboveLeft,\n        fitsBelow: fitsBelow,\n        belowTop: absoluteBelowTop,\n        belowLeft: absoluteBelowLeft\n      };\n    }\n    return {\n      fitsAbove: fitsAbove,\n      aboveTop: Math.max(aboveTop, TOP_PADDING),\n      aboveLeft: aboveLeft,\n      fitsBelow: fitsBelow,\n      belowTop: belowTop,\n      belowLeft: belowLeft\n    };\n  };\n  Widget.prototype._prepareRenderWidgetAtExactPositionOverflowing = function (topLeft) {\n    return new Coordinate(topLeft.top, topLeft.left + this._contentLeft);\n  };\n  /**\r\n   * Compute `this._topLeft`\r\n   */\n  Widget.prototype._getTopAndBottomLeft = function (ctx) {\n    if (!this._viewRange) {\n      return [null, null];\n    }\n    var visibleRangesForRange = ctx.linesVisibleRangesForRange(this._viewRange, false);\n    if (!visibleRangesForRange || visibleRangesForRange.length === 0) {\n      return [null, null];\n    }\n    var firstLine = visibleRangesForRange[0];\n    var lastLine = visibleRangesForRange[0];\n    for (var _i = 0, visibleRangesForRange_1 = visibleRangesForRange; _i < visibleRangesForRange_1.length; _i++) {\n      var visibleRangesForLine = visibleRangesForRange_1[_i];\n      if (visibleRangesForLine.lineNumber < firstLine.lineNumber) {\n        firstLine = visibleRangesForLine;\n      }\n      if (visibleRangesForLine.lineNumber > lastLine.lineNumber) {\n        lastLine = visibleRangesForLine;\n      }\n    }\n    var firstLineMinLeft = 1073741824 /* MAX_SAFE_SMALL_INTEGER */; //firstLine.Constants.MAX_SAFE_SMALL_INTEGER;\n    for (var _a = 0, _b = firstLine.ranges; _a < _b.length; _a++) {\n      var visibleRange = _b[_a];\n      if (visibleRange.left < firstLineMinLeft) {\n        firstLineMinLeft = visibleRange.left;\n      }\n    }\n    var lastLineMinLeft = 1073741824 /* MAX_SAFE_SMALL_INTEGER */; //lastLine.Constants.MAX_SAFE_SMALL_INTEGER;\n    for (var _c = 0, _d = lastLine.ranges; _c < _d.length; _c++) {\n      var visibleRange = _d[_c];\n      if (visibleRange.left < lastLineMinLeft) {\n        lastLineMinLeft = visibleRange.left;\n      }\n    }\n    var topForPosition = ctx.getVerticalOffsetForLineNumber(firstLine.lineNumber) - ctx.scrollTop;\n    var topLeft = new Coordinate(topForPosition, firstLineMinLeft);\n    var topForBottomLine = ctx.getVerticalOffsetForLineNumber(lastLine.lineNumber) - ctx.scrollTop;\n    var bottomLeft = new Coordinate(topForBottomLine, lastLineMinLeft);\n    return [topLeft, bottomLeft];\n  };\n  Widget.prototype._prepareRenderWidget = function (ctx) {\n    var _a = this._getTopAndBottomLeft(ctx),\n      topLeft = _a[0],\n      bottomLeft = _a[1];\n    if (!topLeft || !bottomLeft) {\n      return null;\n    }\n    if (this._cachedDomNodeClientWidth === -1 || this._cachedDomNodeClientHeight === -1) {\n      var domNode = this.domNode.domNode;\n      this._cachedDomNodeClientWidth = domNode.clientWidth;\n      this._cachedDomNodeClientHeight = domNode.clientHeight;\n    }\n    var placement;\n    if (this.allowEditorOverflow) {\n      placement = this._layoutBoxInPage(topLeft, bottomLeft, this._cachedDomNodeClientWidth, this._cachedDomNodeClientHeight, ctx);\n    } else {\n      placement = this._layoutBoxInViewport(topLeft, bottomLeft, this._cachedDomNodeClientWidth, this._cachedDomNodeClientHeight, ctx);\n    }\n    // Do two passes, first for perfect fit, second picks first option\n    if (this._preference) {\n      for (var pass = 1; pass <= 2; pass++) {\n        for (var _i = 0, _b = this._preference; _i < _b.length; _i++) {\n          var pref = _b[_i];\n          // placement\n          if (pref === 1 /* ABOVE */) {\n            if (!placement) {\n              // Widget outside of viewport\n              return null;\n            }\n            if (pass === 2 || placement.fitsAbove) {\n              return new Coordinate(placement.aboveTop, placement.aboveLeft);\n            }\n          } else if (pref === 2 /* BELOW */) {\n            if (!placement) {\n              // Widget outside of viewport\n              return null;\n            }\n            if (pass === 2 || placement.fitsBelow) {\n              return new Coordinate(placement.belowTop, placement.belowLeft);\n            }\n          } else {\n            if (this.allowEditorOverflow) {\n              return this._prepareRenderWidgetAtExactPositionOverflowing(topLeft);\n            } else {\n              return topLeft;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  };\n  /**\r\n   * On this first pass, we ensure that the content widget (if it is in the viewport) has the max width set correctly.\r\n   */\n  Widget.prototype.onBeforeRender = function (viewportData) {\n    if (!this._viewRange || !this._preference) {\n      return;\n    }\n    if (this._viewRange.endLineNumber < viewportData.startLineNumber || this._viewRange.startLineNumber > viewportData.endLineNumber) {\n      // Outside of viewport\n      return;\n    }\n    this.domNode.setMaxWidth(this._maxWidth);\n  };\n  Widget.prototype.prepareRender = function (ctx) {\n    this._renderData = this._prepareRenderWidget(ctx);\n  };\n  Widget.prototype.render = function (ctx) {\n    if (!this._renderData) {\n      // This widget should be invisible\n      if (this._isVisible) {\n        this.domNode.removeAttribute('monaco-visible-content-widget');\n        this._isVisible = false;\n        this.domNode.setVisibility('hidden');\n      }\n      return;\n    }\n    // This widget should be visible\n    if (this.allowEditorOverflow) {\n      this.domNode.setTop(this._renderData.top);\n      this.domNode.setLeft(this._renderData.left);\n    } else {\n      this.domNode.setTop(this._renderData.top + ctx.scrollTop - ctx.bigNumbersDelta);\n      this.domNode.setLeft(this._renderData.left);\n    }\n    if (!this._isVisible) {\n      this.domNode.setVisibility('inherit');\n      this.domNode.setAttribute('monaco-visible-content-widget', 'true');\n      this._isVisible = true;\n    }\n  };\n  return Widget;\n}();","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","dom","createFastDomNode","PartFingerprints","ViewPart","Coordinate","top","left","ViewContentWidgets","_super","context","viewDomNode","_this","call","_viewDomNode","_widgets","domNode","document","createElement","write","setClassName","setPosition","setTop","overflowingContentWidgetsDomNode","dispose","onConfigurationChanged","e","keys","_i","keys_1","length","widgetId","onDecorationsChanged","onFlushed","onLineMappingChanged","keys_2","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","onZonesChanged","addWidget","_widget","myWidget","Widget","_context","id","allowEditorOverflow","appendChild","setShouldRender","setWidgetPosition","widget","range","preference","getId","removeWidget","parentNode","removeChild","removeAttribute","shouldSuppressMouseDownOnWidget","suppressMouseDown","onBeforeRender","viewportData","keys_3","prepareRender","ctx","keys_4","render","keys_5","actual","_actual","getDomNode","options","configuration","layoutInfo","get","_fixedOverflowWidgets","_contentWidth","contentWidth","_contentLeft","contentLeft","_lineHeight","_range","_viewRange","_preference","_cachedDomNodeClientWidth","_cachedDomNodeClientHeight","_maxWidth","_getMaxWidth","_isVisible","_renderData","setVisibility","setAttribute","setMaxWidth","hasChanged","_setPosition","validModelRange","model","validateModelRange","coordinatesConverter","modelPositionIsVisible","getStartPosition","getEndPosition","convertModelRangeToViewRange","window","innerWidth","documentElement","clientWidth","body","_layoutBoxInViewport","topLeft","bottomLeft","width","height","aboveLineTop","heightAboveLine","underLineTop","heightUnderLine","viewportHeight","aboveTop","fitsAbove","belowTop","fitsBelow","actualAboveLeft","actualBelowLeft","scrollLeft","viewportWidth","aboveLeft","belowLeft","_layoutHorizontalSegmentInPage","windowSize","domNodePosition","MIN_LIMIT","Math","max","MAX_LIMIT","min","absoluteLeft","StandardWindow","scrollX","delta","_layoutBoxInPage","getDomNodePagePosition","absoluteAboveTop","scrollY","absoluteBelowTop","getClientArea","_a","absoluteAboveLeft","_b","absoluteBelowLeft","TOP_PADDING","BOTTOM_PADDING","_prepareRenderWidgetAtExactPositionOverflowing","_getTopAndBottomLeft","visibleRangesForRange","linesVisibleRangesForRange","firstLine","lastLine","visibleRangesForRange_1","visibleRangesForLine","lineNumber","firstLineMinLeft","ranges","visibleRange","lastLineMinLeft","_c","_d","topForPosition","getVerticalOffsetForLineNumber","scrollTop","topForBottomLine","_prepareRenderWidget","clientHeight","placement","pass","pref","endLineNumber","startLineNumber","setLeft","bigNumbersDelta"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/contentWidgets/contentWidgets.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { PartFingerprints, ViewPart } from '../../view/viewPart.js';\r\nvar Coordinate = /** @class */ (function () {\r\n    function Coordinate(top, left) {\r\n        this.top = top;\r\n        this.left = left;\r\n    }\r\n    return Coordinate;\r\n}());\r\nvar ViewContentWidgets = /** @class */ (function (_super) {\r\n    __extends(ViewContentWidgets, _super);\r\n    function ViewContentWidgets(context, viewDomNode) {\r\n        var _this = _super.call(this, context) || this;\r\n        _this._viewDomNode = viewDomNode;\r\n        _this._widgets = {};\r\n        _this.domNode = createFastDomNode(document.createElement('div'));\r\n        PartFingerprints.write(_this.domNode, 1 /* ContentWidgets */);\r\n        _this.domNode.setClassName('contentWidgets');\r\n        _this.domNode.setPosition('absolute');\r\n        _this.domNode.setTop(0);\r\n        _this.overflowingContentWidgetsDomNode = createFastDomNode(document.createElement('div'));\r\n        PartFingerprints.write(_this.overflowingContentWidgetsDomNode, 2 /* OverflowingContentWidgets */);\r\n        _this.overflowingContentWidgetsDomNode.setClassName('overflowingContentWidgets');\r\n        return _this;\r\n    }\r\n    ViewContentWidgets.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._widgets = {};\r\n    };\r\n    // --- begin event handlers\r\n    ViewContentWidgets.prototype.onConfigurationChanged = function (e) {\r\n        var keys = Object.keys(this._widgets);\r\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n            var widgetId = keys_1[_i];\r\n            this._widgets[widgetId].onConfigurationChanged(e);\r\n        }\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onDecorationsChanged = function (e) {\r\n        // true for inline decorations that can end up relayouting text\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onFlushed = function (e) {\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onLineMappingChanged = function (e) {\r\n        var keys = Object.keys(this._widgets);\r\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\r\n            var widgetId = keys_2[_i];\r\n            this._widgets[widgetId].onLineMappingChanged(e);\r\n        }\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onLinesChanged = function (e) {\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onLinesDeleted = function (e) {\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onLinesInserted = function (e) {\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onScrollChanged = function (e) {\r\n        return true;\r\n    };\r\n    ViewContentWidgets.prototype.onZonesChanged = function (e) {\r\n        return true;\r\n    };\r\n    // ---- end view event handlers\r\n    ViewContentWidgets.prototype.addWidget = function (_widget) {\r\n        var myWidget = new Widget(this._context, this._viewDomNode, _widget);\r\n        this._widgets[myWidget.id] = myWidget;\r\n        if (myWidget.allowEditorOverflow) {\r\n            this.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode);\r\n        }\r\n        else {\r\n            this.domNode.appendChild(myWidget.domNode);\r\n        }\r\n        this.setShouldRender();\r\n    };\r\n    ViewContentWidgets.prototype.setWidgetPosition = function (widget, range, preference) {\r\n        var myWidget = this._widgets[widget.getId()];\r\n        myWidget.setPosition(range, preference);\r\n        this.setShouldRender();\r\n    };\r\n    ViewContentWidgets.prototype.removeWidget = function (widget) {\r\n        var widgetId = widget.getId();\r\n        if (this._widgets.hasOwnProperty(widgetId)) {\r\n            var myWidget = this._widgets[widgetId];\r\n            delete this._widgets[widgetId];\r\n            var domNode = myWidget.domNode.domNode;\r\n            domNode.parentNode.removeChild(domNode);\r\n            domNode.removeAttribute('monaco-visible-content-widget');\r\n            this.setShouldRender();\r\n        }\r\n    };\r\n    ViewContentWidgets.prototype.shouldSuppressMouseDownOnWidget = function (widgetId) {\r\n        if (this._widgets.hasOwnProperty(widgetId)) {\r\n            return this._widgets[widgetId].suppressMouseDown;\r\n        }\r\n        return false;\r\n    };\r\n    ViewContentWidgets.prototype.onBeforeRender = function (viewportData) {\r\n        var keys = Object.keys(this._widgets);\r\n        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\r\n            var widgetId = keys_3[_i];\r\n            this._widgets[widgetId].onBeforeRender(viewportData);\r\n        }\r\n    };\r\n    ViewContentWidgets.prototype.prepareRender = function (ctx) {\r\n        var keys = Object.keys(this._widgets);\r\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\r\n            var widgetId = keys_4[_i];\r\n            this._widgets[widgetId].prepareRender(ctx);\r\n        }\r\n    };\r\n    ViewContentWidgets.prototype.render = function (ctx) {\r\n        var keys = Object.keys(this._widgets);\r\n        for (var _i = 0, keys_5 = keys; _i < keys_5.length; _i++) {\r\n            var widgetId = keys_5[_i];\r\n            this._widgets[widgetId].render(ctx);\r\n        }\r\n    };\r\n    return ViewContentWidgets;\r\n}(ViewPart));\r\nexport { ViewContentWidgets };\r\nvar Widget = /** @class */ (function () {\r\n    function Widget(context, viewDomNode, actual) {\r\n        this._context = context;\r\n        this._viewDomNode = viewDomNode;\r\n        this._actual = actual;\r\n        this.domNode = createFastDomNode(this._actual.getDomNode());\r\n        this.id = this._actual.getId();\r\n        this.allowEditorOverflow = this._actual.allowEditorOverflow || false;\r\n        this.suppressMouseDown = this._actual.suppressMouseDown || false;\r\n        var options = this._context.configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        this._fixedOverflowWidgets = options.get(29 /* fixedOverflowWidgets */);\r\n        this._contentWidth = layoutInfo.contentWidth;\r\n        this._contentLeft = layoutInfo.contentLeft;\r\n        this._lineHeight = options.get(49 /* lineHeight */);\r\n        this._range = null;\r\n        this._viewRange = null;\r\n        this._preference = [];\r\n        this._cachedDomNodeClientWidth = -1;\r\n        this._cachedDomNodeClientHeight = -1;\r\n        this._maxWidth = this._getMaxWidth();\r\n        this._isVisible = false;\r\n        this._renderData = null;\r\n        this.domNode.setPosition((this._fixedOverflowWidgets && this.allowEditorOverflow) ? 'fixed' : 'absolute');\r\n        this.domNode.setVisibility('hidden');\r\n        this.domNode.setAttribute('widgetId', this.id);\r\n        this.domNode.setMaxWidth(this._maxWidth);\r\n    }\r\n    Widget.prototype.onConfigurationChanged = function (e) {\r\n        var options = this._context.configuration.options;\r\n        this._lineHeight = options.get(49 /* lineHeight */);\r\n        if (e.hasChanged(107 /* layoutInfo */)) {\r\n            var layoutInfo = options.get(107 /* layoutInfo */);\r\n            this._contentLeft = layoutInfo.contentLeft;\r\n            this._contentWidth = layoutInfo.contentWidth;\r\n            this._maxWidth = this._getMaxWidth();\r\n        }\r\n    };\r\n    Widget.prototype.onLineMappingChanged = function (e) {\r\n        this._setPosition(this._range);\r\n    };\r\n    Widget.prototype._setPosition = function (range) {\r\n        this._range = range;\r\n        this._viewRange = null;\r\n        if (this._range) {\r\n            // Do not trust that widgets give a valid position\r\n            var validModelRange = this._context.model.validateModelRange(this._range);\r\n            if (this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getStartPosition()) || this._context.model.coordinatesConverter.modelPositionIsVisible(validModelRange.getEndPosition())) {\r\n                this._viewRange = this._context.model.coordinatesConverter.convertModelRangeToViewRange(validModelRange);\r\n            }\r\n        }\r\n    };\r\n    Widget.prototype._getMaxWidth = function () {\r\n        return (this.allowEditorOverflow\r\n            ? window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\r\n            : this._contentWidth);\r\n    };\r\n    Widget.prototype.setPosition = function (range, preference) {\r\n        this._setPosition(range);\r\n        this._preference = preference;\r\n        this._cachedDomNodeClientWidth = -1;\r\n        this._cachedDomNodeClientHeight = -1;\r\n    };\r\n    Widget.prototype._layoutBoxInViewport = function (topLeft, bottomLeft, width, height, ctx) {\r\n        // Our visible box is split horizontally by the current line => 2 boxes\r\n        // a) the box above the line\r\n        var aboveLineTop = topLeft.top;\r\n        var heightAboveLine = aboveLineTop;\r\n        // b) the box under the line\r\n        var underLineTop = bottomLeft.top + this._lineHeight;\r\n        var heightUnderLine = ctx.viewportHeight - underLineTop;\r\n        var aboveTop = aboveLineTop - height;\r\n        var fitsAbove = (heightAboveLine >= height);\r\n        var belowTop = underLineTop;\r\n        var fitsBelow = (heightUnderLine >= height);\r\n        // And its left\r\n        var actualAboveLeft = topLeft.left;\r\n        var actualBelowLeft = bottomLeft.left;\r\n        if (actualAboveLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\r\n            actualAboveLeft = ctx.scrollLeft + ctx.viewportWidth - width;\r\n        }\r\n        if (actualBelowLeft + width > ctx.scrollLeft + ctx.viewportWidth) {\r\n            actualBelowLeft = ctx.scrollLeft + ctx.viewportWidth - width;\r\n        }\r\n        if (actualAboveLeft < ctx.scrollLeft) {\r\n            actualAboveLeft = ctx.scrollLeft;\r\n        }\r\n        if (actualBelowLeft < ctx.scrollLeft) {\r\n            actualBelowLeft = ctx.scrollLeft;\r\n        }\r\n        return {\r\n            fitsAbove: fitsAbove,\r\n            aboveTop: aboveTop,\r\n            aboveLeft: actualAboveLeft,\r\n            fitsBelow: fitsBelow,\r\n            belowTop: belowTop,\r\n            belowLeft: actualBelowLeft,\r\n        };\r\n    };\r\n    Widget.prototype._layoutHorizontalSegmentInPage = function (windowSize, domNodePosition, left, width) {\r\n        // Initially, the limits are defined as the dom node limits\r\n        var MIN_LIMIT = Math.max(0, domNodePosition.left - width);\r\n        var MAX_LIMIT = Math.min(domNodePosition.left + domNodePosition.width + width, windowSize.width);\r\n        var absoluteLeft = domNodePosition.left + left - dom.StandardWindow.scrollX;\r\n        if (absoluteLeft + width > MAX_LIMIT) {\r\n            var delta = absoluteLeft - (MAX_LIMIT - width);\r\n            absoluteLeft -= delta;\r\n            left -= delta;\r\n        }\r\n        if (absoluteLeft < MIN_LIMIT) {\r\n            var delta = absoluteLeft - MIN_LIMIT;\r\n            absoluteLeft -= delta;\r\n            left -= delta;\r\n        }\r\n        return [left, absoluteLeft];\r\n    };\r\n    Widget.prototype._layoutBoxInPage = function (topLeft, bottomLeft, width, height, ctx) {\r\n        var aboveTop = topLeft.top - height;\r\n        var belowTop = bottomLeft.top + this._lineHeight;\r\n        var domNodePosition = dom.getDomNodePagePosition(this._viewDomNode.domNode);\r\n        var absoluteAboveTop = domNodePosition.top + aboveTop - dom.StandardWindow.scrollY;\r\n        var absoluteBelowTop = domNodePosition.top + belowTop - dom.StandardWindow.scrollY;\r\n        var windowSize = dom.getClientArea(document.body);\r\n        var _a = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, topLeft.left - ctx.scrollLeft + this._contentLeft, width), aboveLeft = _a[0], absoluteAboveLeft = _a[1];\r\n        var _b = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, bottomLeft.left - ctx.scrollLeft + this._contentLeft, width), belowLeft = _b[0], absoluteBelowLeft = _b[1];\r\n        // Leave some clearance to the top/bottom\r\n        var TOP_PADDING = 22;\r\n        var BOTTOM_PADDING = 22;\r\n        var fitsAbove = (absoluteAboveTop >= TOP_PADDING);\r\n        var fitsBelow = (absoluteBelowTop + height <= windowSize.height - BOTTOM_PADDING);\r\n        if (this._fixedOverflowWidgets) {\r\n            return {\r\n                fitsAbove: fitsAbove,\r\n                aboveTop: Math.max(absoluteAboveTop, TOP_PADDING),\r\n                aboveLeft: absoluteAboveLeft,\r\n                fitsBelow: fitsBelow,\r\n                belowTop: absoluteBelowTop,\r\n                belowLeft: absoluteBelowLeft\r\n            };\r\n        }\r\n        return {\r\n            fitsAbove: fitsAbove,\r\n            aboveTop: Math.max(aboveTop, TOP_PADDING),\r\n            aboveLeft: aboveLeft,\r\n            fitsBelow: fitsBelow,\r\n            belowTop: belowTop,\r\n            belowLeft: belowLeft\r\n        };\r\n    };\r\n    Widget.prototype._prepareRenderWidgetAtExactPositionOverflowing = function (topLeft) {\r\n        return new Coordinate(topLeft.top, topLeft.left + this._contentLeft);\r\n    };\r\n    /**\r\n     * Compute `this._topLeft`\r\n     */\r\n    Widget.prototype._getTopAndBottomLeft = function (ctx) {\r\n        if (!this._viewRange) {\r\n            return [null, null];\r\n        }\r\n        var visibleRangesForRange = ctx.linesVisibleRangesForRange(this._viewRange, false);\r\n        if (!visibleRangesForRange || visibleRangesForRange.length === 0) {\r\n            return [null, null];\r\n        }\r\n        var firstLine = visibleRangesForRange[0];\r\n        var lastLine = visibleRangesForRange[0];\r\n        for (var _i = 0, visibleRangesForRange_1 = visibleRangesForRange; _i < visibleRangesForRange_1.length; _i++) {\r\n            var visibleRangesForLine = visibleRangesForRange_1[_i];\r\n            if (visibleRangesForLine.lineNumber < firstLine.lineNumber) {\r\n                firstLine = visibleRangesForLine;\r\n            }\r\n            if (visibleRangesForLine.lineNumber > lastLine.lineNumber) {\r\n                lastLine = visibleRangesForLine;\r\n            }\r\n        }\r\n        var firstLineMinLeft = 1073741824 /* MAX_SAFE_SMALL_INTEGER */; //firstLine.Constants.MAX_SAFE_SMALL_INTEGER;\r\n        for (var _a = 0, _b = firstLine.ranges; _a < _b.length; _a++) {\r\n            var visibleRange = _b[_a];\r\n            if (visibleRange.left < firstLineMinLeft) {\r\n                firstLineMinLeft = visibleRange.left;\r\n            }\r\n        }\r\n        var lastLineMinLeft = 1073741824 /* MAX_SAFE_SMALL_INTEGER */; //lastLine.Constants.MAX_SAFE_SMALL_INTEGER;\r\n        for (var _c = 0, _d = lastLine.ranges; _c < _d.length; _c++) {\r\n            var visibleRange = _d[_c];\r\n            if (visibleRange.left < lastLineMinLeft) {\r\n                lastLineMinLeft = visibleRange.left;\r\n            }\r\n        }\r\n        var topForPosition = ctx.getVerticalOffsetForLineNumber(firstLine.lineNumber) - ctx.scrollTop;\r\n        var topLeft = new Coordinate(topForPosition, firstLineMinLeft);\r\n        var topForBottomLine = ctx.getVerticalOffsetForLineNumber(lastLine.lineNumber) - ctx.scrollTop;\r\n        var bottomLeft = new Coordinate(topForBottomLine, lastLineMinLeft);\r\n        return [topLeft, bottomLeft];\r\n    };\r\n    Widget.prototype._prepareRenderWidget = function (ctx) {\r\n        var _a = this._getTopAndBottomLeft(ctx), topLeft = _a[0], bottomLeft = _a[1];\r\n        if (!topLeft || !bottomLeft) {\r\n            return null;\r\n        }\r\n        if (this._cachedDomNodeClientWidth === -1 || this._cachedDomNodeClientHeight === -1) {\r\n            var domNode = this.domNode.domNode;\r\n            this._cachedDomNodeClientWidth = domNode.clientWidth;\r\n            this._cachedDomNodeClientHeight = domNode.clientHeight;\r\n        }\r\n        var placement;\r\n        if (this.allowEditorOverflow) {\r\n            placement = this._layoutBoxInPage(topLeft, bottomLeft, this._cachedDomNodeClientWidth, this._cachedDomNodeClientHeight, ctx);\r\n        }\r\n        else {\r\n            placement = this._layoutBoxInViewport(topLeft, bottomLeft, this._cachedDomNodeClientWidth, this._cachedDomNodeClientHeight, ctx);\r\n        }\r\n        // Do two passes, first for perfect fit, second picks first option\r\n        if (this._preference) {\r\n            for (var pass = 1; pass <= 2; pass++) {\r\n                for (var _i = 0, _b = this._preference; _i < _b.length; _i++) {\r\n                    var pref = _b[_i];\r\n                    // placement\r\n                    if (pref === 1 /* ABOVE */) {\r\n                        if (!placement) {\r\n                            // Widget outside of viewport\r\n                            return null;\r\n                        }\r\n                        if (pass === 2 || placement.fitsAbove) {\r\n                            return new Coordinate(placement.aboveTop, placement.aboveLeft);\r\n                        }\r\n                    }\r\n                    else if (pref === 2 /* BELOW */) {\r\n                        if (!placement) {\r\n                            // Widget outside of viewport\r\n                            return null;\r\n                        }\r\n                        if (pass === 2 || placement.fitsBelow) {\r\n                            return new Coordinate(placement.belowTop, placement.belowLeft);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.allowEditorOverflow) {\r\n                            return this._prepareRenderWidgetAtExactPositionOverflowing(topLeft);\r\n                        }\r\n                        else {\r\n                            return topLeft;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * On this first pass, we ensure that the content widget (if it is in the viewport) has the max width set correctly.\r\n     */\r\n    Widget.prototype.onBeforeRender = function (viewportData) {\r\n        if (!this._viewRange || !this._preference) {\r\n            return;\r\n        }\r\n        if (this._viewRange.endLineNumber < viewportData.startLineNumber || this._viewRange.startLineNumber > viewportData.endLineNumber) {\r\n            // Outside of viewport\r\n            return;\r\n        }\r\n        this.domNode.setMaxWidth(this._maxWidth);\r\n    };\r\n    Widget.prototype.prepareRender = function (ctx) {\r\n        this._renderData = this._prepareRenderWidget(ctx);\r\n    };\r\n    Widget.prototype.render = function (ctx) {\r\n        if (!this._renderData) {\r\n            // This widget should be invisible\r\n            if (this._isVisible) {\r\n                this.domNode.removeAttribute('monaco-visible-content-widget');\r\n                this._isVisible = false;\r\n                this.domNode.setVisibility('hidden');\r\n            }\r\n            return;\r\n        }\r\n        // This widget should be visible\r\n        if (this.allowEditorOverflow) {\r\n            this.domNode.setTop(this._renderData.top);\r\n            this.domNode.setLeft(this._renderData.left);\r\n        }\r\n        else {\r\n            this.domNode.setTop(this._renderData.top + ctx.scrollTop - ctx.bigNumbersDelta);\r\n            this.domNode.setLeft(this._renderData.left);\r\n        }\r\n        if (!this._isVisible) {\r\n            this.domNode.setVisibility('inherit');\r\n            this.domNode.setAttribute('monaco-visible-content-widget', 'true');\r\n            this._isVisible = true;\r\n        }\r\n    };\r\n    return Widget;\r\n}());\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}