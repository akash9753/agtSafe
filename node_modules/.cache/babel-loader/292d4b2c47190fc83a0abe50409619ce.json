{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as nls from '../../../nls.js';\nimport * as types from '../../../base/common/types.js';\nimport { Command, EditorCommand, registerEditorCommand } from '../editorExtensions.js';\nimport { ICodeEditorService } from '../services/codeEditorService.js';\nimport { ColumnSelection } from '../../common/controller/cursorColumnSelection.js';\nimport { CursorState } from '../../common/controller/cursorCommon.js';\nimport { DeleteOperations } from '../../common/controller/cursorDeleteOperations.js';\nimport { CursorMove as CursorMove_, CursorMoveCommands } from '../../common/controller/cursorMoveCommands.js';\nimport { TypeOperations } from '../../common/controller/cursorTypeOperations.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { Handler } from '../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nvar CORE_WEIGHT = 0 /* EditorCore */;\nvar CoreEditorCommand = /** @class */function (_super) {\n  __extends(CoreEditorCommand, _super);\n  function CoreEditorCommand() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CoreEditorCommand.prototype.runEditorCommand = function (accessor, editor, args) {\n    var cursors = editor._getCursors();\n    if (!cursors) {\n      // the editor has no view => has no cursors\n      return;\n    }\n    this.runCoreEditorCommand(cursors, args || {});\n  };\n  return CoreEditorCommand;\n}(EditorCommand);\nexport { CoreEditorCommand };\nexport var EditorScroll_;\n(function (EditorScroll_) {\n  var isEditorScrollArgs = function isEditorScrollArgs(arg) {\n    if (!types.isObject(arg)) {\n      return false;\n    }\n    var scrollArg = arg;\n    if (!types.isString(scrollArg.to)) {\n      return false;\n    }\n    if (!types.isUndefined(scrollArg.by) && !types.isString(scrollArg.by)) {\n      return false;\n    }\n    if (!types.isUndefined(scrollArg.value) && !types.isNumber(scrollArg.value)) {\n      return false;\n    }\n    if (!types.isUndefined(scrollArg.revealCursor) && !types.isBoolean(scrollArg.revealCursor)) {\n      return false;\n    }\n    return true;\n  };\n  EditorScroll_.description = {\n    description: 'Scroll editor in the given direction',\n    args: [{\n      name: 'Editor scroll argument object',\n      description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t* 'to': A mandatory direction value.\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'up', 'down'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t* 'by': Unit to move. Default is computed based on 'to' value.\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'line', 'wrappedLine', 'page', 'halfPage'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t* 'value': Number of units to move. Default is '1'.\\n\\t\\t\\t\\t\\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\\n\\t\\t\\t\\t\",\n      constraint: isEditorScrollArgs,\n      schema: {\n        'type': 'object',\n        'required': ['to'],\n        'properties': {\n          'to': {\n            'type': 'string',\n            'enum': ['up', 'down']\n          },\n          'by': {\n            'type': 'string',\n            'enum': ['line', 'wrappedLine', 'page', 'halfPage']\n          },\n          'value': {\n            'type': 'number',\n            'default': 1\n          },\n          'revealCursor': {\n            'type': 'boolean'\n          }\n        }\n      }\n    }]\n  };\n  /**\r\n   * Directions in the view for editor scroll command.\r\n   */\n  EditorScroll_.RawDirection = {\n    Up: 'up',\n    Down: 'down'\n  };\n  /**\r\n   * Units for editor scroll 'by' argument\r\n   */\n  EditorScroll_.RawUnit = {\n    Line: 'line',\n    WrappedLine: 'wrappedLine',\n    Page: 'page',\n    HalfPage: 'halfPage'\n  };\n  function parse(args) {\n    var direction;\n    switch (args.to) {\n      case EditorScroll_.RawDirection.Up:\n        direction = 1 /* Up */;\n        break;\n      case EditorScroll_.RawDirection.Down:\n        direction = 2 /* Down */;\n        break;\n      default:\n        // Illegal arguments\n        return null;\n    }\n    var unit;\n    switch (args.by) {\n      case EditorScroll_.RawUnit.Line:\n        unit = 1 /* Line */;\n        break;\n      case EditorScroll_.RawUnit.WrappedLine:\n        unit = 2 /* WrappedLine */;\n        break;\n      case EditorScroll_.RawUnit.Page:\n        unit = 3 /* Page */;\n        break;\n      case EditorScroll_.RawUnit.HalfPage:\n        unit = 4 /* HalfPage */;\n        break;\n      default:\n        unit = 2 /* WrappedLine */;\n    }\n\n    var value = Math.floor(args.value || 1);\n    var revealCursor = !!args.revealCursor;\n    return {\n      direction: direction,\n      unit: unit,\n      value: value,\n      revealCursor: revealCursor,\n      select: !!args.select\n    };\n  }\n  EditorScroll_.parse = parse;\n})(EditorScroll_ || (EditorScroll_ = {}));\nexport var RevealLine_;\n(function (RevealLine_) {\n  var isRevealLineArgs = function isRevealLineArgs(arg) {\n    if (!types.isObject(arg)) {\n      return false;\n    }\n    var reveaLineArg = arg;\n    if (!types.isNumber(reveaLineArg.lineNumber)) {\n      return false;\n    }\n    if (!types.isUndefined(reveaLineArg.at) && !types.isString(reveaLineArg.at)) {\n      return false;\n    }\n    return true;\n  };\n  RevealLine_.description = {\n    description: 'Reveal the given line at the given logical position',\n    args: [{\n      name: 'Reveal line argument object',\n      description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t* 'lineNumber': A mandatory line number value.\\n\\t\\t\\t\\t\\t* 'at': Logical position at which line has to be revealed .\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'top', 'center', 'bottom'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\",\n      constraint: isRevealLineArgs,\n      schema: {\n        'type': 'object',\n        'required': ['lineNumber'],\n        'properties': {\n          'lineNumber': {\n            'type': 'number'\n          },\n          'at': {\n            'type': 'string',\n            'enum': ['top', 'center', 'bottom']\n          }\n        }\n      }\n    }]\n  };\n  /**\r\n   * Values for reveal line 'at' argument\r\n   */\n  RevealLine_.RawAtArgument = {\n    Top: 'top',\n    Center: 'center',\n    Bottom: 'bottom'\n  };\n})(RevealLine_ || (RevealLine_ = {}));\nexport var CoreNavigationCommands;\n(function (CoreNavigationCommands) {\n  var BaseMoveToCommand = /** @class */function (_super) {\n    __extends(BaseMoveToCommand, _super);\n    function BaseMoveToCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    BaseMoveToCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorMoveCommands.moveTo(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position, args.viewPosition)]);\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return BaseMoveToCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.MoveTo = registerEditorCommand(new BaseMoveToCommand({\n    id: '_moveTo',\n    inSelectionMode: false,\n    precondition: undefined\n  }));\n  CoreNavigationCommands.MoveToSelect = registerEditorCommand(new BaseMoveToCommand({\n    id: '_moveToSelect',\n    inSelectionMode: true,\n    precondition: undefined\n  }));\n  var ColumnSelectCommand = /** @class */function (_super) {\n    __extends(ColumnSelectCommand, _super);\n    function ColumnSelectCommand() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnSelectCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      var result = this._getColumnSelectResult(cursors.context, cursors.getPrimaryCursor(), cursors.getColumnSelectData(), args);\n      cursors.setStates(args.source, 3 /* Explicit */, result.viewStates.map(function (viewState) {\n        return CursorState.fromViewState(viewState);\n      }));\n      cursors.setColumnSelectData({\n        isReal: true,\n        fromViewLineNumber: result.fromLineNumber,\n        fromViewVisualColumn: result.fromVisualColumn,\n        toViewLineNumber: result.toLineNumber,\n        toViewVisualColumn: result.toVisualColumn\n      });\n      cursors.reveal(args.source, true, result.reversed ? 1 /* TopMost */ : 2 /* BottomMost */, 0 /* Smooth */);\n    };\n\n    return ColumnSelectCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.ColumnSelect = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n      return _super.call(this, {\n        id: 'columnSelect',\n        precondition: undefined\n      }) || this;\n    }\n    class_1.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\n      // validate `args`\n      var validatedPosition = context.model.validatePosition(args.position);\n      var validatedViewPosition = context.validateViewPosition(new Position(args.viewPosition.lineNumber, args.viewPosition.column), validatedPosition);\n      var fromViewLineNumber = args.doColumnSelect ? prevColumnSelectData.fromViewLineNumber : validatedViewPosition.lineNumber;\n      var fromViewVisualColumn = args.doColumnSelect ? prevColumnSelectData.fromViewVisualColumn : args.mouseColumn - 1;\n      return ColumnSelection.columnSelect(context.config, context.viewModel, fromViewLineNumber, fromViewVisualColumn, validatedViewPosition.lineNumber, args.mouseColumn - 1);\n    };\n    return class_1;\n  }(ColumnSelectCommand))());\n  CoreNavigationCommands.CursorColumnSelectLeft = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_2, _super);\n    function class_2() {\n      return _super.call(this, {\n        id: 'cursorColumnSelectLeft',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 15 /* LeftArrow */,\n          linux: {\n            primary: 0\n          }\n        }\n      }) || this;\n    }\n    class_2.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\n      return ColumnSelection.columnSelectLeft(context.config, context.viewModel, prevColumnSelectData);\n    };\n    return class_2;\n  }(ColumnSelectCommand))());\n  CoreNavigationCommands.CursorColumnSelectRight = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_3, _super);\n    function class_3() {\n      return _super.call(this, {\n        id: 'cursorColumnSelectRight',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 17 /* RightArrow */,\n          linux: {\n            primary: 0\n          }\n        }\n      }) || this;\n    }\n    class_3.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\n      return ColumnSelection.columnSelectRight(context.config, context.viewModel, prevColumnSelectData);\n    };\n    return class_3;\n  }(ColumnSelectCommand))());\n  var ColumnSelectUpCommand = /** @class */function (_super) {\n    __extends(ColumnSelectUpCommand, _super);\n    function ColumnSelectUpCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._isPaged = opts.isPaged;\n      return _this;\n    }\n    ColumnSelectUpCommand.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\n      return ColumnSelection.columnSelectUp(context.config, context.viewModel, prevColumnSelectData, this._isPaged);\n    };\n    return ColumnSelectUpCommand;\n  }(ColumnSelectCommand);\n  CoreNavigationCommands.CursorColumnSelectUp = registerEditorCommand(new ColumnSelectUpCommand({\n    isPaged: false,\n    id: 'cursorColumnSelectUp',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 16 /* UpArrow */,\n      linux: {\n        primary: 0\n      }\n    }\n  }));\n  CoreNavigationCommands.CursorColumnSelectPageUp = registerEditorCommand(new ColumnSelectUpCommand({\n    isPaged: true,\n    id: 'cursorColumnSelectPageUp',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 11 /* PageUp */,\n      linux: {\n        primary: 0\n      }\n    }\n  }));\n  var ColumnSelectDownCommand = /** @class */function (_super) {\n    __extends(ColumnSelectDownCommand, _super);\n    function ColumnSelectDownCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._isPaged = opts.isPaged;\n      return _this;\n    }\n    ColumnSelectDownCommand.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\n      return ColumnSelection.columnSelectDown(context.config, context.viewModel, prevColumnSelectData, this._isPaged);\n    };\n    return ColumnSelectDownCommand;\n  }(ColumnSelectCommand);\n  CoreNavigationCommands.CursorColumnSelectDown = registerEditorCommand(new ColumnSelectDownCommand({\n    isPaged: false,\n    id: 'cursorColumnSelectDown',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 18 /* DownArrow */,\n      linux: {\n        primary: 0\n      }\n    }\n  }));\n  CoreNavigationCommands.CursorColumnSelectPageDown = registerEditorCommand(new ColumnSelectDownCommand({\n    isPaged: true,\n    id: 'cursorColumnSelectPageDown',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 12 /* PageDown */,\n      linux: {\n        primary: 0\n      }\n    }\n  }));\n  var CursorMoveImpl = /** @class */function (_super) {\n    __extends(CursorMoveImpl, _super);\n    function CursorMoveImpl() {\n      return _super.call(this, {\n        id: 'cursorMove',\n        precondition: undefined,\n        description: CursorMove_.description\n      }) || this;\n    }\n    CursorMoveImpl.prototype.runCoreEditorCommand = function (cursors, args) {\n      var parsed = CursorMove_.parse(args);\n      if (!parsed) {\n        // illegal arguments\n        return;\n      }\n      this._runCursorMove(cursors, args.source, parsed);\n    };\n    CursorMoveImpl.prototype._runCursorMove = function (cursors, source, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(source, 3 /* Explicit */, CursorMoveCommands.move(cursors.context, cursors.getAll(), args));\n      cursors.reveal(source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return CursorMoveImpl;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorMoveImpl = CursorMoveImpl;\n  CoreNavigationCommands.CursorMove = registerEditorCommand(new CursorMoveImpl());\n  var CursorMoveBasedCommand = /** @class */function (_super) {\n    __extends(CursorMoveBasedCommand, _super);\n    function CursorMoveBasedCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._staticArgs = opts.args;\n      return _this;\n    }\n    CursorMoveBasedCommand.prototype.runCoreEditorCommand = function (cursors, dynamicArgs) {\n      var args = this._staticArgs;\n      if (this._staticArgs.value === -1 /* PAGE_SIZE_MARKER */) {\n        // -1 is a marker for page size\n        args = {\n          direction: this._staticArgs.direction,\n          unit: this._staticArgs.unit,\n          select: this._staticArgs.select,\n          value: cursors.context.config.pageSize\n        };\n      }\n      CoreNavigationCommands.CursorMove._runCursorMove(cursors, dynamicArgs.source, args);\n    };\n    return CursorMoveBasedCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorLeft = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 0 /* Left */,\n      unit: 0 /* None */,\n      select: false,\n      value: 1\n    },\n    id: 'cursorLeft',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 15 /* LeftArrow */,\n      mac: {\n        primary: 15 /* LeftArrow */,\n        secondary: [256 /* WinCtrl */ | 32 /* KEY_B */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorLeftSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 0 /* Left */,\n      unit: 0 /* None */,\n      select: true,\n      value: 1\n    },\n    id: 'cursorLeftSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 15 /* LeftArrow */\n    }\n  }));\n\n  CoreNavigationCommands.CursorRight = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 1 /* Right */,\n      unit: 0 /* None */,\n      select: false,\n      value: 1\n    },\n    id: 'cursorRight',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 17 /* RightArrow */,\n      mac: {\n        primary: 17 /* RightArrow */,\n        secondary: [256 /* WinCtrl */ | 36 /* KEY_F */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorRightSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 1 /* Right */,\n      unit: 0 /* None */,\n      select: true,\n      value: 1\n    },\n    id: 'cursorRightSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 17 /* RightArrow */\n    }\n  }));\n\n  CoreNavigationCommands.CursorUp = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 2 /* Up */,\n      unit: 2 /* WrappedLine */,\n      select: false,\n      value: 1\n    },\n    id: 'cursorUp',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 16 /* UpArrow */,\n      mac: {\n        primary: 16 /* UpArrow */,\n        secondary: [256 /* WinCtrl */ | 46 /* KEY_P */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorUpSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 2 /* Up */,\n      unit: 2 /* WrappedLine */,\n      select: true,\n      value: 1\n    },\n    id: 'cursorUpSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 16 /* UpArrow */,\n      secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */],\n      mac: {\n        primary: 1024 /* Shift */ | 16 /* UpArrow */\n      },\n      linux: {\n        primary: 1024 /* Shift */ | 16 /* UpArrow */\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorPageUp = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 2 /* Up */,\n      unit: 2 /* WrappedLine */,\n      select: false,\n      value: -1 /* PAGE_SIZE_MARKER */\n    },\n\n    id: 'cursorPageUp',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 11 /* PageUp */\n    }\n  }));\n\n  CoreNavigationCommands.CursorPageUpSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 2 /* Up */,\n      unit: 2 /* WrappedLine */,\n      select: true,\n      value: -1 /* PAGE_SIZE_MARKER */\n    },\n\n    id: 'cursorPageUpSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 11 /* PageUp */\n    }\n  }));\n\n  CoreNavigationCommands.CursorDown = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 3 /* Down */,\n      unit: 2 /* WrappedLine */,\n      select: false,\n      value: 1\n    },\n    id: 'cursorDown',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 18 /* DownArrow */,\n      mac: {\n        primary: 18 /* DownArrow */,\n        secondary: [256 /* WinCtrl */ | 44 /* KEY_N */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorDownSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 3 /* Down */,\n      unit: 2 /* WrappedLine */,\n      select: true,\n      value: 1\n    },\n    id: 'cursorDownSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 18 /* DownArrow */,\n      secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */],\n      mac: {\n        primary: 1024 /* Shift */ | 18 /* DownArrow */\n      },\n      linux: {\n        primary: 1024 /* Shift */ | 18 /* DownArrow */\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorPageDown = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 3 /* Down */,\n      unit: 2 /* WrappedLine */,\n      select: false,\n      value: -1 /* PAGE_SIZE_MARKER */\n    },\n\n    id: 'cursorPageDown',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 12 /* PageDown */\n    }\n  }));\n\n  CoreNavigationCommands.CursorPageDownSelect = registerEditorCommand(new CursorMoveBasedCommand({\n    args: {\n      direction: 3 /* Down */,\n      unit: 2 /* WrappedLine */,\n      select: true,\n      value: -1 /* PAGE_SIZE_MARKER */\n    },\n\n    id: 'cursorPageDownSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 12 /* PageDown */\n    }\n  }));\n\n  CoreNavigationCommands.CreateCursor = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_4, _super);\n    function class_4() {\n      return _super.call(this, {\n        id: 'createCursor',\n        precondition: undefined\n      }) || this;\n    }\n    class_4.prototype.runCoreEditorCommand = function (cursors, args) {\n      var context = cursors.context;\n      var newState;\n      if (args.wholeLine) {\n        newState = CursorMoveCommands.line(context, cursors.getPrimaryCursor(), false, args.position, args.viewPosition);\n      } else {\n        newState = CursorMoveCommands.moveTo(context, cursors.getPrimaryCursor(), false, args.position, args.viewPosition);\n      }\n      var states = cursors.getAll();\n      // Check if we should remove a cursor (sort of like a toggle)\n      if (states.length > 1) {\n        var newModelPosition = newState.modelState ? newState.modelState.position : null;\n        var newViewPosition = newState.viewState ? newState.viewState.position : null;\n        for (var i = 0, len = states.length; i < len; i++) {\n          var state = states[i];\n          if (newModelPosition && !state.modelState.selection.containsPosition(newModelPosition)) {\n            continue;\n          }\n          if (newViewPosition && !state.viewState.selection.containsPosition(newViewPosition)) {\n            continue;\n          }\n          // => Remove the cursor\n          states.splice(i, 1);\n          cursors.context.model.pushStackElement();\n          cursors.setStates(args.source, 3 /* Explicit */, states);\n          return;\n        }\n      }\n      // => Add the new cursor\n      states.push(newState);\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, states);\n    };\n    return class_4;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.LastCursorMoveToSelect = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_5, _super);\n    function class_5() {\n      return _super.call(this, {\n        id: '_lastCursorMoveToSelect',\n        precondition: undefined\n      }) || this;\n    }\n    class_5.prototype.runCoreEditorCommand = function (cursors, args) {\n      var context = cursors.context;\n      var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\n      var states = cursors.getAll();\n      var newStates = states.slice(0);\n      newStates[lastAddedCursorIndex] = CursorMoveCommands.moveTo(context, states[lastAddedCursorIndex], true, args.position, args.viewPosition);\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, newStates);\n    };\n    return class_5;\n  }(CoreEditorCommand))());\n  var HomeCommand = /** @class */function (_super) {\n    __extends(HomeCommand, _super);\n    function HomeCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    HomeCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToBeginningOfLine(cursors.context, cursors.getAll(), this._inSelectionMode));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return HomeCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorHome = registerEditorCommand(new HomeCommand({\n    inSelectionMode: false,\n    id: 'cursorHome',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 14 /* Home */,\n      mac: {\n        primary: 14 /* Home */,\n        secondary: [2048 /* CtrlCmd */ | 15 /* LeftArrow */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorHomeSelect = registerEditorCommand(new HomeCommand({\n    inSelectionMode: true,\n    id: 'cursorHomeSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 14 /* Home */,\n      mac: {\n        primary: 1024 /* Shift */ | 14 /* Home */,\n        secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorLineStart = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_6, _super);\n    function class_6() {\n      return _super.call(this, {\n        id: 'cursorLineStart',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 0,\n          mac: {\n            primary: 256 /* WinCtrl */ | 31 /* KEY_A */\n          }\n        }\n      }) || this;\n    }\n    class_6.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, this._exec(cursors.context, cursors.getAll()));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    class_6.prototype._exec = function (context, cursors) {\n      var result = [];\n      for (var i = 0, len = cursors.length; i < len; i++) {\n        var cursor = cursors[i];\n        var lineNumber = cursor.modelState.position.lineNumber;\n        result[i] = CursorState.fromModelState(cursor.modelState.move(false, lineNumber, 1, 0));\n      }\n      return result;\n    };\n    return class_6;\n  }(CoreEditorCommand))());\n  var EndCommand = /** @class */function (_super) {\n    __extends(EndCommand, _super);\n    function EndCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    EndCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToEndOfLine(cursors.context, cursors.getAll(), this._inSelectionMode));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return EndCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorEnd = registerEditorCommand(new EndCommand({\n    inSelectionMode: false,\n    id: 'cursorEnd',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 13 /* End */,\n      mac: {\n        primary: 13 /* End */,\n        secondary: [2048 /* CtrlCmd */ | 17 /* RightArrow */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorEndSelect = registerEditorCommand(new EndCommand({\n    inSelectionMode: true,\n    id: 'cursorEndSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 1024 /* Shift */ | 13 /* End */,\n      mac: {\n        primary: 1024 /* Shift */ | 13 /* End */,\n        secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */]\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorLineEnd = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_7, _super);\n    function class_7() {\n      return _super.call(this, {\n        id: 'cursorLineEnd',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 0,\n          mac: {\n            primary: 256 /* WinCtrl */ | 35 /* KEY_E */\n          }\n        }\n      }) || this;\n    }\n    class_7.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, this._exec(cursors.context, cursors.getAll()));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    class_7.prototype._exec = function (context, cursors) {\n      var result = [];\n      for (var i = 0, len = cursors.length; i < len; i++) {\n        var cursor = cursors[i];\n        var lineNumber = cursor.modelState.position.lineNumber;\n        var maxColumn = context.model.getLineMaxColumn(lineNumber);\n        result[i] = CursorState.fromModelState(cursor.modelState.move(false, lineNumber, maxColumn, 0));\n      }\n      return result;\n    };\n    return class_7;\n  }(CoreEditorCommand))());\n  var TopCommand = /** @class */function (_super) {\n    __extends(TopCommand, _super);\n    function TopCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    TopCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToBeginningOfBuffer(cursors.context, cursors.getAll(), this._inSelectionMode));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return TopCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorTop = registerEditorCommand(new TopCommand({\n    inSelectionMode: false,\n    id: 'cursorTop',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 14 /* Home */,\n      mac: {\n        primary: 2048 /* CtrlCmd */ | 16 /* UpArrow */\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorTopSelect = registerEditorCommand(new TopCommand({\n    inSelectionMode: true,\n    id: 'cursorTopSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 14 /* Home */,\n      mac: {\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */\n      }\n    }\n  }));\n\n  var BottomCommand = /** @class */function (_super) {\n    __extends(BottomCommand, _super);\n    function BottomCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    BottomCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToEndOfBuffer(cursors.context, cursors.getAll(), this._inSelectionMode));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return BottomCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.CursorBottom = registerEditorCommand(new BottomCommand({\n    inSelectionMode: false,\n    id: 'cursorBottom',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 13 /* End */,\n      mac: {\n        primary: 2048 /* CtrlCmd */ | 18 /* DownArrow */\n      }\n    }\n  }));\n\n  CoreNavigationCommands.CursorBottomSelect = registerEditorCommand(new BottomCommand({\n    inSelectionMode: true,\n    id: 'cursorBottomSelect',\n    precondition: undefined,\n    kbOpts: {\n      weight: CORE_WEIGHT,\n      kbExpr: EditorContextKeys.textInputFocus,\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 13 /* End */,\n      mac: {\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */\n      }\n    }\n  }));\n\n  var EditorScrollImpl = /** @class */function (_super) {\n    __extends(EditorScrollImpl, _super);\n    function EditorScrollImpl() {\n      return _super.call(this, {\n        id: 'editorScroll',\n        precondition: undefined,\n        description: EditorScroll_.description\n      }) || this;\n    }\n    EditorScrollImpl.prototype.runCoreEditorCommand = function (cursors, args) {\n      var parsed = EditorScroll_.parse(args);\n      if (!parsed) {\n        // illegal arguments\n        return;\n      }\n      this._runEditorScroll(cursors, args.source, parsed);\n    };\n    EditorScrollImpl.prototype._runEditorScroll = function (cursors, source, args) {\n      var desiredScrollTop = this._computeDesiredScrollTop(cursors.context, args);\n      if (args.revealCursor) {\n        // must ensure cursor is in new visible range\n        var desiredVisibleViewRange = cursors.context.getCompletelyVisibleViewRangeAtScrollTop(desiredScrollTop);\n        cursors.setStates(source, 3 /* Explicit */, [CursorMoveCommands.findPositionInViewportIfOutside(cursors.context, cursors.getPrimaryCursor(), desiredVisibleViewRange, args.select)]);\n      }\n      cursors.scrollTo(desiredScrollTop);\n    };\n    EditorScrollImpl.prototype._computeDesiredScrollTop = function (context, args) {\n      if (args.unit === 1 /* Line */) {\n        // scrolling by model lines\n        var visibleModelRange = context.getCompletelyVisibleModelRange();\n        var desiredTopModelLineNumber = void 0;\n        if (args.direction === 1 /* Up */) {\n          // must go x model lines up\n          desiredTopModelLineNumber = Math.max(1, visibleModelRange.startLineNumber - args.value);\n        } else {\n          // must go x model lines down\n          desiredTopModelLineNumber = Math.min(context.model.getLineCount(), visibleModelRange.startLineNumber + args.value);\n        }\n        var desiredTopViewPosition = context.convertModelPositionToViewPosition(new Position(desiredTopModelLineNumber, 1));\n        return context.getVerticalOffsetForViewLine(desiredTopViewPosition.lineNumber);\n      }\n      var noOfLines;\n      if (args.unit === 3 /* Page */) {\n        noOfLines = context.config.pageSize * args.value;\n      } else if (args.unit === 4 /* HalfPage */) {\n        noOfLines = Math.round(context.config.pageSize / 2) * args.value;\n      } else {\n        noOfLines = args.value;\n      }\n      var deltaLines = (args.direction === 1 /* Up */ ? -1 : 1) * noOfLines;\n      return context.getCurrentScrollTop() + deltaLines * context.config.lineHeight;\n    };\n    return EditorScrollImpl;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.EditorScrollImpl = EditorScrollImpl;\n  CoreNavigationCommands.EditorScroll = registerEditorCommand(new EditorScrollImpl());\n  CoreNavigationCommands.ScrollLineUp = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_8, _super);\n    function class_8() {\n      return _super.call(this, {\n        id: 'scrollLineUp',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 16 /* UpArrow */,\n          mac: {\n            primary: 256 /* WinCtrl */ | 11 /* PageUp */\n          }\n        }\n      }) || this;\n    }\n    class_8.prototype.runCoreEditorCommand = function (cursors, args) {\n      CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\n        direction: 1 /* Up */,\n        unit: 2 /* WrappedLine */,\n        value: 1,\n        revealCursor: false,\n        select: false\n      });\n    };\n    return class_8;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.ScrollPageUp = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_9, _super);\n    function class_9() {\n      return _super.call(this, {\n        id: 'scrollPageUp',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 11 /* PageUp */,\n          win: {\n            primary: 512 /* Alt */ | 11 /* PageUp */\n          },\n          linux: {\n            primary: 512 /* Alt */ | 11 /* PageUp */\n          }\n        }\n      }) || this;\n    }\n    class_9.prototype.runCoreEditorCommand = function (cursors, args) {\n      CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\n        direction: 1 /* Up */,\n        unit: 3 /* Page */,\n        value: 1,\n        revealCursor: false,\n        select: false\n      });\n    };\n    return class_9;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.ScrollLineDown = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_10, _super);\n    function class_10() {\n      return _super.call(this, {\n        id: 'scrollLineDown',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 18 /* DownArrow */,\n          mac: {\n            primary: 256 /* WinCtrl */ | 12 /* PageDown */\n          }\n        }\n      }) || this;\n    }\n    class_10.prototype.runCoreEditorCommand = function (cursors, args) {\n      CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\n        direction: 2 /* Down */,\n        unit: 2 /* WrappedLine */,\n        value: 1,\n        revealCursor: false,\n        select: false\n      });\n    };\n    return class_10;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.ScrollPageDown = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_11, _super);\n    function class_11() {\n      return _super.call(this, {\n        id: 'scrollPageDown',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 12 /* PageDown */,\n          win: {\n            primary: 512 /* Alt */ | 12 /* PageDown */\n          },\n          linux: {\n            primary: 512 /* Alt */ | 12 /* PageDown */\n          }\n        }\n      }) || this;\n    }\n    class_11.prototype.runCoreEditorCommand = function (cursors, args) {\n      CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\n        direction: 2 /* Down */,\n        unit: 3 /* Page */,\n        value: 1,\n        revealCursor: false,\n        select: false\n      });\n    };\n    return class_11;\n  }(CoreEditorCommand))());\n  var WordCommand = /** @class */function (_super) {\n    __extends(WordCommand, _super);\n    function WordCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    WordCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorMoveCommands.word(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position)]);\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return WordCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.WordSelect = registerEditorCommand(new WordCommand({\n    inSelectionMode: false,\n    id: '_wordSelect',\n    precondition: undefined\n  }));\n  CoreNavigationCommands.WordSelectDrag = registerEditorCommand(new WordCommand({\n    inSelectionMode: true,\n    id: '_wordSelectDrag',\n    precondition: undefined\n  }));\n  CoreNavigationCommands.LastCursorWordSelect = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_12, _super);\n    function class_12() {\n      return _super.call(this, {\n        id: 'lastCursorWordSelect',\n        precondition: undefined\n      }) || this;\n    }\n    class_12.prototype.runCoreEditorCommand = function (cursors, args) {\n      var context = cursors.context;\n      var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\n      var states = cursors.getAll();\n      var newStates = states.slice(0);\n      var lastAddedState = states[lastAddedCursorIndex];\n      newStates[lastAddedCursorIndex] = CursorMoveCommands.word(context, lastAddedState, lastAddedState.modelState.hasSelection(), args.position);\n      context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, newStates);\n    };\n    return class_12;\n  }(CoreEditorCommand))());\n  var LineCommand = /** @class */function (_super) {\n    __extends(LineCommand, _super);\n    function LineCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    LineCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorMoveCommands.line(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position, args.viewPosition)]);\n      cursors.reveal(args.source, false, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return LineCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.LineSelect = registerEditorCommand(new LineCommand({\n    inSelectionMode: false,\n    id: '_lineSelect',\n    precondition: undefined\n  }));\n  CoreNavigationCommands.LineSelectDrag = registerEditorCommand(new LineCommand({\n    inSelectionMode: true,\n    id: '_lineSelectDrag',\n    precondition: undefined\n  }));\n  var LastCursorLineCommand = /** @class */function (_super) {\n    __extends(LastCursorLineCommand, _super);\n    function LastCursorLineCommand(opts) {\n      var _this = _super.call(this, opts) || this;\n      _this._inSelectionMode = opts.inSelectionMode;\n      return _this;\n    }\n    LastCursorLineCommand.prototype.runCoreEditorCommand = function (cursors, args) {\n      var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\n      var states = cursors.getAll();\n      var newStates = states.slice(0);\n      newStates[lastAddedCursorIndex] = CursorMoveCommands.line(cursors.context, states[lastAddedCursorIndex], this._inSelectionMode, args.position, args.viewPosition);\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, newStates);\n    };\n    return LastCursorLineCommand;\n  }(CoreEditorCommand);\n  CoreNavigationCommands.LastCursorLineSelect = registerEditorCommand(new LastCursorLineCommand({\n    inSelectionMode: false,\n    id: 'lastCursorLineSelect',\n    precondition: undefined\n  }));\n  CoreNavigationCommands.LastCursorLineSelectDrag = registerEditorCommand(new LastCursorLineCommand({\n    inSelectionMode: true,\n    id: 'lastCursorLineSelectDrag',\n    precondition: undefined\n  }));\n  CoreNavigationCommands.ExpandLineSelection = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_13, _super);\n    function class_13() {\n      return _super.call(this, {\n        id: 'expandLineSelection',\n        precondition: undefined,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 2048 /* CtrlCmd */ | 42 /* KEY_L */\n        }\n      }) || this;\n    }\n    class_13.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.expandLineSelection(cursors.context, cursors.getAll()));\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return class_13;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.CancelSelection = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_14, _super);\n    function class_14() {\n      return _super.call(this, {\n        id: 'cancelSelection',\n        precondition: EditorContextKeys.hasNonEmptySelection,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 9 /* Escape */,\n          secondary: [1024 /* Shift */ | 9 /* Escape */]\n        }\n      }) || this;\n    }\n    class_14.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorMoveCommands.cancelSelection(cursors.context, cursors.getPrimaryCursor())]);\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return class_14;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.RemoveSecondaryCursors = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_15, _super);\n    function class_15() {\n      return _super.call(this, {\n        id: 'removeSecondaryCursors',\n        precondition: EditorContextKeys.hasMultipleSelections,\n        kbOpts: {\n          weight: CORE_WEIGHT + 1,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 9 /* Escape */,\n          secondary: [1024 /* Shift */ | 9 /* Escape */]\n        }\n      }) || this;\n    }\n    class_15.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [cursors.getPrimaryCursor()]);\n      cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\n    };\n\n    return class_15;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.RevealLine = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_16, _super);\n    function class_16() {\n      return _super.call(this, {\n        id: 'revealLine',\n        precondition: undefined,\n        description: RevealLine_.description\n      }) || this;\n    }\n    class_16.prototype.runCoreEditorCommand = function (cursors, args) {\n      var revealLineArg = args;\n      var lineNumber = (revealLineArg.lineNumber || 0) + 1;\n      if (lineNumber < 1) {\n        lineNumber = 1;\n      }\n      var lineCount = cursors.context.model.getLineCount();\n      if (lineNumber > lineCount) {\n        lineNumber = lineCount;\n      }\n      var range = new Range(lineNumber, 1, lineNumber, cursors.context.model.getLineMaxColumn(lineNumber));\n      var revealAt = 0 /* Simple */;\n      if (revealLineArg.at) {\n        switch (revealLineArg.at) {\n          case RevealLine_.RawAtArgument.Top:\n            revealAt = 3 /* Top */;\n            break;\n          case RevealLine_.RawAtArgument.Center:\n            revealAt = 1 /* Center */;\n            break;\n          case RevealLine_.RawAtArgument.Bottom:\n            revealAt = 4 /* Bottom */;\n            break;\n          default:\n            break;\n        }\n      }\n      var viewRange = cursors.context.convertModelRangeToViewRange(range);\n      cursors.revealRange(args.source, false, viewRange, revealAt, 0 /* Smooth */);\n    };\n\n    return class_16;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.SelectAll = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_17, _super);\n    function class_17() {\n      return _super.call(this, {\n        id: 'selectAll',\n        precondition: undefined\n      }) || this;\n    }\n    class_17.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorMoveCommands.selectAll(cursors.context, cursors.getPrimaryCursor())]);\n    };\n    return class_17;\n  }(CoreEditorCommand))());\n  CoreNavigationCommands.SetSelection = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_18, _super);\n    function class_18() {\n      return _super.call(this, {\n        id: 'setSelection',\n        precondition: undefined\n      }) || this;\n    }\n    class_18.prototype.runCoreEditorCommand = function (cursors, args) {\n      cursors.context.model.pushStackElement();\n      cursors.setStates(args.source, 3 /* Explicit */, [CursorState.fromModelSelection(args.selection)]);\n    };\n    return class_18;\n  }(CoreEditorCommand))());\n})(CoreNavigationCommands || (CoreNavigationCommands = {}));\nexport var CoreEditingCommands;\n(function (CoreEditingCommands) {\n  var CoreEditingCommand = /** @class */function (_super) {\n    __extends(CoreEditingCommand, _super);\n    function CoreEditingCommand() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CoreEditingCommand.prototype.runEditorCommand = function (accessor, editor, args) {\n      var cursors = editor._getCursors();\n      if (!cursors) {\n        // the editor has no view => has no cursors\n        return;\n      }\n      this.runCoreEditingCommand(editor, cursors, args || {});\n    };\n    return CoreEditingCommand;\n  }(EditorCommand);\n  CoreEditingCommands.CoreEditingCommand = CoreEditingCommand;\n  CoreEditingCommands.LineBreakInsert = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_19, _super);\n    function class_19() {\n      return _super.call(this, {\n        id: 'lineBreakInsert',\n        precondition: EditorContextKeys.writable,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 0,\n          mac: {\n            primary: 256 /* WinCtrl */ | 45 /* KEY_O */\n          }\n        }\n      }) || this;\n    }\n    class_19.prototype.runCoreEditingCommand = function (editor, cursors, args) {\n      editor.pushUndoStop();\n      editor.executeCommands(this.id, TypeOperations.lineBreakInsert(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) {\n        return s.modelState.selection;\n      })));\n    };\n    return class_19;\n  }(CoreEditingCommand))());\n  CoreEditingCommands.Outdent = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_20, _super);\n    function class_20() {\n      return _super.call(this, {\n        id: 'outdent',\n        precondition: EditorContextKeys.writable,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.tabDoesNotMoveFocus),\n          primary: 1024 /* Shift */ | 2 /* Tab */\n        }\n      }) || this;\n    }\n    class_20.prototype.runCoreEditingCommand = function (editor, cursors, args) {\n      editor.pushUndoStop();\n      editor.executeCommands(this.id, TypeOperations.outdent(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) {\n        return s.modelState.selection;\n      })));\n      editor.pushUndoStop();\n    };\n    return class_20;\n  }(CoreEditingCommand))());\n  CoreEditingCommands.Tab = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_21, _super);\n    function class_21() {\n      return _super.call(this, {\n        id: 'tab',\n        precondition: EditorContextKeys.writable,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.tabDoesNotMoveFocus),\n          primary: 2 /* Tab */\n        }\n      }) || this;\n    }\n    class_21.prototype.runCoreEditingCommand = function (editor, cursors, args) {\n      editor.pushUndoStop();\n      editor.executeCommands(this.id, TypeOperations.tab(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) {\n        return s.modelState.selection;\n      })));\n      editor.pushUndoStop();\n    };\n    return class_21;\n  }(CoreEditingCommand))());\n  CoreEditingCommands.DeleteLeft = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_22, _super);\n    function class_22() {\n      return _super.call(this, {\n        id: 'deleteLeft',\n        precondition: EditorContextKeys.writable,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 1 /* Backspace */,\n          secondary: [1024 /* Shift */ | 1 /* Backspace */],\n          mac: {\n            primary: 1 /* Backspace */,\n            secondary: [1024 /* Shift */ | 1 /* Backspace */, 256 /* WinCtrl */ | 38 /* KEY_H */, 256 /* WinCtrl */ | 1 /* Backspace */]\n          }\n        }\n      }) || this;\n    }\n    class_22.prototype.runCoreEditingCommand = function (editor, cursors, args) {\n      var _a = DeleteOperations.deleteLeft(cursors.getPrevEditOperationType(), cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) {\n          return s.modelState.selection;\n        })),\n        shouldPushStackElementBefore = _a[0],\n        commands = _a[1];\n      if (shouldPushStackElementBefore) {\n        editor.pushUndoStop();\n      }\n      editor.executeCommands(this.id, commands);\n      cursors.setPrevEditOperationType(2 /* DeletingLeft */);\n    };\n\n    return class_22;\n  }(CoreEditingCommand))());\n  CoreEditingCommands.DeleteRight = registerEditorCommand(new ( /** @class */function (_super) {\n    __extends(class_23, _super);\n    function class_23() {\n      return _super.call(this, {\n        id: 'deleteRight',\n        precondition: EditorContextKeys.writable,\n        kbOpts: {\n          weight: CORE_WEIGHT,\n          kbExpr: EditorContextKeys.textInputFocus,\n          primary: 20 /* Delete */,\n          mac: {\n            primary: 20 /* Delete */,\n            secondary: [256 /* WinCtrl */ | 34 /* KEY_D */, 256 /* WinCtrl */ | 20 /* Delete */]\n          }\n        }\n      }) || this;\n    }\n    class_23.prototype.runCoreEditingCommand = function (editor, cursors, args) {\n      var _a = DeleteOperations.deleteRight(cursors.getPrevEditOperationType(), cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) {\n          return s.modelState.selection;\n        })),\n        shouldPushStackElementBefore = _a[0],\n        commands = _a[1];\n      if (shouldPushStackElementBefore) {\n        editor.pushUndoStop();\n      }\n      editor.executeCommands(this.id, commands);\n      cursors.setPrevEditOperationType(3 /* DeletingRight */);\n    };\n\n    return class_23;\n  }(CoreEditingCommand))());\n})(CoreEditingCommands || (CoreEditingCommands = {}));\nfunction registerCommand(command) {\n  command.register();\n}\n/**\r\n * A command that will:\r\n *  1. invoke a command on the focused editor.\r\n *  2. otherwise, invoke a browser built-in command on the `activeElement`.\r\n *  3. otherwise, invoke a command on the workbench active editor.\r\n */\nvar EditorOrNativeTextInputCommand = /** @class */function (_super) {\n  __extends(EditorOrNativeTextInputCommand, _super);\n  function EditorOrNativeTextInputCommand(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this._editorHandler = opts.editorHandler;\n    _this._inputHandler = opts.inputHandler;\n    return _this;\n  }\n  EditorOrNativeTextInputCommand.prototype.runCommand = function (accessor, args) {\n    var focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    // Only if editor text focus (i.e. not if editor has widget focus).\n    if (focusedEditor && focusedEditor.hasTextFocus()) {\n      return this._runEditorHandler(accessor, focusedEditor, args);\n    }\n    // Ignore this action when user is focused on an element that allows for entering text\n    var activeElement = document.activeElement;\n    if (activeElement && ['input', 'textarea'].indexOf(activeElement.tagName.toLowerCase()) >= 0) {\n      document.execCommand(this._inputHandler);\n      return;\n    }\n    // Redirecting to active editor\n    var activeEditor = accessor.get(ICodeEditorService).getActiveCodeEditor();\n    if (activeEditor) {\n      activeEditor.focus();\n      return this._runEditorHandler(accessor, activeEditor, args);\n    }\n  };\n  EditorOrNativeTextInputCommand.prototype._runEditorHandler = function (accessor, editor, args) {\n    var HANDLER = this._editorHandler;\n    if (typeof HANDLER === 'string') {\n      editor.trigger('keyboard', HANDLER, args);\n    } else {\n      args = args || {};\n      args.source = 'keyboard';\n      HANDLER.runEditorCommand(accessor, editor, args);\n    }\n  };\n  return EditorOrNativeTextInputCommand;\n}(Command);\n/**\r\n * A command that will invoke a command on the focused editor.\r\n */\nvar EditorHandlerCommand = /** @class */function (_super) {\n  __extends(EditorHandlerCommand, _super);\n  function EditorHandlerCommand(id, handlerId, description) {\n    var _this = _super.call(this, {\n      id: id,\n      precondition: undefined,\n      description: description\n    }) || this;\n    _this._handlerId = handlerId;\n    return _this;\n  }\n  EditorHandlerCommand.prototype.runCommand = function (accessor, args) {\n    var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (!editor) {\n      return;\n    }\n    editor.trigger('keyboard', this._handlerId, args);\n  };\n  return EditorHandlerCommand;\n}(Command);\nregisterCommand(new EditorOrNativeTextInputCommand({\n  editorHandler: CoreNavigationCommands.SelectAll,\n  inputHandler: 'selectAll',\n  id: 'editor.action.selectAll',\n  precondition: EditorContextKeys.textInputFocus,\n  kbOpts: {\n    weight: CORE_WEIGHT,\n    kbExpr: null,\n    primary: 2048 /* CtrlCmd */ | 31 /* KEY_A */\n  },\n\n  menuOpts: {\n    menuId: 25 /* MenubarSelectionMenu */,\n    group: '1_basic',\n    title: nls.localize({\n      key: 'miSelectAll',\n      comment: ['&& denotes a mnemonic']\n    }, \"&&Select All\"),\n    order: 1\n  }\n}));\nregisterCommand(new EditorOrNativeTextInputCommand({\n  editorHandler: Handler.Undo,\n  inputHandler: 'undo',\n  id: Handler.Undo,\n  precondition: EditorContextKeys.writable,\n  kbOpts: {\n    weight: CORE_WEIGHT,\n    kbExpr: EditorContextKeys.textInputFocus,\n    primary: 2048 /* CtrlCmd */ | 56 /* KEY_Z */\n  },\n\n  menuOpts: {\n    menuId: 17 /* MenubarEditMenu */,\n    group: '1_do',\n    title: nls.localize({\n      key: 'miUndo',\n      comment: ['&& denotes a mnemonic']\n    }, \"&&Undo\"),\n    order: 1\n  }\n}));\nregisterCommand(new EditorHandlerCommand('default:' + Handler.Undo, Handler.Undo));\nregisterCommand(new EditorOrNativeTextInputCommand({\n  editorHandler: Handler.Redo,\n  inputHandler: 'redo',\n  id: Handler.Redo,\n  precondition: EditorContextKeys.writable,\n  kbOpts: {\n    weight: CORE_WEIGHT,\n    kbExpr: EditorContextKeys.textInputFocus,\n    primary: 2048 /* CtrlCmd */ | 55 /* KEY_Y */,\n    secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 56 /* KEY_Z */],\n    mac: {\n      primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 56 /* KEY_Z */\n    }\n  },\n\n  menuOpts: {\n    menuId: 17 /* MenubarEditMenu */,\n    group: '1_do',\n    title: nls.localize({\n      key: 'miRedo',\n      comment: ['&& denotes a mnemonic']\n    }, \"&&Redo\"),\n    order: 2\n  }\n}));\nregisterCommand(new EditorHandlerCommand('default:' + Handler.Redo, Handler.Redo));\nfunction registerOverwritableCommand(handlerId, description) {\n  registerCommand(new EditorHandlerCommand('default:' + handlerId, handlerId));\n  registerCommand(new EditorHandlerCommand(handlerId, handlerId, description));\n}\nregisterOverwritableCommand(Handler.Type, {\n  description: \"Type\",\n  args: [{\n    name: 'args',\n    schema: {\n      'type': 'object',\n      'required': ['text'],\n      'properties': {\n        'text': {\n          'type': 'string'\n        }\n      }\n    }\n  }]\n});\nregisterOverwritableCommand(Handler.ReplacePreviousChar);\nregisterOverwritableCommand(Handler.CompositionStart);\nregisterOverwritableCommand(Handler.CompositionEnd);\nregisterOverwritableCommand(Handler.Paste);\nregisterOverwritableCommand(Handler.Cut);","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","nls","types","Command","EditorCommand","registerEditorCommand","ICodeEditorService","ColumnSelection","CursorState","DeleteOperations","CursorMove","CursorMove_","CursorMoveCommands","TypeOperations","Position","Range","Handler","EditorContextKeys","ContextKeyExpr","CORE_WEIGHT","CoreEditorCommand","_super","apply","arguments","runEditorCommand","accessor","editor","args","cursors","_getCursors","runCoreEditorCommand","EditorScroll_","isEditorScrollArgs","arg","isObject","scrollArg","isString","to","isUndefined","by","value","isNumber","revealCursor","isBoolean","description","name","constraint","schema","RawDirection","Up","Down","RawUnit","Line","WrappedLine","Page","HalfPage","parse","direction","unit","Math","floor","select","RevealLine_","isRevealLineArgs","reveaLineArg","lineNumber","at","RawAtArgument","Top","Center","Bottom","CoreNavigationCommands","BaseMoveToCommand","opts","_this","call","_inSelectionMode","inSelectionMode","context","model","pushStackElement","setStates","source","moveTo","getPrimaryCursor","position","viewPosition","reveal","MoveTo","id","precondition","undefined","MoveToSelect","ColumnSelectCommand","result","_getColumnSelectResult","getColumnSelectData","viewStates","map","viewState","fromViewState","setColumnSelectData","isReal","fromViewLineNumber","fromLineNumber","fromViewVisualColumn","fromVisualColumn","toViewLineNumber","toLineNumber","toViewVisualColumn","toVisualColumn","reversed","ColumnSelect","class_1","primary","prevColumnSelectData","validatedPosition","validatePosition","validatedViewPosition","validateViewPosition","column","doColumnSelect","mouseColumn","columnSelect","config","viewModel","CursorColumnSelectLeft","class_2","kbOpts","weight","kbExpr","textInputFocus","linux","columnSelectLeft","CursorColumnSelectRight","class_3","columnSelectRight","ColumnSelectUpCommand","_isPaged","isPaged","columnSelectUp","CursorColumnSelectUp","CursorColumnSelectPageUp","ColumnSelectDownCommand","columnSelectDown","CursorColumnSelectDown","CursorColumnSelectPageDown","CursorMoveImpl","parsed","_runCursorMove","move","getAll","CursorMoveBasedCommand","_staticArgs","dynamicArgs","pageSize","CursorLeft","mac","secondary","CursorLeftSelect","CursorRight","CursorRightSelect","CursorUp","CursorUpSelect","CursorPageUp","CursorPageUpSelect","CursorDown","CursorDownSelect","CursorPageDown","CursorPageDownSelect","CreateCursor","class_4","newState","wholeLine","line","states","length","newModelPosition","modelState","newViewPosition","i","len","state","selection","containsPosition","splice","push","LastCursorMoveToSelect","class_5","lastAddedCursorIndex","getLastAddedCursorIndex","newStates","slice","HomeCommand","moveToBeginningOfLine","CursorHome","CursorHomeSelect","CursorLineStart","class_6","_exec","cursor","fromModelState","EndCommand","moveToEndOfLine","CursorEnd","CursorEndSelect","CursorLineEnd","class_7","maxColumn","getLineMaxColumn","TopCommand","moveToBeginningOfBuffer","CursorTop","CursorTopSelect","BottomCommand","moveToEndOfBuffer","CursorBottom","CursorBottomSelect","EditorScrollImpl","_runEditorScroll","desiredScrollTop","_computeDesiredScrollTop","desiredVisibleViewRange","getCompletelyVisibleViewRangeAtScrollTop","findPositionInViewportIfOutside","scrollTo","visibleModelRange","getCompletelyVisibleModelRange","desiredTopModelLineNumber","max","startLineNumber","min","getLineCount","desiredTopViewPosition","convertModelPositionToViewPosition","getVerticalOffsetForViewLine","noOfLines","round","deltaLines","getCurrentScrollTop","lineHeight","EditorScroll","ScrollLineUp","class_8","ScrollPageUp","class_9","win","ScrollLineDown","class_10","ScrollPageDown","class_11","WordCommand","word","WordSelect","WordSelectDrag","LastCursorWordSelect","class_12","lastAddedState","hasSelection","LineCommand","LineSelect","LineSelectDrag","LastCursorLineCommand","LastCursorLineSelect","LastCursorLineSelectDrag","ExpandLineSelection","class_13","expandLineSelection","CancelSelection","class_14","hasNonEmptySelection","cancelSelection","RemoveSecondaryCursors","class_15","hasMultipleSelections","RevealLine","class_16","revealLineArg","lineCount","range","revealAt","viewRange","convertModelRangeToViewRange","revealRange","SelectAll","class_17","selectAll","SetSelection","class_18","fromModelSelection","CoreEditingCommands","CoreEditingCommand","runCoreEditingCommand","LineBreakInsert","class_19","writable","pushUndoStop","executeCommands","lineBreakInsert","s","Outdent","class_20","and","editorTextFocus","tabDoesNotMoveFocus","outdent","Tab","class_21","tab","DeleteLeft","class_22","_a","deleteLeft","getPrevEditOperationType","shouldPushStackElementBefore","commands","setPrevEditOperationType","DeleteRight","class_23","deleteRight","registerCommand","command","register","EditorOrNativeTextInputCommand","_editorHandler","editorHandler","_inputHandler","inputHandler","runCommand","focusedEditor","get","getFocusedCodeEditor","hasTextFocus","_runEditorHandler","activeElement","document","indexOf","tagName","toLowerCase","execCommand","activeEditor","getActiveCodeEditor","focus","HANDLER","trigger","EditorHandlerCommand","handlerId","_handlerId","menuOpts","menuId","group","title","localize","key","comment","order","Undo","Redo","registerOverwritableCommand","Type","ReplacePreviousChar","CompositionStart","CompositionEnd","Paste","Cut"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/browser/controller/coreCommands.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport * as types from '../../../base/common/types.js';\r\nimport { Command, EditorCommand, registerEditorCommand } from '../editorExtensions.js';\r\nimport { ICodeEditorService } from '../services/codeEditorService.js';\r\nimport { ColumnSelection } from '../../common/controller/cursorColumnSelection.js';\r\nimport { CursorState } from '../../common/controller/cursorCommon.js';\r\nimport { DeleteOperations } from '../../common/controller/cursorDeleteOperations.js';\r\nimport { CursorMove as CursorMove_, CursorMoveCommands } from '../../common/controller/cursorMoveCommands.js';\r\nimport { TypeOperations } from '../../common/controller/cursorTypeOperations.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Handler } from '../../common/editorCommon.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nvar CORE_WEIGHT = 0 /* EditorCore */;\r\nvar CoreEditorCommand = /** @class */ (function (_super) {\r\n    __extends(CoreEditorCommand, _super);\r\n    function CoreEditorCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CoreEditorCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var cursors = editor._getCursors();\r\n        if (!cursors) {\r\n            // the editor has no view => has no cursors\r\n            return;\r\n        }\r\n        this.runCoreEditorCommand(cursors, args || {});\r\n    };\r\n    return CoreEditorCommand;\r\n}(EditorCommand));\r\nexport { CoreEditorCommand };\r\nexport var EditorScroll_;\r\n(function (EditorScroll_) {\r\n    var isEditorScrollArgs = function (arg) {\r\n        if (!types.isObject(arg)) {\r\n            return false;\r\n        }\r\n        var scrollArg = arg;\r\n        if (!types.isString(scrollArg.to)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(scrollArg.by) && !types.isString(scrollArg.by)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(scrollArg.value) && !types.isNumber(scrollArg.value)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(scrollArg.revealCursor) && !types.isBoolean(scrollArg.revealCursor)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    EditorScroll_.description = {\r\n        description: 'Scroll editor in the given direction',\r\n        args: [\r\n            {\r\n                name: 'Editor scroll argument object',\r\n                description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t* 'to': A mandatory direction value.\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'up', 'down'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t* 'by': Unit to move. Default is computed based on 'to' value.\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'line', 'wrappedLine', 'page', 'halfPage'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t* 'value': Number of units to move. Default is '1'.\\n\\t\\t\\t\\t\\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\\n\\t\\t\\t\\t\",\r\n                constraint: isEditorScrollArgs,\r\n                schema: {\r\n                    'type': 'object',\r\n                    'required': ['to'],\r\n                    'properties': {\r\n                        'to': {\r\n                            'type': 'string',\r\n                            'enum': ['up', 'down']\r\n                        },\r\n                        'by': {\r\n                            'type': 'string',\r\n                            'enum': ['line', 'wrappedLine', 'page', 'halfPage']\r\n                        },\r\n                        'value': {\r\n                            'type': 'number',\r\n                            'default': 1\r\n                        },\r\n                        'revealCursor': {\r\n                            'type': 'boolean',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };\r\n    /**\r\n     * Directions in the view for editor scroll command.\r\n     */\r\n    EditorScroll_.RawDirection = {\r\n        Up: 'up',\r\n        Down: 'down',\r\n    };\r\n    /**\r\n     * Units for editor scroll 'by' argument\r\n     */\r\n    EditorScroll_.RawUnit = {\r\n        Line: 'line',\r\n        WrappedLine: 'wrappedLine',\r\n        Page: 'page',\r\n        HalfPage: 'halfPage'\r\n    };\r\n    function parse(args) {\r\n        var direction;\r\n        switch (args.to) {\r\n            case EditorScroll_.RawDirection.Up:\r\n                direction = 1 /* Up */;\r\n                break;\r\n            case EditorScroll_.RawDirection.Down:\r\n                direction = 2 /* Down */;\r\n                break;\r\n            default:\r\n                // Illegal arguments\r\n                return null;\r\n        }\r\n        var unit;\r\n        switch (args.by) {\r\n            case EditorScroll_.RawUnit.Line:\r\n                unit = 1 /* Line */;\r\n                break;\r\n            case EditorScroll_.RawUnit.WrappedLine:\r\n                unit = 2 /* WrappedLine */;\r\n                break;\r\n            case EditorScroll_.RawUnit.Page:\r\n                unit = 3 /* Page */;\r\n                break;\r\n            case EditorScroll_.RawUnit.HalfPage:\r\n                unit = 4 /* HalfPage */;\r\n                break;\r\n            default:\r\n                unit = 2 /* WrappedLine */;\r\n        }\r\n        var value = Math.floor(args.value || 1);\r\n        var revealCursor = !!args.revealCursor;\r\n        return {\r\n            direction: direction,\r\n            unit: unit,\r\n            value: value,\r\n            revealCursor: revealCursor,\r\n            select: (!!args.select)\r\n        };\r\n    }\r\n    EditorScroll_.parse = parse;\r\n})(EditorScroll_ || (EditorScroll_ = {}));\r\nexport var RevealLine_;\r\n(function (RevealLine_) {\r\n    var isRevealLineArgs = function (arg) {\r\n        if (!types.isObject(arg)) {\r\n            return false;\r\n        }\r\n        var reveaLineArg = arg;\r\n        if (!types.isNumber(reveaLineArg.lineNumber)) {\r\n            return false;\r\n        }\r\n        if (!types.isUndefined(reveaLineArg.at) && !types.isString(reveaLineArg.at)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    RevealLine_.description = {\r\n        description: 'Reveal the given line at the given logical position',\r\n        args: [\r\n            {\r\n                name: 'Reveal line argument object',\r\n                description: \"Property-value pairs that can be passed through this argument:\\n\\t\\t\\t\\t\\t* 'lineNumber': A mandatory line number value.\\n\\t\\t\\t\\t\\t* 'at': Logical position at which line has to be revealed .\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\\t\\t'top', 'center', 'bottom'\\n\\t\\t\\t\\t\\t\\t```\\n\\t\\t\\t\\t\",\r\n                constraint: isRevealLineArgs,\r\n                schema: {\r\n                    'type': 'object',\r\n                    'required': ['lineNumber'],\r\n                    'properties': {\r\n                        'lineNumber': {\r\n                            'type': 'number',\r\n                        },\r\n                        'at': {\r\n                            'type': 'string',\r\n                            'enum': ['top', 'center', 'bottom']\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    };\r\n    /**\r\n     * Values for reveal line 'at' argument\r\n     */\r\n    RevealLine_.RawAtArgument = {\r\n        Top: 'top',\r\n        Center: 'center',\r\n        Bottom: 'bottom'\r\n    };\r\n})(RevealLine_ || (RevealLine_ = {}));\r\nexport var CoreNavigationCommands;\r\n(function (CoreNavigationCommands) {\r\n    var BaseMoveToCommand = /** @class */ (function (_super) {\r\n        __extends(BaseMoveToCommand, _super);\r\n        function BaseMoveToCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        BaseMoveToCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorMoveCommands.moveTo(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position, args.viewPosition)\r\n            ]);\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return BaseMoveToCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.MoveTo = registerEditorCommand(new BaseMoveToCommand({\r\n        id: '_moveTo',\r\n        inSelectionMode: false,\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.MoveToSelect = registerEditorCommand(new BaseMoveToCommand({\r\n        id: '_moveToSelect',\r\n        inSelectionMode: true,\r\n        precondition: undefined\r\n    }));\r\n    var ColumnSelectCommand = /** @class */ (function (_super) {\r\n        __extends(ColumnSelectCommand, _super);\r\n        function ColumnSelectCommand() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        ColumnSelectCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            var result = this._getColumnSelectResult(cursors.context, cursors.getPrimaryCursor(), cursors.getColumnSelectData(), args);\r\n            cursors.setStates(args.source, 3 /* Explicit */, result.viewStates.map(function (viewState) { return CursorState.fromViewState(viewState); }));\r\n            cursors.setColumnSelectData({\r\n                isReal: true,\r\n                fromViewLineNumber: result.fromLineNumber,\r\n                fromViewVisualColumn: result.fromVisualColumn,\r\n                toViewLineNumber: result.toLineNumber,\r\n                toViewVisualColumn: result.toVisualColumn\r\n            });\r\n            cursors.reveal(args.source, true, (result.reversed ? 1 /* TopMost */ : 2 /* BottomMost */), 0 /* Smooth */);\r\n        };\r\n        return ColumnSelectCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.ColumnSelect = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            return _super.call(this, {\r\n                id: 'columnSelect',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_1.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\r\n            // validate `args`\r\n            var validatedPosition = context.model.validatePosition(args.position);\r\n            var validatedViewPosition = context.validateViewPosition(new Position(args.viewPosition.lineNumber, args.viewPosition.column), validatedPosition);\r\n            var fromViewLineNumber = args.doColumnSelect ? prevColumnSelectData.fromViewLineNumber : validatedViewPosition.lineNumber;\r\n            var fromViewVisualColumn = args.doColumnSelect ? prevColumnSelectData.fromViewVisualColumn : args.mouseColumn - 1;\r\n            return ColumnSelection.columnSelect(context.config, context.viewModel, fromViewLineNumber, fromViewVisualColumn, validatedViewPosition.lineNumber, args.mouseColumn - 1);\r\n        };\r\n        return class_1;\r\n    }(ColumnSelectCommand)));\r\n    CoreNavigationCommands.CursorColumnSelectLeft = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_2, _super);\r\n        function class_2() {\r\n            return _super.call(this, {\r\n                id: 'cursorColumnSelectLeft',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 15 /* LeftArrow */,\r\n                    linux: { primary: 0 }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_2.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\r\n            return ColumnSelection.columnSelectLeft(context.config, context.viewModel, prevColumnSelectData);\r\n        };\r\n        return class_2;\r\n    }(ColumnSelectCommand)));\r\n    CoreNavigationCommands.CursorColumnSelectRight = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_3, _super);\r\n        function class_3() {\r\n            return _super.call(this, {\r\n                id: 'cursorColumnSelectRight',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 17 /* RightArrow */,\r\n                    linux: { primary: 0 }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_3.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\r\n            return ColumnSelection.columnSelectRight(context.config, context.viewModel, prevColumnSelectData);\r\n        };\r\n        return class_3;\r\n    }(ColumnSelectCommand)));\r\n    var ColumnSelectUpCommand = /** @class */ (function (_super) {\r\n        __extends(ColumnSelectUpCommand, _super);\r\n        function ColumnSelectUpCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._isPaged = opts.isPaged;\r\n            return _this;\r\n        }\r\n        ColumnSelectUpCommand.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\r\n            return ColumnSelection.columnSelectUp(context.config, context.viewModel, prevColumnSelectData, this._isPaged);\r\n        };\r\n        return ColumnSelectUpCommand;\r\n    }(ColumnSelectCommand));\r\n    CoreNavigationCommands.CursorColumnSelectUp = registerEditorCommand(new ColumnSelectUpCommand({\r\n        isPaged: false,\r\n        id: 'cursorColumnSelectUp',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 16 /* UpArrow */,\r\n            linux: { primary: 0 }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorColumnSelectPageUp = registerEditorCommand(new ColumnSelectUpCommand({\r\n        isPaged: true,\r\n        id: 'cursorColumnSelectPageUp',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 11 /* PageUp */,\r\n            linux: { primary: 0 }\r\n        }\r\n    }));\r\n    var ColumnSelectDownCommand = /** @class */ (function (_super) {\r\n        __extends(ColumnSelectDownCommand, _super);\r\n        function ColumnSelectDownCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._isPaged = opts.isPaged;\r\n            return _this;\r\n        }\r\n        ColumnSelectDownCommand.prototype._getColumnSelectResult = function (context, primary, prevColumnSelectData, args) {\r\n            return ColumnSelection.columnSelectDown(context.config, context.viewModel, prevColumnSelectData, this._isPaged);\r\n        };\r\n        return ColumnSelectDownCommand;\r\n    }(ColumnSelectCommand));\r\n    CoreNavigationCommands.CursorColumnSelectDown = registerEditorCommand(new ColumnSelectDownCommand({\r\n        isPaged: false,\r\n        id: 'cursorColumnSelectDown',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 18 /* DownArrow */,\r\n            linux: { primary: 0 }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorColumnSelectPageDown = registerEditorCommand(new ColumnSelectDownCommand({\r\n        isPaged: true,\r\n        id: 'cursorColumnSelectPageDown',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 512 /* Alt */ | 12 /* PageDown */,\r\n            linux: { primary: 0 }\r\n        }\r\n    }));\r\n    var CursorMoveImpl = /** @class */ (function (_super) {\r\n        __extends(CursorMoveImpl, _super);\r\n        function CursorMoveImpl() {\r\n            return _super.call(this, {\r\n                id: 'cursorMove',\r\n                precondition: undefined,\r\n                description: CursorMove_.description\r\n            }) || this;\r\n        }\r\n        CursorMoveImpl.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var parsed = CursorMove_.parse(args);\r\n            if (!parsed) {\r\n                // illegal arguments\r\n                return;\r\n            }\r\n            this._runCursorMove(cursors, args.source, parsed);\r\n        };\r\n        CursorMoveImpl.prototype._runCursorMove = function (cursors, source, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(source, 3 /* Explicit */, CursorMoveCommands.move(cursors.context, cursors.getAll(), args));\r\n            cursors.reveal(source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return CursorMoveImpl;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorMoveImpl = CursorMoveImpl;\r\n    CoreNavigationCommands.CursorMove = registerEditorCommand(new CursorMoveImpl());\r\n    var CursorMoveBasedCommand = /** @class */ (function (_super) {\r\n        __extends(CursorMoveBasedCommand, _super);\r\n        function CursorMoveBasedCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._staticArgs = opts.args;\r\n            return _this;\r\n        }\r\n        CursorMoveBasedCommand.prototype.runCoreEditorCommand = function (cursors, dynamicArgs) {\r\n            var args = this._staticArgs;\r\n            if (this._staticArgs.value === -1 /* PAGE_SIZE_MARKER */) {\r\n                // -1 is a marker for page size\r\n                args = {\r\n                    direction: this._staticArgs.direction,\r\n                    unit: this._staticArgs.unit,\r\n                    select: this._staticArgs.select,\r\n                    value: cursors.context.config.pageSize\r\n                };\r\n            }\r\n            CoreNavigationCommands.CursorMove._runCursorMove(cursors, dynamicArgs.source, args);\r\n        };\r\n        return CursorMoveBasedCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorLeft = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 0 /* Left */,\r\n            unit: 0 /* None */,\r\n            select: false,\r\n            value: 1\r\n        },\r\n        id: 'cursorLeft',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 15 /* LeftArrow */,\r\n            mac: { primary: 15 /* LeftArrow */, secondary: [256 /* WinCtrl */ | 32 /* KEY_B */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorLeftSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 0 /* Left */,\r\n            unit: 0 /* None */,\r\n            select: true,\r\n            value: 1\r\n        },\r\n        id: 'cursorLeftSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 15 /* LeftArrow */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorRight = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 1 /* Right */,\r\n            unit: 0 /* None */,\r\n            select: false,\r\n            value: 1\r\n        },\r\n        id: 'cursorRight',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 17 /* RightArrow */,\r\n            mac: { primary: 17 /* RightArrow */, secondary: [256 /* WinCtrl */ | 36 /* KEY_F */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorRightSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 1 /* Right */,\r\n            unit: 0 /* None */,\r\n            select: true,\r\n            value: 1\r\n        },\r\n        id: 'cursorRightSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 17 /* RightArrow */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorUp = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 2 /* Up */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: false,\r\n            value: 1\r\n        },\r\n        id: 'cursorUp',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 16 /* UpArrow */,\r\n            mac: { primary: 16 /* UpArrow */, secondary: [256 /* WinCtrl */ | 46 /* KEY_P */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorUpSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 2 /* Up */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: true,\r\n            value: 1\r\n        },\r\n        id: 'cursorUpSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 16 /* UpArrow */,\r\n            secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */],\r\n            mac: { primary: 1024 /* Shift */ | 16 /* UpArrow */ },\r\n            linux: { primary: 1024 /* Shift */ | 16 /* UpArrow */ }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorPageUp = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 2 /* Up */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: false,\r\n            value: -1 /* PAGE_SIZE_MARKER */\r\n        },\r\n        id: 'cursorPageUp',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 11 /* PageUp */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorPageUpSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 2 /* Up */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: true,\r\n            value: -1 /* PAGE_SIZE_MARKER */\r\n        },\r\n        id: 'cursorPageUpSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 11 /* PageUp */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorDown = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 3 /* Down */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: false,\r\n            value: 1\r\n        },\r\n        id: 'cursorDown',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 18 /* DownArrow */,\r\n            mac: { primary: 18 /* DownArrow */, secondary: [256 /* WinCtrl */ | 44 /* KEY_N */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorDownSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 3 /* Down */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: true,\r\n            value: 1\r\n        },\r\n        id: 'cursorDownSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 18 /* DownArrow */,\r\n            secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */],\r\n            mac: { primary: 1024 /* Shift */ | 18 /* DownArrow */ },\r\n            linux: { primary: 1024 /* Shift */ | 18 /* DownArrow */ }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorPageDown = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 3 /* Down */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: false,\r\n            value: -1 /* PAGE_SIZE_MARKER */\r\n        },\r\n        id: 'cursorPageDown',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 12 /* PageDown */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorPageDownSelect = registerEditorCommand(new CursorMoveBasedCommand({\r\n        args: {\r\n            direction: 3 /* Down */,\r\n            unit: 2 /* WrappedLine */,\r\n            select: true,\r\n            value: -1 /* PAGE_SIZE_MARKER */\r\n        },\r\n        id: 'cursorPageDownSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 12 /* PageDown */\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CreateCursor = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_4, _super);\r\n        function class_4() {\r\n            return _super.call(this, {\r\n                id: 'createCursor',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_4.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var context = cursors.context;\r\n            var newState;\r\n            if (args.wholeLine) {\r\n                newState = CursorMoveCommands.line(context, cursors.getPrimaryCursor(), false, args.position, args.viewPosition);\r\n            }\r\n            else {\r\n                newState = CursorMoveCommands.moveTo(context, cursors.getPrimaryCursor(), false, args.position, args.viewPosition);\r\n            }\r\n            var states = cursors.getAll();\r\n            // Check if we should remove a cursor (sort of like a toggle)\r\n            if (states.length > 1) {\r\n                var newModelPosition = (newState.modelState ? newState.modelState.position : null);\r\n                var newViewPosition = (newState.viewState ? newState.viewState.position : null);\r\n                for (var i = 0, len = states.length; i < len; i++) {\r\n                    var state = states[i];\r\n                    if (newModelPosition && !state.modelState.selection.containsPosition(newModelPosition)) {\r\n                        continue;\r\n                    }\r\n                    if (newViewPosition && !state.viewState.selection.containsPosition(newViewPosition)) {\r\n                        continue;\r\n                    }\r\n                    // => Remove the cursor\r\n                    states.splice(i, 1);\r\n                    cursors.context.model.pushStackElement();\r\n                    cursors.setStates(args.source, 3 /* Explicit */, states);\r\n                    return;\r\n                }\r\n            }\r\n            // => Add the new cursor\r\n            states.push(newState);\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, states);\r\n        };\r\n        return class_4;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.LastCursorMoveToSelect = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_5, _super);\r\n        function class_5() {\r\n            return _super.call(this, {\r\n                id: '_lastCursorMoveToSelect',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_5.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var context = cursors.context;\r\n            var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\r\n            var states = cursors.getAll();\r\n            var newStates = states.slice(0);\r\n            newStates[lastAddedCursorIndex] = CursorMoveCommands.moveTo(context, states[lastAddedCursorIndex], true, args.position, args.viewPosition);\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, newStates);\r\n        };\r\n        return class_5;\r\n    }(CoreEditorCommand)));\r\n    var HomeCommand = /** @class */ (function (_super) {\r\n        __extends(HomeCommand, _super);\r\n        function HomeCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        HomeCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToBeginningOfLine(cursors.context, cursors.getAll(), this._inSelectionMode));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return HomeCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorHome = registerEditorCommand(new HomeCommand({\r\n        inSelectionMode: false,\r\n        id: 'cursorHome',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 14 /* Home */,\r\n            mac: { primary: 14 /* Home */, secondary: [2048 /* CtrlCmd */ | 15 /* LeftArrow */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorHomeSelect = registerEditorCommand(new HomeCommand({\r\n        inSelectionMode: true,\r\n        id: 'cursorHomeSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 14 /* Home */,\r\n            mac: { primary: 1024 /* Shift */ | 14 /* Home */, secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorLineStart = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_6, _super);\r\n        function class_6() {\r\n            return _super.call(this, {\r\n                id: 'cursorLineStart',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 0,\r\n                    mac: { primary: 256 /* WinCtrl */ | 31 /* KEY_A */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_6.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, this._exec(cursors.context, cursors.getAll()));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        class_6.prototype._exec = function (context, cursors) {\r\n            var result = [];\r\n            for (var i = 0, len = cursors.length; i < len; i++) {\r\n                var cursor = cursors[i];\r\n                var lineNumber = cursor.modelState.position.lineNumber;\r\n                result[i] = CursorState.fromModelState(cursor.modelState.move(false, lineNumber, 1, 0));\r\n            }\r\n            return result;\r\n        };\r\n        return class_6;\r\n    }(CoreEditorCommand)));\r\n    var EndCommand = /** @class */ (function (_super) {\r\n        __extends(EndCommand, _super);\r\n        function EndCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        EndCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToEndOfLine(cursors.context, cursors.getAll(), this._inSelectionMode));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return EndCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorEnd = registerEditorCommand(new EndCommand({\r\n        inSelectionMode: false,\r\n        id: 'cursorEnd',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 13 /* End */,\r\n            mac: { primary: 13 /* End */, secondary: [2048 /* CtrlCmd */ | 17 /* RightArrow */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorEndSelect = registerEditorCommand(new EndCommand({\r\n        inSelectionMode: true,\r\n        id: 'cursorEndSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 1024 /* Shift */ | 13 /* End */,\r\n            mac: { primary: 1024 /* Shift */ | 13 /* End */, secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */] }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorLineEnd = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_7, _super);\r\n        function class_7() {\r\n            return _super.call(this, {\r\n                id: 'cursorLineEnd',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 0,\r\n                    mac: { primary: 256 /* WinCtrl */ | 35 /* KEY_E */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_7.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, this._exec(cursors.context, cursors.getAll()));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        class_7.prototype._exec = function (context, cursors) {\r\n            var result = [];\r\n            for (var i = 0, len = cursors.length; i < len; i++) {\r\n                var cursor = cursors[i];\r\n                var lineNumber = cursor.modelState.position.lineNumber;\r\n                var maxColumn = context.model.getLineMaxColumn(lineNumber);\r\n                result[i] = CursorState.fromModelState(cursor.modelState.move(false, lineNumber, maxColumn, 0));\r\n            }\r\n            return result;\r\n        };\r\n        return class_7;\r\n    }(CoreEditorCommand)));\r\n    var TopCommand = /** @class */ (function (_super) {\r\n        __extends(TopCommand, _super);\r\n        function TopCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        TopCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToBeginningOfBuffer(cursors.context, cursors.getAll(), this._inSelectionMode));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return TopCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorTop = registerEditorCommand(new TopCommand({\r\n        inSelectionMode: false,\r\n        id: 'cursorTop',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 14 /* Home */,\r\n            mac: { primary: 2048 /* CtrlCmd */ | 16 /* UpArrow */ }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorTopSelect = registerEditorCommand(new TopCommand({\r\n        inSelectionMode: true,\r\n        id: 'cursorTopSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 14 /* Home */,\r\n            mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 16 /* UpArrow */ }\r\n        }\r\n    }));\r\n    var BottomCommand = /** @class */ (function (_super) {\r\n        __extends(BottomCommand, _super);\r\n        function BottomCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        BottomCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.moveToEndOfBuffer(cursors.context, cursors.getAll(), this._inSelectionMode));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return BottomCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.CursorBottom = registerEditorCommand(new BottomCommand({\r\n        inSelectionMode: false,\r\n        id: 'cursorBottom',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 13 /* End */,\r\n            mac: { primary: 2048 /* CtrlCmd */ | 18 /* DownArrow */ }\r\n        }\r\n    }));\r\n    CoreNavigationCommands.CursorBottomSelect = registerEditorCommand(new BottomCommand({\r\n        inSelectionMode: true,\r\n        id: 'cursorBottomSelect',\r\n        precondition: undefined,\r\n        kbOpts: {\r\n            weight: CORE_WEIGHT,\r\n            kbExpr: EditorContextKeys.textInputFocus,\r\n            primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 13 /* End */,\r\n            mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 18 /* DownArrow */ }\r\n        }\r\n    }));\r\n    var EditorScrollImpl = /** @class */ (function (_super) {\r\n        __extends(EditorScrollImpl, _super);\r\n        function EditorScrollImpl() {\r\n            return _super.call(this, {\r\n                id: 'editorScroll',\r\n                precondition: undefined,\r\n                description: EditorScroll_.description\r\n            }) || this;\r\n        }\r\n        EditorScrollImpl.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var parsed = EditorScroll_.parse(args);\r\n            if (!parsed) {\r\n                // illegal arguments\r\n                return;\r\n            }\r\n            this._runEditorScroll(cursors, args.source, parsed);\r\n        };\r\n        EditorScrollImpl.prototype._runEditorScroll = function (cursors, source, args) {\r\n            var desiredScrollTop = this._computeDesiredScrollTop(cursors.context, args);\r\n            if (args.revealCursor) {\r\n                // must ensure cursor is in new visible range\r\n                var desiredVisibleViewRange = cursors.context.getCompletelyVisibleViewRangeAtScrollTop(desiredScrollTop);\r\n                cursors.setStates(source, 3 /* Explicit */, [\r\n                    CursorMoveCommands.findPositionInViewportIfOutside(cursors.context, cursors.getPrimaryCursor(), desiredVisibleViewRange, args.select)\r\n                ]);\r\n            }\r\n            cursors.scrollTo(desiredScrollTop);\r\n        };\r\n        EditorScrollImpl.prototype._computeDesiredScrollTop = function (context, args) {\r\n            if (args.unit === 1 /* Line */) {\r\n                // scrolling by model lines\r\n                var visibleModelRange = context.getCompletelyVisibleModelRange();\r\n                var desiredTopModelLineNumber = void 0;\r\n                if (args.direction === 1 /* Up */) {\r\n                    // must go x model lines up\r\n                    desiredTopModelLineNumber = Math.max(1, visibleModelRange.startLineNumber - args.value);\r\n                }\r\n                else {\r\n                    // must go x model lines down\r\n                    desiredTopModelLineNumber = Math.min(context.model.getLineCount(), visibleModelRange.startLineNumber + args.value);\r\n                }\r\n                var desiredTopViewPosition = context.convertModelPositionToViewPosition(new Position(desiredTopModelLineNumber, 1));\r\n                return context.getVerticalOffsetForViewLine(desiredTopViewPosition.lineNumber);\r\n            }\r\n            var noOfLines;\r\n            if (args.unit === 3 /* Page */) {\r\n                noOfLines = context.config.pageSize * args.value;\r\n            }\r\n            else if (args.unit === 4 /* HalfPage */) {\r\n                noOfLines = Math.round(context.config.pageSize / 2) * args.value;\r\n            }\r\n            else {\r\n                noOfLines = args.value;\r\n            }\r\n            var deltaLines = (args.direction === 1 /* Up */ ? -1 : 1) * noOfLines;\r\n            return context.getCurrentScrollTop() + deltaLines * context.config.lineHeight;\r\n        };\r\n        return EditorScrollImpl;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.EditorScrollImpl = EditorScrollImpl;\r\n    CoreNavigationCommands.EditorScroll = registerEditorCommand(new EditorScrollImpl());\r\n    CoreNavigationCommands.ScrollLineUp = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_8, _super);\r\n        function class_8() {\r\n            return _super.call(this, {\r\n                id: 'scrollLineUp',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 16 /* UpArrow */,\r\n                    mac: { primary: 256 /* WinCtrl */ | 11 /* PageUp */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_8.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\r\n                direction: 1 /* Up */,\r\n                unit: 2 /* WrappedLine */,\r\n                value: 1,\r\n                revealCursor: false,\r\n                select: false\r\n            });\r\n        };\r\n        return class_8;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.ScrollPageUp = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_9, _super);\r\n        function class_9() {\r\n            return _super.call(this, {\r\n                id: 'scrollPageUp',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 11 /* PageUp */,\r\n                    win: { primary: 512 /* Alt */ | 11 /* PageUp */ },\r\n                    linux: { primary: 512 /* Alt */ | 11 /* PageUp */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_9.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\r\n                direction: 1 /* Up */,\r\n                unit: 3 /* Page */,\r\n                value: 1,\r\n                revealCursor: false,\r\n                select: false\r\n            });\r\n        };\r\n        return class_9;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.ScrollLineDown = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_10, _super);\r\n        function class_10() {\r\n            return _super.call(this, {\r\n                id: 'scrollLineDown',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 18 /* DownArrow */,\r\n                    mac: { primary: 256 /* WinCtrl */ | 12 /* PageDown */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_10.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\r\n                direction: 2 /* Down */,\r\n                unit: 2 /* WrappedLine */,\r\n                value: 1,\r\n                revealCursor: false,\r\n                select: false\r\n            });\r\n        };\r\n        return class_10;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.ScrollPageDown = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_11, _super);\r\n        function class_11() {\r\n            return _super.call(this, {\r\n                id: 'scrollPageDown',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 12 /* PageDown */,\r\n                    win: { primary: 512 /* Alt */ | 12 /* PageDown */ },\r\n                    linux: { primary: 512 /* Alt */ | 12 /* PageDown */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_11.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            CoreNavigationCommands.EditorScroll._runEditorScroll(cursors, args.source, {\r\n                direction: 2 /* Down */,\r\n                unit: 3 /* Page */,\r\n                value: 1,\r\n                revealCursor: false,\r\n                select: false\r\n            });\r\n        };\r\n        return class_11;\r\n    }(CoreEditorCommand)));\r\n    var WordCommand = /** @class */ (function (_super) {\r\n        __extends(WordCommand, _super);\r\n        function WordCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        WordCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorMoveCommands.word(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position)\r\n            ]);\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return WordCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.WordSelect = registerEditorCommand(new WordCommand({\r\n        inSelectionMode: false,\r\n        id: '_wordSelect',\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.WordSelectDrag = registerEditorCommand(new WordCommand({\r\n        inSelectionMode: true,\r\n        id: '_wordSelectDrag',\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.LastCursorWordSelect = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_12, _super);\r\n        function class_12() {\r\n            return _super.call(this, {\r\n                id: 'lastCursorWordSelect',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_12.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var context = cursors.context;\r\n            var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\r\n            var states = cursors.getAll();\r\n            var newStates = states.slice(0);\r\n            var lastAddedState = states[lastAddedCursorIndex];\r\n            newStates[lastAddedCursorIndex] = CursorMoveCommands.word(context, lastAddedState, lastAddedState.modelState.hasSelection(), args.position);\r\n            context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, newStates);\r\n        };\r\n        return class_12;\r\n    }(CoreEditorCommand)));\r\n    var LineCommand = /** @class */ (function (_super) {\r\n        __extends(LineCommand, _super);\r\n        function LineCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        LineCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorMoveCommands.line(cursors.context, cursors.getPrimaryCursor(), this._inSelectionMode, args.position, args.viewPosition)\r\n            ]);\r\n            cursors.reveal(args.source, false, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return LineCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.LineSelect = registerEditorCommand(new LineCommand({\r\n        inSelectionMode: false,\r\n        id: '_lineSelect',\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.LineSelectDrag = registerEditorCommand(new LineCommand({\r\n        inSelectionMode: true,\r\n        id: '_lineSelectDrag',\r\n        precondition: undefined\r\n    }));\r\n    var LastCursorLineCommand = /** @class */ (function (_super) {\r\n        __extends(LastCursorLineCommand, _super);\r\n        function LastCursorLineCommand(opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this._inSelectionMode = opts.inSelectionMode;\r\n            return _this;\r\n        }\r\n        LastCursorLineCommand.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var lastAddedCursorIndex = cursors.getLastAddedCursorIndex();\r\n            var states = cursors.getAll();\r\n            var newStates = states.slice(0);\r\n            newStates[lastAddedCursorIndex] = CursorMoveCommands.line(cursors.context, states[lastAddedCursorIndex], this._inSelectionMode, args.position, args.viewPosition);\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, newStates);\r\n        };\r\n        return LastCursorLineCommand;\r\n    }(CoreEditorCommand));\r\n    CoreNavigationCommands.LastCursorLineSelect = registerEditorCommand(new LastCursorLineCommand({\r\n        inSelectionMode: false,\r\n        id: 'lastCursorLineSelect',\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.LastCursorLineSelectDrag = registerEditorCommand(new LastCursorLineCommand({\r\n        inSelectionMode: true,\r\n        id: 'lastCursorLineSelectDrag',\r\n        precondition: undefined\r\n    }));\r\n    CoreNavigationCommands.ExpandLineSelection = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_13, _super);\r\n        function class_13() {\r\n            return _super.call(this, {\r\n                id: 'expandLineSelection',\r\n                precondition: undefined,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 42 /* KEY_L */\r\n                }\r\n            }) || this;\r\n        }\r\n        class_13.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, CursorMoveCommands.expandLineSelection(cursors.context, cursors.getAll()));\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return class_13;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.CancelSelection = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_14, _super);\r\n        function class_14() {\r\n            return _super.call(this, {\r\n                id: 'cancelSelection',\r\n                precondition: EditorContextKeys.hasNonEmptySelection,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 9 /* Escape */,\r\n                    secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n                }\r\n            }) || this;\r\n        }\r\n        class_14.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorMoveCommands.cancelSelection(cursors.context, cursors.getPrimaryCursor())\r\n            ]);\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return class_14;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.RemoveSecondaryCursors = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_15, _super);\r\n        function class_15() {\r\n            return _super.call(this, {\r\n                id: 'removeSecondaryCursors',\r\n                precondition: EditorContextKeys.hasMultipleSelections,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT + 1,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 9 /* Escape */,\r\n                    secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n                }\r\n            }) || this;\r\n        }\r\n        class_15.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                cursors.getPrimaryCursor()\r\n            ]);\r\n            cursors.reveal(args.source, true, 0 /* Primary */, 0 /* Smooth */);\r\n        };\r\n        return class_15;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.RevealLine = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_16, _super);\r\n        function class_16() {\r\n            return _super.call(this, {\r\n                id: 'revealLine',\r\n                precondition: undefined,\r\n                description: RevealLine_.description\r\n            }) || this;\r\n        }\r\n        class_16.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            var revealLineArg = args;\r\n            var lineNumber = (revealLineArg.lineNumber || 0) + 1;\r\n            if (lineNumber < 1) {\r\n                lineNumber = 1;\r\n            }\r\n            var lineCount = cursors.context.model.getLineCount();\r\n            if (lineNumber > lineCount) {\r\n                lineNumber = lineCount;\r\n            }\r\n            var range = new Range(lineNumber, 1, lineNumber, cursors.context.model.getLineMaxColumn(lineNumber));\r\n            var revealAt = 0 /* Simple */;\r\n            if (revealLineArg.at) {\r\n                switch (revealLineArg.at) {\r\n                    case RevealLine_.RawAtArgument.Top:\r\n                        revealAt = 3 /* Top */;\r\n                        break;\r\n                    case RevealLine_.RawAtArgument.Center:\r\n                        revealAt = 1 /* Center */;\r\n                        break;\r\n                    case RevealLine_.RawAtArgument.Bottom:\r\n                        revealAt = 4 /* Bottom */;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            var viewRange = cursors.context.convertModelRangeToViewRange(range);\r\n            cursors.revealRange(args.source, false, viewRange, revealAt, 0 /* Smooth */);\r\n        };\r\n        return class_16;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.SelectAll = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_17, _super);\r\n        function class_17() {\r\n            return _super.call(this, {\r\n                id: 'selectAll',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_17.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorMoveCommands.selectAll(cursors.context, cursors.getPrimaryCursor())\r\n            ]);\r\n        };\r\n        return class_17;\r\n    }(CoreEditorCommand)));\r\n    CoreNavigationCommands.SetSelection = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_18, _super);\r\n        function class_18() {\r\n            return _super.call(this, {\r\n                id: 'setSelection',\r\n                precondition: undefined\r\n            }) || this;\r\n        }\r\n        class_18.prototype.runCoreEditorCommand = function (cursors, args) {\r\n            cursors.context.model.pushStackElement();\r\n            cursors.setStates(args.source, 3 /* Explicit */, [\r\n                CursorState.fromModelSelection(args.selection)\r\n            ]);\r\n        };\r\n        return class_18;\r\n    }(CoreEditorCommand)));\r\n})(CoreNavigationCommands || (CoreNavigationCommands = {}));\r\nexport var CoreEditingCommands;\r\n(function (CoreEditingCommands) {\r\n    var CoreEditingCommand = /** @class */ (function (_super) {\r\n        __extends(CoreEditingCommand, _super);\r\n        function CoreEditingCommand() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        CoreEditingCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n            var cursors = editor._getCursors();\r\n            if (!cursors) {\r\n                // the editor has no view => has no cursors\r\n                return;\r\n            }\r\n            this.runCoreEditingCommand(editor, cursors, args || {});\r\n        };\r\n        return CoreEditingCommand;\r\n    }(EditorCommand));\r\n    CoreEditingCommands.CoreEditingCommand = CoreEditingCommand;\r\n    CoreEditingCommands.LineBreakInsert = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_19, _super);\r\n        function class_19() {\r\n            return _super.call(this, {\r\n                id: 'lineBreakInsert',\r\n                precondition: EditorContextKeys.writable,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 0,\r\n                    mac: { primary: 256 /* WinCtrl */ | 45 /* KEY_O */ }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_19.prototype.runCoreEditingCommand = function (editor, cursors, args) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, TypeOperations.lineBreakInsert(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) { return s.modelState.selection; })));\r\n        };\r\n        return class_19;\r\n    }(CoreEditingCommand)));\r\n    CoreEditingCommands.Outdent = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_20, _super);\r\n        function class_20() {\r\n            return _super.call(this, {\r\n                id: 'outdent',\r\n                precondition: EditorContextKeys.writable,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.tabDoesNotMoveFocus),\r\n                    primary: 1024 /* Shift */ | 2 /* Tab */\r\n                }\r\n            }) || this;\r\n        }\r\n        class_20.prototype.runCoreEditingCommand = function (editor, cursors, args) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, TypeOperations.outdent(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) { return s.modelState.selection; })));\r\n            editor.pushUndoStop();\r\n        };\r\n        return class_20;\r\n    }(CoreEditingCommand)));\r\n    CoreEditingCommands.Tab = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_21, _super);\r\n        function class_21() {\r\n            return _super.call(this, {\r\n                id: 'tab',\r\n                precondition: EditorContextKeys.writable,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, EditorContextKeys.tabDoesNotMoveFocus),\r\n                    primary: 2 /* Tab */\r\n                }\r\n            }) || this;\r\n        }\r\n        class_21.prototype.runCoreEditingCommand = function (editor, cursors, args) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, TypeOperations.tab(cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) { return s.modelState.selection; })));\r\n            editor.pushUndoStop();\r\n        };\r\n        return class_21;\r\n    }(CoreEditingCommand)));\r\n    CoreEditingCommands.DeleteLeft = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_22, _super);\r\n        function class_22() {\r\n            return _super.call(this, {\r\n                id: 'deleteLeft',\r\n                precondition: EditorContextKeys.writable,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 1 /* Backspace */,\r\n                    secondary: [1024 /* Shift */ | 1 /* Backspace */],\r\n                    mac: { primary: 1 /* Backspace */, secondary: [1024 /* Shift */ | 1 /* Backspace */, 256 /* WinCtrl */ | 38 /* KEY_H */, 256 /* WinCtrl */ | 1 /* Backspace */] }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_22.prototype.runCoreEditingCommand = function (editor, cursors, args) {\r\n            var _a = DeleteOperations.deleteLeft(cursors.getPrevEditOperationType(), cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) { return s.modelState.selection; })), shouldPushStackElementBefore = _a[0], commands = _a[1];\r\n            if (shouldPushStackElementBefore) {\r\n                editor.pushUndoStop();\r\n            }\r\n            editor.executeCommands(this.id, commands);\r\n            cursors.setPrevEditOperationType(2 /* DeletingLeft */);\r\n        };\r\n        return class_22;\r\n    }(CoreEditingCommand)));\r\n    CoreEditingCommands.DeleteRight = registerEditorCommand(new /** @class */ (function (_super) {\r\n        __extends(class_23, _super);\r\n        function class_23() {\r\n            return _super.call(this, {\r\n                id: 'deleteRight',\r\n                precondition: EditorContextKeys.writable,\r\n                kbOpts: {\r\n                    weight: CORE_WEIGHT,\r\n                    kbExpr: EditorContextKeys.textInputFocus,\r\n                    primary: 20 /* Delete */,\r\n                    mac: { primary: 20 /* Delete */, secondary: [256 /* WinCtrl */ | 34 /* KEY_D */, 256 /* WinCtrl */ | 20 /* Delete */] }\r\n                }\r\n            }) || this;\r\n        }\r\n        class_23.prototype.runCoreEditingCommand = function (editor, cursors, args) {\r\n            var _a = DeleteOperations.deleteRight(cursors.getPrevEditOperationType(), cursors.context.config, cursors.context.model, cursors.getAll().map(function (s) { return s.modelState.selection; })), shouldPushStackElementBefore = _a[0], commands = _a[1];\r\n            if (shouldPushStackElementBefore) {\r\n                editor.pushUndoStop();\r\n            }\r\n            editor.executeCommands(this.id, commands);\r\n            cursors.setPrevEditOperationType(3 /* DeletingRight */);\r\n        };\r\n        return class_23;\r\n    }(CoreEditingCommand)));\r\n})(CoreEditingCommands || (CoreEditingCommands = {}));\r\nfunction registerCommand(command) {\r\n    command.register();\r\n}\r\n/**\r\n * A command that will:\r\n *  1. invoke a command on the focused editor.\r\n *  2. otherwise, invoke a browser built-in command on the `activeElement`.\r\n *  3. otherwise, invoke a command on the workbench active editor.\r\n */\r\nvar EditorOrNativeTextInputCommand = /** @class */ (function (_super) {\r\n    __extends(EditorOrNativeTextInputCommand, _super);\r\n    function EditorOrNativeTextInputCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._editorHandler = opts.editorHandler;\r\n        _this._inputHandler = opts.inputHandler;\r\n        return _this;\r\n    }\r\n    EditorOrNativeTextInputCommand.prototype.runCommand = function (accessor, args) {\r\n        var focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n        // Only if editor text focus (i.e. not if editor has widget focus).\r\n        if (focusedEditor && focusedEditor.hasTextFocus()) {\r\n            return this._runEditorHandler(accessor, focusedEditor, args);\r\n        }\r\n        // Ignore this action when user is focused on an element that allows for entering text\r\n        var activeElement = document.activeElement;\r\n        if (activeElement && ['input', 'textarea'].indexOf(activeElement.tagName.toLowerCase()) >= 0) {\r\n            document.execCommand(this._inputHandler);\r\n            return;\r\n        }\r\n        // Redirecting to active editor\r\n        var activeEditor = accessor.get(ICodeEditorService).getActiveCodeEditor();\r\n        if (activeEditor) {\r\n            activeEditor.focus();\r\n            return this._runEditorHandler(accessor, activeEditor, args);\r\n        }\r\n    };\r\n    EditorOrNativeTextInputCommand.prototype._runEditorHandler = function (accessor, editor, args) {\r\n        var HANDLER = this._editorHandler;\r\n        if (typeof HANDLER === 'string') {\r\n            editor.trigger('keyboard', HANDLER, args);\r\n        }\r\n        else {\r\n            args = args || {};\r\n            args.source = 'keyboard';\r\n            HANDLER.runEditorCommand(accessor, editor, args);\r\n        }\r\n    };\r\n    return EditorOrNativeTextInputCommand;\r\n}(Command));\r\n/**\r\n * A command that will invoke a command on the focused editor.\r\n */\r\nvar EditorHandlerCommand = /** @class */ (function (_super) {\r\n    __extends(EditorHandlerCommand, _super);\r\n    function EditorHandlerCommand(id, handlerId, description) {\r\n        var _this = _super.call(this, {\r\n            id: id,\r\n            precondition: undefined,\r\n            description: description\r\n        }) || this;\r\n        _this._handlerId = handlerId;\r\n        return _this;\r\n    }\r\n    EditorHandlerCommand.prototype.runCommand = function (accessor, args) {\r\n        var editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\r\n        if (!editor) {\r\n            return;\r\n        }\r\n        editor.trigger('keyboard', this._handlerId, args);\r\n    };\r\n    return EditorHandlerCommand;\r\n}(Command));\r\nregisterCommand(new EditorOrNativeTextInputCommand({\r\n    editorHandler: CoreNavigationCommands.SelectAll,\r\n    inputHandler: 'selectAll',\r\n    id: 'editor.action.selectAll',\r\n    precondition: EditorContextKeys.textInputFocus,\r\n    kbOpts: {\r\n        weight: CORE_WEIGHT,\r\n        kbExpr: null,\r\n        primary: 2048 /* CtrlCmd */ | 31 /* KEY_A */\r\n    },\r\n    menuOpts: {\r\n        menuId: 25 /* MenubarSelectionMenu */,\r\n        group: '1_basic',\r\n        title: nls.localize({ key: 'miSelectAll', comment: ['&& denotes a mnemonic'] }, \"&&Select All\"),\r\n        order: 1\r\n    }\r\n}));\r\nregisterCommand(new EditorOrNativeTextInputCommand({\r\n    editorHandler: Handler.Undo,\r\n    inputHandler: 'undo',\r\n    id: Handler.Undo,\r\n    precondition: EditorContextKeys.writable,\r\n    kbOpts: {\r\n        weight: CORE_WEIGHT,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 56 /* KEY_Z */\r\n    },\r\n    menuOpts: {\r\n        menuId: 17 /* MenubarEditMenu */,\r\n        group: '1_do',\r\n        title: nls.localize({ key: 'miUndo', comment: ['&& denotes a mnemonic'] }, \"&&Undo\"),\r\n        order: 1\r\n    }\r\n}));\r\nregisterCommand(new EditorHandlerCommand('default:' + Handler.Undo, Handler.Undo));\r\nregisterCommand(new EditorOrNativeTextInputCommand({\r\n    editorHandler: Handler.Redo,\r\n    inputHandler: 'redo',\r\n    id: Handler.Redo,\r\n    precondition: EditorContextKeys.writable,\r\n    kbOpts: {\r\n        weight: CORE_WEIGHT,\r\n        kbExpr: EditorContextKeys.textInputFocus,\r\n        primary: 2048 /* CtrlCmd */ | 55 /* KEY_Y */,\r\n        secondary: [2048 /* CtrlCmd */ | 1024 /* Shift */ | 56 /* KEY_Z */],\r\n        mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 56 /* KEY_Z */ }\r\n    },\r\n    menuOpts: {\r\n        menuId: 17 /* MenubarEditMenu */,\r\n        group: '1_do',\r\n        title: nls.localize({ key: 'miRedo', comment: ['&& denotes a mnemonic'] }, \"&&Redo\"),\r\n        order: 2\r\n    }\r\n}));\r\nregisterCommand(new EditorHandlerCommand('default:' + Handler.Redo, Handler.Redo));\r\nfunction registerOverwritableCommand(handlerId, description) {\r\n    registerCommand(new EditorHandlerCommand('default:' + handlerId, handlerId));\r\n    registerCommand(new EditorHandlerCommand(handlerId, handlerId, description));\r\n}\r\nregisterOverwritableCommand(Handler.Type, {\r\n    description: \"Type\",\r\n    args: [{\r\n            name: 'args',\r\n            schema: {\r\n                'type': 'object',\r\n                'required': ['text'],\r\n                'properties': {\r\n                    'text': {\r\n                        'type': 'string'\r\n                    }\r\n                },\r\n            }\r\n        }]\r\n});\r\nregisterOverwritableCommand(Handler.ReplacePreviousChar);\r\nregisterOverwritableCommand(Handler.CompositionStart);\r\nregisterOverwritableCommand(Handler.CompositionEnd);\r\nregisterOverwritableCommand(Handler.Paste);\r\nregisterOverwritableCommand(Handler.Cut);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}