{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { mergeSort } from '../../../base/common/arrays.js';\nimport { stringDiff } from '../../../base/common/diff/diff.js';\nimport { FIN } from '../../../base/common/iterator.js';\nimport { globals } from '../../../base/common/platform.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { DiffComputer } from '../diff/diffComputer.js';\nimport { MirrorTextModel as BaseMirrorModel } from '../model/mirrorTextModel.js';\nimport { ensureValidWordDefinition, getWordAtText } from '../model/wordHelper.js';\nimport { computeLinks } from '../modes/linkComputer.js';\nimport { BasicInplaceReplace } from '../modes/supports/inplaceReplaceSupport.js';\nimport { createMonacoBaseAPI } from '../standalone/standaloneBase.js';\nimport * as types from '../../../base/common/types.js';\n/**\r\n * @internal\r\n */\nvar MirrorModel = /** @class */function (_super) {\n  __extends(MirrorModel, _super);\n  function MirrorModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(MirrorModel.prototype, \"uri\", {\n    get: function get() {\n      return this._uri;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MirrorModel.prototype, \"version\", {\n    get: function get() {\n      return this._versionId;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MirrorModel.prototype, \"eol\", {\n    get: function get() {\n      return this._eol;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MirrorModel.prototype.getValue = function () {\n    return this.getText();\n  };\n  MirrorModel.prototype.getLinesContent = function () {\n    return this._lines.slice(0);\n  };\n  MirrorModel.prototype.getLineCount = function () {\n    return this._lines.length;\n  };\n  MirrorModel.prototype.getLineContent = function (lineNumber) {\n    return this._lines[lineNumber - 1];\n  };\n  MirrorModel.prototype.getWordAtPosition = function (position, wordDefinition) {\n    var wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);\n    if (wordAtText) {\n      return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);\n    }\n    return null;\n  };\n  MirrorModel.prototype.createWordIterator = function (wordDefinition) {\n    var _this = this;\n    var obj;\n    var lineNumber = 0;\n    var lineText;\n    var wordRangesIdx = 0;\n    var wordRanges = [];\n    var next = function next() {\n      if (wordRangesIdx < wordRanges.length) {\n        var value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);\n        wordRangesIdx += 1;\n        if (!obj) {\n          obj = {\n            done: false,\n            value: value\n          };\n        } else {\n          obj.value = value;\n        }\n        return obj;\n      } else if (lineNumber >= _this._lines.length) {\n        return FIN;\n      } else {\n        lineText = _this._lines[lineNumber];\n        wordRanges = _this._wordenize(lineText, wordDefinition);\n        wordRangesIdx = 0;\n        lineNumber += 1;\n        return next();\n      }\n    };\n    return {\n      next: next\n    };\n  };\n  MirrorModel.prototype.getLineWords = function (lineNumber, wordDefinition) {\n    var content = this._lines[lineNumber - 1];\n    var ranges = this._wordenize(content, wordDefinition);\n    var words = [];\n    for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\n      var range = ranges_1[_i];\n      words.push({\n        word: content.substring(range.start, range.end),\n        startColumn: range.start + 1,\n        endColumn: range.end + 1\n      });\n    }\n    return words;\n  };\n  MirrorModel.prototype._wordenize = function (content, wordDefinition) {\n    var result = [];\n    var match;\n    wordDefinition.lastIndex = 0; // reset lastIndex just to be sure\n    while (match = wordDefinition.exec(content)) {\n      if (match[0].length === 0) {\n        // it did match the empty string\n        break;\n      }\n      result.push({\n        start: match.index,\n        end: match.index + match[0].length\n      });\n    }\n    return result;\n  };\n  MirrorModel.prototype.getValueInRange = function (range) {\n    range = this._validateRange(range);\n    if (range.startLineNumber === range.endLineNumber) {\n      return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);\n    }\n    var lineEnding = this._eol;\n    var startLineIndex = range.startLineNumber - 1;\n    var endLineIndex = range.endLineNumber - 1;\n    var resultLines = [];\n    resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));\n    for (var i = startLineIndex + 1; i < endLineIndex; i++) {\n      resultLines.push(this._lines[i]);\n    }\n    resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));\n    return resultLines.join(lineEnding);\n  };\n  MirrorModel.prototype.offsetAt = function (position) {\n    position = this._validatePosition(position);\n    this._ensureLineStarts();\n    return this._lineStarts.getAccumulatedValue(position.lineNumber - 2) + (position.column - 1);\n  };\n  MirrorModel.prototype.positionAt = function (offset) {\n    offset = Math.floor(offset);\n    offset = Math.max(0, offset);\n    this._ensureLineStarts();\n    var out = this._lineStarts.getIndexOf(offset);\n    var lineLength = this._lines[out.index].length;\n    // Ensure we return a valid position\n    return {\n      lineNumber: 1 + out.index,\n      column: 1 + Math.min(out.remainder, lineLength)\n    };\n  };\n  MirrorModel.prototype._validateRange = function (range) {\n    var start = this._validatePosition({\n      lineNumber: range.startLineNumber,\n      column: range.startColumn\n    });\n    var end = this._validatePosition({\n      lineNumber: range.endLineNumber,\n      column: range.endColumn\n    });\n    if (start.lineNumber !== range.startLineNumber || start.column !== range.startColumn || end.lineNumber !== range.endLineNumber || end.column !== range.endColumn) {\n      return {\n        startLineNumber: start.lineNumber,\n        startColumn: start.column,\n        endLineNumber: end.lineNumber,\n        endColumn: end.column\n      };\n    }\n    return range;\n  };\n  MirrorModel.prototype._validatePosition = function (position) {\n    if (!Position.isIPosition(position)) {\n      throw new Error('bad position');\n    }\n    var lineNumber = position.lineNumber,\n      column = position.column;\n    var hasChanged = false;\n    if (lineNumber < 1) {\n      lineNumber = 1;\n      column = 1;\n      hasChanged = true;\n    } else if (lineNumber > this._lines.length) {\n      lineNumber = this._lines.length;\n      column = this._lines[lineNumber - 1].length + 1;\n      hasChanged = true;\n    } else {\n      var maxCharacter = this._lines[lineNumber - 1].length + 1;\n      if (column < 1) {\n        column = 1;\n        hasChanged = true;\n      } else if (column > maxCharacter) {\n        column = maxCharacter;\n        hasChanged = true;\n      }\n    }\n    if (!hasChanged) {\n      return position;\n    } else {\n      return {\n        lineNumber: lineNumber,\n        column: column\n      };\n    }\n  };\n  return MirrorModel;\n}(BaseMirrorModel);\n/**\r\n * @internal\r\n */\nvar EditorSimpleWorker = /** @class */function () {\n  function EditorSimpleWorker(host, foreignModuleFactory) {\n    this._host = host;\n    this._models = Object.create(null);\n    this._foreignModuleFactory = foreignModuleFactory;\n    this._foreignModule = null;\n  }\n  EditorSimpleWorker.prototype.dispose = function () {\n    this._models = Object.create(null);\n  };\n  EditorSimpleWorker.prototype._getModel = function (uri) {\n    return this._models[uri];\n  };\n  EditorSimpleWorker.prototype._getModels = function () {\n    var _this = this;\n    var all = [];\n    Object.keys(this._models).forEach(function (key) {\n      return all.push(_this._models[key]);\n    });\n    return all;\n  };\n  EditorSimpleWorker.prototype.acceptNewModel = function (data) {\n    this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);\n  };\n  EditorSimpleWorker.prototype.acceptModelChanged = function (strURL, e) {\n    if (!this._models[strURL]) {\n      return;\n    }\n    var model = this._models[strURL];\n    model.onEvents(e);\n  };\n  EditorSimpleWorker.prototype.acceptRemovedModel = function (strURL) {\n    if (!this._models[strURL]) {\n      return;\n    }\n    delete this._models[strURL];\n  };\n  // ---- BEGIN diff --------------------------------------------------------------------------\n  EditorSimpleWorker.prototype.computeDiff = function (originalUrl, modifiedUrl, ignoreTrimWhitespace, maxComputationTime) {\n    return __awaiter(this, void 0, void 0, function () {\n      var original, modified, originalLines, modifiedLines, diffComputer, diffResult, identical;\n      return __generator(this, function (_a) {\n        original = this._getModel(originalUrl);\n        modified = this._getModel(modifiedUrl);\n        if (!original || !modified) {\n          return [2 /*return*/, null];\n        }\n        originalLines = original.getLinesContent();\n        modifiedLines = modified.getLinesContent();\n        diffComputer = new DiffComputer(originalLines, modifiedLines, {\n          shouldComputeCharChanges: true,\n          shouldPostProcessCharChanges: true,\n          shouldIgnoreTrimWhitespace: ignoreTrimWhitespace,\n          shouldMakePrettyDiff: true,\n          maxComputationTime: maxComputationTime\n        });\n        diffResult = diffComputer.computeDiff();\n        identical = diffResult.changes.length > 0 ? false : this._modelsAreIdentical(original, modified);\n        return [2 /*return*/, {\n          quitEarly: diffResult.quitEarly,\n          identical: identical,\n          changes: diffResult.changes\n        }];\n      });\n    });\n  };\n  EditorSimpleWorker.prototype._modelsAreIdentical = function (original, modified) {\n    var originalLineCount = original.getLineCount();\n    var modifiedLineCount = modified.getLineCount();\n    if (originalLineCount !== modifiedLineCount) {\n      return false;\n    }\n    for (var line = 1; line <= originalLineCount; line++) {\n      var originalLine = original.getLineContent(line);\n      var modifiedLine = modified.getLineContent(line);\n      if (originalLine !== modifiedLine) {\n        return false;\n      }\n    }\n    return true;\n  };\n  EditorSimpleWorker.prototype.computeMoreMinimalEdits = function (modelUrl, edits) {\n    return __awaiter(this, void 0, void 0, function () {\n      var model, result, lastEol, _i, edits_1, _a, range, text, eol, original, changes, editOffset, _b, changes_1, change, start, end, newEdit;\n      return __generator(this, function (_c) {\n        model = this._getModel(modelUrl);\n        if (!model) {\n          return [2 /*return*/, edits];\n        }\n        result = [];\n        lastEol = undefined;\n        edits = mergeSort(edits, function (a, b) {\n          if (a.range && b.range) {\n            return Range.compareRangesUsingStarts(a.range, b.range);\n          }\n          // eol only changes should go to the end\n          var aRng = a.range ? 0 : 1;\n          var bRng = b.range ? 0 : 1;\n          return aRng - bRng;\n        });\n        for (_i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\n          _a = edits_1[_i], range = _a.range, text = _a.text, eol = _a.eol;\n          if (typeof eol === 'number') {\n            lastEol = eol;\n          }\n          if (Range.isEmpty(range) && !text) {\n            // empty change\n            continue;\n          }\n          original = model.getValueInRange(range);\n          text = text.replace(/\\r\\n|\\n|\\r/g, model.eol);\n          if (original === text) {\n            // noop\n            continue;\n          }\n          // make sure diff won't take too long\n          if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {\n            result.push({\n              range: range,\n              text: text\n            });\n            continue;\n          }\n          changes = stringDiff(original, text, false);\n          editOffset = model.offsetAt(Range.lift(range).getStartPosition());\n          for (_b = 0, changes_1 = changes; _b < changes_1.length; _b++) {\n            change = changes_1[_b];\n            start = model.positionAt(editOffset + change.originalStart);\n            end = model.positionAt(editOffset + change.originalStart + change.originalLength);\n            newEdit = {\n              text: text.substr(change.modifiedStart, change.modifiedLength),\n              range: {\n                startLineNumber: start.lineNumber,\n                startColumn: start.column,\n                endLineNumber: end.lineNumber,\n                endColumn: end.column\n              }\n            };\n            if (model.getValueInRange(newEdit.range) !== newEdit.text) {\n              result.push(newEdit);\n            }\n          }\n        }\n        if (typeof lastEol === 'number') {\n          result.push({\n            eol: lastEol,\n            text: '',\n            range: {\n              startLineNumber: 0,\n              startColumn: 0,\n              endLineNumber: 0,\n              endColumn: 0\n            }\n          });\n        }\n        return [2 /*return*/, result];\n      });\n    });\n  };\n  // ---- END minimal edits ---------------------------------------------------------------\n  EditorSimpleWorker.prototype.computeLinks = function (modelUrl) {\n    return __awaiter(this, void 0, void 0, function () {\n      var model;\n      return __generator(this, function (_a) {\n        model = this._getModel(modelUrl);\n        if (!model) {\n          return [2 /*return*/, null];\n        }\n        return [2 /*return*/, computeLinks(model)];\n      });\n    });\n  };\n  EditorSimpleWorker.prototype.textualSuggest = function (modelUrl, position, wordDef, wordDefFlags) {\n    return __awaiter(this, void 0, void 0, function () {\n      var model, words, seen, wordDefRegExp, wordAt, iter, e, word;\n      return __generator(this, function (_a) {\n        model = this._getModel(modelUrl);\n        if (!model) {\n          return [2 /*return*/, null];\n        }\n        words = [];\n        seen = new Set();\n        wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n        wordAt = model.getWordAtPosition(position, wordDefRegExp);\n        if (wordAt) {\n          seen.add(model.getValueInRange(wordAt));\n        }\n        for (iter = model.createWordIterator(wordDefRegExp), e = iter.next(); !e.done && seen.size <= EditorSimpleWorker._suggestionsLimit; e = iter.next()) {\n          word = e.value;\n          if (seen.has(word)) {\n            continue;\n          }\n          seen.add(word);\n          if (!isNaN(Number(word))) {\n            continue;\n          }\n          words.push(word);\n        }\n        return [2 /*return*/, words];\n      });\n    });\n  };\n  // ---- END suggest --------------------------------------------------------------------------\n  //#region -- word ranges --\n  EditorSimpleWorker.prototype.computeWordRanges = function (modelUrl, range, wordDef, wordDefFlags) {\n    return __awaiter(this, void 0, void 0, function () {\n      var model, wordDefRegExp, result, line, words, _i, words_1, word, array;\n      return __generator(this, function (_a) {\n        model = this._getModel(modelUrl);\n        if (!model) {\n          return [2 /*return*/, Object.create(null)];\n        }\n        wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n        result = Object.create(null);\n        for (line = range.startLineNumber; line < range.endLineNumber; line++) {\n          words = model.getLineWords(line, wordDefRegExp);\n          for (_i = 0, words_1 = words; _i < words_1.length; _i++) {\n            word = words_1[_i];\n            if (!isNaN(Number(word.word))) {\n              continue;\n            }\n            array = result[word.word];\n            if (!array) {\n              array = [];\n              result[word.word] = array;\n            }\n            array.push({\n              startLineNumber: line,\n              startColumn: word.startColumn,\n              endLineNumber: line,\n              endColumn: word.endColumn\n            });\n          }\n        }\n        return [2 /*return*/, result];\n      });\n    });\n  };\n  //#endregion\n  EditorSimpleWorker.prototype.navigateValueSet = function (modelUrl, range, up, wordDef, wordDefFlags) {\n    return __awaiter(this, void 0, void 0, function () {\n      var model, wordDefRegExp, selectionText, wordRange, word, result;\n      return __generator(this, function (_a) {\n        model = this._getModel(modelUrl);\n        if (!model) {\n          return [2 /*return*/, null];\n        }\n        wordDefRegExp = new RegExp(wordDef, wordDefFlags);\n        if (range.startColumn === range.endColumn) {\n          range = {\n            startLineNumber: range.startLineNumber,\n            startColumn: range.startColumn,\n            endLineNumber: range.endLineNumber,\n            endColumn: range.endColumn + 1\n          };\n        }\n        selectionText = model.getValueInRange(range);\n        wordRange = model.getWordAtPosition({\n          lineNumber: range.startLineNumber,\n          column: range.startColumn\n        }, wordDefRegExp);\n        if (!wordRange) {\n          return [2 /*return*/, null];\n        }\n        word = model.getValueInRange(wordRange);\n        result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);\n        return [2 /*return*/, result];\n      });\n    });\n  };\n  // ---- BEGIN foreign module support --------------------------------------------------------------------------\n  EditorSimpleWorker.prototype.loadForeignModule = function (moduleId, createData, foreignHostMethods) {\n    var _this = this;\n    var proxyMethodRequest = function proxyMethodRequest(method, args) {\n      return _this._host.fhr(method, args);\n    };\n    var foreignHost = types.createProxyObject(foreignHostMethods, proxyMethodRequest);\n    var ctx = {\n      host: foreignHost,\n      getMirrorModels: function getMirrorModels() {\n        return _this._getModels();\n      }\n    };\n    if (this._foreignModuleFactory) {\n      this._foreignModule = this._foreignModuleFactory(ctx, createData);\n      // static foreing module\n      return Promise.resolve(types.getAllMethodNames(this._foreignModule));\n    }\n    // ESM-comment-begin\n    // \t\treturn new Promise<any>((resolve, reject) => {\n    // \t\t\trequire([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {\n    // \t\t\t\tthis._foreignModule = foreignModule.create(ctx, createData);\n    // \n    // \t\t\t\tresolve(types.getAllMethodNames(this._foreignModule));\n    // \n    // \t\t\t}, reject);\n    // \t\t});\n    // ESM-comment-end\n    // ESM-uncomment-begin\n    return Promise.reject(new Error(\"Unexpected usage\"));\n    // ESM-uncomment-end\n  };\n  // foreign method request\n  EditorSimpleWorker.prototype.fmr = function (method, args) {\n    if (!this._foreignModule || typeof this._foreignModule[method] !== 'function') {\n      return Promise.reject(new Error('Missing requestHandler or method: ' + method));\n    }\n    try {\n      return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  // ---- END diff --------------------------------------------------------------------------\n  // ---- BEGIN minimal edits ---------------------------------------------------------------\n  EditorSimpleWorker._diffLimit = 100000;\n  // ---- BEGIN suggest --------------------------------------------------------------------------\n  EditorSimpleWorker._suggestionsLimit = 10000;\n  return EditorSimpleWorker;\n}();\nexport { EditorSimpleWorker };\n/**\r\n * Called on the worker side\r\n * @internal\r\n */\nexport function create(host) {\n  return new EditorSimpleWorker(host, null);\n}\nif (typeof importScripts === 'function') {\n  // Running in a web worker\n  globals.monaco = createMonacoBaseAPI();\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","mergeSort","stringDiff","FIN","globals","URI","Position","Range","DiffComputer","MirrorTextModel","BaseMirrorModel","ensureValidWordDefinition","getWordAtText","computeLinks","BasicInplaceReplace","createMonacoBaseAPI","types","MirrorModel","_super","arguments","defineProperty","get","_uri","enumerable","configurable","_versionId","_eol","getValue","getText","getLinesContent","_lines","slice","getLineCount","getLineContent","lineNumber","getWordAtPosition","position","wordDefinition","wordAtText","column","startColumn","endColumn","createWordIterator","_this","obj","lineText","wordRangesIdx","wordRanges","substring","start","end","_wordenize","getLineWords","content","ranges","words","_i","ranges_1","range","word","match","lastIndex","exec","index","getValueInRange","_validateRange","startLineNumber","endLineNumber","lineEnding","startLineIndex","endLineIndex","resultLines","i","join","offsetAt","_validatePosition","_ensureLineStarts","_lineStarts","getAccumulatedValue","positionAt","offset","Math","floor","max","out","getIndexOf","lineLength","min","remainder","isIPosition","Error","hasChanged","maxCharacter","EditorSimpleWorker","host","foreignModuleFactory","_host","_models","_foreignModuleFactory","_foreignModule","dispose","_getModel","uri","_getModels","all","keys","forEach","key","acceptNewModel","data","url","parse","lines","EOL","versionId","acceptModelChanged","strURL","model","onEvents","acceptRemovedModel","computeDiff","originalUrl","modifiedUrl","ignoreTrimWhitespace","maxComputationTime","original","modified","originalLines","modifiedLines","diffComputer","diffResult","identical","_a","shouldComputeCharChanges","shouldPostProcessCharChanges","shouldIgnoreTrimWhitespace","shouldMakePrettyDiff","changes","_modelsAreIdentical","quitEarly","originalLineCount","modifiedLineCount","line","originalLine","modifiedLine","computeMoreMinimalEdits","modelUrl","edits","lastEol","edits_1","text","eol","editOffset","_b","changes_1","change","newEdit","_c","undefined","a","compareRangesUsingStarts","aRng","bRng","isEmpty","replace","_diffLimit","lift","getStartPosition","originalStart","originalLength","substr","modifiedStart","modifiedLength","textualSuggest","wordDef","wordDefFlags","seen","wordDefRegExp","wordAt","iter","Set","RegExp","add","size","_suggestionsLimit","has","isNaN","Number","computeWordRanges","words_1","array","navigateValueSet","up","selectionText","wordRange","INSTANCE","loadForeignModule","moduleId","createData","foreignHostMethods","proxyMethodRequest","method","args","fhr","foreignHost","createProxyObject","ctx","getMirrorModels","getAllMethodNames","fmr","importScripts","monaco"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { mergeSort } from '../../../base/common/arrays.js';\r\nimport { stringDiff } from '../../../base/common/diff/diff.js';\r\nimport { FIN } from '../../../base/common/iterator.js';\r\nimport { globals } from '../../../base/common/platform.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { Position } from '../core/position.js';\r\nimport { Range } from '../core/range.js';\r\nimport { DiffComputer } from '../diff/diffComputer.js';\r\nimport { MirrorTextModel as BaseMirrorModel } from '../model/mirrorTextModel.js';\r\nimport { ensureValidWordDefinition, getWordAtText } from '../model/wordHelper.js';\r\nimport { computeLinks } from '../modes/linkComputer.js';\r\nimport { BasicInplaceReplace } from '../modes/supports/inplaceReplaceSupport.js';\r\nimport { createMonacoBaseAPI } from '../standalone/standaloneBase.js';\r\nimport * as types from '../../../base/common/types.js';\r\n/**\r\n * @internal\r\n */\r\nvar MirrorModel = /** @class */ (function (_super) {\r\n    __extends(MirrorModel, _super);\r\n    function MirrorModel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(MirrorModel.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MirrorModel.prototype, \"version\", {\r\n        get: function () {\r\n            return this._versionId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MirrorModel.prototype, \"eol\", {\r\n        get: function () {\r\n            return this._eol;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MirrorModel.prototype.getValue = function () {\r\n        return this.getText();\r\n    };\r\n    MirrorModel.prototype.getLinesContent = function () {\r\n        return this._lines.slice(0);\r\n    };\r\n    MirrorModel.prototype.getLineCount = function () {\r\n        return this._lines.length;\r\n    };\r\n    MirrorModel.prototype.getLineContent = function (lineNumber) {\r\n        return this._lines[lineNumber - 1];\r\n    };\r\n    MirrorModel.prototype.getWordAtPosition = function (position, wordDefinition) {\r\n        var wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);\r\n        if (wordAtText) {\r\n            return new Range(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);\r\n        }\r\n        return null;\r\n    };\r\n    MirrorModel.prototype.createWordIterator = function (wordDefinition) {\r\n        var _this = this;\r\n        var obj;\r\n        var lineNumber = 0;\r\n        var lineText;\r\n        var wordRangesIdx = 0;\r\n        var wordRanges = [];\r\n        var next = function () {\r\n            if (wordRangesIdx < wordRanges.length) {\r\n                var value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);\r\n                wordRangesIdx += 1;\r\n                if (!obj) {\r\n                    obj = { done: false, value: value };\r\n                }\r\n                else {\r\n                    obj.value = value;\r\n                }\r\n                return obj;\r\n            }\r\n            else if (lineNumber >= _this._lines.length) {\r\n                return FIN;\r\n            }\r\n            else {\r\n                lineText = _this._lines[lineNumber];\r\n                wordRanges = _this._wordenize(lineText, wordDefinition);\r\n                wordRangesIdx = 0;\r\n                lineNumber += 1;\r\n                return next();\r\n            }\r\n        };\r\n        return { next: next };\r\n    };\r\n    MirrorModel.prototype.getLineWords = function (lineNumber, wordDefinition) {\r\n        var content = this._lines[lineNumber - 1];\r\n        var ranges = this._wordenize(content, wordDefinition);\r\n        var words = [];\r\n        for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\r\n            var range = ranges_1[_i];\r\n            words.push({\r\n                word: content.substring(range.start, range.end),\r\n                startColumn: range.start + 1,\r\n                endColumn: range.end + 1\r\n            });\r\n        }\r\n        return words;\r\n    };\r\n    MirrorModel.prototype._wordenize = function (content, wordDefinition) {\r\n        var result = [];\r\n        var match;\r\n        wordDefinition.lastIndex = 0; // reset lastIndex just to be sure\r\n        while (match = wordDefinition.exec(content)) {\r\n            if (match[0].length === 0) {\r\n                // it did match the empty string\r\n                break;\r\n            }\r\n            result.push({ start: match.index, end: match.index + match[0].length });\r\n        }\r\n        return result;\r\n    };\r\n    MirrorModel.prototype.getValueInRange = function (range) {\r\n        range = this._validateRange(range);\r\n        if (range.startLineNumber === range.endLineNumber) {\r\n            return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);\r\n        }\r\n        var lineEnding = this._eol;\r\n        var startLineIndex = range.startLineNumber - 1;\r\n        var endLineIndex = range.endLineNumber - 1;\r\n        var resultLines = [];\r\n        resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));\r\n        for (var i = startLineIndex + 1; i < endLineIndex; i++) {\r\n            resultLines.push(this._lines[i]);\r\n        }\r\n        resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));\r\n        return resultLines.join(lineEnding);\r\n    };\r\n    MirrorModel.prototype.offsetAt = function (position) {\r\n        position = this._validatePosition(position);\r\n        this._ensureLineStarts();\r\n        return this._lineStarts.getAccumulatedValue(position.lineNumber - 2) + (position.column - 1);\r\n    };\r\n    MirrorModel.prototype.positionAt = function (offset) {\r\n        offset = Math.floor(offset);\r\n        offset = Math.max(0, offset);\r\n        this._ensureLineStarts();\r\n        var out = this._lineStarts.getIndexOf(offset);\r\n        var lineLength = this._lines[out.index].length;\r\n        // Ensure we return a valid position\r\n        return {\r\n            lineNumber: 1 + out.index,\r\n            column: 1 + Math.min(out.remainder, lineLength)\r\n        };\r\n    };\r\n    MirrorModel.prototype._validateRange = function (range) {\r\n        var start = this._validatePosition({ lineNumber: range.startLineNumber, column: range.startColumn });\r\n        var end = this._validatePosition({ lineNumber: range.endLineNumber, column: range.endColumn });\r\n        if (start.lineNumber !== range.startLineNumber\r\n            || start.column !== range.startColumn\r\n            || end.lineNumber !== range.endLineNumber\r\n            || end.column !== range.endColumn) {\r\n            return {\r\n                startLineNumber: start.lineNumber,\r\n                startColumn: start.column,\r\n                endLineNumber: end.lineNumber,\r\n                endColumn: end.column\r\n            };\r\n        }\r\n        return range;\r\n    };\r\n    MirrorModel.prototype._validatePosition = function (position) {\r\n        if (!Position.isIPosition(position)) {\r\n            throw new Error('bad position');\r\n        }\r\n        var lineNumber = position.lineNumber, column = position.column;\r\n        var hasChanged = false;\r\n        if (lineNumber < 1) {\r\n            lineNumber = 1;\r\n            column = 1;\r\n            hasChanged = true;\r\n        }\r\n        else if (lineNumber > this._lines.length) {\r\n            lineNumber = this._lines.length;\r\n            column = this._lines[lineNumber - 1].length + 1;\r\n            hasChanged = true;\r\n        }\r\n        else {\r\n            var maxCharacter = this._lines[lineNumber - 1].length + 1;\r\n            if (column < 1) {\r\n                column = 1;\r\n                hasChanged = true;\r\n            }\r\n            else if (column > maxCharacter) {\r\n                column = maxCharacter;\r\n                hasChanged = true;\r\n            }\r\n        }\r\n        if (!hasChanged) {\r\n            return position;\r\n        }\r\n        else {\r\n            return { lineNumber: lineNumber, column: column };\r\n        }\r\n    };\r\n    return MirrorModel;\r\n}(BaseMirrorModel));\r\n/**\r\n * @internal\r\n */\r\nvar EditorSimpleWorker = /** @class */ (function () {\r\n    function EditorSimpleWorker(host, foreignModuleFactory) {\r\n        this._host = host;\r\n        this._models = Object.create(null);\r\n        this._foreignModuleFactory = foreignModuleFactory;\r\n        this._foreignModule = null;\r\n    }\r\n    EditorSimpleWorker.prototype.dispose = function () {\r\n        this._models = Object.create(null);\r\n    };\r\n    EditorSimpleWorker.prototype._getModel = function (uri) {\r\n        return this._models[uri];\r\n    };\r\n    EditorSimpleWorker.prototype._getModels = function () {\r\n        var _this = this;\r\n        var all = [];\r\n        Object.keys(this._models).forEach(function (key) { return all.push(_this._models[key]); });\r\n        return all;\r\n    };\r\n    EditorSimpleWorker.prototype.acceptNewModel = function (data) {\r\n        this._models[data.url] = new MirrorModel(URI.parse(data.url), data.lines, data.EOL, data.versionId);\r\n    };\r\n    EditorSimpleWorker.prototype.acceptModelChanged = function (strURL, e) {\r\n        if (!this._models[strURL]) {\r\n            return;\r\n        }\r\n        var model = this._models[strURL];\r\n        model.onEvents(e);\r\n    };\r\n    EditorSimpleWorker.prototype.acceptRemovedModel = function (strURL) {\r\n        if (!this._models[strURL]) {\r\n            return;\r\n        }\r\n        delete this._models[strURL];\r\n    };\r\n    // ---- BEGIN diff --------------------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.computeDiff = function (originalUrl, modifiedUrl, ignoreTrimWhitespace, maxComputationTime) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var original, modified, originalLines, modifiedLines, diffComputer, diffResult, identical;\r\n            return __generator(this, function (_a) {\r\n                original = this._getModel(originalUrl);\r\n                modified = this._getModel(modifiedUrl);\r\n                if (!original || !modified) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                originalLines = original.getLinesContent();\r\n                modifiedLines = modified.getLinesContent();\r\n                diffComputer = new DiffComputer(originalLines, modifiedLines, {\r\n                    shouldComputeCharChanges: true,\r\n                    shouldPostProcessCharChanges: true,\r\n                    shouldIgnoreTrimWhitespace: ignoreTrimWhitespace,\r\n                    shouldMakePrettyDiff: true,\r\n                    maxComputationTime: maxComputationTime\r\n                });\r\n                diffResult = diffComputer.computeDiff();\r\n                identical = (diffResult.changes.length > 0 ? false : this._modelsAreIdentical(original, modified));\r\n                return [2 /*return*/, {\r\n                        quitEarly: diffResult.quitEarly,\r\n                        identical: identical,\r\n                        changes: diffResult.changes\r\n                    }];\r\n            });\r\n        });\r\n    };\r\n    EditorSimpleWorker.prototype._modelsAreIdentical = function (original, modified) {\r\n        var originalLineCount = original.getLineCount();\r\n        var modifiedLineCount = modified.getLineCount();\r\n        if (originalLineCount !== modifiedLineCount) {\r\n            return false;\r\n        }\r\n        for (var line = 1; line <= originalLineCount; line++) {\r\n            var originalLine = original.getLineContent(line);\r\n            var modifiedLine = modified.getLineContent(line);\r\n            if (originalLine !== modifiedLine) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    EditorSimpleWorker.prototype.computeMoreMinimalEdits = function (modelUrl, edits) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, result, lastEol, _i, edits_1, _a, range, text, eol, original, changes, editOffset, _b, changes_1, change, start, end, newEdit;\r\n            return __generator(this, function (_c) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, edits];\r\n                }\r\n                result = [];\r\n                lastEol = undefined;\r\n                edits = mergeSort(edits, function (a, b) {\r\n                    if (a.range && b.range) {\r\n                        return Range.compareRangesUsingStarts(a.range, b.range);\r\n                    }\r\n                    // eol only changes should go to the end\r\n                    var aRng = a.range ? 0 : 1;\r\n                    var bRng = b.range ? 0 : 1;\r\n                    return aRng - bRng;\r\n                });\r\n                for (_i = 0, edits_1 = edits; _i < edits_1.length; _i++) {\r\n                    _a = edits_1[_i], range = _a.range, text = _a.text, eol = _a.eol;\r\n                    if (typeof eol === 'number') {\r\n                        lastEol = eol;\r\n                    }\r\n                    if (Range.isEmpty(range) && !text) {\r\n                        // empty change\r\n                        continue;\r\n                    }\r\n                    original = model.getValueInRange(range);\r\n                    text = text.replace(/\\r\\n|\\n|\\r/g, model.eol);\r\n                    if (original === text) {\r\n                        // noop\r\n                        continue;\r\n                    }\r\n                    // make sure diff won't take too long\r\n                    if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {\r\n                        result.push({ range: range, text: text });\r\n                        continue;\r\n                    }\r\n                    changes = stringDiff(original, text, false);\r\n                    editOffset = model.offsetAt(Range.lift(range).getStartPosition());\r\n                    for (_b = 0, changes_1 = changes; _b < changes_1.length; _b++) {\r\n                        change = changes_1[_b];\r\n                        start = model.positionAt(editOffset + change.originalStart);\r\n                        end = model.positionAt(editOffset + change.originalStart + change.originalLength);\r\n                        newEdit = {\r\n                            text: text.substr(change.modifiedStart, change.modifiedLength),\r\n                            range: { startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column }\r\n                        };\r\n                        if (model.getValueInRange(newEdit.range) !== newEdit.text) {\r\n                            result.push(newEdit);\r\n                        }\r\n                    }\r\n                }\r\n                if (typeof lastEol === 'number') {\r\n                    result.push({ eol: lastEol, text: '', range: { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 } });\r\n                }\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    // ---- END minimal edits ---------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.computeLinks = function (modelUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                return [2 /*return*/, computeLinks(model)];\r\n            });\r\n        });\r\n    };\r\n    EditorSimpleWorker.prototype.textualSuggest = function (modelUrl, position, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, words, seen, wordDefRegExp, wordAt, iter, e, word;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                words = [];\r\n                seen = new Set();\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                wordAt = model.getWordAtPosition(position, wordDefRegExp);\r\n                if (wordAt) {\r\n                    seen.add(model.getValueInRange(wordAt));\r\n                }\r\n                for (iter = model.createWordIterator(wordDefRegExp), e = iter.next(); !e.done && seen.size <= EditorSimpleWorker._suggestionsLimit; e = iter.next()) {\r\n                    word = e.value;\r\n                    if (seen.has(word)) {\r\n                        continue;\r\n                    }\r\n                    seen.add(word);\r\n                    if (!isNaN(Number(word))) {\r\n                        continue;\r\n                    }\r\n                    words.push(word);\r\n                }\r\n                return [2 /*return*/, words];\r\n            });\r\n        });\r\n    };\r\n    // ---- END suggest --------------------------------------------------------------------------\r\n    //#region -- word ranges --\r\n    EditorSimpleWorker.prototype.computeWordRanges = function (modelUrl, range, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, wordDefRegExp, result, line, words, _i, words_1, word, array;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, Object.create(null)];\r\n                }\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                result = Object.create(null);\r\n                for (line = range.startLineNumber; line < range.endLineNumber; line++) {\r\n                    words = model.getLineWords(line, wordDefRegExp);\r\n                    for (_i = 0, words_1 = words; _i < words_1.length; _i++) {\r\n                        word = words_1[_i];\r\n                        if (!isNaN(Number(word.word))) {\r\n                            continue;\r\n                        }\r\n                        array = result[word.word];\r\n                        if (!array) {\r\n                            array = [];\r\n                            result[word.word] = array;\r\n                        }\r\n                        array.push({\r\n                            startLineNumber: line,\r\n                            startColumn: word.startColumn,\r\n                            endLineNumber: line,\r\n                            endColumn: word.endColumn\r\n                        });\r\n                    }\r\n                }\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    //#endregion\r\n    EditorSimpleWorker.prototype.navigateValueSet = function (modelUrl, range, up, wordDef, wordDefFlags) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var model, wordDefRegExp, selectionText, wordRange, word, result;\r\n            return __generator(this, function (_a) {\r\n                model = this._getModel(modelUrl);\r\n                if (!model) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                wordDefRegExp = new RegExp(wordDef, wordDefFlags);\r\n                if (range.startColumn === range.endColumn) {\r\n                    range = {\r\n                        startLineNumber: range.startLineNumber,\r\n                        startColumn: range.startColumn,\r\n                        endLineNumber: range.endLineNumber,\r\n                        endColumn: range.endColumn + 1\r\n                    };\r\n                }\r\n                selectionText = model.getValueInRange(range);\r\n                wordRange = model.getWordAtPosition({ lineNumber: range.startLineNumber, column: range.startColumn }, wordDefRegExp);\r\n                if (!wordRange) {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                word = model.getValueInRange(wordRange);\r\n                result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);\r\n                return [2 /*return*/, result];\r\n            });\r\n        });\r\n    };\r\n    // ---- BEGIN foreign module support --------------------------------------------------------------------------\r\n    EditorSimpleWorker.prototype.loadForeignModule = function (moduleId, createData, foreignHostMethods) {\r\n        var _this = this;\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._host.fhr(method, args);\r\n        };\r\n        var foreignHost = types.createProxyObject(foreignHostMethods, proxyMethodRequest);\r\n        var ctx = {\r\n            host: foreignHost,\r\n            getMirrorModels: function () {\r\n                return _this._getModels();\r\n            }\r\n        };\r\n        if (this._foreignModuleFactory) {\r\n            this._foreignModule = this._foreignModuleFactory(ctx, createData);\r\n            // static foreing module\r\n            return Promise.resolve(types.getAllMethodNames(this._foreignModule));\r\n        }\r\n        // ESM-comment-begin\r\n        // \t\treturn new Promise<any>((resolve, reject) => {\r\n        // \t\t\trequire([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {\r\n        // \t\t\t\tthis._foreignModule = foreignModule.create(ctx, createData);\r\n        // \r\n        // \t\t\t\tresolve(types.getAllMethodNames(this._foreignModule));\r\n        // \r\n        // \t\t\t}, reject);\r\n        // \t\t});\r\n        // ESM-comment-end\r\n        // ESM-uncomment-begin\r\n        return Promise.reject(new Error(\"Unexpected usage\"));\r\n        // ESM-uncomment-end\r\n    };\r\n    // foreign method request\r\n    EditorSimpleWorker.prototype.fmr = function (method, args) {\r\n        if (!this._foreignModule || typeof this._foreignModule[method] !== 'function') {\r\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\r\n        }\r\n        try {\r\n            return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    };\r\n    // ---- END diff --------------------------------------------------------------------------\r\n    // ---- BEGIN minimal edits ---------------------------------------------------------------\r\n    EditorSimpleWorker._diffLimit = 100000;\r\n    // ---- BEGIN suggest --------------------------------------------------------------------------\r\n    EditorSimpleWorker._suggestionsLimit = 10000;\r\n    return EditorSimpleWorker;\r\n}());\r\nexport { EditorSimpleWorker };\r\n/**\r\n * Called on the worker side\r\n * @internal\r\n */\r\nexport function create(host) {\r\n    return new EditorSimpleWorker(host, null);\r\n}\r\nif (typeof importScripts === 'function') {\r\n    // Running in a web worker\r\n    globals.monaco = createMonacoBaseAPI();\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}