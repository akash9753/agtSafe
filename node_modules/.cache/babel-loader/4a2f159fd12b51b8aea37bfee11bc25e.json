{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createScanner } from '../parser/htmlScanner.js';\nimport { MarkupKind } from './../_deps/vscode-languageserver-types/main.js';\nimport { TokenType } from '../htmlLanguageTypes.js';\nimport { getAllDataProviders } from '../languageFacts/builtinDataProviders.js';\nimport { isDefined } from '../utils/object.js';\nimport { generateDocumentation } from '../languageFacts/dataProvider.js';\nvar HTMLHover = /** @class */function () {\n  function HTMLHover(clientCapabilities) {\n    this.clientCapabilities = clientCapabilities;\n  }\n  HTMLHover.prototype.doHover = function (document, position, htmlDocument) {\n    var convertContents = this.convertContents.bind(this);\n    var doesSupportMarkdown = this.doesSupportMarkdown();\n    var offset = document.offsetAt(position);\n    var node = htmlDocument.findNodeAt(offset);\n    if (!node || !node.tag) {\n      return null;\n    }\n    var dataProviders = getAllDataProviders().filter(function (p) {\n      return p.isApplicable(document.languageId);\n    });\n    function getTagHover(currTag, range, open) {\n      currTag = currTag.toLowerCase();\n      var _loop_1 = function _loop_1(provider) {\n        var hover = null;\n        provider.provideTags().forEach(function (tag) {\n          if (tag.name.toLowerCase() === currTag.toLowerCase()) {\n            var tagLabel = open ? '<' + currTag + '>' : '</' + currTag + '>';\n            var markupContent = generateDocumentation(tag, doesSupportMarkdown);\n            markupContent.value = '```html\\n' + tagLabel + '\\n```\\n' + markupContent.value;\n            hover = {\n              contents: markupContent,\n              range: range\n            };\n          }\n        });\n        if (hover) {\n          hover.contents = convertContents(hover.contents);\n          return {\n            value: hover\n          };\n        }\n      };\n      for (var _i = 0, dataProviders_1 = dataProviders; _i < dataProviders_1.length; _i++) {\n        var provider = dataProviders_1[_i];\n        var state_1 = _loop_1(provider);\n        if (typeof state_1 === \"object\") return state_1.value;\n      }\n      return null;\n    }\n    function getAttrHover(currTag, currAttr, range) {\n      currTag = currTag.toLowerCase();\n      var _loop_2 = function _loop_2(provider) {\n        var hover = null;\n        provider.provideAttributes(currTag).forEach(function (attr) {\n          if (currAttr === attr.name && attr.description) {\n            hover = {\n              contents: generateDocumentation(attr, doesSupportMarkdown),\n              range: range\n            };\n          }\n        });\n        if (hover) {\n          hover.contents = convertContents(hover.contents);\n          return {\n            value: hover\n          };\n        }\n      };\n      for (var _i = 0, dataProviders_2 = dataProviders; _i < dataProviders_2.length; _i++) {\n        var provider = dataProviders_2[_i];\n        var state_2 = _loop_2(provider);\n        if (typeof state_2 === \"object\") return state_2.value;\n      }\n      return null;\n    }\n    function getAttrValueHover(currTag, currAttr, currAttrValue, range) {\n      currTag = currTag.toLowerCase();\n      var _loop_3 = function _loop_3(provider) {\n        var hover = null;\n        provider.provideValues(currTag, currAttr).forEach(function (attrValue) {\n          if (currAttrValue === attrValue.name && attrValue.description) {\n            hover = {\n              contents: generateDocumentation(attrValue, doesSupportMarkdown),\n              range: range\n            };\n          }\n        });\n        if (hover) {\n          hover.contents = convertContents(hover.contents);\n          return {\n            value: hover\n          };\n        }\n      };\n      for (var _i = 0, dataProviders_3 = dataProviders; _i < dataProviders_3.length; _i++) {\n        var provider = dataProviders_3[_i];\n        var state_3 = _loop_3(provider);\n        if (typeof state_3 === \"object\") return state_3.value;\n      }\n      return null;\n    }\n    function getTagNameRange(tokenType, startOffset) {\n      var scanner = createScanner(document.getText(), startOffset);\n      var token = scanner.scan();\n      while (token !== TokenType.EOS && (scanner.getTokenEnd() < offset || scanner.getTokenEnd() === offset && token !== tokenType)) {\n        token = scanner.scan();\n      }\n      if (token === tokenType && offset <= scanner.getTokenEnd()) {\n        return {\n          start: document.positionAt(scanner.getTokenOffset()),\n          end: document.positionAt(scanner.getTokenEnd())\n        };\n      }\n      return null;\n    }\n    if (node.endTagStart && offset >= node.endTagStart) {\n      var tagRange_1 = getTagNameRange(TokenType.EndTag, node.endTagStart);\n      if (tagRange_1) {\n        return getTagHover(node.tag, tagRange_1, false);\n      }\n      return null;\n    }\n    var tagRange = getTagNameRange(TokenType.StartTag, node.start);\n    if (tagRange) {\n      return getTagHover(node.tag, tagRange, true);\n    }\n    var attrRange = getTagNameRange(TokenType.AttributeName, node.start);\n    if (attrRange) {\n      var tag = node.tag;\n      var attr = document.getText(attrRange);\n      return getAttrHover(tag, attr, attrRange);\n    }\n    function scanAttrAndAttrValue(nodeStart, attrValueStart) {\n      var scanner = createScanner(document.getText(), nodeStart);\n      var token = scanner.scan();\n      var prevAttr = undefined;\n      while (token !== TokenType.EOS && scanner.getTokenEnd() <= attrValueStart) {\n        token = scanner.scan();\n        if (token === TokenType.AttributeName) {\n          prevAttr = scanner.getTokenText();\n        }\n      }\n      return prevAttr;\n    }\n    var attrValueRange = getTagNameRange(TokenType.AttributeValue, node.start);\n    if (attrValueRange) {\n      var tag = node.tag;\n      var attrValue = trimQuotes(document.getText(attrValueRange));\n      var matchAttr = scanAttrAndAttrValue(node.start, document.offsetAt(attrValueRange.start));\n      if (matchAttr) {\n        return getAttrValueHover(tag, matchAttr, attrValue, attrValueRange);\n      }\n    }\n    return null;\n  };\n  HTMLHover.prototype.convertContents = function (contents) {\n    if (!this.doesSupportMarkdown()) {\n      if (typeof contents === 'string') {\n        return contents;\n      }\n      // MarkupContent\n      else if ('kind' in contents) {\n        return {\n          kind: 'plaintext',\n          value: contents.value\n        };\n      }\n      // MarkedString[]\n      else if (Array.isArray(contents)) {\n        contents.map(function (c) {\n          return typeof c === 'string' ? c : c.value;\n        });\n      }\n      // MarkedString\n      else {\n        return contents.value;\n      }\n    }\n    return contents;\n  };\n  HTMLHover.prototype.doesSupportMarkdown = function () {\n    if (!isDefined(this.supportsMarkdown)) {\n      if (!isDefined(this.clientCapabilities)) {\n        this.supportsMarkdown = true;\n        return this.supportsMarkdown;\n      }\n      var hover = this.clientCapabilities && this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.hover;\n      this.supportsMarkdown = hover && hover.contentFormat && Array.isArray(hover.contentFormat) && hover.contentFormat.indexOf(MarkupKind.Markdown) !== -1;\n    }\n    return this.supportsMarkdown;\n  };\n  return HTMLHover;\n}();\nexport { HTMLHover };\nfunction trimQuotes(s) {\n  if (s.length <= 1) {\n    return s.replace(/['\"]/, '');\n  }\n  if (s[0] === \"'\" || s[0] === \"\\\"\") {\n    s = s.slice(1);\n  }\n  if (s[s.length - 1] === \"'\" || s[s.length - 1] === \"\\\"\") {\n    s = s.slice(0, -1);\n  }\n  return s;\n}","map":{"version":3,"names":["createScanner","MarkupKind","TokenType","getAllDataProviders","isDefined","generateDocumentation","HTMLHover","clientCapabilities","prototype","doHover","document","position","htmlDocument","convertContents","bind","doesSupportMarkdown","offset","offsetAt","node","findNodeAt","tag","dataProviders","filter","p","isApplicable","languageId","getTagHover","currTag","range","open","toLowerCase","_loop_1","provider","hover","provideTags","forEach","name","tagLabel","markupContent","value","contents","_i","dataProviders_1","length","state_1","getAttrHover","currAttr","_loop_2","provideAttributes","attr","description","dataProviders_2","state_2","getAttrValueHover","currAttrValue","_loop_3","provideValues","attrValue","dataProviders_3","state_3","getTagNameRange","tokenType","startOffset","scanner","getText","token","scan","EOS","getTokenEnd","start","positionAt","getTokenOffset","end","endTagStart","tagRange_1","EndTag","tagRange","StartTag","attrRange","AttributeName","scanAttrAndAttrValue","nodeStart","attrValueStart","prevAttr","undefined","getTokenText","attrValueRange","AttributeValue","trimQuotes","matchAttr","kind","Array","isArray","map","c","supportsMarkdown","textDocument","contentFormat","indexOf","Markdown","s","replace","slice"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createScanner } from '../parser/htmlScanner.js';\nimport { MarkupKind } from './../_deps/vscode-languageserver-types/main.js';\nimport { TokenType } from '../htmlLanguageTypes.js';\nimport { getAllDataProviders } from '../languageFacts/builtinDataProviders.js';\nimport { isDefined } from '../utils/object.js';\nimport { generateDocumentation } from '../languageFacts/dataProvider.js';\nvar HTMLHover = /** @class */ (function () {\n    function HTMLHover(clientCapabilities) {\n        this.clientCapabilities = clientCapabilities;\n    }\n    HTMLHover.prototype.doHover = function (document, position, htmlDocument) {\n        var convertContents = this.convertContents.bind(this);\n        var doesSupportMarkdown = this.doesSupportMarkdown();\n        var offset = document.offsetAt(position);\n        var node = htmlDocument.findNodeAt(offset);\n        if (!node || !node.tag) {\n            return null;\n        }\n        var dataProviders = getAllDataProviders().filter(function (p) { return p.isApplicable(document.languageId); });\n        function getTagHover(currTag, range, open) {\n            currTag = currTag.toLowerCase();\n            var _loop_1 = function (provider) {\n                var hover = null;\n                provider.provideTags().forEach(function (tag) {\n                    if (tag.name.toLowerCase() === currTag.toLowerCase()) {\n                        var tagLabel = open ? '<' + currTag + '>' : '</' + currTag + '>';\n                        var markupContent = generateDocumentation(tag, doesSupportMarkdown);\n                        markupContent.value = '```html\\n' + tagLabel + '\\n```\\n' + markupContent.value;\n                        hover = { contents: markupContent, range: range };\n                    }\n                });\n                if (hover) {\n                    hover.contents = convertContents(hover.contents);\n                    return { value: hover };\n                }\n            };\n            for (var _i = 0, dataProviders_1 = dataProviders; _i < dataProviders_1.length; _i++) {\n                var provider = dataProviders_1[_i];\n                var state_1 = _loop_1(provider);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n            return null;\n        }\n        function getAttrHover(currTag, currAttr, range) {\n            currTag = currTag.toLowerCase();\n            var _loop_2 = function (provider) {\n                var hover = null;\n                provider.provideAttributes(currTag).forEach(function (attr) {\n                    if (currAttr === attr.name && attr.description) {\n                        hover = { contents: generateDocumentation(attr, doesSupportMarkdown), range: range };\n                    }\n                });\n                if (hover) {\n                    hover.contents = convertContents(hover.contents);\n                    return { value: hover };\n                }\n            };\n            for (var _i = 0, dataProviders_2 = dataProviders; _i < dataProviders_2.length; _i++) {\n                var provider = dataProviders_2[_i];\n                var state_2 = _loop_2(provider);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n            return null;\n        }\n        function getAttrValueHover(currTag, currAttr, currAttrValue, range) {\n            currTag = currTag.toLowerCase();\n            var _loop_3 = function (provider) {\n                var hover = null;\n                provider.provideValues(currTag, currAttr).forEach(function (attrValue) {\n                    if (currAttrValue === attrValue.name && attrValue.description) {\n                        hover = { contents: generateDocumentation(attrValue, doesSupportMarkdown), range: range };\n                    }\n                });\n                if (hover) {\n                    hover.contents = convertContents(hover.contents);\n                    return { value: hover };\n                }\n            };\n            for (var _i = 0, dataProviders_3 = dataProviders; _i < dataProviders_3.length; _i++) {\n                var provider = dataProviders_3[_i];\n                var state_3 = _loop_3(provider);\n                if (typeof state_3 === \"object\")\n                    return state_3.value;\n            }\n            return null;\n        }\n        function getTagNameRange(tokenType, startOffset) {\n            var scanner = createScanner(document.getText(), startOffset);\n            var token = scanner.scan();\n            while (token !== TokenType.EOS && (scanner.getTokenEnd() < offset || scanner.getTokenEnd() === offset && token !== tokenType)) {\n                token = scanner.scan();\n            }\n            if (token === tokenType && offset <= scanner.getTokenEnd()) {\n                return { start: document.positionAt(scanner.getTokenOffset()), end: document.positionAt(scanner.getTokenEnd()) };\n            }\n            return null;\n        }\n        if (node.endTagStart && offset >= node.endTagStart) {\n            var tagRange_1 = getTagNameRange(TokenType.EndTag, node.endTagStart);\n            if (tagRange_1) {\n                return getTagHover(node.tag, tagRange_1, false);\n            }\n            return null;\n        }\n        var tagRange = getTagNameRange(TokenType.StartTag, node.start);\n        if (tagRange) {\n            return getTagHover(node.tag, tagRange, true);\n        }\n        var attrRange = getTagNameRange(TokenType.AttributeName, node.start);\n        if (attrRange) {\n            var tag = node.tag;\n            var attr = document.getText(attrRange);\n            return getAttrHover(tag, attr, attrRange);\n        }\n        function scanAttrAndAttrValue(nodeStart, attrValueStart) {\n            var scanner = createScanner(document.getText(), nodeStart);\n            var token = scanner.scan();\n            var prevAttr = undefined;\n            while (token !== TokenType.EOS && (scanner.getTokenEnd() <= attrValueStart)) {\n                token = scanner.scan();\n                if (token === TokenType.AttributeName) {\n                    prevAttr = scanner.getTokenText();\n                }\n            }\n            return prevAttr;\n        }\n        var attrValueRange = getTagNameRange(TokenType.AttributeValue, node.start);\n        if (attrValueRange) {\n            var tag = node.tag;\n            var attrValue = trimQuotes(document.getText(attrValueRange));\n            var matchAttr = scanAttrAndAttrValue(node.start, document.offsetAt(attrValueRange.start));\n            if (matchAttr) {\n                return getAttrValueHover(tag, matchAttr, attrValue, attrValueRange);\n            }\n        }\n        return null;\n    };\n    HTMLHover.prototype.convertContents = function (contents) {\n        if (!this.doesSupportMarkdown()) {\n            if (typeof contents === 'string') {\n                return contents;\n            }\n            // MarkupContent\n            else if ('kind' in contents) {\n                return {\n                    kind: 'plaintext',\n                    value: contents.value\n                };\n            }\n            // MarkedString[]\n            else if (Array.isArray(contents)) {\n                contents.map(function (c) {\n                    return typeof c === 'string' ? c : c.value;\n                });\n            }\n            // MarkedString\n            else {\n                return contents.value;\n            }\n        }\n        return contents;\n    };\n    HTMLHover.prototype.doesSupportMarkdown = function () {\n        if (!isDefined(this.supportsMarkdown)) {\n            if (!isDefined(this.clientCapabilities)) {\n                this.supportsMarkdown = true;\n                return this.supportsMarkdown;\n            }\n            var hover = this.clientCapabilities && this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.hover;\n            this.supportsMarkdown = hover && hover.contentFormat && Array.isArray(hover.contentFormat) && hover.contentFormat.indexOf(MarkupKind.Markdown) !== -1;\n        }\n        return this.supportsMarkdown;\n    };\n    return HTMLHover;\n}());\nexport { HTMLHover };\nfunction trimQuotes(s) {\n    if (s.length <= 1) {\n        return s.replace(/['\"]/, '');\n    }\n    if (s[0] === \"'\" || s[0] === \"\\\"\") {\n        s = s.slice(1);\n    }\n    if (s[s.length - 1] === \"'\" || s[s.length - 1] === \"\\\"\") {\n        s = s.slice(0, -1);\n    }\n    return s;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}