{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport { first } from '../../../base/common/async.js';\nimport { assign } from '../../../base/common/objects.js';\nimport { onUnexpectedExternalError, canceled, isPromiseCanceledError } from '../../../base/common/errors.js';\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\nimport * as modes from '../../common/modes.js';\nimport { Position } from '../../common/core/position.js';\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Range } from '../../common/core/range.js';\nimport { FuzzyScore } from '../../../base/common/filters.js';\nimport { isDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nexport var Context = {\n  Visible: new RawContextKey('suggestWidgetVisible', false),\n  MultipleSuggestions: new RawContextKey('suggestWidgetMultipleSuggestions', false),\n  MakesTextEdit: new RawContextKey('suggestionMakesTextEdit', true),\n  AcceptSuggestionsOnEnter: new RawContextKey('acceptSuggestionOnEnter', true)\n};\nvar CompletionItem = /** @class */function () {\n  function CompletionItem(position, completion, container, provider, model) {\n    var _this = this;\n    this.position = position;\n    this.completion = completion;\n    this.container = container;\n    this.provider = provider;\n    this.isResolved = false;\n    // sorting, filtering\n    this.score = FuzzyScore.Default;\n    this.distance = 0;\n    this.textLabel = typeof completion.label === 'string' ? completion.label : completion.label.name;\n    // ensure lower-variants (perf)\n    this.labelLow = this.textLabel.toLowerCase();\n    this.sortTextLow = completion.sortText && completion.sortText.toLowerCase();\n    this.filterTextLow = completion.filterText && completion.filterText.toLowerCase();\n    // normalize ranges\n    if (Range.isIRange(completion.range)) {\n      this.editStart = new Position(completion.range.startLineNumber, completion.range.startColumn);\n      this.editInsertEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\n      this.editReplaceEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\n    } else {\n      this.editStart = new Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);\n      this.editInsertEnd = new Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);\n      this.editReplaceEnd = new Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);\n    }\n    // create the suggestion resolver\n    var resolveCompletionItem = provider.resolveCompletionItem;\n    if (typeof resolveCompletionItem !== 'function') {\n      this.resolve = function () {\n        return Promise.resolve();\n      };\n      this.isResolved = true;\n    } else {\n      var cached_1;\n      this.resolve = function (token) {\n        if (!cached_1) {\n          cached_1 = Promise.resolve(resolveCompletionItem.call(provider, model, position, completion, token)).then(function (value) {\n            assign(completion, value);\n            _this.isResolved = true;\n          }, function (err) {\n            if (isPromiseCanceledError(err)) {\n              // the IPC queue will reject the request with the\n              // cancellation error -> reset cached\n              cached_1 = undefined;\n            }\n          });\n          token.onCancellationRequested(function () {\n            if (!_this.isResolved) {\n              // cancellation after the request has been\n              // dispatched -> reset cache\n              cached_1 = undefined;\n            }\n          });\n        }\n        return cached_1;\n      };\n    }\n  }\n  return CompletionItem;\n}();\nexport { CompletionItem };\nvar CompletionOptions = /** @class */function () {\n  function CompletionOptions(snippetSortOrder, kindFilter, providerFilter) {\n    if (snippetSortOrder === void 0) {\n      snippetSortOrder = 2 /* Bottom */;\n    }\n    if (kindFilter === void 0) {\n      kindFilter = new Set();\n    }\n    if (providerFilter === void 0) {\n      providerFilter = new Set();\n    }\n    this.snippetSortOrder = snippetSortOrder;\n    this.kindFilter = kindFilter;\n    this.providerFilter = providerFilter;\n  }\n  CompletionOptions.default = new CompletionOptions();\n  return CompletionOptions;\n}();\nexport { CompletionOptions };\nvar _snippetSuggestSupport;\nexport function getSnippetSuggestSupport() {\n  return _snippetSuggestSupport;\n}\nexport function provideSuggestionItems(model, position, options, context, token) {\n  if (options === void 0) {\n    options = CompletionOptions.default;\n  }\n  if (context === void 0) {\n    context = {\n      triggerKind: 0 /* Invoke */\n    };\n  }\n  if (token === void 0) {\n    token = CancellationToken.None;\n  }\n  var word = model.getWordAtPosition(position);\n  var defaultReplaceRange = word ? new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : Range.fromPositions(position);\n  var defaultInsertRange = defaultReplaceRange.setEndPosition(position.lineNumber, position.column);\n  // const wordUntil = model.getWordUntilPosition(position);\n  // const defaultRange = new Range(position.lineNumber, wordUntil.startColumn, position.lineNumber, wordUntil.endColumn);\n  position = position.clone();\n  // get provider groups, always add snippet suggestion provider\n  var supports = modes.CompletionProviderRegistry.orderedGroups(model);\n  // add snippets provider unless turned off\n  if (!options.kindFilter.has(25 /* Snippet */) && _snippetSuggestSupport) {\n    supports.unshift([_snippetSuggestSupport]);\n  }\n  var allSuggestions = [];\n  var disposables = new DisposableStore();\n  var hasResult = false;\n  // add suggestions from contributed providers - providers are ordered in groups of\n  // equal score and once a group produces a result the process stops\n  var factory = supports.map(function (supports) {\n    return function () {\n      // for each support in the group ask for suggestions\n      return Promise.all(supports.map(function (provider) {\n        if (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) {\n          return undefined;\n        }\n        return Promise.resolve(provider.provideCompletionItems(model, position, context, token)).then(function (container) {\n          var len = allSuggestions.length;\n          if (container) {\n            for (var _i = 0, _a = container.suggestions || []; _i < _a.length; _i++) {\n              var suggestion = _a[_i];\n              if (!options.kindFilter.has(suggestion.kind)) {\n                // fill in default range when missing\n                if (!suggestion.range) {\n                  suggestion.range = {\n                    insert: defaultInsertRange,\n                    replace: defaultReplaceRange\n                  };\n                }\n                // fill in default sortText when missing\n                if (!suggestion.sortText) {\n                  suggestion.sortText = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\n                }\n                allSuggestions.push(new CompletionItem(position, suggestion, container, provider, model));\n              }\n            }\n            if (isDisposable(container)) {\n              disposables.add(container);\n            }\n          }\n          if (len !== allSuggestions.length && provider !== _snippetSuggestSupport) {\n            hasResult = true;\n          }\n        }, onUnexpectedExternalError);\n      }));\n    };\n  });\n  var result = first(factory, function () {\n    // stop on result or cancellation\n    return hasResult || token.isCancellationRequested;\n  }).then(function () {\n    if (token.isCancellationRequested) {\n      disposables.dispose();\n      return Promise.reject(canceled());\n    }\n    return allSuggestions.sort(getSuggestionComparator(options.snippetSortOrder));\n  });\n  // result.then(items => {\n  // \tconsole.log(model.getWordUntilPosition(position), items.map(item => `${item.suggestion.label}, type=${item.suggestion.type}, incomplete?${item.container.incomplete}, overwriteBefore=${item.suggestion.overwriteBefore}`));\n  // \treturn items;\n  // }, err => {\n  // \tconsole.warn(model.getWordUntilPosition(position), err);\n  // });\n  return result;\n}\nfunction defaultComparator(a, b) {\n  // check with 'sortText'\n  if (a.sortTextLow && b.sortTextLow) {\n    if (a.sortTextLow < b.sortTextLow) {\n      return -1;\n    } else if (a.sortTextLow > b.sortTextLow) {\n      return 1;\n    }\n  }\n  // check with 'label'\n  if (a.completion.label < b.completion.label) {\n    return -1;\n  } else if (a.completion.label > b.completion.label) {\n    return 1;\n  }\n  // check with 'type'\n  return a.completion.kind - b.completion.kind;\n}\nfunction snippetUpComparator(a, b) {\n  if (a.completion.kind !== b.completion.kind) {\n    if (a.completion.kind === 25 /* Snippet */) {\n      return -1;\n    } else if (b.completion.kind === 25 /* Snippet */) {\n      return 1;\n    }\n  }\n  return defaultComparator(a, b);\n}\nfunction snippetDownComparator(a, b) {\n  if (a.completion.kind !== b.completion.kind) {\n    if (a.completion.kind === 25 /* Snippet */) {\n      return 1;\n    } else if (b.completion.kind === 25 /* Snippet */) {\n      return -1;\n    }\n  }\n  return defaultComparator(a, b);\n}\nvar _snippetComparators = new Map();\n_snippetComparators.set(0 /* Top */, snippetUpComparator);\n_snippetComparators.set(2 /* Bottom */, snippetDownComparator);\n_snippetComparators.set(1 /* Inline */, defaultComparator);\nexport function getSuggestionComparator(snippetConfig) {\n  return _snippetComparators.get(snippetConfig);\n}\nregisterDefaultLanguageCommand('_executeCompletionItemProvider', function (model, position, args) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var result, disposables, resolving, maxItemsToResolve, items, _i, items_1, item;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          result = {\n            incomplete: false,\n            suggestions: []\n          };\n          disposables = new DisposableStore();\n          resolving = [];\n          maxItemsToResolve = args['maxItemsToResolve'] || 0;\n          return [4 /*yield*/, provideSuggestionItems(model, position)];\n        case 1:\n          items = _a.sent();\n          for (_i = 0, items_1 = items; _i < items_1.length; _i++) {\n            item = items_1[_i];\n            if (resolving.length < maxItemsToResolve) {\n              resolving.push(item.resolve(CancellationToken.None));\n            }\n            result.incomplete = result.incomplete || item.container.incomplete;\n            result.suggestions.push(item.completion);\n            if (isDisposable(item.container)) {\n              disposables.add(item.container);\n            }\n          }\n          _a.label = 2;\n        case 2:\n          _a.trys.push([2,, 4, 5]);\n          return [4 /*yield*/, Promise.all(resolving)];\n        case 3:\n          _a.sent();\n          return [2 /*return*/, result];\n        case 4:\n          setTimeout(function () {\n            return disposables.dispose();\n          }, 100);\n          return [7 /*endfinally*/];\n        case 5:\n          return [2 /*return*/];\n      }\n    });\n  });\n});\n\nvar _provider = new ( /** @class */function () {\n  function class_1() {\n    this.onlyOnceSuggestions = [];\n  }\n  class_1.prototype.provideCompletionItems = function () {\n    var suggestions = this.onlyOnceSuggestions.slice(0);\n    var result = {\n      suggestions: suggestions\n    };\n    this.onlyOnceSuggestions.length = 0;\n    return result;\n  };\n  return class_1;\n}())();\nmodes.CompletionProviderRegistry.register('*', _provider);\nexport function showSimpleSuggestions(editor, suggestions) {\n  setTimeout(function () {\n    var _a;\n    (_a = _provider.onlyOnceSuggestions).push.apply(_a, suggestions);\n    editor.getContribution('editor.contrib.suggestController').triggerSuggest(new Set().add(_provider));\n  }, 0);\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","first","assign","onUnexpectedExternalError","canceled","isPromiseCanceledError","registerDefaultLanguageCommand","modes","Position","RawContextKey","CancellationToken","Range","FuzzyScore","isDisposable","DisposableStore","Context","Visible","MultipleSuggestions","MakesTextEdit","AcceptSuggestionsOnEnter","CompletionItem","position","completion","container","provider","model","_this","isResolved","score","Default","distance","textLabel","name","labelLow","toLowerCase","sortTextLow","sortText","filterTextLow","filterText","isIRange","range","editStart","startLineNumber","startColumn","editInsertEnd","endLineNumber","endColumn","editReplaceEnd","insert","replace","resolveCompletionItem","cached_1","token","err","undefined","onCancellationRequested","CompletionOptions","snippetSortOrder","kindFilter","providerFilter","Set","default","_snippetSuggestSupport","getSnippetSuggestSupport","provideSuggestionItems","options","context","triggerKind","None","word","getWordAtPosition","defaultReplaceRange","lineNumber","fromPositions","defaultInsertRange","setEndPosition","column","clone","supports","CompletionProviderRegistry","orderedGroups","has","unshift","allSuggestions","disposables","hasResult","factory","map","all","size","provideCompletionItems","len","_i","_a","suggestions","suggestion","kind","add","isCancellationRequested","dispose","sort","getSuggestionComparator","defaultComparator","a","b","snippetUpComparator","snippetDownComparator","_snippetComparators","Map","set","snippetConfig","get","args","resolving","maxItemsToResolve","items","items_1","item","incomplete","setTimeout","_provider","class_1","onlyOnceSuggestions","prototype","slice","register","showSimpleSuggestions","editor","getContribution","triggerSuggest"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggest.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { first } from '../../../base/common/async.js';\r\nimport { assign } from '../../../base/common/objects.js';\r\nimport { onUnexpectedExternalError, canceled, isPromiseCanceledError } from '../../../base/common/errors.js';\r\nimport { registerDefaultLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport * as modes from '../../common/modes.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { FuzzyScore } from '../../../base/common/filters.js';\r\nimport { isDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nexport var Context = {\r\n    Visible: new RawContextKey('suggestWidgetVisible', false),\r\n    MultipleSuggestions: new RawContextKey('suggestWidgetMultipleSuggestions', false),\r\n    MakesTextEdit: new RawContextKey('suggestionMakesTextEdit', true),\r\n    AcceptSuggestionsOnEnter: new RawContextKey('acceptSuggestionOnEnter', true)\r\n};\r\nvar CompletionItem = /** @class */ (function () {\r\n    function CompletionItem(position, completion, container, provider, model) {\r\n        var _this = this;\r\n        this.position = position;\r\n        this.completion = completion;\r\n        this.container = container;\r\n        this.provider = provider;\r\n        this.isResolved = false;\r\n        // sorting, filtering\r\n        this.score = FuzzyScore.Default;\r\n        this.distance = 0;\r\n        this.textLabel = typeof completion.label === 'string'\r\n            ? completion.label\r\n            : completion.label.name;\r\n        // ensure lower-variants (perf)\r\n        this.labelLow = this.textLabel.toLowerCase();\r\n        this.sortTextLow = completion.sortText && completion.sortText.toLowerCase();\r\n        this.filterTextLow = completion.filterText && completion.filterText.toLowerCase();\r\n        // normalize ranges\r\n        if (Range.isIRange(completion.range)) {\r\n            this.editStart = new Position(completion.range.startLineNumber, completion.range.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\r\n        }\r\n        else {\r\n            this.editStart = new Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);\r\n            this.editInsertEnd = new Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);\r\n            this.editReplaceEnd = new Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);\r\n        }\r\n        // create the suggestion resolver\r\n        var resolveCompletionItem = provider.resolveCompletionItem;\r\n        if (typeof resolveCompletionItem !== 'function') {\r\n            this.resolve = function () { return Promise.resolve(); };\r\n            this.isResolved = true;\r\n        }\r\n        else {\r\n            var cached_1;\r\n            this.resolve = function (token) {\r\n                if (!cached_1) {\r\n                    cached_1 = Promise.resolve(resolveCompletionItem.call(provider, model, position, completion, token)).then(function (value) {\r\n                        assign(completion, value);\r\n                        _this.isResolved = true;\r\n                    }, function (err) {\r\n                        if (isPromiseCanceledError(err)) {\r\n                            // the IPC queue will reject the request with the\r\n                            // cancellation error -> reset cached\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                    token.onCancellationRequested(function () {\r\n                        if (!_this.isResolved) {\r\n                            // cancellation after the request has been\r\n                            // dispatched -> reset cache\r\n                            cached_1 = undefined;\r\n                        }\r\n                    });\r\n                }\r\n                return cached_1;\r\n            };\r\n        }\r\n    }\r\n    return CompletionItem;\r\n}());\r\nexport { CompletionItem };\r\nvar CompletionOptions = /** @class */ (function () {\r\n    function CompletionOptions(snippetSortOrder, kindFilter, providerFilter) {\r\n        if (snippetSortOrder === void 0) { snippetSortOrder = 2 /* Bottom */; }\r\n        if (kindFilter === void 0) { kindFilter = new Set(); }\r\n        if (providerFilter === void 0) { providerFilter = new Set(); }\r\n        this.snippetSortOrder = snippetSortOrder;\r\n        this.kindFilter = kindFilter;\r\n        this.providerFilter = providerFilter;\r\n    }\r\n    CompletionOptions.default = new CompletionOptions();\r\n    return CompletionOptions;\r\n}());\r\nexport { CompletionOptions };\r\nvar _snippetSuggestSupport;\r\nexport function getSnippetSuggestSupport() {\r\n    return _snippetSuggestSupport;\r\n}\r\nexport function provideSuggestionItems(model, position, options, context, token) {\r\n    if (options === void 0) { options = CompletionOptions.default; }\r\n    if (context === void 0) { context = { triggerKind: 0 /* Invoke */ }; }\r\n    if (token === void 0) { token = CancellationToken.None; }\r\n    var word = model.getWordAtPosition(position);\r\n    var defaultReplaceRange = word ? new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : Range.fromPositions(position);\r\n    var defaultInsertRange = defaultReplaceRange.setEndPosition(position.lineNumber, position.column);\r\n    // const wordUntil = model.getWordUntilPosition(position);\r\n    // const defaultRange = new Range(position.lineNumber, wordUntil.startColumn, position.lineNumber, wordUntil.endColumn);\r\n    position = position.clone();\r\n    // get provider groups, always add snippet suggestion provider\r\n    var supports = modes.CompletionProviderRegistry.orderedGroups(model);\r\n    // add snippets provider unless turned off\r\n    if (!options.kindFilter.has(25 /* Snippet */) && _snippetSuggestSupport) {\r\n        supports.unshift([_snippetSuggestSupport]);\r\n    }\r\n    var allSuggestions = [];\r\n    var disposables = new DisposableStore();\r\n    var hasResult = false;\r\n    // add suggestions from contributed providers - providers are ordered in groups of\r\n    // equal score and once a group produces a result the process stops\r\n    var factory = supports.map(function (supports) { return function () {\r\n        // for each support in the group ask for suggestions\r\n        return Promise.all(supports.map(function (provider) {\r\n            if (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) {\r\n                return undefined;\r\n            }\r\n            return Promise.resolve(provider.provideCompletionItems(model, position, context, token)).then(function (container) {\r\n                var len = allSuggestions.length;\r\n                if (container) {\r\n                    for (var _i = 0, _a = container.suggestions || []; _i < _a.length; _i++) {\r\n                        var suggestion = _a[_i];\r\n                        if (!options.kindFilter.has(suggestion.kind)) {\r\n                            // fill in default range when missing\r\n                            if (!suggestion.range) {\r\n                                suggestion.range = { insert: defaultInsertRange, replace: defaultReplaceRange };\r\n                            }\r\n                            // fill in default sortText when missing\r\n                            if (!suggestion.sortText) {\r\n                                suggestion.sortText = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.name;\r\n                            }\r\n                            allSuggestions.push(new CompletionItem(position, suggestion, container, provider, model));\r\n                        }\r\n                    }\r\n                    if (isDisposable(container)) {\r\n                        disposables.add(container);\r\n                    }\r\n                }\r\n                if (len !== allSuggestions.length && provider !== _snippetSuggestSupport) {\r\n                    hasResult = true;\r\n                }\r\n            }, onUnexpectedExternalError);\r\n        }));\r\n    }; });\r\n    var result = first(factory, function () {\r\n        // stop on result or cancellation\r\n        return hasResult || token.isCancellationRequested;\r\n    }).then(function () {\r\n        if (token.isCancellationRequested) {\r\n            disposables.dispose();\r\n            return Promise.reject(canceled());\r\n        }\r\n        return allSuggestions.sort(getSuggestionComparator(options.snippetSortOrder));\r\n    });\r\n    // result.then(items => {\r\n    // \tconsole.log(model.getWordUntilPosition(position), items.map(item => `${item.suggestion.label}, type=${item.suggestion.type}, incomplete?${item.container.incomplete}, overwriteBefore=${item.suggestion.overwriteBefore}`));\r\n    // \treturn items;\r\n    // }, err => {\r\n    // \tconsole.warn(model.getWordUntilPosition(position), err);\r\n    // });\r\n    return result;\r\n}\r\nfunction defaultComparator(a, b) {\r\n    // check with 'sortText'\r\n    if (a.sortTextLow && b.sortTextLow) {\r\n        if (a.sortTextLow < b.sortTextLow) {\r\n            return -1;\r\n        }\r\n        else if (a.sortTextLow > b.sortTextLow) {\r\n            return 1;\r\n        }\r\n    }\r\n    // check with 'label'\r\n    if (a.completion.label < b.completion.label) {\r\n        return -1;\r\n    }\r\n    else if (a.completion.label > b.completion.label) {\r\n        return 1;\r\n    }\r\n    // check with 'type'\r\n    return a.completion.kind - b.completion.kind;\r\n}\r\nfunction snippetUpComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nfunction snippetDownComparator(a, b) {\r\n    if (a.completion.kind !== b.completion.kind) {\r\n        if (a.completion.kind === 25 /* Snippet */) {\r\n            return 1;\r\n        }\r\n        else if (b.completion.kind === 25 /* Snippet */) {\r\n            return -1;\r\n        }\r\n    }\r\n    return defaultComparator(a, b);\r\n}\r\nvar _snippetComparators = new Map();\r\n_snippetComparators.set(0 /* Top */, snippetUpComparator);\r\n_snippetComparators.set(2 /* Bottom */, snippetDownComparator);\r\n_snippetComparators.set(1 /* Inline */, defaultComparator);\r\nexport function getSuggestionComparator(snippetConfig) {\r\n    return _snippetComparators.get(snippetConfig);\r\n}\r\nregisterDefaultLanguageCommand('_executeCompletionItemProvider', function (model, position, args) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, disposables, resolving, maxItemsToResolve, items, _i, items_1, item;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                result = {\r\n                    incomplete: false,\r\n                    suggestions: []\r\n                };\r\n                disposables = new DisposableStore();\r\n                resolving = [];\r\n                maxItemsToResolve = args['maxItemsToResolve'] || 0;\r\n                return [4 /*yield*/, provideSuggestionItems(model, position)];\r\n            case 1:\r\n                items = _a.sent();\r\n                for (_i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    item = items_1[_i];\r\n                    if (resolving.length < maxItemsToResolve) {\r\n                        resolving.push(item.resolve(CancellationToken.None));\r\n                    }\r\n                    result.incomplete = result.incomplete || item.container.incomplete;\r\n                    result.suggestions.push(item.completion);\r\n                    if (isDisposable(item.container)) {\r\n                        disposables.add(item.container);\r\n                    }\r\n                }\r\n                _a.label = 2;\r\n            case 2:\r\n                _a.trys.push([2, , 4, 5]);\r\n                return [4 /*yield*/, Promise.all(resolving)];\r\n            case 3:\r\n                _a.sent();\r\n                return [2 /*return*/, result];\r\n            case 4:\r\n                setTimeout(function () { return disposables.dispose(); }, 100);\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); });\r\nvar _provider = new /** @class */ (function () {\r\n    function class_1() {\r\n        this.onlyOnceSuggestions = [];\r\n    }\r\n    class_1.prototype.provideCompletionItems = function () {\r\n        var suggestions = this.onlyOnceSuggestions.slice(0);\r\n        var result = { suggestions: suggestions };\r\n        this.onlyOnceSuggestions.length = 0;\r\n        return result;\r\n    };\r\n    return class_1;\r\n}());\r\nmodes.CompletionProviderRegistry.register('*', _provider);\r\nexport function showSimpleSuggestions(editor, suggestions) {\r\n    setTimeout(function () {\r\n        var _a;\r\n        (_a = _provider.onlyOnceSuggestions).push.apply(_a, suggestions);\r\n        editor.getContribution('editor.contrib.suggestController').triggerSuggest(new Set().add(_provider));\r\n    }, 0);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}