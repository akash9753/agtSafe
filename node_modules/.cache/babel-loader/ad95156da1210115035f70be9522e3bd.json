{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from './dom.js';\nimport * as platform from '../common/platform.js';\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { DisposableStore } from '../common/lifecycle.js';\nimport { BrowserFeatures } from './canIUse.js';\nexport function standardMouseMoveMerger(lastEvent, currentEvent) {\n  var ev = new StandardMouseEvent(currentEvent);\n  ev.preventDefault();\n  return {\n    leftButton: ev.leftButton,\n    buttons: ev.buttons,\n    posx: ev.posx,\n    posy: ev.posy\n  };\n}\nvar GlobalMouseMoveMonitor = /** @class */function () {\n  function GlobalMouseMoveMonitor() {\n    this._hooks = new DisposableStore();\n    this._mouseMoveEventMerger = null;\n    this._mouseMoveCallback = null;\n    this._onStopCallback = null;\n  }\n  GlobalMouseMoveMonitor.prototype.dispose = function () {\n    this.stopMonitoring(false);\n    this._hooks.dispose();\n  };\n  GlobalMouseMoveMonitor.prototype.stopMonitoring = function (invokeStopCallback) {\n    if (!this.isMonitoring()) {\n      // Not monitoring\n      return;\n    }\n    // Unhook\n    this._hooks.clear();\n    this._mouseMoveEventMerger = null;\n    this._mouseMoveCallback = null;\n    var onStopCallback = this._onStopCallback;\n    this._onStopCallback = null;\n    if (invokeStopCallback && onStopCallback) {\n      onStopCallback();\n    }\n  };\n  GlobalMouseMoveMonitor.prototype.isMonitoring = function () {\n    return !!this._mouseMoveEventMerger;\n  };\n  GlobalMouseMoveMonitor.prototype.startMonitoring = function (initialElement, initialButtons, mouseMoveEventMerger, mouseMoveCallback, onStopCallback) {\n    var _this = this;\n    if (this.isMonitoring()) {\n      // I am already hooked\n      return;\n    }\n    this._mouseMoveEventMerger = mouseMoveEventMerger;\n    this._mouseMoveCallback = mouseMoveCallback;\n    this._onStopCallback = onStopCallback;\n    var windowChain = IframeUtils.getSameOriginWindowChain();\n    var mouseMove = platform.isIOS && BrowserFeatures.pointerEvents ? 'pointermove' : 'mousemove';\n    var mouseUp = platform.isIOS && BrowserFeatures.pointerEvents ? 'pointerup' : 'mouseup';\n    var listenTo = windowChain.map(function (element) {\n      return element.window.document;\n    });\n    var shadowRoot = dom.getShadowRoot(initialElement);\n    if (shadowRoot) {\n      listenTo.unshift(shadowRoot);\n    }\n    for (var _i = 0, listenTo_1 = listenTo; _i < listenTo_1.length; _i++) {\n      var element = listenTo_1[_i];\n      this._hooks.add(dom.addDisposableThrottledListener(element, mouseMove, function (data) {\n        if (!browser.isIE && data.buttons !== initialButtons) {\n          // Buttons state has changed in the meantime\n          _this.stopMonitoring(true);\n          return;\n        }\n        _this._mouseMoveCallback(data);\n      }, function (lastEvent, currentEvent) {\n        return _this._mouseMoveEventMerger(lastEvent, currentEvent);\n      }));\n      this._hooks.add(dom.addDisposableListener(element, mouseUp, function (e) {\n        return _this.stopMonitoring(true);\n      }));\n    }\n    if (IframeUtils.hasDifferentOriginAncestor()) {\n      var lastSameOriginAncestor = windowChain[windowChain.length - 1];\n      // We might miss a mouse up if it happens outside the iframe\n      // This one is for Chrome\n      this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document, 'mouseout', function (browserEvent) {\n        var e = new StandardMouseEvent(browserEvent);\n        if (e.target.tagName.toLowerCase() === 'html') {\n          _this.stopMonitoring(true);\n        }\n      }));\n      // This one is for FF\n      this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document, 'mouseover', function (browserEvent) {\n        var e = new StandardMouseEvent(browserEvent);\n        if (e.target.tagName.toLowerCase() === 'html') {\n          _this.stopMonitoring(true);\n        }\n      }));\n      // This one is for IE\n      this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document.body, 'mouseleave', function (browserEvent) {\n        _this.stopMonitoring(true);\n      }));\n    }\n  };\n  return GlobalMouseMoveMonitor;\n}();\nexport { GlobalMouseMoveMonitor };","map":{"version":3,"names":["dom","platform","browser","IframeUtils","StandardMouseEvent","DisposableStore","BrowserFeatures","standardMouseMoveMerger","lastEvent","currentEvent","ev","preventDefault","leftButton","buttons","posx","posy","GlobalMouseMoveMonitor","_hooks","_mouseMoveEventMerger","_mouseMoveCallback","_onStopCallback","prototype","dispose","stopMonitoring","invokeStopCallback","isMonitoring","clear","onStopCallback","startMonitoring","initialElement","initialButtons","mouseMoveEventMerger","mouseMoveCallback","_this","windowChain","getSameOriginWindowChain","mouseMove","isIOS","pointerEvents","mouseUp","listenTo","map","element","window","document","shadowRoot","getShadowRoot","unshift","_i","listenTo_1","length","add","addDisposableThrottledListener","data","isIE","addDisposableListener","e","hasDifferentOriginAncestor","lastSameOriginAncestor","browserEvent","target","tagName","toLowerCase","body"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/globalMouseMoveMonitor.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as dom from './dom.js';\r\nimport * as platform from '../common/platform.js';\r\nimport * as browser from './browser.js';\r\nimport { IframeUtils } from './iframe.js';\r\nimport { StandardMouseEvent } from './mouseEvent.js';\r\nimport { DisposableStore } from '../common/lifecycle.js';\r\nimport { BrowserFeatures } from './canIUse.js';\r\nexport function standardMouseMoveMerger(lastEvent, currentEvent) {\r\n    var ev = new StandardMouseEvent(currentEvent);\r\n    ev.preventDefault();\r\n    return {\r\n        leftButton: ev.leftButton,\r\n        buttons: ev.buttons,\r\n        posx: ev.posx,\r\n        posy: ev.posy\r\n    };\r\n}\r\nvar GlobalMouseMoveMonitor = /** @class */ (function () {\r\n    function GlobalMouseMoveMonitor() {\r\n        this._hooks = new DisposableStore();\r\n        this._mouseMoveEventMerger = null;\r\n        this._mouseMoveCallback = null;\r\n        this._onStopCallback = null;\r\n    }\r\n    GlobalMouseMoveMonitor.prototype.dispose = function () {\r\n        this.stopMonitoring(false);\r\n        this._hooks.dispose();\r\n    };\r\n    GlobalMouseMoveMonitor.prototype.stopMonitoring = function (invokeStopCallback) {\r\n        if (!this.isMonitoring()) {\r\n            // Not monitoring\r\n            return;\r\n        }\r\n        // Unhook\r\n        this._hooks.clear();\r\n        this._mouseMoveEventMerger = null;\r\n        this._mouseMoveCallback = null;\r\n        var onStopCallback = this._onStopCallback;\r\n        this._onStopCallback = null;\r\n        if (invokeStopCallback && onStopCallback) {\r\n            onStopCallback();\r\n        }\r\n    };\r\n    GlobalMouseMoveMonitor.prototype.isMonitoring = function () {\r\n        return !!this._mouseMoveEventMerger;\r\n    };\r\n    GlobalMouseMoveMonitor.prototype.startMonitoring = function (initialElement, initialButtons, mouseMoveEventMerger, mouseMoveCallback, onStopCallback) {\r\n        var _this = this;\r\n        if (this.isMonitoring()) {\r\n            // I am already hooked\r\n            return;\r\n        }\r\n        this._mouseMoveEventMerger = mouseMoveEventMerger;\r\n        this._mouseMoveCallback = mouseMoveCallback;\r\n        this._onStopCallback = onStopCallback;\r\n        var windowChain = IframeUtils.getSameOriginWindowChain();\r\n        var mouseMove = platform.isIOS && BrowserFeatures.pointerEvents ? 'pointermove' : 'mousemove';\r\n        var mouseUp = platform.isIOS && BrowserFeatures.pointerEvents ? 'pointerup' : 'mouseup';\r\n        var listenTo = windowChain.map(function (element) { return element.window.document; });\r\n        var shadowRoot = dom.getShadowRoot(initialElement);\r\n        if (shadowRoot) {\r\n            listenTo.unshift(shadowRoot);\r\n        }\r\n        for (var _i = 0, listenTo_1 = listenTo; _i < listenTo_1.length; _i++) {\r\n            var element = listenTo_1[_i];\r\n            this._hooks.add(dom.addDisposableThrottledListener(element, mouseMove, function (data) {\r\n                if (!browser.isIE && data.buttons !== initialButtons) {\r\n                    // Buttons state has changed in the meantime\r\n                    _this.stopMonitoring(true);\r\n                    return;\r\n                }\r\n                _this._mouseMoveCallback(data);\r\n            }, function (lastEvent, currentEvent) { return _this._mouseMoveEventMerger(lastEvent, currentEvent); }));\r\n            this._hooks.add(dom.addDisposableListener(element, mouseUp, function (e) { return _this.stopMonitoring(true); }));\r\n        }\r\n        if (IframeUtils.hasDifferentOriginAncestor()) {\r\n            var lastSameOriginAncestor = windowChain[windowChain.length - 1];\r\n            // We might miss a mouse up if it happens outside the iframe\r\n            // This one is for Chrome\r\n            this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document, 'mouseout', function (browserEvent) {\r\n                var e = new StandardMouseEvent(browserEvent);\r\n                if (e.target.tagName.toLowerCase() === 'html') {\r\n                    _this.stopMonitoring(true);\r\n                }\r\n            }));\r\n            // This one is for FF\r\n            this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document, 'mouseover', function (browserEvent) {\r\n                var e = new StandardMouseEvent(browserEvent);\r\n                if (e.target.tagName.toLowerCase() === 'html') {\r\n                    _this.stopMonitoring(true);\r\n                }\r\n            }));\r\n            // This one is for IE\r\n            this._hooks.add(dom.addDisposableListener(lastSameOriginAncestor.window.document.body, 'mouseleave', function (browserEvent) {\r\n                _this.stopMonitoring(true);\r\n            }));\r\n        }\r\n    };\r\n    return GlobalMouseMoveMonitor;\r\n}());\r\nexport { GlobalMouseMoveMonitor };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}