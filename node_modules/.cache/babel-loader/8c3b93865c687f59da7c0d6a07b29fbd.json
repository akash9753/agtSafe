{"ast":null,"code":"\"use strict\";\n\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* jslint esnext: true */\nvar round = Math.round;\nfunction daysToYears(days) {\n  // 400 years have 146097 days (taking into account leap year rules)\n  return days * 400 / 146097;\n}\n// Thanks to date-fns\n// https://github.com/date-fns/date-fns\n// MIT © Sasha Koss\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_DAY = 86400000;\nfunction startOfDay(dirtyDate) {\n  var date = new Date(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n  var timestampRight = startOfDayRight.getTime() - startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}\nfunction default_1(from, to) {\n  // Convert to ms timestamps.\n  from = +from;\n  to = +to;\n  var millisecond = round(to - from),\n    second = round(millisecond / 1000),\n    minute = round(second / 60),\n    hour = round(minute / 60);\n  // We expect a more precision in rounding when dealing with\n  // days as it feels wrong when something happended 13 hours ago and\n  // is regarded as \"yesterday\" even if the time was this morning.\n  var day = differenceInCalendarDays(to, from);\n  var week = round(day / 7);\n  var rawYears = daysToYears(day),\n    month = round(rawYears * 12),\n    year = round(rawYears);\n  return {\n    millisecond: millisecond,\n    second: second,\n    'second-short': second,\n    minute: minute,\n    'minute-short': minute,\n    hour: hour,\n    'hour-short': hour,\n    day: day,\n    'day-short': day,\n    week: week,\n    'week-short': week,\n    month: month,\n    'month-short': month,\n    year: year,\n    'year-short': year\n  };\n}\nexports.default = default_1;","map":{"version":3,"sources":["../src/diff.js"],"names":[],"mappings":";;AAAA;;;;AAIE;;;;AAEF;AAEA,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK;AAEtB,SAAS,WAAW,CAAC,IAAI,EAAA;EACrB;EACA,OAAO,IAAI,GAAG,GAAG,GAAG,MAAM;AAC9B;AAEA;AACA;AACA;AAEA,IAAI,sBAAsB,GAAG,KAAK;AAClC,IAAI,mBAAmB,GAAG,QAAQ;AAElC,SAAS,UAAU,CAAE,SAAS,EAAA;EAC1B,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC;EAC9B,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACzB,OAAO,IAAI;AACf;AAEA,SAAS,wBAAwB,CAAE,aAAa,EAAE,cAAc,EAAA;EAC5D,IAAI,cAAc,GAAG,UAAU,CAAC,aAAa,CAAC;EAC9C,IAAI,eAAe,GAAG,UAAU,CAAC,cAAc,CAAC;EAEhD,IAAI,aAAa,GAAG,cAAc,CAAC,OAAO,EAAE,GACxC,cAAc,CAAC,iBAAiB,EAAE,GAAG,sBAAsB;EAC/D,IAAI,cAAc,GAAG,eAAe,CAAC,OAAO,EAAE,GAC1C,eAAe,CAAC,iBAAiB,EAAE,GAAG,sBAAsB;EAEhE;EACA;EACA;EACA,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,cAAc,IAAI,mBAAmB,CAAC;AAC7E;AAEA,SAAA,SAAA,CAAyB,IAAI,EAAE,EAAE,EAAA;EAC7B;EACA,IAAI,GAAG,CAAC,IAAI;EACZ,EAAE,GAAK,CAAC,EAAE;EAEV,IAAI,WAAW,GAAG,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC;IAC9B,MAAM,GAAQ,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;IACvC,MAAM,GAAQ,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;IAChC,IAAI,GAAU,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;EAEhC;EACA;EACA;EAEJ,IAAI,GAAG,GAAG,wBAAwB,CAAC,EAAE,EAAE,IAAI,CAAC;EAC5C,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;EAEzB,IAAI,QAAQ,GAAG,WAAW,CAAC,GAAG,CAAC;IAC3B,KAAK,GAAM,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;IAC/B,IAAI,GAAO,KAAK,CAAC,QAAQ,CAAC;EAE9B,OAAO;IACH,WAAW,EAAM,WAAW;IAC5B,MAAM,EAAW,MAAM;IACvB,cAAc,EAAG,MAAM;IACvB,MAAM,EAAW,MAAM;IACvB,cAAc,EAAG,MAAM;IACvB,IAAI,EAAa,IAAI;IACrB,YAAY,EAAK,IAAI;IACrB,GAAG,EAAc,GAAG;IACpB,WAAW,EAAM,GAAG;IACpB,IAAI,EAAa,IAAI;IACrB,YAAY,EAAK,IAAI;IACrB,KAAK,EAAY,KAAK;IACtB,aAAa,EAAI,KAAK;IACtB,IAAI,EAAa,IAAI;IACrB,YAAY,EAAK;GACpB;AACL;AAtCA,OAAA,CAAA,OAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* jslint esnext: true */\nvar round = Math.round;\nfunction daysToYears(days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    return days * 400 / 146097;\n}\n// Thanks to date-fns\n// https://github.com/date-fns/date-fns\n// MIT © Sasha Koss\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_DAY = 86400000;\nfunction startOfDay(dirtyDate) {\n    var date = new Date(dirtyDate);\n    date.setHours(0, 0, 0, 0);\n    return date;\n}\nfunction differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n    var startOfDayLeft = startOfDay(dirtyDateLeft);\n    var startOfDayRight = startOfDay(dirtyDateRight);\n    var timestampLeft = startOfDayLeft.getTime() -\n        startOfDayLeft.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n    var timestampRight = startOfDayRight.getTime() -\n        startOfDayRight.getTimezoneOffset() * MILLISECONDS_IN_MINUTE;\n    // Round the number of days to the nearest integer\n    // because the number of milliseconds in a day is not constant\n    // (e.g. it's different in the day of the daylight saving time clock shift)\n    return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}\nfunction default_1(from, to) {\n    // Convert to ms timestamps.\n    from = +from;\n    to = +to;\n    var millisecond = round(to - from), second = round(millisecond / 1000), minute = round(second / 60), hour = round(minute / 60);\n    // We expect a more precision in rounding when dealing with\n    // days as it feels wrong when something happended 13 hours ago and\n    // is regarded as \"yesterday\" even if the time was this morning.\n    var day = differenceInCalendarDays(to, from);\n    var week = round(day / 7);\n    var rawYears = daysToYears(day), month = round(rawYears * 12), year = round(rawYears);\n    return {\n        millisecond: millisecond,\n        second: second,\n        'second-short': second,\n        minute: minute,\n        'minute-short': minute,\n        hour: hour,\n        'hour-short': hour,\n        day: day,\n        'day-short': day,\n        week: week,\n        'week-short': week,\n        month: month,\n        'month-short': month,\n        year: year,\n        'year-short': year\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=diff.js.map"]},"metadata":{},"sourceType":"script"}