{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\src\\\\containers\\\\Study\\\\StudyConfig\\\\studyVersion.js\";\nimport React, { Component } from 'react';\nimport { Tabs, Icon } from 'antd';\nimport LayoutContentWrapper from '../../../components/utility/layoutWrapper';\nimport LayoutContent from '../../../components/utility/layoutContent';\n//ButtonWithToolTip Importing\nimport ButtonWithToolTip from '../../Tooltip/ButtonWithToolTip';\nimport ReactTable from '../../Utility/reactTable';\nimport Button from '../../../components/uielements/button';\nimport { CallServerPost, PostCallWithZone, errorModal, successModalCallback, checkPermission, showProgress, hideProgress } from '../../Utility/sharedUtility';\nvar TabPane = Tabs.TabPane;\nvar thisObj;\nvar tabStyle = {\n  height: \"calc(100vh - 100px)\"\n};\nvar StudyVersion = /*#__PURE__*/function (_Component) {\n  _inherits(StudyVersion, _Component);\n  var _super = _createSuper(StudyVersion);\n  function StudyVersion(_props) {\n    var _this;\n    _classCallCheck(this, StudyVersion);\n    _this = _super.call(this, _props);\n    //const { permissions } = this.props;\n    _this.getList = function (props) {\n      var study = props.study;\n      var studyID = study.studyID;\n      CallServerPost('StudyVersion/GetAllStudyVersion', {\n        ID: studyID\n      }).then(function (response) {\n        var _this2 = this;\n        if (response.value != null) {\n          var datas = [];\n          var versionList = response.value;\n          //console.log(response);\n          var _loop = function _loop() {\n            var studyVersionID = versionList[i].studyVersionID;\n            var editCell = /*#__PURE__*/React.createElement(\"div\", {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 46\n              }\n            }, /*#__PURE__*/React.createElement(ButtonWithToolTip, {\n              tooltip: \"Download\",\n              classname: \"fas fa-download\",\n              size: \"small\",\n              shape: \"circle\",\n              onClick: function onClick() {\n                return thisObj.download(studyVersionID);\n              },\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 49\n              }\n            }));\n            datas.push({\n              key: versionList[i].studyVersionID,\n              version: versionList[i].updatedDateTime,\n              actions: editCell\n            });\n          };\n          for (var i = 0; i < versionList.length; i++) {\n            _loop();\n          }\n          thisObj.setState({\n            dataSource: datas,\n            loading: false\n          });\n        }\n      }).catch(function (error) {\n        return error;\n      });\n    };\n    _this.download = function (versionID) {\n      showProgress();\n      PostCallWithZone('StudyVersion/DownloadStudyVersion', {\n        ID: versionID\n      }).then(function (response) {\n        //console.log(response);\n        hideProgress();\n        if (response.messageType == 1) {\n          successModalCallback(response.returnMessage, \"\");\n        } else {\n          errorModal(response.returnMessage);\n        }\n      }).catch(function (error) {\n        return error;\n      });\n    };\n    _this.redirectToStudyList = function () {\n      thisObj.props.handleCancel();\n    };\n    _this.state = {\n      dataSource: []\n    };\n    thisObj = _assertThisInitialized(_this);\n    thisObj.getList(_this.props);\n    return _this;\n  }\n  _createClass(StudyVersion, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      thisObj.getList(nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var columns = [{\n        title: 'Version',\n        dataIndex: 'version',\n        key: 'version',\n        width: 200\n      }, {\n        title: 'Actions',\n        dataIndex: 'actions',\n        key: 'actions',\n        width: 200\n      }];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: tabStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(LayoutContentWrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(LayoutContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ReactTable, {\n        columns: columns,\n        dataSource: this.state.dataSource,\n        scroll: {\n          y: \"calc(100vh - 258px)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingTop: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        key: \"submit\",\n        style: {\n          float: 'right'\n        },\n        name: \"Cancel\",\n        className: \"ant-btn sc-ifAKCX fcfmNQ ant-btn-danger\",\n        onClick: this.redirectToStudyList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, \"Cancel\")))));\n    }\n  }]);\n  return StudyVersion;\n}(Component);\nexport { StudyVersion as default };","map":{"version":3,"names":["React","Component","Tabs","Icon","LayoutContentWrapper","LayoutContent","ButtonWithToolTip","ReactTable","Button","CallServerPost","PostCallWithZone","errorModal","successModalCallback","checkPermission","showProgress","hideProgress","TabPane","thisObj","tabStyle","height","StudyVersion","props","getList","study","studyID","ID","then","response","value","datas","versionList","studyVersionID","i","editCell","download","push","key","version","updatedDateTime","actions","length","setState","dataSource","loading","catch","error","versionID","messageType","returnMessage","redirectToStudyList","handleCancel","state","nextProps","columns","title","dataIndex","width","y","paddingTop","float"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/src/containers/Study/StudyConfig/studyVersion.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Tabs, Icon } from 'antd';\r\nimport LayoutContentWrapper from '../../../components/utility/layoutWrapper';\r\nimport LayoutContent from '../../../components/utility/layoutContent';\r\n//ButtonWithToolTip Importing\r\nimport ButtonWithToolTip from '../../Tooltip/ButtonWithToolTip';\r\nimport ReactTable from '../../Utility/reactTable';\r\nimport Button from '../../../components/uielements/button';\r\nimport { CallServerPost, PostCallWithZone, errorModal, successModalCallback, checkPermission, showProgress, hideProgress } from '../../Utility/sharedUtility';\r\n\r\nconst { TabPane } = Tabs;\r\nvar thisObj;\r\nconst tabStyle = { height: \"calc(100vh - 100px)\" };\r\n\r\nexport default class StudyVersion extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //const { permissions } = this.props;\r\n\r\n        this.state = {\r\n            dataSource: []\r\n        };\r\n\r\n        thisObj = this;\r\n        thisObj.getList(this.props);\r\n\r\n    }\r\n\r\n\r\n    getList = (props) =>\r\n    {\r\n        let { study } = props;\r\n        let { studyID } = study;\r\n        CallServerPost('StudyVersion/GetAllStudyVersion', { ID: studyID })\r\n            .then(\r\n                function (response) {\r\n\r\n                    if (response.value != null) {\r\n                        var datas = [];\r\n                        const versionList = response.value;\r\n                        //console.log(response);\r\n                        for (var i = 0; i < versionList.length; i++) {\r\n                            const studyVersionID = versionList[i].studyVersionID;\r\n                            const editCell = <div>\r\n                                                <ButtonWithToolTip\r\n                                                    tooltip=\"Download\"\r\n                                                    classname=\"fas fa-download\"\r\n                                                    size=\"small\"\r\n                                                    shape=\"circle\"\r\n                                                    onClick={() => thisObj.download(studyVersionID)}\r\n                                                 />\r\n                                             </div>;\r\n                            datas.push({\r\n                                key: versionList[i].studyVersionID,\r\n                                version: versionList[i].updatedDateTime,\r\n                                actions: editCell\r\n                            });\r\n                        }\r\n                        thisObj.setState({ dataSource: datas, loading: false });\r\n                    }\r\n\r\n                })\r\n            .catch(error => error);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps)\r\n    {\r\n        thisObj.getList(nextProps);\r\n    }\r\n\r\n    download = (versionID) => {\r\n        showProgress();\r\n        PostCallWithZone('StudyVersion/DownloadStudyVersion', { ID: versionID })\r\n            .then(\r\n                function (response) {\r\n                    //console.log(response);\r\n                    hideProgress();\r\n                    if (response.messageType == 1) {\r\n                        successModalCallback(response.returnMessage, \"\");\r\n                    } else {\r\n                        errorModal(response.returnMessage);\r\n                    }\r\n                }).catch(error => error);\r\n    }\r\n    redirectToStudyList = () => {\r\n        thisObj.props.handleCancel();\r\n    }\r\n\r\n    render() {\r\n        const columns = [\r\n            {\r\n                title: 'Version',\r\n                dataIndex: 'version',\r\n                key: 'version',\r\n                width: 200\r\n            },\r\n            {\r\n                title: 'Actions',\r\n                dataIndex: 'actions',\r\n                key: 'actions',\r\n                width: 200\r\n            }\r\n        ];\r\n\r\n\r\n        return (\r\n            <div style={tabStyle}>\r\n                <LayoutContentWrapper>\r\n\r\n                    <LayoutContent >\r\n                        <ReactTable\r\n                            columns={columns}\r\n                            dataSource={this.state.dataSource}\r\n                            scroll={{ y: \"calc(100vh - 258px)\" }}\r\n                        />\r\n                        <div style={{ paddingTop: \"10px\" }} >\r\n                            <Button key=\"submit\" style={{ float: 'right' }} name=\"Cancel\" className='ant-btn sc-ifAKCX fcfmNQ ant-btn-danger' onClick={this.redirectToStudyList}>\r\n                                Cancel\r\n                        </Button>\r\n                        </div>\r\n                    </LayoutContent>\r\n\r\n                </LayoutContentWrapper>\r\n            </div>)\r\n    }\r\n}"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,IAAI,EAAEC,IAAI,QAAQ,MAAM;AACjC,OAAOC,oBAAoB,MAAM,2CAA2C;AAC5E,OAAOC,aAAa,MAAM,2CAA2C;AACrE;AACA,OAAOC,iBAAiB,MAAM,iCAAiC;AAC/D,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,MAAM,MAAM,uCAAuC;AAC1D,SAASC,cAAc,EAAEC,gBAAgB,EAAEC,UAAU,EAAEC,oBAAoB,EAAEC,eAAe,EAAEC,YAAY,EAAEC,YAAY,QAAQ,6BAA6B;AAE7J,IAAQC,OAAO,GAAKd,IAAI,CAAhBc,OAAO;AACf,IAAIC,OAAO;AACX,IAAMC,QAAQ,GAAG;EAAEC,MAAM,EAAE;AAAsB,CAAC;AAAC,IAE9BC,YAAY;EAAA;EAAA;EAC7B,sBAAYC,MAAK,EAAE;IAAA;IAAA;IACf,0BAAMA,MAAK;IACX;IAAA,MAYJC,OAAO,GAAG,UAACD,KAAK,EAChB;MACI,IAAME,KAAK,GAAKF,KAAK,CAAfE,KAAK;MACX,IAAMC,OAAO,GAAKD,KAAK,CAAjBC,OAAO;MACbf,cAAc,CAAC,iCAAiC,EAAE;QAAEgB,EAAE,EAAED;MAAQ,CAAC,CAAC,CAC7DE,IAAI,CACD,UAAUC,QAAQ,EAAE;QAAA;QAEhB,IAAIA,QAAQ,CAACC,KAAK,IAAI,IAAI,EAAE;UACxB,IAAIC,KAAK,GAAG,EAAE;UACd,IAAMC,WAAW,GAAGH,QAAQ,CAACC,KAAK;UAClC;UAAA;YAEI,IAAMG,cAAc,GAAGD,WAAW,CAACE,CAAC,CAAC,CAACD,cAAc;YACpD,IAAME,QAAQ,gBAAG;cAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAAA,gBACG,oBAAC,iBAAiB;cACd,OAAO,EAAC,UAAU;cAClB,SAAS,EAAC,iBAAiB;cAC3B,IAAI,EAAC,OAAO;cACZ,KAAK,EAAC,QAAQ;cACd,OAAO,EAAE;gBAAA,OAAMhB,OAAO,CAACiB,QAAQ,CAACH,cAAc,CAAC;cAAA,CAAC;cAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YAAA,EACjD,CACA;YACvBF,KAAK,CAACM,IAAI,CAAC;cACPC,GAAG,EAAEN,WAAW,CAACE,CAAC,CAAC,CAACD,cAAc;cAClCM,OAAO,EAAEP,WAAW,CAACE,CAAC,CAAC,CAACM,eAAe;cACvCC,OAAO,EAAEN;YACb,CAAC,CAAC;UAAC;UAfP,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,WAAW,CAACU,MAAM,EAAER,CAAC,EAAE,EAAE;YAAA;UAgB7C;UACAf,OAAO,CAACwB,QAAQ,CAAC;YAAEC,UAAU,EAAEb,KAAK;YAAEc,OAAO,EAAE;UAAM,CAAC,CAAC;QAC3D;MAEJ,CAAC,CAAC,CACLC,KAAK,CAAC,UAAAC,KAAK;QAAA,OAAIA,KAAK;MAAA,EAAC;IAC9B,CAAC;IAAA,MAODX,QAAQ,GAAG,UAACY,SAAS,EAAK;MACtBhC,YAAY,EAAE;MACdJ,gBAAgB,CAAC,mCAAmC,EAAE;QAAEe,EAAE,EAAEqB;MAAU,CAAC,CAAC,CACnEpB,IAAI,CACD,UAAUC,QAAQ,EAAE;QAChB;QACAZ,YAAY,EAAE;QACd,IAAIY,QAAQ,CAACoB,WAAW,IAAI,CAAC,EAAE;UAC3BnC,oBAAoB,CAACe,QAAQ,CAACqB,aAAa,EAAE,EAAE,CAAC;QACpD,CAAC,MAAM;UACHrC,UAAU,CAACgB,QAAQ,CAACqB,aAAa,CAAC;QACtC;MACJ,CAAC,CAAC,CAACJ,KAAK,CAAC,UAAAC,KAAK;QAAA,OAAIA,KAAK;MAAA,EAAC;IACpC,CAAC;IAAA,MACDI,mBAAmB,GAAG,YAAM;MACxBhC,OAAO,CAACI,KAAK,CAAC6B,YAAY,EAAE;IAChC,CAAC;IAnEG,MAAKC,KAAK,GAAG;MACTT,UAAU,EAAE;IAChB,CAAC;IAEDzB,OAAO,gCAAO;IACdA,OAAO,CAACK,OAAO,CAAC,MAAKD,KAAK,CAAC;IAAC;EAEhC;EAAC;IAAA;IAAA,OAuCD,mCAA0B+B,SAAS,EACnC;MACInC,OAAO,CAACK,OAAO,CAAC8B,SAAS,CAAC;IAC9B;EAAC;IAAA;IAAA,OAoBD,kBAAS;MACL,IAAMC,OAAO,GAAG,CACZ;QACIC,KAAK,EAAE,SAAS;QAChBC,SAAS,EAAE,SAAS;QACpBnB,GAAG,EAAE,SAAS;QACdoB,KAAK,EAAE;MACX,CAAC,EACD;QACIF,KAAK,EAAE,SAAS;QAChBC,SAAS,EAAE,SAAS;QACpBnB,GAAG,EAAE,SAAS;QACdoB,KAAK,EAAE;MACX,CAAC,CACJ;MAGD,oBACI;QAAK,KAAK,EAAEtC,QAAS;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACjB,oBAAC,oBAAoB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAEjB,oBAAC,aAAa;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACV,oBAAC,UAAU;QACP,OAAO,EAAEmC,OAAQ;QACjB,UAAU,EAAE,IAAI,CAACF,KAAK,CAACT,UAAW;QAClC,MAAM,EAAE;UAAEe,CAAC,EAAE;QAAsB,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACvC,eACF;QAAK,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAO,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC/B,oBAAC,MAAM;QAAC,GAAG,EAAC,QAAQ;QAAC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAQ,CAAE;QAAC,IAAI,EAAC,QAAQ;QAAC,SAAS,EAAC,yCAAyC;QAAC,OAAO,EAAE,IAAI,CAACV,mBAAoB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,YAE/I,CACH,CACM,CAEG,CACrB;IACd;EAAC;EAAA;AAAA,EA9GqChD,SAAS;AAAA,SAA9BmB,YAAY"},"metadata":{},"sourceType":"module"}