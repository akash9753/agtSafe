{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nimport * as Bal from '../../browser.js';\nimport * as dom from '../../dom.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport * as aria from '../aria/aria.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { Event, Emitter } from '../../../common/event.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { domEvent } from '../../event.js';\nvar $ = dom.$;\nvar defaultOpts = {\n  inputBackground: Color.fromHex('#3C3C3C'),\n  inputForeground: Color.fromHex('#CCCCCC'),\n  inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n  inputValidationInfoBackground: Color.fromHex('#063B49'),\n  inputValidationWarningBorder: Color.fromHex('#B89500'),\n  inputValidationWarningBackground: Color.fromHex('#352A05'),\n  inputValidationErrorBorder: Color.fromHex('#BE1100'),\n  inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nvar InputBox = /** @class */function (_super) {\n  __extends(InputBox, _super);\n  function InputBox(container, contextViewProvider, options) {\n    var _this = _super.call(this) || this;\n    _this.state = 'idle';\n    _this.maxHeight = Number.POSITIVE_INFINITY;\n    _this._onDidChange = _this._register(new Emitter());\n    _this.onDidChange = _this._onDidChange.event;\n    _this._onDidHeightChange = _this._register(new Emitter());\n    _this.onDidHeightChange = _this._onDidHeightChange.event;\n    _this.contextViewProvider = contextViewProvider;\n    _this.options = options || Object.create(null);\n    mixin(_this.options, defaultOpts, false);\n    _this.message = null;\n    _this.placeholder = _this.options.placeholder || '';\n    _this.ariaLabel = _this.options.ariaLabel || '';\n    _this.inputBackground = _this.options.inputBackground;\n    _this.inputForeground = _this.options.inputForeground;\n    _this.inputBorder = _this.options.inputBorder;\n    _this.inputValidationInfoBorder = _this.options.inputValidationInfoBorder;\n    _this.inputValidationInfoBackground = _this.options.inputValidationInfoBackground;\n    _this.inputValidationInfoForeground = _this.options.inputValidationInfoForeground;\n    _this.inputValidationWarningBorder = _this.options.inputValidationWarningBorder;\n    _this.inputValidationWarningBackground = _this.options.inputValidationWarningBackground;\n    _this.inputValidationWarningForeground = _this.options.inputValidationWarningForeground;\n    _this.inputValidationErrorBorder = _this.options.inputValidationErrorBorder;\n    _this.inputValidationErrorBackground = _this.options.inputValidationErrorBackground;\n    _this.inputValidationErrorForeground = _this.options.inputValidationErrorForeground;\n    if (_this.options.validationOptions) {\n      _this.validation = _this.options.validationOptions.validation;\n    }\n    _this.element = dom.append(container, $('.monaco-inputbox.idle'));\n    var tagName = _this.options.flexibleHeight ? 'textarea' : 'input';\n    var wrapper = dom.append(_this.element, $('.wrapper'));\n    _this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n    _this.input.setAttribute('autocorrect', 'off');\n    _this.input.setAttribute('autocapitalize', 'off');\n    _this.input.setAttribute('spellcheck', 'false');\n    _this.onfocus(_this.input, function () {\n      return dom.addClass(_this.element, 'synthetic-focus');\n    });\n    _this.onblur(_this.input, function () {\n      return dom.removeClass(_this.element, 'synthetic-focus');\n    });\n    if (_this.options.flexibleHeight) {\n      _this.maxHeight = typeof _this.options.flexibleMaxHeight === 'number' ? _this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n      _this.mirror = dom.append(wrapper, $('div.mirror'));\n      _this.mirror.innerHTML = '&#160;';\n      _this.scrollableElement = new ScrollableElement(_this.element, {\n        vertical: 1 /* Auto */\n      });\n      if (_this.options.flexibleWidth) {\n        _this.input.setAttribute('wrap', 'off');\n        _this.mirror.style.whiteSpace = 'pre';\n        _this.mirror.style.wordWrap = 'initial';\n      }\n      dom.append(container, _this.scrollableElement.getDomNode());\n      _this._register(_this.scrollableElement);\n      // from ScrollableElement to DOM\n      _this._register(_this.scrollableElement.onScroll(function (e) {\n        return _this.input.scrollTop = e.scrollTop;\n      }));\n      var onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), function () {\n        var selection = document.getSelection();\n        return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n      });\n      // from DOM to ScrollableElement\n      _this._register(onSelectionChange(_this.updateScrollDimensions, _this));\n      _this._register(_this.onDidHeightChange(_this.updateScrollDimensions, _this));\n    } else {\n      _this.input.type = _this.options.type || 'text';\n      _this.input.setAttribute('wrap', 'off');\n    }\n    if (_this.ariaLabel) {\n      _this.input.setAttribute('aria-label', _this.ariaLabel);\n    }\n    if (_this.placeholder) {\n      _this.setPlaceHolder(_this.placeholder);\n    }\n    _this.oninput(_this.input, function () {\n      return _this.onValueChange();\n    });\n    _this.onblur(_this.input, function () {\n      return _this.onBlur();\n    });\n    _this.onfocus(_this.input, function () {\n      return _this.onFocus();\n    });\n    // Add placeholder shim for IE because IE decides to hide the placeholder on focus (we dont want that!)\n    if (_this.placeholder && Bal.isIE) {\n      _this.onclick(_this.input, function (e) {\n        dom.EventHelper.stop(e, true);\n        _this.input.focus();\n      });\n    }\n    _this.ignoreGesture(_this.input);\n    setTimeout(function () {\n      return _this.updateMirror();\n    }, 0);\n    // Support actions\n    if (_this.options.actions) {\n      _this.actionbar = _this._register(new ActionBar(_this.element));\n      _this.actionbar.push(_this.options.actions, {\n        icon: true,\n        label: false\n      });\n    }\n    _this.applyStyles();\n    return _this;\n  }\n  InputBox.prototype.onBlur = function () {\n    this._hideMessage();\n  };\n  InputBox.prototype.onFocus = function () {\n    this._showMessage();\n  };\n  InputBox.prototype.setPlaceHolder = function (placeHolder) {\n    this.placeholder = placeHolder;\n    this.input.setAttribute('placeholder', placeHolder);\n    this.input.title = placeHolder;\n  };\n  InputBox.prototype.setAriaLabel = function (label) {\n    this.ariaLabel = label;\n    if (label) {\n      this.input.setAttribute('aria-label', this.ariaLabel);\n    } else {\n      this.input.removeAttribute('aria-label');\n    }\n  };\n  Object.defineProperty(InputBox.prototype, \"inputElement\", {\n    get: function get() {\n      return this.input;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(InputBox.prototype, \"value\", {\n    get: function get() {\n      return this.input.value;\n    },\n    set: function set(newValue) {\n      if (this.input.value !== newValue) {\n        this.input.value = newValue;\n        this.onValueChange();\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(InputBox.prototype, \"height\", {\n    get: function get() {\n      return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  InputBox.prototype.focus = function () {\n    this.input.focus();\n  };\n  InputBox.prototype.blur = function () {\n    this.input.blur();\n  };\n  InputBox.prototype.hasFocus = function () {\n    return document.activeElement === this.input;\n  };\n  InputBox.prototype.select = function (range) {\n    if (range === void 0) {\n      range = null;\n    }\n    this.input.select();\n    if (range) {\n      this.input.setSelectionRange(range.start, range.end);\n    }\n  };\n  InputBox.prototype.enable = function () {\n    this.input.removeAttribute('disabled');\n  };\n  InputBox.prototype.disable = function () {\n    this.blur();\n    this.input.disabled = true;\n    this._hideMessage();\n  };\n  Object.defineProperty(InputBox.prototype, \"width\", {\n    get: function get() {\n      return dom.getTotalWidth(this.input);\n    },\n    set: function set(width) {\n      if (this.options.flexibleHeight && this.options.flexibleWidth) {\n        // textarea with horizontal scrolling\n        var horizontalPadding = 0;\n        if (this.mirror) {\n          var paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n          var paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n          horizontalPadding = paddingLeft + paddingRight;\n        }\n        this.input.style.width = width - horizontalPadding + 'px';\n      } else {\n        this.input.style.width = width + 'px';\n      }\n      if (this.mirror) {\n        this.mirror.style.width = width + 'px';\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(InputBox.prototype, \"paddingRight\", {\n    set: function set(paddingRight) {\n      if (this.options.flexibleHeight && this.options.flexibleWidth) {\n        this.input.style.width = \"calc(100% - \" + paddingRight + \"px)\";\n      } else {\n        this.input.style.paddingRight = paddingRight + 'px';\n      }\n      if (this.mirror) {\n        this.mirror.style.paddingRight = paddingRight + 'px';\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  InputBox.prototype.updateScrollDimensions = function () {\n    if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n      return;\n    }\n    var scrollHeight = this.cachedContentHeight;\n    var height = this.cachedHeight;\n    var scrollTop = this.input.scrollTop;\n    this.scrollableElement.setScrollDimensions({\n      scrollHeight: scrollHeight,\n      height: height\n    });\n    this.scrollableElement.setScrollPosition({\n      scrollTop: scrollTop\n    });\n  };\n  InputBox.prototype.showMessage = function (message, force) {\n    this.message = message;\n    dom.removeClass(this.element, 'idle');\n    dom.removeClass(this.element, 'info');\n    dom.removeClass(this.element, 'warning');\n    dom.removeClass(this.element, 'error');\n    dom.addClass(this.element, this.classForType(message.type));\n    var styles = this.stylesForType(this.message.type);\n    this.element.style.border = styles.border ? \"1px solid \" + styles.border : '';\n    // ARIA Support\n    var alertText;\n    if (message.type === 3 /* ERROR */) {\n      alertText = nls.localize('alertErrorMessage', \"Error: {0}\", message.content);\n    } else if (message.type === 2 /* WARNING */) {\n      alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", message.content);\n    } else {\n      alertText = nls.localize('alertInfoMessage', \"Info: {0}\", message.content);\n    }\n    aria.alert(alertText);\n    if (this.hasFocus() || force) {\n      this._showMessage();\n    }\n  };\n  InputBox.prototype.hideMessage = function () {\n    this.message = null;\n    dom.removeClass(this.element, 'info');\n    dom.removeClass(this.element, 'warning');\n    dom.removeClass(this.element, 'error');\n    dom.addClass(this.element, 'idle');\n    this._hideMessage();\n    this.applyStyles();\n  };\n  InputBox.prototype.validate = function () {\n    var errorMsg = null;\n    if (this.validation) {\n      errorMsg = this.validation(this.value);\n      if (errorMsg) {\n        this.inputElement.setAttribute('aria-invalid', 'true');\n        this.showMessage(errorMsg);\n      } else if (this.inputElement.hasAttribute('aria-invalid')) {\n        this.inputElement.removeAttribute('aria-invalid');\n        this.hideMessage();\n      }\n    }\n    return !errorMsg;\n  };\n  InputBox.prototype.stylesForType = function (type) {\n    switch (type) {\n      case 1 /* INFO */:\n        return {\n          border: this.inputValidationInfoBorder,\n          background: this.inputValidationInfoBackground,\n          foreground: this.inputValidationInfoForeground\n        };\n      case 2 /* WARNING */:\n        return {\n          border: this.inputValidationWarningBorder,\n          background: this.inputValidationWarningBackground,\n          foreground: this.inputValidationWarningForeground\n        };\n      default:\n        return {\n          border: this.inputValidationErrorBorder,\n          background: this.inputValidationErrorBackground,\n          foreground: this.inputValidationErrorForeground\n        };\n    }\n  };\n  InputBox.prototype.classForType = function (type) {\n    switch (type) {\n      case 1 /* INFO */:\n        return 'info';\n      case 2 /* WARNING */:\n        return 'warning';\n      default:\n        return 'error';\n    }\n  };\n  InputBox.prototype._showMessage = function () {\n    var _this = this;\n    if (!this.contextViewProvider || !this.message) {\n      return;\n    }\n    var div;\n    var layout = function layout() {\n      return div.style.width = dom.getTotalWidth(_this.element) + 'px';\n    };\n    this.contextViewProvider.showContextView({\n      getAnchor: function getAnchor() {\n        return _this.element;\n      },\n      anchorAlignment: 1 /* RIGHT */,\n      render: function render(container) {\n        if (!_this.message) {\n          return null;\n        }\n        div = dom.append(container, $('.monaco-inputbox-container'));\n        layout();\n        var renderOptions = {\n          inline: true,\n          className: 'monaco-inputbox-message'\n        };\n        var spanElement = _this.message.formatContent ? renderFormattedText(_this.message.content, renderOptions) : renderText(_this.message.content, renderOptions);\n        dom.addClass(spanElement, _this.classForType(_this.message.type));\n        var styles = _this.stylesForType(_this.message.type);\n        spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\n        spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\n        spanElement.style.border = styles.border ? \"1px solid \" + styles.border : '';\n        dom.append(div, spanElement);\n        return null;\n      },\n      onHide: function onHide() {\n        _this.state = 'closed';\n      },\n      layout: layout\n    });\n    this.state = 'open';\n  };\n  InputBox.prototype._hideMessage = function () {\n    if (!this.contextViewProvider) {\n      return;\n    }\n    if (this.state === 'open') {\n      this.contextViewProvider.hideContextView();\n    }\n    this.state = 'idle';\n  };\n  InputBox.prototype.onValueChange = function () {\n    this._onDidChange.fire(this.value);\n    this.validate();\n    this.updateMirror();\n    dom.toggleClass(this.input, 'empty', !this.value);\n    if (this.state === 'open' && this.contextViewProvider) {\n      this.contextViewProvider.layout();\n    }\n  };\n  InputBox.prototype.updateMirror = function () {\n    if (!this.mirror) {\n      return;\n    }\n    var value = this.value;\n    var lastCharCode = value.charCodeAt(value.length - 1);\n    var suffix = lastCharCode === 10 ? ' ' : '';\n    var mirrorTextContent = value + suffix;\n    if (mirrorTextContent) {\n      this.mirror.textContent = value + suffix;\n    } else {\n      this.mirror.innerHTML = '&#160;';\n    }\n    this.layout();\n  };\n  InputBox.prototype.style = function (styles) {\n    this.inputBackground = styles.inputBackground;\n    this.inputForeground = styles.inputForeground;\n    this.inputBorder = styles.inputBorder;\n    this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n    this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n    this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n    this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n    this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n    this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n    this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n    this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n    this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n    this.applyStyles();\n  };\n  InputBox.prototype.applyStyles = function () {\n    var background = this.inputBackground ? this.inputBackground.toString() : '';\n    var foreground = this.inputForeground ? this.inputForeground.toString() : '';\n    var border = this.inputBorder ? this.inputBorder.toString() : '';\n    this.element.style.backgroundColor = background;\n    this.element.style.color = foreground;\n    this.input.style.backgroundColor = background;\n    this.input.style.color = foreground;\n    this.element.style.borderWidth = border ? '1px' : '';\n    this.element.style.borderStyle = border ? 'solid' : '';\n    this.element.style.borderColor = border;\n  };\n  InputBox.prototype.layout = function () {\n    if (!this.mirror) {\n      return;\n    }\n    var previousHeight = this.cachedContentHeight;\n    this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n    if (previousHeight !== this.cachedContentHeight) {\n      this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n      this.input.style.height = this.cachedHeight + 'px';\n      this._onDidHeightChange.fire(this.cachedContentHeight);\n    }\n  };\n  InputBox.prototype.insertAtCursor = function (text) {\n    var inputElement = this.inputElement;\n    var start = inputElement.selectionStart;\n    var end = inputElement.selectionEnd;\n    var content = inputElement.value;\n    if (start !== null && end !== null) {\n      this.value = content.substr(0, start) + text + content.substr(end);\n      inputElement.setSelectionRange(start + 1, start + 1);\n      this.layout();\n    }\n  };\n  InputBox.prototype.dispose = function () {\n    this._hideMessage();\n    this.message = null;\n    if (this.actionbar) {\n      this.actionbar.dispose();\n    }\n    _super.prototype.dispose.call(this);\n  };\n  return InputBox;\n}(Widget);\nexport { InputBox };\nvar HistoryInputBox = /** @class */function (_super) {\n  __extends(HistoryInputBox, _super);\n  function HistoryInputBox(container, contextViewProvider, options) {\n    var _this = _super.call(this, container, contextViewProvider, options) || this;\n    _this.history = new HistoryNavigator(options.history, 100);\n    return _this;\n  }\n  HistoryInputBox.prototype.addToHistory = function () {\n    if (this.value && this.value !== this.getCurrentValue()) {\n      this.history.add(this.value);\n    }\n  };\n  HistoryInputBox.prototype.showNextValue = function () {\n    if (!this.history.has(this.value)) {\n      this.addToHistory();\n    }\n    var next = this.getNextValue();\n    if (next) {\n      next = next === this.value ? this.getNextValue() : next;\n    }\n    if (next) {\n      this.value = next;\n      aria.status(this.value);\n    }\n  };\n  HistoryInputBox.prototype.showPreviousValue = function () {\n    if (!this.history.has(this.value)) {\n      this.addToHistory();\n    }\n    var previous = this.getPreviousValue();\n    if (previous) {\n      previous = previous === this.value ? this.getPreviousValue() : previous;\n    }\n    if (previous) {\n      this.value = previous;\n      aria.status(this.value);\n    }\n  };\n  HistoryInputBox.prototype.getCurrentValue = function () {\n    var currentValue = this.history.current();\n    if (!currentValue) {\n      currentValue = this.history.last();\n      this.history.next();\n    }\n    return currentValue;\n  };\n  HistoryInputBox.prototype.getPreviousValue = function () {\n    return this.history.previous() || this.history.first();\n  };\n  HistoryInputBox.prototype.getNextValue = function () {\n    return this.history.next() || this.history.last();\n  };\n  return HistoryInputBox;\n}(InputBox);\nexport { HistoryInputBox };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","nls","Bal","dom","renderFormattedText","renderText","aria","ActionBar","Event","Emitter","Widget","Color","mixin","HistoryNavigator","ScrollableElement","domEvent","$","defaultOpts","inputBackground","fromHex","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","InputBox","_super","container","contextViewProvider","options","_this","call","state","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","_register","onDidChange","event","_onDidHeightChange","onDidHeightChange","message","placeholder","ariaLabel","inputBorder","inputValidationInfoForeground","inputValidationWarningForeground","inputValidationErrorForeground","validationOptions","validation","element","append","tagName","flexibleHeight","wrapper","input","setAttribute","onfocus","addClass","onblur","removeClass","flexibleMaxHeight","mirror","innerHTML","scrollableElement","vertical","flexibleWidth","style","whiteSpace","wordWrap","getDomNode","onScroll","e","scrollTop","onSelectionChange","filter","document","selection","getSelection","anchorNode","updateScrollDimensions","type","setPlaceHolder","oninput","onValueChange","onBlur","onFocus","isIE","onclick","EventHelper","stop","focus","ignoreGesture","setTimeout","updateMirror","actions","actionbar","push","icon","label","applyStyles","_hideMessage","_showMessage","placeHolder","title","setAriaLabel","removeAttribute","defineProperty","get","enumerable","configurable","value","set","newValue","cachedHeight","getTotalHeight","blur","hasFocus","activeElement","select","range","setSelectionRange","start","end","enable","disable","disabled","getTotalWidth","width","horizontalPadding","paddingLeft","parseFloat","paddingRight","cachedContentHeight","scrollHeight","height","setScrollDimensions","setScrollPosition","showMessage","force","classForType","styles","stylesForType","border","alertText","localize","content","alert","hideMessage","validate","errorMsg","inputElement","hasAttribute","background","foreground","div","layout","showContextView","getAnchor","anchorAlignment","render","renderOptions","inline","className","spanElement","formatContent","backgroundColor","toString","color","onHide","hideContextView","fire","toggleClass","lastCharCode","charCodeAt","length","suffix","mirrorTextContent","textContent","borderWidth","borderStyle","borderColor","previousHeight","Math","min","insertAtCursor","text","selectionStart","selectionEnd","substr","dispose","HistoryInputBox","history","addToHistory","getCurrentValue","add","showNextValue","has","next","getNextValue","status","showPreviousValue","previous","getPreviousValue","currentValue","current","last","first"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './inputBox.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as Bal from '../../browser.js';\r\nimport * as dom from '../../dom.js';\r\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\r\nimport * as aria from '../aria/aria.js';\r\nimport { ActionBar } from '../actionbar/actionbar.js';\r\nimport { Event, Emitter } from '../../../common/event.js';\r\nimport { Widget } from '../widget.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { HistoryNavigator } from '../../../common/history.js';\r\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\r\nimport { domEvent } from '../../event.js';\r\nvar $ = dom.$;\r\nvar defaultOpts = {\r\n    inputBackground: Color.fromHex('#3C3C3C'),\r\n    inputForeground: Color.fromHex('#CCCCCC'),\r\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\r\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\r\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\r\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\r\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\r\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\r\n};\r\nvar InputBox = /** @class */ (function (_super) {\r\n    __extends(InputBox, _super);\r\n    function InputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.state = 'idle';\r\n        _this.maxHeight = Number.POSITIVE_INFINITY;\r\n        _this._onDidChange = _this._register(new Emitter());\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onDidHeightChange = _this._register(new Emitter());\r\n        _this.onDidHeightChange = _this._onDidHeightChange.event;\r\n        _this.contextViewProvider = contextViewProvider;\r\n        _this.options = options || Object.create(null);\r\n        mixin(_this.options, defaultOpts, false);\r\n        _this.message = null;\r\n        _this.placeholder = _this.options.placeholder || '';\r\n        _this.ariaLabel = _this.options.ariaLabel || '';\r\n        _this.inputBackground = _this.options.inputBackground;\r\n        _this.inputForeground = _this.options.inputForeground;\r\n        _this.inputBorder = _this.options.inputBorder;\r\n        _this.inputValidationInfoBorder = _this.options.inputValidationInfoBorder;\r\n        _this.inputValidationInfoBackground = _this.options.inputValidationInfoBackground;\r\n        _this.inputValidationInfoForeground = _this.options.inputValidationInfoForeground;\r\n        _this.inputValidationWarningBorder = _this.options.inputValidationWarningBorder;\r\n        _this.inputValidationWarningBackground = _this.options.inputValidationWarningBackground;\r\n        _this.inputValidationWarningForeground = _this.options.inputValidationWarningForeground;\r\n        _this.inputValidationErrorBorder = _this.options.inputValidationErrorBorder;\r\n        _this.inputValidationErrorBackground = _this.options.inputValidationErrorBackground;\r\n        _this.inputValidationErrorForeground = _this.options.inputValidationErrorForeground;\r\n        if (_this.options.validationOptions) {\r\n            _this.validation = _this.options.validationOptions.validation;\r\n        }\r\n        _this.element = dom.append(container, $('.monaco-inputbox.idle'));\r\n        var tagName = _this.options.flexibleHeight ? 'textarea' : 'input';\r\n        var wrapper = dom.append(_this.element, $('.wrapper'));\r\n        _this.input = dom.append(wrapper, $(tagName + '.input.empty'));\r\n        _this.input.setAttribute('autocorrect', 'off');\r\n        _this.input.setAttribute('autocapitalize', 'off');\r\n        _this.input.setAttribute('spellcheck', 'false');\r\n        _this.onfocus(_this.input, function () { return dom.addClass(_this.element, 'synthetic-focus'); });\r\n        _this.onblur(_this.input, function () { return dom.removeClass(_this.element, 'synthetic-focus'); });\r\n        if (_this.options.flexibleHeight) {\r\n            _this.maxHeight = typeof _this.options.flexibleMaxHeight === 'number' ? _this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\r\n            _this.mirror = dom.append(wrapper, $('div.mirror'));\r\n            _this.mirror.innerHTML = '&#160;';\r\n            _this.scrollableElement = new ScrollableElement(_this.element, { vertical: 1 /* Auto */ });\r\n            if (_this.options.flexibleWidth) {\r\n                _this.input.setAttribute('wrap', 'off');\r\n                _this.mirror.style.whiteSpace = 'pre';\r\n                _this.mirror.style.wordWrap = 'initial';\r\n            }\r\n            dom.append(container, _this.scrollableElement.getDomNode());\r\n            _this._register(_this.scrollableElement);\r\n            // from ScrollableElement to DOM\r\n            _this._register(_this.scrollableElement.onScroll(function (e) { return _this.input.scrollTop = e.scrollTop; }));\r\n            var onSelectionChange = Event.filter(domEvent(document, 'selectionchange'), function () {\r\n                var selection = document.getSelection();\r\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\r\n            });\r\n            // from DOM to ScrollableElement\r\n            _this._register(onSelectionChange(_this.updateScrollDimensions, _this));\r\n            _this._register(_this.onDidHeightChange(_this.updateScrollDimensions, _this));\r\n        }\r\n        else {\r\n            _this.input.type = _this.options.type || 'text';\r\n            _this.input.setAttribute('wrap', 'off');\r\n        }\r\n        if (_this.ariaLabel) {\r\n            _this.input.setAttribute('aria-label', _this.ariaLabel);\r\n        }\r\n        if (_this.placeholder) {\r\n            _this.setPlaceHolder(_this.placeholder);\r\n        }\r\n        _this.oninput(_this.input, function () { return _this.onValueChange(); });\r\n        _this.onblur(_this.input, function () { return _this.onBlur(); });\r\n        _this.onfocus(_this.input, function () { return _this.onFocus(); });\r\n        // Add placeholder shim for IE because IE decides to hide the placeholder on focus (we dont want that!)\r\n        if (_this.placeholder && Bal.isIE) {\r\n            _this.onclick(_this.input, function (e) {\r\n                dom.EventHelper.stop(e, true);\r\n                _this.input.focus();\r\n            });\r\n        }\r\n        _this.ignoreGesture(_this.input);\r\n        setTimeout(function () { return _this.updateMirror(); }, 0);\r\n        // Support actions\r\n        if (_this.options.actions) {\r\n            _this.actionbar = _this._register(new ActionBar(_this.element));\r\n            _this.actionbar.push(_this.options.actions, { icon: true, label: false });\r\n        }\r\n        _this.applyStyles();\r\n        return _this;\r\n    }\r\n    InputBox.prototype.onBlur = function () {\r\n        this._hideMessage();\r\n    };\r\n    InputBox.prototype.onFocus = function () {\r\n        this._showMessage();\r\n    };\r\n    InputBox.prototype.setPlaceHolder = function (placeHolder) {\r\n        this.placeholder = placeHolder;\r\n        this.input.setAttribute('placeholder', placeHolder);\r\n        this.input.title = placeHolder;\r\n    };\r\n    InputBox.prototype.setAriaLabel = function (label) {\r\n        this.ariaLabel = label;\r\n        if (label) {\r\n            this.input.setAttribute('aria-label', this.ariaLabel);\r\n        }\r\n        else {\r\n            this.input.removeAttribute('aria-label');\r\n        }\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"inputElement\", {\r\n        get: function () {\r\n            return this.input;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"value\", {\r\n        get: function () {\r\n            return this.input.value;\r\n        },\r\n        set: function (newValue) {\r\n            if (this.input.value !== newValue) {\r\n                this.input.value = newValue;\r\n                this.onValueChange();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"height\", {\r\n        get: function () {\r\n            return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.focus = function () {\r\n        this.input.focus();\r\n    };\r\n    InputBox.prototype.blur = function () {\r\n        this.input.blur();\r\n    };\r\n    InputBox.prototype.hasFocus = function () {\r\n        return document.activeElement === this.input;\r\n    };\r\n    InputBox.prototype.select = function (range) {\r\n        if (range === void 0) { range = null; }\r\n        this.input.select();\r\n        if (range) {\r\n            this.input.setSelectionRange(range.start, range.end);\r\n        }\r\n    };\r\n    InputBox.prototype.enable = function () {\r\n        this.input.removeAttribute('disabled');\r\n    };\r\n    InputBox.prototype.disable = function () {\r\n        this.blur();\r\n        this.input.disabled = true;\r\n        this._hideMessage();\r\n    };\r\n    Object.defineProperty(InputBox.prototype, \"width\", {\r\n        get: function () {\r\n            return dom.getTotalWidth(this.input);\r\n        },\r\n        set: function (width) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                // textarea with horizontal scrolling\r\n                var horizontalPadding = 0;\r\n                if (this.mirror) {\r\n                    var paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\r\n                    var paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\r\n                    horizontalPadding = paddingLeft + paddingRight;\r\n                }\r\n                this.input.style.width = (width - horizontalPadding) + 'px';\r\n            }\r\n            else {\r\n                this.input.style.width = width + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.width = width + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputBox.prototype, \"paddingRight\", {\r\n        set: function (paddingRight) {\r\n            if (this.options.flexibleHeight && this.options.flexibleWidth) {\r\n                this.input.style.width = \"calc(100% - \" + paddingRight + \"px)\";\r\n            }\r\n            else {\r\n                this.input.style.paddingRight = paddingRight + 'px';\r\n            }\r\n            if (this.mirror) {\r\n                this.mirror.style.paddingRight = paddingRight + 'px';\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputBox.prototype.updateScrollDimensions = function () {\r\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\r\n            return;\r\n        }\r\n        var scrollHeight = this.cachedContentHeight;\r\n        var height = this.cachedHeight;\r\n        var scrollTop = this.input.scrollTop;\r\n        this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight, height: height });\r\n        this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n    };\r\n    InputBox.prototype.showMessage = function (message, force) {\r\n        this.message = message;\r\n        dom.removeClass(this.element, 'idle');\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, this.classForType(message.type));\r\n        var styles = this.stylesForType(this.message.type);\r\n        this.element.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n        // ARIA Support\r\n        var alertText;\r\n        if (message.type === 3 /* ERROR */) {\r\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", message.content);\r\n        }\r\n        else if (message.type === 2 /* WARNING */) {\r\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", message.content);\r\n        }\r\n        else {\r\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", message.content);\r\n        }\r\n        aria.alert(alertText);\r\n        if (this.hasFocus() || force) {\r\n            this._showMessage();\r\n        }\r\n    };\r\n    InputBox.prototype.hideMessage = function () {\r\n        this.message = null;\r\n        dom.removeClass(this.element, 'info');\r\n        dom.removeClass(this.element, 'warning');\r\n        dom.removeClass(this.element, 'error');\r\n        dom.addClass(this.element, 'idle');\r\n        this._hideMessage();\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.validate = function () {\r\n        var errorMsg = null;\r\n        if (this.validation) {\r\n            errorMsg = this.validation(this.value);\r\n            if (errorMsg) {\r\n                this.inputElement.setAttribute('aria-invalid', 'true');\r\n                this.showMessage(errorMsg);\r\n            }\r\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\r\n                this.inputElement.removeAttribute('aria-invalid');\r\n                this.hideMessage();\r\n            }\r\n        }\r\n        return !errorMsg;\r\n    };\r\n    InputBox.prototype.stylesForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\r\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\r\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\r\n        }\r\n    };\r\n    InputBox.prototype.classForType = function (type) {\r\n        switch (type) {\r\n            case 1 /* INFO */: return 'info';\r\n            case 2 /* WARNING */: return 'warning';\r\n            default: return 'error';\r\n        }\r\n    };\r\n    InputBox.prototype._showMessage = function () {\r\n        var _this = this;\r\n        if (!this.contextViewProvider || !this.message) {\r\n            return;\r\n        }\r\n        var div;\r\n        var layout = function () { return div.style.width = dom.getTotalWidth(_this.element) + 'px'; };\r\n        this.contextViewProvider.showContextView({\r\n            getAnchor: function () { return _this.element; },\r\n            anchorAlignment: 1 /* RIGHT */,\r\n            render: function (container) {\r\n                if (!_this.message) {\r\n                    return null;\r\n                }\r\n                div = dom.append(container, $('.monaco-inputbox-container'));\r\n                layout();\r\n                var renderOptions = {\r\n                    inline: true,\r\n                    className: 'monaco-inputbox-message'\r\n                };\r\n                var spanElement = (_this.message.formatContent\r\n                    ? renderFormattedText(_this.message.content, renderOptions)\r\n                    : renderText(_this.message.content, renderOptions));\r\n                dom.addClass(spanElement, _this.classForType(_this.message.type));\r\n                var styles = _this.stylesForType(_this.message.type);\r\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\r\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\r\n                spanElement.style.border = styles.border ? \"1px solid \" + styles.border : '';\r\n                dom.append(div, spanElement);\r\n                return null;\r\n            },\r\n            onHide: function () {\r\n                _this.state = 'closed';\r\n            },\r\n            layout: layout\r\n        });\r\n        this.state = 'open';\r\n    };\r\n    InputBox.prototype._hideMessage = function () {\r\n        if (!this.contextViewProvider) {\r\n            return;\r\n        }\r\n        if (this.state === 'open') {\r\n            this.contextViewProvider.hideContextView();\r\n        }\r\n        this.state = 'idle';\r\n    };\r\n    InputBox.prototype.onValueChange = function () {\r\n        this._onDidChange.fire(this.value);\r\n        this.validate();\r\n        this.updateMirror();\r\n        dom.toggleClass(this.input, 'empty', !this.value);\r\n        if (this.state === 'open' && this.contextViewProvider) {\r\n            this.contextViewProvider.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.updateMirror = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var value = this.value;\r\n        var lastCharCode = value.charCodeAt(value.length - 1);\r\n        var suffix = lastCharCode === 10 ? ' ' : '';\r\n        var mirrorTextContent = value + suffix;\r\n        if (mirrorTextContent) {\r\n            this.mirror.textContent = value + suffix;\r\n        }\r\n        else {\r\n            this.mirror.innerHTML = '&#160;';\r\n        }\r\n        this.layout();\r\n    };\r\n    InputBox.prototype.style = function (styles) {\r\n        this.inputBackground = styles.inputBackground;\r\n        this.inputForeground = styles.inputForeground;\r\n        this.inputBorder = styles.inputBorder;\r\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\r\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\r\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\r\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\r\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\r\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\r\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\r\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\r\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\r\n        this.applyStyles();\r\n    };\r\n    InputBox.prototype.applyStyles = function () {\r\n        var background = this.inputBackground ? this.inputBackground.toString() : '';\r\n        var foreground = this.inputForeground ? this.inputForeground.toString() : '';\r\n        var border = this.inputBorder ? this.inputBorder.toString() : '';\r\n        this.element.style.backgroundColor = background;\r\n        this.element.style.color = foreground;\r\n        this.input.style.backgroundColor = background;\r\n        this.input.style.color = foreground;\r\n        this.element.style.borderWidth = border ? '1px' : '';\r\n        this.element.style.borderStyle = border ? 'solid' : '';\r\n        this.element.style.borderColor = border;\r\n    };\r\n    InputBox.prototype.layout = function () {\r\n        if (!this.mirror) {\r\n            return;\r\n        }\r\n        var previousHeight = this.cachedContentHeight;\r\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\r\n        if (previousHeight !== this.cachedContentHeight) {\r\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\r\n            this.input.style.height = this.cachedHeight + 'px';\r\n            this._onDidHeightChange.fire(this.cachedContentHeight);\r\n        }\r\n    };\r\n    InputBox.prototype.insertAtCursor = function (text) {\r\n        var inputElement = this.inputElement;\r\n        var start = inputElement.selectionStart;\r\n        var end = inputElement.selectionEnd;\r\n        var content = inputElement.value;\r\n        if (start !== null && end !== null) {\r\n            this.value = content.substr(0, start) + text + content.substr(end);\r\n            inputElement.setSelectionRange(start + 1, start + 1);\r\n            this.layout();\r\n        }\r\n    };\r\n    InputBox.prototype.dispose = function () {\r\n        this._hideMessage();\r\n        this.message = null;\r\n        if (this.actionbar) {\r\n            this.actionbar.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return InputBox;\r\n}(Widget));\r\nexport { InputBox };\r\nvar HistoryInputBox = /** @class */ (function (_super) {\r\n    __extends(HistoryInputBox, _super);\r\n    function HistoryInputBox(container, contextViewProvider, options) {\r\n        var _this = _super.call(this, container, contextViewProvider, options) || this;\r\n        _this.history = new HistoryNavigator(options.history, 100);\r\n        return _this;\r\n    }\r\n    HistoryInputBox.prototype.addToHistory = function () {\r\n        if (this.value && this.value !== this.getCurrentValue()) {\r\n            this.history.add(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showNextValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var next = this.getNextValue();\r\n        if (next) {\r\n            next = next === this.value ? this.getNextValue() : next;\r\n        }\r\n        if (next) {\r\n            this.value = next;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.showPreviousValue = function () {\r\n        if (!this.history.has(this.value)) {\r\n            this.addToHistory();\r\n        }\r\n        var previous = this.getPreviousValue();\r\n        if (previous) {\r\n            previous = previous === this.value ? this.getPreviousValue() : previous;\r\n        }\r\n        if (previous) {\r\n            this.value = previous;\r\n            aria.status(this.value);\r\n        }\r\n    };\r\n    HistoryInputBox.prototype.getCurrentValue = function () {\r\n        var currentValue = this.history.current();\r\n        if (!currentValue) {\r\n            currentValue = this.history.last();\r\n            this.history.next();\r\n        }\r\n        return currentValue;\r\n    };\r\n    HistoryInputBox.prototype.getPreviousValue = function () {\r\n        return this.history.previous() || this.history.first();\r\n    };\r\n    HistoryInputBox.prototype.getNextValue = function () {\r\n        return this.history.next() || this.history.last();\r\n    };\r\n    return HistoryInputBox;\r\n}(InputBox));\r\nexport { HistoryInputBox };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}