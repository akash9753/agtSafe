{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = timeValidator;\nvar _moment = _interopRequireDefault(require(\"moment\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n// Formats which are correctly parsed to time (supported by momentjs)\nvar STRICT_FORMATS = ['YYYY-MM-DDTHH:mm:ss.SSSZ', 'X',\n// Unix timestamp\n'x' // Unix ms timestamp\n];\n/**\n * Time cell validator\n *\n * @private\n * @validator TimeValidator\n * @param {*} value - Value of edited cell\n * @param {Function} callback - Callback called with validation result\n */\n\nfunction timeValidator(value, callback) {\n  var timeFormat = this.timeFormat || 'h:mm:ss a';\n  var valid = true;\n  var valueToValidate = value;\n  if (valueToValidate === null) {\n    valueToValidate = '';\n  }\n  valueToValidate = /^\\d{3,}$/.test(valueToValidate) ? parseInt(valueToValidate, 10) : valueToValidate;\n  var twoDigitValue = /^\\d{1,2}$/.test(valueToValidate);\n  if (twoDigitValue) {\n    valueToValidate += ':00';\n  }\n  var date = (0, _moment.default)(valueToValidate, STRICT_FORMATS, true).isValid() ? (0, _moment.default)(valueToValidate) : (0, _moment.default)(valueToValidate, timeFormat);\n  var isValidTime = date.isValid(); // is it in the specified format\n\n  var isValidFormat = (0, _moment.default)(valueToValidate, timeFormat, true).isValid() && !twoDigitValue;\n  if (this.allowEmpty && valueToValidate === '') {\n    isValidTime = true;\n    isValidFormat = true;\n  }\n  if (!isValidTime) {\n    valid = false;\n  }\n  if (!isValidTime && isValidFormat) {\n    valid = true;\n  }\n  if (isValidTime && !isValidFormat) {\n    if (this.correctFormat === true) {\n      // if format correction is enabled\n      var correctedValue = date.format(timeFormat);\n      var row = this.instance.runHooks('unmodifyRow', this.row);\n      var column = this.instance.runHooks('unmodifyCol', this.col);\n      this.instance.setDataAtCell(row, column, correctedValue, 'timeValidator');\n      valid = true;\n    } else {\n      valid = false;\n    }\n  }\n  callback(valid);\n}","map":{"version":3,"names":["exports","__esModule","default","timeValidator","_moment","_interopRequireDefault","require","obj","STRICT_FORMATS","value","callback","timeFormat","valid","valueToValidate","test","parseInt","twoDigitValue","date","isValid","isValidTime","isValidFormat","allowEmpty","correctFormat","correctedValue","format","row","instance","runHooks","column","col","setDataAtCell"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/handsontable/commonjs/validators/timeValidator.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = timeValidator;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Formats which are correctly parsed to time (supported by momentjs)\nvar STRICT_FORMATS = ['YYYY-MM-DDTHH:mm:ss.SSSZ', 'X', // Unix timestamp\n'x' // Unix ms timestamp\n];\n/**\n * Time cell validator\n *\n * @private\n * @validator TimeValidator\n * @param {*} value - Value of edited cell\n * @param {Function} callback - Callback called with validation result\n */\n\nfunction timeValidator(value, callback) {\n  var timeFormat = this.timeFormat || 'h:mm:ss a';\n  var valid = true;\n  var valueToValidate = value;\n\n  if (valueToValidate === null) {\n    valueToValidate = '';\n  }\n\n  valueToValidate = /^\\d{3,}$/.test(valueToValidate) ? parseInt(valueToValidate, 10) : valueToValidate;\n  var twoDigitValue = /^\\d{1,2}$/.test(valueToValidate);\n\n  if (twoDigitValue) {\n    valueToValidate += ':00';\n  }\n\n  var date = (0, _moment.default)(valueToValidate, STRICT_FORMATS, true).isValid() ? (0, _moment.default)(valueToValidate) : (0, _moment.default)(valueToValidate, timeFormat);\n  var isValidTime = date.isValid(); // is it in the specified format\n\n  var isValidFormat = (0, _moment.default)(valueToValidate, timeFormat, true).isValid() && !twoDigitValue;\n\n  if (this.allowEmpty && valueToValidate === '') {\n    isValidTime = true;\n    isValidFormat = true;\n  }\n\n  if (!isValidTime) {\n    valid = false;\n  }\n\n  if (!isValidTime && isValidFormat) {\n    valid = true;\n  }\n\n  if (isValidTime && !isValidFormat) {\n    if (this.correctFormat === true) {\n      // if format correction is enabled\n      var correctedValue = date.format(timeFormat);\n      var row = this.instance.runHooks('unmodifyRow', this.row);\n      var column = this.instance.runHooks('unmodifyCol', this.col);\n      this.instance.setDataAtCell(row, column, correctedValue, 'timeValidator');\n      valid = true;\n    } else {\n      valid = false;\n    }\n  }\n\n  callback(valid);\n}"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,OAAO,GAAGC,aAAa;AAE/B,IAAIC,OAAO,GAAGC,sBAAsB,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEvD,SAASD,sBAAsB,CAACE,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACN,UAAU,GAAGM,GAAG,GAAG;IAAEL,OAAO,EAAEK;EAAI,CAAC;AAAE;;AAE9F;AACA,IAAIC,cAAc,GAAG,CAAC,0BAA0B,EAAE,GAAG;AAAE;AACvD,GAAG,CAAC;AAAA,CACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASL,aAAa,CAACM,KAAK,EAAEC,QAAQ,EAAE;EACtC,IAAIC,UAAU,GAAG,IAAI,CAACA,UAAU,IAAI,WAAW;EAC/C,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAIC,eAAe,GAAGJ,KAAK;EAE3B,IAAII,eAAe,KAAK,IAAI,EAAE;IAC5BA,eAAe,GAAG,EAAE;EACtB;EAEAA,eAAe,GAAG,UAAU,CAACC,IAAI,CAACD,eAAe,CAAC,GAAGE,QAAQ,CAACF,eAAe,EAAE,EAAE,CAAC,GAAGA,eAAe;EACpG,IAAIG,aAAa,GAAG,WAAW,CAACF,IAAI,CAACD,eAAe,CAAC;EAErD,IAAIG,aAAa,EAAE;IACjBH,eAAe,IAAI,KAAK;EAC1B;EAEA,IAAII,IAAI,GAAG,CAAC,CAAC,EAAEb,OAAO,CAACF,OAAO,EAAEW,eAAe,EAAEL,cAAc,EAAE,IAAI,CAAC,CAACU,OAAO,EAAE,GAAG,CAAC,CAAC,EAAEd,OAAO,CAACF,OAAO,EAAEW,eAAe,CAAC,GAAG,CAAC,CAAC,EAAET,OAAO,CAACF,OAAO,EAAEW,eAAe,EAAEF,UAAU,CAAC;EAC5K,IAAIQ,WAAW,GAAGF,IAAI,CAACC,OAAO,EAAE,CAAC,CAAC;;EAElC,IAAIE,aAAa,GAAG,CAAC,CAAC,EAAEhB,OAAO,CAACF,OAAO,EAAEW,eAAe,EAAEF,UAAU,EAAE,IAAI,CAAC,CAACO,OAAO,EAAE,IAAI,CAACF,aAAa;EAEvG,IAAI,IAAI,CAACK,UAAU,IAAIR,eAAe,KAAK,EAAE,EAAE;IAC7CM,WAAW,GAAG,IAAI;IAClBC,aAAa,GAAG,IAAI;EACtB;EAEA,IAAI,CAACD,WAAW,EAAE;IAChBP,KAAK,GAAG,KAAK;EACf;EAEA,IAAI,CAACO,WAAW,IAAIC,aAAa,EAAE;IACjCR,KAAK,GAAG,IAAI;EACd;EAEA,IAAIO,WAAW,IAAI,CAACC,aAAa,EAAE;IACjC,IAAI,IAAI,CAACE,aAAa,KAAK,IAAI,EAAE;MAC/B;MACA,IAAIC,cAAc,GAAGN,IAAI,CAACO,MAAM,CAACb,UAAU,CAAC;MAC5C,IAAIc,GAAG,GAAG,IAAI,CAACC,QAAQ,CAACC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAACF,GAAG,CAAC;MACzD,IAAIG,MAAM,GAAG,IAAI,CAACF,QAAQ,CAACC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAACE,GAAG,CAAC;MAC5D,IAAI,CAACH,QAAQ,CAACI,aAAa,CAACL,GAAG,EAAEG,MAAM,EAAEL,cAAc,EAAE,eAAe,CAAC;MACzEX,KAAK,GAAG,IAAI;IACd,CAAC,MAAM;MACLA,KAAK,GAAG,KAAK;IACf;EACF;EAEAF,QAAQ,CAACE,KAAK,CAAC;AACjB"},"metadata":{},"sourceType":"script"}