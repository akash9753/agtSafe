{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Scrollable } from '../../../base/common/scrollable.js';\nimport { LinesLayout } from './linesLayout.js';\nimport { Viewport } from '../viewModel/viewModel.js';\nvar SMOOTH_SCROLLING_TIME = 125;\nvar EditorScrollDimensions = /** @class */function () {\n  function EditorScrollDimensions(width, contentWidth, height, contentHeight) {\n    width = width | 0;\n    contentWidth = contentWidth | 0;\n    height = height | 0;\n    contentHeight = contentHeight | 0;\n    if (width < 0) {\n      width = 0;\n    }\n    if (contentWidth < 0) {\n      contentWidth = 0;\n    }\n    if (height < 0) {\n      height = 0;\n    }\n    if (contentHeight < 0) {\n      contentHeight = 0;\n    }\n    this.width = width;\n    this.contentWidth = contentWidth;\n    this.scrollWidth = Math.max(width, contentWidth);\n    this.height = height;\n    this.contentHeight = contentHeight;\n    this.scrollHeight = Math.max(height, contentHeight);\n  }\n  EditorScrollDimensions.prototype.equals = function (other) {\n    return this.width === other.width && this.contentWidth === other.contentWidth && this.height === other.height && this.contentHeight === other.contentHeight;\n  };\n  return EditorScrollDimensions;\n}();\nvar EditorScrollable = /** @class */function (_super) {\n  __extends(EditorScrollable, _super);\n  function EditorScrollable(smoothScrollDuration, scheduleAtNextAnimationFrame) {\n    var _this = _super.call(this) || this;\n    _this._onDidContentSizeChange = _this._register(new Emitter());\n    _this.onDidContentSizeChange = _this._onDidContentSizeChange.event;\n    _this._dimensions = new EditorScrollDimensions(0, 0, 0, 0);\n    _this._scrollable = _this._register(new Scrollable(smoothScrollDuration, scheduleAtNextAnimationFrame));\n    _this.onDidScroll = _this._scrollable.onScroll;\n    return _this;\n  }\n  EditorScrollable.prototype.getScrollable = function () {\n    return this._scrollable;\n  };\n  EditorScrollable.prototype.setSmoothScrollDuration = function (smoothScrollDuration) {\n    this._scrollable.setSmoothScrollDuration(smoothScrollDuration);\n  };\n  EditorScrollable.prototype.validateScrollPosition = function (scrollPosition) {\n    return this._scrollable.validateScrollPosition(scrollPosition);\n  };\n  EditorScrollable.prototype.getScrollDimensions = function () {\n    return this._dimensions;\n  };\n  EditorScrollable.prototype.setScrollDimensions = function (dimensions) {\n    if (this._dimensions.equals(dimensions)) {\n      return;\n    }\n    var oldDimensions = this._dimensions;\n    this._dimensions = dimensions;\n    this._scrollable.setScrollDimensions({\n      width: dimensions.width,\n      scrollWidth: dimensions.scrollWidth,\n      height: dimensions.height,\n      scrollHeight: dimensions.scrollHeight\n    });\n    var contentWidthChanged = oldDimensions.contentWidth !== dimensions.contentWidth;\n    var contentHeightChanged = oldDimensions.contentHeight !== dimensions.contentHeight;\n    if (contentWidthChanged || contentHeightChanged) {\n      this._onDidContentSizeChange.fire({\n        contentWidth: dimensions.contentWidth,\n        contentHeight: dimensions.contentHeight,\n        contentWidthChanged: contentWidthChanged,\n        contentHeightChanged: contentHeightChanged\n      });\n    }\n  };\n  EditorScrollable.prototype.getFutureScrollPosition = function () {\n    return this._scrollable.getFutureScrollPosition();\n  };\n  EditorScrollable.prototype.getCurrentScrollPosition = function () {\n    return this._scrollable.getCurrentScrollPosition();\n  };\n  EditorScrollable.prototype.setScrollPositionNow = function (update) {\n    this._scrollable.setScrollPositionNow(update);\n  };\n  EditorScrollable.prototype.setScrollPositionSmooth = function (update) {\n    this._scrollable.setScrollPositionSmooth(update);\n  };\n  return EditorScrollable;\n}(Disposable);\nvar ViewLayout = /** @class */function (_super) {\n  __extends(ViewLayout, _super);\n  function ViewLayout(configuration, lineCount, scheduleAtNextAnimationFrame) {\n    var _this = _super.call(this) || this;\n    _this._configuration = configuration;\n    var options = _this._configuration.options;\n    var layoutInfo = options.get(107 /* layoutInfo */);\n    _this._linesLayout = new LinesLayout(lineCount, options.get(49 /* lineHeight */));\n    _this._scrollable = _this._register(new EditorScrollable(0, scheduleAtNextAnimationFrame));\n    _this._configureSmoothScrollDuration();\n    _this._scrollable.setScrollDimensions(new EditorScrollDimensions(layoutInfo.contentWidth, 0, layoutInfo.height, 0));\n    _this.onDidScroll = _this._scrollable.onDidScroll;\n    _this.onDidContentSizeChange = _this._scrollable.onDidContentSizeChange;\n    _this._updateHeight();\n    return _this;\n  }\n  ViewLayout.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n  };\n  ViewLayout.prototype.getScrollable = function () {\n    return this._scrollable.getScrollable();\n  };\n  ViewLayout.prototype.onHeightMaybeChanged = function () {\n    this._updateHeight();\n  };\n  ViewLayout.prototype._configureSmoothScrollDuration = function () {\n    this._scrollable.setSmoothScrollDuration(this._configuration.options.get(87 /* smoothScrolling */) ? SMOOTH_SCROLLING_TIME : 0);\n  };\n  // ---- begin view event handlers\n  ViewLayout.prototype.onConfigurationChanged = function (e) {\n    var options = this._configuration.options;\n    if (e.hasChanged(49 /* lineHeight */)) {\n      this._linesLayout.setLineHeight(options.get(49 /* lineHeight */));\n    }\n\n    if (e.hasChanged(107 /* layoutInfo */)) {\n      var layoutInfo = options.get(107 /* layoutInfo */);\n      var width = layoutInfo.contentWidth;\n      var height = layoutInfo.height;\n      var scrollDimensions = this._scrollable.getScrollDimensions();\n      var scrollWidth = scrollDimensions.scrollWidth;\n      this._scrollable.setScrollDimensions(new EditorScrollDimensions(width, scrollDimensions.contentWidth, height, this._getContentHeight(width, height, scrollWidth)));\n    } else {\n      this._updateHeight();\n    }\n    if (e.hasChanged(87 /* smoothScrolling */)) {\n      this._configureSmoothScrollDuration();\n    }\n  };\n  ViewLayout.prototype.onFlushed = function (lineCount) {\n    this._linesLayout.onFlushed(lineCount);\n  };\n  ViewLayout.prototype.onLinesDeleted = function (fromLineNumber, toLineNumber) {\n    this._linesLayout.onLinesDeleted(fromLineNumber, toLineNumber);\n  };\n  ViewLayout.prototype.onLinesInserted = function (fromLineNumber, toLineNumber) {\n    this._linesLayout.onLinesInserted(fromLineNumber, toLineNumber);\n  };\n  // ---- end view event handlers\n  ViewLayout.prototype._getHorizontalScrollbarHeight = function (width, scrollWidth) {\n    var options = this._configuration.options;\n    var scrollbar = options.get(78 /* scrollbar */);\n    if (scrollbar.horizontal === 2 /* Hidden */) {\n      // horizontal scrollbar not visible\n      return 0;\n    }\n    if (width >= scrollWidth) {\n      // horizontal scrollbar not visible\n      return 0;\n    }\n    return scrollbar.horizontalScrollbarSize;\n  };\n  ViewLayout.prototype._getContentHeight = function (width, height, scrollWidth) {\n    var options = this._configuration.options;\n    var result = this._linesLayout.getLinesTotalHeight();\n    if (options.get(80 /* scrollBeyondLastLine */)) {\n      result += height - options.get(49 /* lineHeight */);\n    } else {\n      result += this._getHorizontalScrollbarHeight(width, scrollWidth);\n    }\n    return result;\n  };\n  ViewLayout.prototype._updateHeight = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    var width = scrollDimensions.width;\n    var height = scrollDimensions.height;\n    var scrollWidth = scrollDimensions.scrollWidth;\n    this._scrollable.setScrollDimensions(new EditorScrollDimensions(width, scrollDimensions.contentWidth, height, this._getContentHeight(width, height, scrollWidth)));\n  };\n  // ---- Layouting logic\n  ViewLayout.prototype.getCurrentViewport = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\n    return new Viewport(currentScrollPosition.scrollTop, currentScrollPosition.scrollLeft, scrollDimensions.width, scrollDimensions.height);\n  };\n  ViewLayout.prototype.getFutureViewport = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    var currentScrollPosition = this._scrollable.getFutureScrollPosition();\n    return new Viewport(currentScrollPosition.scrollTop, currentScrollPosition.scrollLeft, scrollDimensions.width, scrollDimensions.height);\n  };\n  ViewLayout.prototype._computeContentWidth = function (maxLineWidth) {\n    var options = this._configuration.options;\n    var wrappingInfo = options.get(108 /* wrappingInfo */);\n    var fontInfo = options.get(34 /* fontInfo */);\n    if (wrappingInfo.isViewportWrapping) {\n      var layoutInfo = options.get(107 /* layoutInfo */);\n      var minimap = options.get(54 /* minimap */);\n      if (maxLineWidth > layoutInfo.contentWidth + fontInfo.typicalHalfwidthCharacterWidth) {\n        // This is a case where viewport wrapping is on, but the line extends above the viewport\n        if (minimap.enabled && minimap.side === 'right') {\n          // We need to accomodate the scrollbar width\n          return maxLineWidth + layoutInfo.verticalScrollbarWidth;\n        }\n      }\n      return maxLineWidth;\n    } else {\n      var extraHorizontalSpace = options.get(79 /* scrollBeyondLastColumn */) * fontInfo.typicalHalfwidthCharacterWidth;\n      var whitespaceMinWidth = this._linesLayout.getWhitespaceMinWidth();\n      return Math.max(maxLineWidth + extraHorizontalSpace, whitespaceMinWidth);\n    }\n  };\n  ViewLayout.prototype.onMaxLineWidthChanged = function (maxLineWidth) {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    // const newScrollWidth = ;\n    this._scrollable.setScrollDimensions(new EditorScrollDimensions(scrollDimensions.width, this._computeContentWidth(maxLineWidth), scrollDimensions.height, scrollDimensions.contentHeight));\n    // The height might depend on the fact that there is a horizontal scrollbar or not\n    this._updateHeight();\n  };\n  // ---- view state\n  ViewLayout.prototype.saveState = function () {\n    var currentScrollPosition = this._scrollable.getFutureScrollPosition();\n    var scrollTop = currentScrollPosition.scrollTop;\n    var firstLineNumberInViewport = this._linesLayout.getLineNumberAtOrAfterVerticalOffset(scrollTop);\n    var whitespaceAboveFirstLine = this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(firstLineNumberInViewport);\n    return {\n      scrollTop: scrollTop,\n      scrollTopWithoutViewZones: scrollTop - whitespaceAboveFirstLine,\n      scrollLeft: currentScrollPosition.scrollLeft\n    };\n  };\n  // ---- IVerticalLayoutProvider\n  ViewLayout.prototype.changeWhitespace = function (callback) {\n    return this._linesLayout.changeWhitespace(callback);\n  };\n  ViewLayout.prototype.getVerticalOffsetForLineNumber = function (lineNumber) {\n    return this._linesLayout.getVerticalOffsetForLineNumber(lineNumber);\n  };\n  ViewLayout.prototype.isAfterLines = function (verticalOffset) {\n    return this._linesLayout.isAfterLines(verticalOffset);\n  };\n  ViewLayout.prototype.getLineNumberAtVerticalOffset = function (verticalOffset) {\n    return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(verticalOffset);\n  };\n  ViewLayout.prototype.getWhitespaceAtVerticalOffset = function (verticalOffset) {\n    return this._linesLayout.getWhitespaceAtVerticalOffset(verticalOffset);\n  };\n  ViewLayout.prototype.getLinesViewportData = function () {\n    var visibleBox = this.getCurrentViewport();\n    return this._linesLayout.getLinesViewportData(visibleBox.top, visibleBox.top + visibleBox.height);\n  };\n  ViewLayout.prototype.getLinesViewportDataAtScrollTop = function (scrollTop) {\n    // do some minimal validations on scrollTop\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    if (scrollTop + scrollDimensions.height > scrollDimensions.scrollHeight) {\n      scrollTop = scrollDimensions.scrollHeight - scrollDimensions.height;\n    }\n    if (scrollTop < 0) {\n      scrollTop = 0;\n    }\n    return this._linesLayout.getLinesViewportData(scrollTop, scrollTop + scrollDimensions.height);\n  };\n  ViewLayout.prototype.getWhitespaceViewportData = function () {\n    var visibleBox = this.getCurrentViewport();\n    return this._linesLayout.getWhitespaceViewportData(visibleBox.top, visibleBox.top + visibleBox.height);\n  };\n  ViewLayout.prototype.getWhitespaces = function () {\n    return this._linesLayout.getWhitespaces();\n  };\n  // ---- IScrollingProvider\n  ViewLayout.prototype.getContentWidth = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    return scrollDimensions.contentWidth;\n  };\n  ViewLayout.prototype.getScrollWidth = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    return scrollDimensions.scrollWidth;\n  };\n  ViewLayout.prototype.getContentHeight = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    return scrollDimensions.contentHeight;\n  };\n  ViewLayout.prototype.getScrollHeight = function () {\n    var scrollDimensions = this._scrollable.getScrollDimensions();\n    return scrollDimensions.scrollHeight;\n  };\n  ViewLayout.prototype.getCurrentScrollLeft = function () {\n    var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\n    return currentScrollPosition.scrollLeft;\n  };\n  ViewLayout.prototype.getCurrentScrollTop = function () {\n    var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\n    return currentScrollPosition.scrollTop;\n  };\n  ViewLayout.prototype.validateScrollPosition = function (scrollPosition) {\n    return this._scrollable.validateScrollPosition(scrollPosition);\n  };\n  ViewLayout.prototype.setScrollPositionNow = function (position) {\n    this._scrollable.setScrollPositionNow(position);\n  };\n  ViewLayout.prototype.setScrollPositionSmooth = function (position) {\n    this._scrollable.setScrollPositionSmooth(position);\n  };\n  ViewLayout.prototype.deltaScrollNow = function (deltaScrollLeft, deltaScrollTop) {\n    var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\n    this._scrollable.setScrollPositionNow({\n      scrollLeft: currentScrollPosition.scrollLeft + deltaScrollLeft,\n      scrollTop: currentScrollPosition.scrollTop + deltaScrollTop\n    });\n  };\n  return ViewLayout;\n}(Disposable);\nexport { ViewLayout };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Emitter","Disposable","Scrollable","LinesLayout","Viewport","SMOOTH_SCROLLING_TIME","EditorScrollDimensions","width","contentWidth","height","contentHeight","scrollWidth","Math","max","scrollHeight","equals","other","EditorScrollable","_super","smoothScrollDuration","scheduleAtNextAnimationFrame","_this","call","_onDidContentSizeChange","_register","onDidContentSizeChange","event","_dimensions","_scrollable","onDidScroll","onScroll","getScrollable","setSmoothScrollDuration","validateScrollPosition","scrollPosition","getScrollDimensions","setScrollDimensions","dimensions","oldDimensions","contentWidthChanged","contentHeightChanged","fire","getFutureScrollPosition","getCurrentScrollPosition","setScrollPositionNow","update","setScrollPositionSmooth","ViewLayout","configuration","lineCount","_configuration","options","layoutInfo","get","_linesLayout","_configureSmoothScrollDuration","_updateHeight","dispose","onHeightMaybeChanged","onConfigurationChanged","e","hasChanged","setLineHeight","scrollDimensions","_getContentHeight","onFlushed","onLinesDeleted","fromLineNumber","toLineNumber","onLinesInserted","_getHorizontalScrollbarHeight","scrollbar","horizontal","horizontalScrollbarSize","result","getLinesTotalHeight","getCurrentViewport","currentScrollPosition","scrollTop","scrollLeft","getFutureViewport","_computeContentWidth","maxLineWidth","wrappingInfo","fontInfo","isViewportWrapping","minimap","typicalHalfwidthCharacterWidth","enabled","side","verticalScrollbarWidth","extraHorizontalSpace","whitespaceMinWidth","getWhitespaceMinWidth","onMaxLineWidthChanged","saveState","firstLineNumberInViewport","getLineNumberAtOrAfterVerticalOffset","whitespaceAboveFirstLine","getWhitespaceAccumulatedHeightBeforeLineNumber","scrollTopWithoutViewZones","changeWhitespace","callback","getVerticalOffsetForLineNumber","lineNumber","isAfterLines","verticalOffset","getLineNumberAtVerticalOffset","getWhitespaceAtVerticalOffset","getLinesViewportData","visibleBox","top","getLinesViewportDataAtScrollTop","getWhitespaceViewportData","getWhitespaces","getContentWidth","getScrollWidth","getContentHeight","getScrollHeight","getCurrentScrollLeft","getCurrentScrollTop","position","deltaScrollNow","deltaScrollLeft","deltaScrollTop"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { Scrollable } from '../../../base/common/scrollable.js';\r\nimport { LinesLayout } from './linesLayout.js';\r\nimport { Viewport } from '../viewModel/viewModel.js';\r\nvar SMOOTH_SCROLLING_TIME = 125;\r\nvar EditorScrollDimensions = /** @class */ (function () {\r\n    function EditorScrollDimensions(width, contentWidth, height, contentHeight) {\r\n        width = width | 0;\r\n        contentWidth = contentWidth | 0;\r\n        height = height | 0;\r\n        contentHeight = contentHeight | 0;\r\n        if (width < 0) {\r\n            width = 0;\r\n        }\r\n        if (contentWidth < 0) {\r\n            contentWidth = 0;\r\n        }\r\n        if (height < 0) {\r\n            height = 0;\r\n        }\r\n        if (contentHeight < 0) {\r\n            contentHeight = 0;\r\n        }\r\n        this.width = width;\r\n        this.contentWidth = contentWidth;\r\n        this.scrollWidth = Math.max(width, contentWidth);\r\n        this.height = height;\r\n        this.contentHeight = contentHeight;\r\n        this.scrollHeight = Math.max(height, contentHeight);\r\n    }\r\n    EditorScrollDimensions.prototype.equals = function (other) {\r\n        return (this.width === other.width\r\n            && this.contentWidth === other.contentWidth\r\n            && this.height === other.height\r\n            && this.contentHeight === other.contentHeight);\r\n    };\r\n    return EditorScrollDimensions;\r\n}());\r\nvar EditorScrollable = /** @class */ (function (_super) {\r\n    __extends(EditorScrollable, _super);\r\n    function EditorScrollable(smoothScrollDuration, scheduleAtNextAnimationFrame) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onDidContentSizeChange = _this._register(new Emitter());\r\n        _this.onDidContentSizeChange = _this._onDidContentSizeChange.event;\r\n        _this._dimensions = new EditorScrollDimensions(0, 0, 0, 0);\r\n        _this._scrollable = _this._register(new Scrollable(smoothScrollDuration, scheduleAtNextAnimationFrame));\r\n        _this.onDidScroll = _this._scrollable.onScroll;\r\n        return _this;\r\n    }\r\n    EditorScrollable.prototype.getScrollable = function () {\r\n        return this._scrollable;\r\n    };\r\n    EditorScrollable.prototype.setSmoothScrollDuration = function (smoothScrollDuration) {\r\n        this._scrollable.setSmoothScrollDuration(smoothScrollDuration);\r\n    };\r\n    EditorScrollable.prototype.validateScrollPosition = function (scrollPosition) {\r\n        return this._scrollable.validateScrollPosition(scrollPosition);\r\n    };\r\n    EditorScrollable.prototype.getScrollDimensions = function () {\r\n        return this._dimensions;\r\n    };\r\n    EditorScrollable.prototype.setScrollDimensions = function (dimensions) {\r\n        if (this._dimensions.equals(dimensions)) {\r\n            return;\r\n        }\r\n        var oldDimensions = this._dimensions;\r\n        this._dimensions = dimensions;\r\n        this._scrollable.setScrollDimensions({\r\n            width: dimensions.width,\r\n            scrollWidth: dimensions.scrollWidth,\r\n            height: dimensions.height,\r\n            scrollHeight: dimensions.scrollHeight\r\n        });\r\n        var contentWidthChanged = (oldDimensions.contentWidth !== dimensions.contentWidth);\r\n        var contentHeightChanged = (oldDimensions.contentHeight !== dimensions.contentHeight);\r\n        if (contentWidthChanged || contentHeightChanged) {\r\n            this._onDidContentSizeChange.fire({\r\n                contentWidth: dimensions.contentWidth,\r\n                contentHeight: dimensions.contentHeight,\r\n                contentWidthChanged: contentWidthChanged,\r\n                contentHeightChanged: contentHeightChanged\r\n            });\r\n        }\r\n    };\r\n    EditorScrollable.prototype.getFutureScrollPosition = function () {\r\n        return this._scrollable.getFutureScrollPosition();\r\n    };\r\n    EditorScrollable.prototype.getCurrentScrollPosition = function () {\r\n        return this._scrollable.getCurrentScrollPosition();\r\n    };\r\n    EditorScrollable.prototype.setScrollPositionNow = function (update) {\r\n        this._scrollable.setScrollPositionNow(update);\r\n    };\r\n    EditorScrollable.prototype.setScrollPositionSmooth = function (update) {\r\n        this._scrollable.setScrollPositionSmooth(update);\r\n    };\r\n    return EditorScrollable;\r\n}(Disposable));\r\nvar ViewLayout = /** @class */ (function (_super) {\r\n    __extends(ViewLayout, _super);\r\n    function ViewLayout(configuration, lineCount, scheduleAtNextAnimationFrame) {\r\n        var _this = _super.call(this) || this;\r\n        _this._configuration = configuration;\r\n        var options = _this._configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        _this._linesLayout = new LinesLayout(lineCount, options.get(49 /* lineHeight */));\r\n        _this._scrollable = _this._register(new EditorScrollable(0, scheduleAtNextAnimationFrame));\r\n        _this._configureSmoothScrollDuration();\r\n        _this._scrollable.setScrollDimensions(new EditorScrollDimensions(layoutInfo.contentWidth, 0, layoutInfo.height, 0));\r\n        _this.onDidScroll = _this._scrollable.onDidScroll;\r\n        _this.onDidContentSizeChange = _this._scrollable.onDidContentSizeChange;\r\n        _this._updateHeight();\r\n        return _this;\r\n    }\r\n    ViewLayout.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ViewLayout.prototype.getScrollable = function () {\r\n        return this._scrollable.getScrollable();\r\n    };\r\n    ViewLayout.prototype.onHeightMaybeChanged = function () {\r\n        this._updateHeight();\r\n    };\r\n    ViewLayout.prototype._configureSmoothScrollDuration = function () {\r\n        this._scrollable.setSmoothScrollDuration(this._configuration.options.get(87 /* smoothScrolling */) ? SMOOTH_SCROLLING_TIME : 0);\r\n    };\r\n    // ---- begin view event handlers\r\n    ViewLayout.prototype.onConfigurationChanged = function (e) {\r\n        var options = this._configuration.options;\r\n        if (e.hasChanged(49 /* lineHeight */)) {\r\n            this._linesLayout.setLineHeight(options.get(49 /* lineHeight */));\r\n        }\r\n        if (e.hasChanged(107 /* layoutInfo */)) {\r\n            var layoutInfo = options.get(107 /* layoutInfo */);\r\n            var width = layoutInfo.contentWidth;\r\n            var height = layoutInfo.height;\r\n            var scrollDimensions = this._scrollable.getScrollDimensions();\r\n            var scrollWidth = scrollDimensions.scrollWidth;\r\n            this._scrollable.setScrollDimensions(new EditorScrollDimensions(width, scrollDimensions.contentWidth, height, this._getContentHeight(width, height, scrollWidth)));\r\n        }\r\n        else {\r\n            this._updateHeight();\r\n        }\r\n        if (e.hasChanged(87 /* smoothScrolling */)) {\r\n            this._configureSmoothScrollDuration();\r\n        }\r\n    };\r\n    ViewLayout.prototype.onFlushed = function (lineCount) {\r\n        this._linesLayout.onFlushed(lineCount);\r\n    };\r\n    ViewLayout.prototype.onLinesDeleted = function (fromLineNumber, toLineNumber) {\r\n        this._linesLayout.onLinesDeleted(fromLineNumber, toLineNumber);\r\n    };\r\n    ViewLayout.prototype.onLinesInserted = function (fromLineNumber, toLineNumber) {\r\n        this._linesLayout.onLinesInserted(fromLineNumber, toLineNumber);\r\n    };\r\n    // ---- end view event handlers\r\n    ViewLayout.prototype._getHorizontalScrollbarHeight = function (width, scrollWidth) {\r\n        var options = this._configuration.options;\r\n        var scrollbar = options.get(78 /* scrollbar */);\r\n        if (scrollbar.horizontal === 2 /* Hidden */) {\r\n            // horizontal scrollbar not visible\r\n            return 0;\r\n        }\r\n        if (width >= scrollWidth) {\r\n            // horizontal scrollbar not visible\r\n            return 0;\r\n        }\r\n        return scrollbar.horizontalScrollbarSize;\r\n    };\r\n    ViewLayout.prototype._getContentHeight = function (width, height, scrollWidth) {\r\n        var options = this._configuration.options;\r\n        var result = this._linesLayout.getLinesTotalHeight();\r\n        if (options.get(80 /* scrollBeyondLastLine */)) {\r\n            result += height - options.get(49 /* lineHeight */);\r\n        }\r\n        else {\r\n            result += this._getHorizontalScrollbarHeight(width, scrollWidth);\r\n        }\r\n        return result;\r\n    };\r\n    ViewLayout.prototype._updateHeight = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        var width = scrollDimensions.width;\r\n        var height = scrollDimensions.height;\r\n        var scrollWidth = scrollDimensions.scrollWidth;\r\n        this._scrollable.setScrollDimensions(new EditorScrollDimensions(width, scrollDimensions.contentWidth, height, this._getContentHeight(width, height, scrollWidth)));\r\n    };\r\n    // ---- Layouting logic\r\n    ViewLayout.prototype.getCurrentViewport = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\r\n        return new Viewport(currentScrollPosition.scrollTop, currentScrollPosition.scrollLeft, scrollDimensions.width, scrollDimensions.height);\r\n    };\r\n    ViewLayout.prototype.getFutureViewport = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        var currentScrollPosition = this._scrollable.getFutureScrollPosition();\r\n        return new Viewport(currentScrollPosition.scrollTop, currentScrollPosition.scrollLeft, scrollDimensions.width, scrollDimensions.height);\r\n    };\r\n    ViewLayout.prototype._computeContentWidth = function (maxLineWidth) {\r\n        var options = this._configuration.options;\r\n        var wrappingInfo = options.get(108 /* wrappingInfo */);\r\n        var fontInfo = options.get(34 /* fontInfo */);\r\n        if (wrappingInfo.isViewportWrapping) {\r\n            var layoutInfo = options.get(107 /* layoutInfo */);\r\n            var minimap = options.get(54 /* minimap */);\r\n            if (maxLineWidth > layoutInfo.contentWidth + fontInfo.typicalHalfwidthCharacterWidth) {\r\n                // This is a case where viewport wrapping is on, but the line extends above the viewport\r\n                if (minimap.enabled && minimap.side === 'right') {\r\n                    // We need to accomodate the scrollbar width\r\n                    return maxLineWidth + layoutInfo.verticalScrollbarWidth;\r\n                }\r\n            }\r\n            return maxLineWidth;\r\n        }\r\n        else {\r\n            var extraHorizontalSpace = options.get(79 /* scrollBeyondLastColumn */) * fontInfo.typicalHalfwidthCharacterWidth;\r\n            var whitespaceMinWidth = this._linesLayout.getWhitespaceMinWidth();\r\n            return Math.max(maxLineWidth + extraHorizontalSpace, whitespaceMinWidth);\r\n        }\r\n    };\r\n    ViewLayout.prototype.onMaxLineWidthChanged = function (maxLineWidth) {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        // const newScrollWidth = ;\r\n        this._scrollable.setScrollDimensions(new EditorScrollDimensions(scrollDimensions.width, this._computeContentWidth(maxLineWidth), scrollDimensions.height, scrollDimensions.contentHeight));\r\n        // The height might depend on the fact that there is a horizontal scrollbar or not\r\n        this._updateHeight();\r\n    };\r\n    // ---- view state\r\n    ViewLayout.prototype.saveState = function () {\r\n        var currentScrollPosition = this._scrollable.getFutureScrollPosition();\r\n        var scrollTop = currentScrollPosition.scrollTop;\r\n        var firstLineNumberInViewport = this._linesLayout.getLineNumberAtOrAfterVerticalOffset(scrollTop);\r\n        var whitespaceAboveFirstLine = this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(firstLineNumberInViewport);\r\n        return {\r\n            scrollTop: scrollTop,\r\n            scrollTopWithoutViewZones: scrollTop - whitespaceAboveFirstLine,\r\n            scrollLeft: currentScrollPosition.scrollLeft\r\n        };\r\n    };\r\n    // ---- IVerticalLayoutProvider\r\n    ViewLayout.prototype.changeWhitespace = function (callback) {\r\n        return this._linesLayout.changeWhitespace(callback);\r\n    };\r\n    ViewLayout.prototype.getVerticalOffsetForLineNumber = function (lineNumber) {\r\n        return this._linesLayout.getVerticalOffsetForLineNumber(lineNumber);\r\n    };\r\n    ViewLayout.prototype.isAfterLines = function (verticalOffset) {\r\n        return this._linesLayout.isAfterLines(verticalOffset);\r\n    };\r\n    ViewLayout.prototype.getLineNumberAtVerticalOffset = function (verticalOffset) {\r\n        return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(verticalOffset);\r\n    };\r\n    ViewLayout.prototype.getWhitespaceAtVerticalOffset = function (verticalOffset) {\r\n        return this._linesLayout.getWhitespaceAtVerticalOffset(verticalOffset);\r\n    };\r\n    ViewLayout.prototype.getLinesViewportData = function () {\r\n        var visibleBox = this.getCurrentViewport();\r\n        return this._linesLayout.getLinesViewportData(visibleBox.top, visibleBox.top + visibleBox.height);\r\n    };\r\n    ViewLayout.prototype.getLinesViewportDataAtScrollTop = function (scrollTop) {\r\n        // do some minimal validations on scrollTop\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        if (scrollTop + scrollDimensions.height > scrollDimensions.scrollHeight) {\r\n            scrollTop = scrollDimensions.scrollHeight - scrollDimensions.height;\r\n        }\r\n        if (scrollTop < 0) {\r\n            scrollTop = 0;\r\n        }\r\n        return this._linesLayout.getLinesViewportData(scrollTop, scrollTop + scrollDimensions.height);\r\n    };\r\n    ViewLayout.prototype.getWhitespaceViewportData = function () {\r\n        var visibleBox = this.getCurrentViewport();\r\n        return this._linesLayout.getWhitespaceViewportData(visibleBox.top, visibleBox.top + visibleBox.height);\r\n    };\r\n    ViewLayout.prototype.getWhitespaces = function () {\r\n        return this._linesLayout.getWhitespaces();\r\n    };\r\n    // ---- IScrollingProvider\r\n    ViewLayout.prototype.getContentWidth = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        return scrollDimensions.contentWidth;\r\n    };\r\n    ViewLayout.prototype.getScrollWidth = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        return scrollDimensions.scrollWidth;\r\n    };\r\n    ViewLayout.prototype.getContentHeight = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        return scrollDimensions.contentHeight;\r\n    };\r\n    ViewLayout.prototype.getScrollHeight = function () {\r\n        var scrollDimensions = this._scrollable.getScrollDimensions();\r\n        return scrollDimensions.scrollHeight;\r\n    };\r\n    ViewLayout.prototype.getCurrentScrollLeft = function () {\r\n        var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\r\n        return currentScrollPosition.scrollLeft;\r\n    };\r\n    ViewLayout.prototype.getCurrentScrollTop = function () {\r\n        var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\r\n        return currentScrollPosition.scrollTop;\r\n    };\r\n    ViewLayout.prototype.validateScrollPosition = function (scrollPosition) {\r\n        return this._scrollable.validateScrollPosition(scrollPosition);\r\n    };\r\n    ViewLayout.prototype.setScrollPositionNow = function (position) {\r\n        this._scrollable.setScrollPositionNow(position);\r\n    };\r\n    ViewLayout.prototype.setScrollPositionSmooth = function (position) {\r\n        this._scrollable.setScrollPositionSmooth(position);\r\n    };\r\n    ViewLayout.prototype.deltaScrollNow = function (deltaScrollLeft, deltaScrollTop) {\r\n        var currentScrollPosition = this._scrollable.getCurrentScrollPosition();\r\n        this._scrollable.setScrollPositionNow({\r\n            scrollLeft: currentScrollPosition.scrollLeft + deltaScrollLeft,\r\n            scrollTop: currentScrollPosition.scrollTop + deltaScrollTop\r\n        });\r\n    };\r\n    return ViewLayout;\r\n}(Disposable));\r\nexport { ViewLayout };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}