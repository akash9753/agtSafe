{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport './actionbar.css';\nimport * as platform from '../../../common/platform.js';\nimport * as nls from '../../../../nls.js';\nimport { Disposable, dispose } from '../../../common/lifecycle.js';\nimport { Action, ActionRunner } from '../../../common/actions.js';\nimport * as DOM from '../../dom.js';\nimport * as types from '../../../common/types.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Emitter } from '../../../common/event.js';\nimport { DataTransfers } from '../../dnd.js';\nimport { isFirefox } from '../../browser.js';\nvar BaseActionViewItem = /** @class */function (_super) {\n  __extends(BaseActionViewItem, _super);\n  function BaseActionViewItem(context, action, options) {\n    var _this = _super.call(this) || this;\n    _this.options = options;\n    _this._context = context || _this;\n    _this._action = action;\n    if (action instanceof Action) {\n      _this._register(action.onDidChange(function (event) {\n        if (!_this.element) {\n          // we have not been rendered yet, so there\n          // is no point in updating the UI\n          return;\n        }\n        _this.handleActionChangeEvent(event);\n      }));\n    }\n    return _this;\n  }\n  BaseActionViewItem.prototype.handleActionChangeEvent = function (event) {\n    if (event.enabled !== undefined) {\n      this.updateEnabled();\n    }\n    if (event.checked !== undefined) {\n      this.updateChecked();\n    }\n    if (event.class !== undefined) {\n      this.updateClass();\n    }\n    if (event.label !== undefined) {\n      this.updateLabel();\n      this.updateTooltip();\n    }\n    if (event.tooltip !== undefined) {\n      this.updateTooltip();\n    }\n  };\n  Object.defineProperty(BaseActionViewItem.prototype, \"actionRunner\", {\n    get: function get() {\n      if (!this._actionRunner) {\n        this._actionRunner = this._register(new ActionRunner());\n      }\n      return this._actionRunner;\n    },\n    set: function set(actionRunner) {\n      this._actionRunner = actionRunner;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  BaseActionViewItem.prototype.getAction = function () {\n    return this._action;\n  };\n  BaseActionViewItem.prototype.isEnabled = function () {\n    return this._action.enabled;\n  };\n  BaseActionViewItem.prototype.setActionContext = function (newContext) {\n    this._context = newContext;\n  };\n  BaseActionViewItem.prototype.render = function (container) {\n    var _this = this;\n    var element = this.element = container;\n    this._register(Gesture.addTarget(container));\n    var enableDragging = this.options && this.options.draggable;\n    if (enableDragging) {\n      container.draggable = true;\n      if (isFirefox) {\n        // Firefox: requires to set a text data transfer to get going\n        this._register(DOM.addDisposableListener(container, DOM.EventType.DRAG_START, function (e) {\n          var _a;\n          return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, _this._action.label);\n        }));\n      }\n    }\n    this._register(DOM.addDisposableListener(element, EventType.Tap, function (e) {\n      return _this.onClick(e);\n    }));\n    this._register(DOM.addDisposableListener(element, DOM.EventType.MOUSE_DOWN, function (e) {\n      if (!enableDragging) {\n        DOM.EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\n      }\n\n      if (_this._action.enabled && e.button === 0) {\n        DOM.addClass(element, 'active');\n      }\n    }));\n    this._register(DOM.addDisposableListener(element, DOM.EventType.CLICK, function (e) {\n      DOM.EventHelper.stop(e, true);\n      // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n      // > Writing to the clipboard\n      // > You can use the \"cut\" and \"copy\" commands without any special\n      // permission if you are using them in a short-lived event handler\n      // for a user action (for example, a click handler).\n      // => to get the Copy and Paste context menu actions working on Firefox,\n      // there should be no timeout here\n      if (_this.options && _this.options.isMenu) {\n        _this.onClick(e);\n      } else {\n        platform.setImmediate(function () {\n          return _this.onClick(e);\n        });\n      }\n    }));\n    this._register(DOM.addDisposableListener(element, DOM.EventType.DBLCLICK, function (e) {\n      DOM.EventHelper.stop(e, true);\n    }));\n    [DOM.EventType.MOUSE_UP, DOM.EventType.MOUSE_OUT].forEach(function (event) {\n      _this._register(DOM.addDisposableListener(element, event, function (e) {\n        DOM.EventHelper.stop(e);\n        DOM.removeClass(element, 'active');\n      }));\n    });\n  };\n  BaseActionViewItem.prototype.onClick = function (event) {\n    DOM.EventHelper.stop(event, true);\n    var context;\n    if (types.isUndefinedOrNull(this._context)) {\n      context = event;\n    } else {\n      context = this._context;\n      if (types.isObject(context)) {\n        context.event = event;\n      }\n    }\n    this.actionRunner.run(this._action, context);\n  };\n  BaseActionViewItem.prototype.focus = function () {\n    if (this.element) {\n      this.element.focus();\n      DOM.addClass(this.element, 'focused');\n    }\n  };\n  BaseActionViewItem.prototype.blur = function () {\n    if (this.element) {\n      this.element.blur();\n      DOM.removeClass(this.element, 'focused');\n    }\n  };\n  BaseActionViewItem.prototype.updateEnabled = function () {\n    // implement in subclass\n  };\n  BaseActionViewItem.prototype.updateLabel = function () {\n    // implement in subclass\n  };\n  BaseActionViewItem.prototype.updateTooltip = function () {\n    // implement in subclass\n  };\n  BaseActionViewItem.prototype.updateClass = function () {\n    // implement in subclass\n  };\n  BaseActionViewItem.prototype.updateChecked = function () {\n    // implement in subclass\n  };\n  BaseActionViewItem.prototype.dispose = function () {\n    if (this.element) {\n      DOM.removeNode(this.element);\n      this.element = undefined;\n    }\n    _super.prototype.dispose.call(this);\n  };\n  return BaseActionViewItem;\n}(Disposable);\nexport { BaseActionViewItem };\nvar Separator = /** @class */function (_super) {\n  __extends(Separator, _super);\n  function Separator(label) {\n    var _this = _super.call(this, Separator.ID, label, label ? 'separator text' : 'separator') || this;\n    _this.checked = false;\n    _this.enabled = false;\n    return _this;\n  }\n  Separator.ID = 'vs.actions.separator';\n  return Separator;\n}(Action);\nexport { Separator };\nvar ActionViewItem = /** @class */function (_super) {\n  __extends(ActionViewItem, _super);\n  function ActionViewItem(context, action, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _this = _super.call(this, context, action, options) || this;\n    _this.options = options;\n    _this.options.icon = options.icon !== undefined ? options.icon : false;\n    _this.options.label = options.label !== undefined ? options.label : true;\n    _this.cssClass = '';\n    return _this;\n  }\n  ActionViewItem.prototype.render = function (container) {\n    _super.prototype.render.call(this, container);\n    if (this.element) {\n      this.label = DOM.append(this.element, DOM.$('a.action-label'));\n    }\n    if (this.label) {\n      if (this._action.id === Separator.ID) {\n        this.label.setAttribute('role', 'presentation'); // A separator is a presentation item\n      } else {\n        if (this.options.isMenu) {\n          this.label.setAttribute('role', 'menuitem');\n        } else {\n          this.label.setAttribute('role', 'button');\n        }\n      }\n    }\n    if (this.options.label && this.options.keybinding && this.element) {\n      DOM.append(this.element, DOM.$('span.keybinding')).textContent = this.options.keybinding;\n    }\n    this.updateClass();\n    this.updateLabel();\n    this.updateTooltip();\n    this.updateEnabled();\n    this.updateChecked();\n  };\n  ActionViewItem.prototype.focus = function () {\n    _super.prototype.focus.call(this);\n    if (this.label) {\n      this.label.focus();\n    }\n  };\n  ActionViewItem.prototype.updateLabel = function () {\n    if (this.options.label && this.label) {\n      this.label.textContent = this.getAction().label;\n    }\n  };\n  ActionViewItem.prototype.updateTooltip = function () {\n    var title = null;\n    if (this.getAction().tooltip) {\n      title = this.getAction().tooltip;\n    } else if (!this.options.label && this.getAction().label && this.options.icon) {\n      title = this.getAction().label;\n      if (this.options.keybinding) {\n        title = nls.localize({\n          key: 'titleLabel',\n          comment: ['action title', 'action keybinding']\n        }, \"{0} ({1})\", title, this.options.keybinding);\n      }\n    }\n    if (title && this.label) {\n      this.label.title = title;\n    }\n  };\n  ActionViewItem.prototype.updateClass = function () {\n    if (this.cssClass && this.label) {\n      DOM.removeClasses(this.label, this.cssClass);\n    }\n    if (this.options.icon) {\n      this.cssClass = this.getAction().class;\n      if (this.label) {\n        DOM.addClass(this.label, 'codicon');\n        if (this.cssClass) {\n          DOM.addClasses(this.label, this.cssClass);\n        }\n      }\n      this.updateEnabled();\n    } else {\n      if (this.label) {\n        DOM.removeClass(this.label, 'codicon');\n      }\n    }\n  };\n  ActionViewItem.prototype.updateEnabled = function () {\n    if (this.getAction().enabled) {\n      if (this.label) {\n        this.label.removeAttribute('aria-disabled');\n        DOM.removeClass(this.label, 'disabled');\n        this.label.tabIndex = 0;\n      }\n      if (this.element) {\n        DOM.removeClass(this.element, 'disabled');\n      }\n    } else {\n      if (this.label) {\n        this.label.setAttribute('aria-disabled', 'true');\n        DOM.addClass(this.label, 'disabled');\n        DOM.removeTabIndexAndUpdateFocus(this.label);\n      }\n      if (this.element) {\n        DOM.addClass(this.element, 'disabled');\n      }\n    }\n  };\n  ActionViewItem.prototype.updateChecked = function () {\n    if (this.label) {\n      if (this.getAction().checked) {\n        DOM.addClass(this.label, 'checked');\n      } else {\n        DOM.removeClass(this.label, 'checked');\n      }\n    }\n  };\n  return ActionViewItem;\n}(BaseActionViewItem);\nexport { ActionViewItem };\nvar defaultOptions = {\n  orientation: 0 /* HORIZONTAL */,\n  context: null,\n  triggerKeys: {\n    keys: [3 /* Enter */, 10 /* Space */],\n    keyDown: false\n  }\n};\nvar ActionBar = /** @class */function (_super) {\n  __extends(ActionBar, _super);\n  function ActionBar(container, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n    var _this = _super.call(this) || this;\n    _this._onDidBlur = _this._register(new Emitter());\n    _this.onDidBlur = _this._onDidBlur.event;\n    _this._onDidCancel = _this._register(new Emitter());\n    _this.onDidCancel = _this._onDidCancel.event;\n    _this._onDidRun = _this._register(new Emitter());\n    _this.onDidRun = _this._onDidRun.event;\n    _this._onDidBeforeRun = _this._register(new Emitter());\n    _this.onDidBeforeRun = _this._onDidBeforeRun.event;\n    _this.options = options;\n    _this._context = options.context;\n    if (!_this.options.triggerKeys) {\n      _this.options.triggerKeys = defaultOptions.triggerKeys;\n    }\n    if (_this.options.actionRunner) {\n      _this._actionRunner = _this.options.actionRunner;\n    } else {\n      _this._actionRunner = new ActionRunner();\n      _this._register(_this._actionRunner);\n    }\n    _this._register(_this._actionRunner.onDidRun(function (e) {\n      return _this._onDidRun.fire(e);\n    }));\n    _this._register(_this._actionRunner.onDidBeforeRun(function (e) {\n      return _this._onDidBeforeRun.fire(e);\n    }));\n    _this.viewItems = [];\n    _this.focusedItem = undefined;\n    _this.domNode = document.createElement('div');\n    _this.domNode.className = 'monaco-action-bar';\n    if (options.animated !== false) {\n      DOM.addClass(_this.domNode, 'animated');\n    }\n    var previousKey;\n    var nextKey;\n    switch (_this.options.orientation) {\n      case 0 /* HORIZONTAL */:\n        previousKey = 15 /* LeftArrow */;\n        nextKey = 17 /* RightArrow */;\n        break;\n      case 1 /* HORIZONTAL_REVERSE */:\n        previousKey = 17 /* RightArrow */;\n        nextKey = 15 /* LeftArrow */;\n        _this.domNode.className += ' reverse';\n        break;\n      case 2 /* VERTICAL */:\n        previousKey = 16 /* UpArrow */;\n        nextKey = 18 /* DownArrow */;\n        _this.domNode.className += ' vertical';\n        break;\n      case 3 /* VERTICAL_REVERSE */:\n        previousKey = 18 /* DownArrow */;\n        nextKey = 16 /* UpArrow */;\n        _this.domNode.className += ' vertical reverse';\n        break;\n    }\n    _this._register(DOM.addDisposableListener(_this.domNode, DOM.EventType.KEY_DOWN, function (e) {\n      var event = new StandardKeyboardEvent(e);\n      var eventHandled = true;\n      if (event.equals(previousKey)) {\n        _this.focusPrevious();\n      } else if (event.equals(nextKey)) {\n        _this.focusNext();\n      } else if (event.equals(9 /* Escape */)) {\n        _this.cancel();\n      } else if (_this.isTriggerKeyEvent(event)) {\n        // Staying out of the else branch even if not triggered\n        if (_this.options.triggerKeys && _this.options.triggerKeys.keyDown) {\n          _this.doTrigger(event);\n        }\n      } else {\n        eventHandled = false;\n      }\n      if (eventHandled) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }));\n    _this._register(DOM.addDisposableListener(_this.domNode, DOM.EventType.KEY_UP, function (e) {\n      var event = new StandardKeyboardEvent(e);\n      // Run action on Enter/Space\n      if (_this.isTriggerKeyEvent(event)) {\n        if (_this.options.triggerKeys && !_this.options.triggerKeys.keyDown) {\n          _this.doTrigger(event);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      // Recompute focused item\n      else if (event.equals(2 /* Tab */) || event.equals(1024 /* Shift */ | 2 /* Tab */)) {\n        _this.updateFocusedItem();\n      }\n    }));\n    _this.focusTracker = _this._register(DOM.trackFocus(_this.domNode));\n    _this._register(_this.focusTracker.onDidBlur(function () {\n      if (document.activeElement === _this.domNode || !DOM.isAncestor(document.activeElement, _this.domNode)) {\n        _this._onDidBlur.fire();\n        _this.focusedItem = undefined;\n      }\n    }));\n    _this._register(_this.focusTracker.onDidFocus(function () {\n      return _this.updateFocusedItem();\n    }));\n    _this.actionsList = document.createElement('ul');\n    _this.actionsList.className = 'actions-container';\n    _this.actionsList.setAttribute('role', 'toolbar');\n    if (_this.options.ariaLabel) {\n      _this.actionsList.setAttribute('aria-label', _this.options.ariaLabel);\n    }\n    _this.domNode.appendChild(_this.actionsList);\n    container.appendChild(_this.domNode);\n    return _this;\n  }\n  ActionBar.prototype.isTriggerKeyEvent = function (event) {\n    var ret = false;\n    if (this.options.triggerKeys) {\n      this.options.triggerKeys.keys.forEach(function (keyCode) {\n        ret = ret || event.equals(keyCode);\n      });\n    }\n    return ret;\n  };\n  ActionBar.prototype.updateFocusedItem = function () {\n    for (var i = 0; i < this.actionsList.children.length; i++) {\n      var elem = this.actionsList.children[i];\n      if (DOM.isAncestor(document.activeElement, elem)) {\n        this.focusedItem = i;\n        break;\n      }\n    }\n  };\n  Object.defineProperty(ActionBar.prototype, \"context\", {\n    get: function get() {\n      return this._context;\n    },\n    set: function set(context) {\n      this._context = context;\n      this.viewItems.forEach(function (i) {\n        return i.setActionContext(context);\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ActionBar.prototype.getContainer = function () {\n    return this.domNode;\n  };\n  ActionBar.prototype.push = function (arg, options) {\n    var _this = this;\n    if (options === void 0) {\n      options = {};\n    }\n    var actions = Array.isArray(arg) ? arg : [arg];\n    var index = types.isNumber(options.index) ? options.index : null;\n    actions.forEach(function (action) {\n      var actionViewItemElement = document.createElement('li');\n      actionViewItemElement.className = 'action-item';\n      actionViewItemElement.setAttribute('role', 'presentation');\n      // Prevent native context menu on actions\n      _this._register(DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }));\n      var item;\n      if (_this.options.actionViewItemProvider) {\n        item = _this.options.actionViewItemProvider(action);\n      }\n      if (!item) {\n        item = new ActionViewItem(_this.context, action, options);\n      }\n      item.actionRunner = _this._actionRunner;\n      item.setActionContext(_this.context);\n      item.render(actionViewItemElement);\n      if (index === null || index < 0 || index >= _this.actionsList.children.length) {\n        _this.actionsList.appendChild(actionViewItemElement);\n        _this.viewItems.push(item);\n      } else {\n        _this.actionsList.insertBefore(actionViewItemElement, _this.actionsList.children[index]);\n        _this.viewItems.splice(index, 0, item);\n        index++;\n      }\n    });\n  };\n  ActionBar.prototype.clear = function () {\n    this.viewItems = dispose(this.viewItems);\n    DOM.clearNode(this.actionsList);\n  };\n  ActionBar.prototype.isEmpty = function () {\n    return this.viewItems.length === 0;\n  };\n  ActionBar.prototype.focus = function (arg) {\n    var selectFirst = false;\n    var index = undefined;\n    if (arg === undefined) {\n      selectFirst = true;\n    } else if (typeof arg === 'number') {\n      index = arg;\n    } else if (typeof arg === 'boolean') {\n      selectFirst = arg;\n    }\n    if (selectFirst && typeof this.focusedItem === 'undefined') {\n      // Focus the first enabled item\n      this.focusedItem = this.viewItems.length - 1;\n      this.focusNext();\n    } else {\n      if (index !== undefined) {\n        this.focusedItem = index;\n      }\n      this.updateFocus();\n    }\n  };\n  ActionBar.prototype.focusNext = function () {\n    if (typeof this.focusedItem === 'undefined') {\n      this.focusedItem = this.viewItems.length - 1;\n    }\n    var startIndex = this.focusedItem;\n    var item;\n    do {\n      this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n      item = this.viewItems[this.focusedItem];\n    } while (this.focusedItem !== startIndex && !item.isEnabled());\n    if (this.focusedItem === startIndex && !item.isEnabled()) {\n      this.focusedItem = undefined;\n    }\n    this.updateFocus();\n  };\n  ActionBar.prototype.focusPrevious = function () {\n    if (typeof this.focusedItem === 'undefined') {\n      this.focusedItem = 0;\n    }\n    var startIndex = this.focusedItem;\n    var item;\n    do {\n      this.focusedItem = this.focusedItem - 1;\n      if (this.focusedItem < 0) {\n        this.focusedItem = this.viewItems.length - 1;\n      }\n      item = this.viewItems[this.focusedItem];\n    } while (this.focusedItem !== startIndex && !item.isEnabled());\n    if (this.focusedItem === startIndex && !item.isEnabled()) {\n      this.focusedItem = undefined;\n    }\n    this.updateFocus(true);\n  };\n  ActionBar.prototype.updateFocus = function (fromRight, preventScroll) {\n    if (typeof this.focusedItem === 'undefined') {\n      this.actionsList.focus({\n        preventScroll: preventScroll\n      });\n    }\n    for (var i = 0; i < this.viewItems.length; i++) {\n      var item = this.viewItems[i];\n      var actionViewItem = item;\n      if (i === this.focusedItem) {\n        if (types.isFunction(actionViewItem.isEnabled)) {\n          if (actionViewItem.isEnabled() && types.isFunction(actionViewItem.focus)) {\n            actionViewItem.focus(fromRight);\n          } else {\n            this.actionsList.focus({\n              preventScroll: preventScroll\n            });\n          }\n        }\n      } else {\n        if (types.isFunction(actionViewItem.blur)) {\n          actionViewItem.blur();\n        }\n      }\n    }\n  };\n  ActionBar.prototype.doTrigger = function (event) {\n    if (typeof this.focusedItem === 'undefined') {\n      return; //nothing to focus\n    }\n    // trigger action\n    var actionViewItem = this.viewItems[this.focusedItem];\n    if (actionViewItem instanceof BaseActionViewItem) {\n      var context = actionViewItem._context === null || actionViewItem._context === undefined ? event : actionViewItem._context;\n      this.run(actionViewItem._action, context);\n    }\n  };\n  ActionBar.prototype.cancel = function () {\n    if (document.activeElement instanceof HTMLElement) {\n      document.activeElement.blur(); // remove focus from focused action\n    }\n\n    this._onDidCancel.fire();\n  };\n  ActionBar.prototype.run = function (action, context) {\n    return this._actionRunner.run(action, context);\n  };\n  ActionBar.prototype.dispose = function () {\n    dispose(this.viewItems);\n    this.viewItems = [];\n    DOM.removeNode(this.getContainer());\n    _super.prototype.dispose.call(this);\n  };\n  return ActionBar;\n}(Disposable);\nexport { ActionBar };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","platform","nls","Disposable","dispose","Action","ActionRunner","DOM","types","EventType","Gesture","StandardKeyboardEvent","Emitter","DataTransfers","isFirefox","BaseActionViewItem","_super","context","action","options","_this","call","_context","_action","_register","onDidChange","event","element","handleActionChangeEvent","enabled","undefined","updateEnabled","checked","updateChecked","class","updateClass","label","updateLabel","updateTooltip","tooltip","defineProperty","get","_actionRunner","set","actionRunner","enumerable","configurable","getAction","isEnabled","setActionContext","newContext","render","container","addTarget","enableDragging","draggable","addDisposableListener","DRAG_START","e","_a","dataTransfer","setData","TEXT","Tap","onClick","MOUSE_DOWN","EventHelper","stop","button","addClass","CLICK","isMenu","setImmediate","DBLCLICK","MOUSE_UP","MOUSE_OUT","forEach","removeClass","isUndefinedOrNull","isObject","run","focus","blur","removeNode","Separator","ID","ActionViewItem","icon","cssClass","append","$","id","setAttribute","keybinding","textContent","title","localize","key","comment","removeClasses","addClasses","removeAttribute","tabIndex","removeTabIndexAndUpdateFocus","defaultOptions","orientation","triggerKeys","keys","keyDown","ActionBar","_onDidBlur","onDidBlur","_onDidCancel","onDidCancel","_onDidRun","onDidRun","_onDidBeforeRun","onDidBeforeRun","fire","viewItems","focusedItem","domNode","document","createElement","className","animated","previousKey","nextKey","KEY_DOWN","eventHandled","equals","focusPrevious","focusNext","cancel","isTriggerKeyEvent","doTrigger","preventDefault","stopPropagation","KEY_UP","updateFocusedItem","focusTracker","trackFocus","activeElement","isAncestor","onDidFocus","actionsList","ariaLabel","appendChild","ret","keyCode","i","children","length","elem","getContainer","push","arg","actions","isArray","index","isNumber","actionViewItemElement","CONTEXT_MENU","item","actionViewItemProvider","insertBefore","splice","clear","clearNode","isEmpty","selectFirst","updateFocus","startIndex","fromRight","preventScroll","actionViewItem","isFunction","HTMLElement"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './actionbar.css';\r\nimport * as platform from '../../../common/platform.js';\r\nimport * as nls from '../../../../nls.js';\r\nimport { Disposable, dispose } from '../../../common/lifecycle.js';\r\nimport { Action, ActionRunner } from '../../../common/actions.js';\r\nimport * as DOM from '../../dom.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { EventType, Gesture } from '../../touch.js';\r\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { DataTransfers } from '../../dnd.js';\r\nimport { isFirefox } from '../../browser.js';\r\nvar BaseActionViewItem = /** @class */ (function (_super) {\r\n    __extends(BaseActionViewItem, _super);\r\n    function BaseActionViewItem(context, action, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = options;\r\n        _this._context = context || _this;\r\n        _this._action = action;\r\n        if (action instanceof Action) {\r\n            _this._register(action.onDidChange(function (event) {\r\n                if (!_this.element) {\r\n                    // we have not been rendered yet, so there\r\n                    // is no point in updating the UI\r\n                    return;\r\n                }\r\n                _this.handleActionChangeEvent(event);\r\n            }));\r\n        }\r\n        return _this;\r\n    }\r\n    BaseActionViewItem.prototype.handleActionChangeEvent = function (event) {\r\n        if (event.enabled !== undefined) {\r\n            this.updateEnabled();\r\n        }\r\n        if (event.checked !== undefined) {\r\n            this.updateChecked();\r\n        }\r\n        if (event.class !== undefined) {\r\n            this.updateClass();\r\n        }\r\n        if (event.label !== undefined) {\r\n            this.updateLabel();\r\n            this.updateTooltip();\r\n        }\r\n        if (event.tooltip !== undefined) {\r\n            this.updateTooltip();\r\n        }\r\n    };\r\n    Object.defineProperty(BaseActionViewItem.prototype, \"actionRunner\", {\r\n        get: function () {\r\n            if (!this._actionRunner) {\r\n                this._actionRunner = this._register(new ActionRunner());\r\n            }\r\n            return this._actionRunner;\r\n        },\r\n        set: function (actionRunner) {\r\n            this._actionRunner = actionRunner;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseActionViewItem.prototype.getAction = function () {\r\n        return this._action;\r\n    };\r\n    BaseActionViewItem.prototype.isEnabled = function () {\r\n        return this._action.enabled;\r\n    };\r\n    BaseActionViewItem.prototype.setActionContext = function (newContext) {\r\n        this._context = newContext;\r\n    };\r\n    BaseActionViewItem.prototype.render = function (container) {\r\n        var _this = this;\r\n        var element = this.element = container;\r\n        this._register(Gesture.addTarget(container));\r\n        var enableDragging = this.options && this.options.draggable;\r\n        if (enableDragging) {\r\n            container.draggable = true;\r\n            if (isFirefox) {\r\n                // Firefox: requires to set a text data transfer to get going\r\n                this._register(DOM.addDisposableListener(container, DOM.EventType.DRAG_START, function (e) { var _a; return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, _this._action.label); }));\r\n            }\r\n        }\r\n        this._register(DOM.addDisposableListener(element, EventType.Tap, function (e) { return _this.onClick(e); }));\r\n        this._register(DOM.addDisposableListener(element, DOM.EventType.MOUSE_DOWN, function (e) {\r\n            if (!enableDragging) {\r\n                DOM.EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\r\n            }\r\n            if (_this._action.enabled && e.button === 0) {\r\n                DOM.addClass(element, 'active');\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(element, DOM.EventType.CLICK, function (e) {\r\n            DOM.EventHelper.stop(e, true);\r\n            // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\r\n            // > Writing to the clipboard\r\n            // > You can use the \"cut\" and \"copy\" commands without any special\r\n            // permission if you are using them in a short-lived event handler\r\n            // for a user action (for example, a click handler).\r\n            // => to get the Copy and Paste context menu actions working on Firefox,\r\n            // there should be no timeout here\r\n            if (_this.options && _this.options.isMenu) {\r\n                _this.onClick(e);\r\n            }\r\n            else {\r\n                platform.setImmediate(function () { return _this.onClick(e); });\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(element, DOM.EventType.DBLCLICK, function (e) {\r\n            DOM.EventHelper.stop(e, true);\r\n        }));\r\n        [DOM.EventType.MOUSE_UP, DOM.EventType.MOUSE_OUT].forEach(function (event) {\r\n            _this._register(DOM.addDisposableListener(element, event, function (e) {\r\n                DOM.EventHelper.stop(e);\r\n                DOM.removeClass(element, 'active');\r\n            }));\r\n        });\r\n    };\r\n    BaseActionViewItem.prototype.onClick = function (event) {\r\n        DOM.EventHelper.stop(event, true);\r\n        var context;\r\n        if (types.isUndefinedOrNull(this._context)) {\r\n            context = event;\r\n        }\r\n        else {\r\n            context = this._context;\r\n            if (types.isObject(context)) {\r\n                context.event = event;\r\n            }\r\n        }\r\n        this.actionRunner.run(this._action, context);\r\n    };\r\n    BaseActionViewItem.prototype.focus = function () {\r\n        if (this.element) {\r\n            this.element.focus();\r\n            DOM.addClass(this.element, 'focused');\r\n        }\r\n    };\r\n    BaseActionViewItem.prototype.blur = function () {\r\n        if (this.element) {\r\n            this.element.blur();\r\n            DOM.removeClass(this.element, 'focused');\r\n        }\r\n    };\r\n    BaseActionViewItem.prototype.updateEnabled = function () {\r\n        // implement in subclass\r\n    };\r\n    BaseActionViewItem.prototype.updateLabel = function () {\r\n        // implement in subclass\r\n    };\r\n    BaseActionViewItem.prototype.updateTooltip = function () {\r\n        // implement in subclass\r\n    };\r\n    BaseActionViewItem.prototype.updateClass = function () {\r\n        // implement in subclass\r\n    };\r\n    BaseActionViewItem.prototype.updateChecked = function () {\r\n        // implement in subclass\r\n    };\r\n    BaseActionViewItem.prototype.dispose = function () {\r\n        if (this.element) {\r\n            DOM.removeNode(this.element);\r\n            this.element = undefined;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return BaseActionViewItem;\r\n}(Disposable));\r\nexport { BaseActionViewItem };\r\nvar Separator = /** @class */ (function (_super) {\r\n    __extends(Separator, _super);\r\n    function Separator(label) {\r\n        var _this = _super.call(this, Separator.ID, label, label ? 'separator text' : 'separator') || this;\r\n        _this.checked = false;\r\n        _this.enabled = false;\r\n        return _this;\r\n    }\r\n    Separator.ID = 'vs.actions.separator';\r\n    return Separator;\r\n}(Action));\r\nexport { Separator };\r\nvar ActionViewItem = /** @class */ (function (_super) {\r\n    __extends(ActionViewItem, _super);\r\n    function ActionViewItem(context, action, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, context, action, options) || this;\r\n        _this.options = options;\r\n        _this.options.icon = options.icon !== undefined ? options.icon : false;\r\n        _this.options.label = options.label !== undefined ? options.label : true;\r\n        _this.cssClass = '';\r\n        return _this;\r\n    }\r\n    ActionViewItem.prototype.render = function (container) {\r\n        _super.prototype.render.call(this, container);\r\n        if (this.element) {\r\n            this.label = DOM.append(this.element, DOM.$('a.action-label'));\r\n        }\r\n        if (this.label) {\r\n            if (this._action.id === Separator.ID) {\r\n                this.label.setAttribute('role', 'presentation'); // A separator is a presentation item\r\n            }\r\n            else {\r\n                if (this.options.isMenu) {\r\n                    this.label.setAttribute('role', 'menuitem');\r\n                }\r\n                else {\r\n                    this.label.setAttribute('role', 'button');\r\n                }\r\n            }\r\n        }\r\n        if (this.options.label && this.options.keybinding && this.element) {\r\n            DOM.append(this.element, DOM.$('span.keybinding')).textContent = this.options.keybinding;\r\n        }\r\n        this.updateClass();\r\n        this.updateLabel();\r\n        this.updateTooltip();\r\n        this.updateEnabled();\r\n        this.updateChecked();\r\n    };\r\n    ActionViewItem.prototype.focus = function () {\r\n        _super.prototype.focus.call(this);\r\n        if (this.label) {\r\n            this.label.focus();\r\n        }\r\n    };\r\n    ActionViewItem.prototype.updateLabel = function () {\r\n        if (this.options.label && this.label) {\r\n            this.label.textContent = this.getAction().label;\r\n        }\r\n    };\r\n    ActionViewItem.prototype.updateTooltip = function () {\r\n        var title = null;\r\n        if (this.getAction().tooltip) {\r\n            title = this.getAction().tooltip;\r\n        }\r\n        else if (!this.options.label && this.getAction().label && this.options.icon) {\r\n            title = this.getAction().label;\r\n            if (this.options.keybinding) {\r\n                title = nls.localize({ key: 'titleLabel', comment: ['action title', 'action keybinding'] }, \"{0} ({1})\", title, this.options.keybinding);\r\n            }\r\n        }\r\n        if (title && this.label) {\r\n            this.label.title = title;\r\n        }\r\n    };\r\n    ActionViewItem.prototype.updateClass = function () {\r\n        if (this.cssClass && this.label) {\r\n            DOM.removeClasses(this.label, this.cssClass);\r\n        }\r\n        if (this.options.icon) {\r\n            this.cssClass = this.getAction().class;\r\n            if (this.label) {\r\n                DOM.addClass(this.label, 'codicon');\r\n                if (this.cssClass) {\r\n                    DOM.addClasses(this.label, this.cssClass);\r\n                }\r\n            }\r\n            this.updateEnabled();\r\n        }\r\n        else {\r\n            if (this.label) {\r\n                DOM.removeClass(this.label, 'codicon');\r\n            }\r\n        }\r\n    };\r\n    ActionViewItem.prototype.updateEnabled = function () {\r\n        if (this.getAction().enabled) {\r\n            if (this.label) {\r\n                this.label.removeAttribute('aria-disabled');\r\n                DOM.removeClass(this.label, 'disabled');\r\n                this.label.tabIndex = 0;\r\n            }\r\n            if (this.element) {\r\n                DOM.removeClass(this.element, 'disabled');\r\n            }\r\n        }\r\n        else {\r\n            if (this.label) {\r\n                this.label.setAttribute('aria-disabled', 'true');\r\n                DOM.addClass(this.label, 'disabled');\r\n                DOM.removeTabIndexAndUpdateFocus(this.label);\r\n            }\r\n            if (this.element) {\r\n                DOM.addClass(this.element, 'disabled');\r\n            }\r\n        }\r\n    };\r\n    ActionViewItem.prototype.updateChecked = function () {\r\n        if (this.label) {\r\n            if (this.getAction().checked) {\r\n                DOM.addClass(this.label, 'checked');\r\n            }\r\n            else {\r\n                DOM.removeClass(this.label, 'checked');\r\n            }\r\n        }\r\n    };\r\n    return ActionViewItem;\r\n}(BaseActionViewItem));\r\nexport { ActionViewItem };\r\nvar defaultOptions = {\r\n    orientation: 0 /* HORIZONTAL */,\r\n    context: null,\r\n    triggerKeys: {\r\n        keys: [3 /* Enter */, 10 /* Space */],\r\n        keyDown: false\r\n    }\r\n};\r\nvar ActionBar = /** @class */ (function (_super) {\r\n    __extends(ActionBar, _super);\r\n    function ActionBar(container, options) {\r\n        if (options === void 0) { options = defaultOptions; }\r\n        var _this = _super.call(this) || this;\r\n        _this._onDidBlur = _this._register(new Emitter());\r\n        _this.onDidBlur = _this._onDidBlur.event;\r\n        _this._onDidCancel = _this._register(new Emitter());\r\n        _this.onDidCancel = _this._onDidCancel.event;\r\n        _this._onDidRun = _this._register(new Emitter());\r\n        _this.onDidRun = _this._onDidRun.event;\r\n        _this._onDidBeforeRun = _this._register(new Emitter());\r\n        _this.onDidBeforeRun = _this._onDidBeforeRun.event;\r\n        _this.options = options;\r\n        _this._context = options.context;\r\n        if (!_this.options.triggerKeys) {\r\n            _this.options.triggerKeys = defaultOptions.triggerKeys;\r\n        }\r\n        if (_this.options.actionRunner) {\r\n            _this._actionRunner = _this.options.actionRunner;\r\n        }\r\n        else {\r\n            _this._actionRunner = new ActionRunner();\r\n            _this._register(_this._actionRunner);\r\n        }\r\n        _this._register(_this._actionRunner.onDidRun(function (e) { return _this._onDidRun.fire(e); }));\r\n        _this._register(_this._actionRunner.onDidBeforeRun(function (e) { return _this._onDidBeforeRun.fire(e); }));\r\n        _this.viewItems = [];\r\n        _this.focusedItem = undefined;\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.className = 'monaco-action-bar';\r\n        if (options.animated !== false) {\r\n            DOM.addClass(_this.domNode, 'animated');\r\n        }\r\n        var previousKey;\r\n        var nextKey;\r\n        switch (_this.options.orientation) {\r\n            case 0 /* HORIZONTAL */:\r\n                previousKey = 15 /* LeftArrow */;\r\n                nextKey = 17 /* RightArrow */;\r\n                break;\r\n            case 1 /* HORIZONTAL_REVERSE */:\r\n                previousKey = 17 /* RightArrow */;\r\n                nextKey = 15 /* LeftArrow */;\r\n                _this.domNode.className += ' reverse';\r\n                break;\r\n            case 2 /* VERTICAL */:\r\n                previousKey = 16 /* UpArrow */;\r\n                nextKey = 18 /* DownArrow */;\r\n                _this.domNode.className += ' vertical';\r\n                break;\r\n            case 3 /* VERTICAL_REVERSE */:\r\n                previousKey = 18 /* DownArrow */;\r\n                nextKey = 16 /* UpArrow */;\r\n                _this.domNode.className += ' vertical reverse';\r\n                break;\r\n        }\r\n        _this._register(DOM.addDisposableListener(_this.domNode, DOM.EventType.KEY_DOWN, function (e) {\r\n            var event = new StandardKeyboardEvent(e);\r\n            var eventHandled = true;\r\n            if (event.equals(previousKey)) {\r\n                _this.focusPrevious();\r\n            }\r\n            else if (event.equals(nextKey)) {\r\n                _this.focusNext();\r\n            }\r\n            else if (event.equals(9 /* Escape */)) {\r\n                _this.cancel();\r\n            }\r\n            else if (_this.isTriggerKeyEvent(event)) {\r\n                // Staying out of the else branch even if not triggered\r\n                if (_this.options.triggerKeys && _this.options.triggerKeys.keyDown) {\r\n                    _this.doTrigger(event);\r\n                }\r\n            }\r\n            else {\r\n                eventHandled = false;\r\n            }\r\n            if (eventHandled) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n        }));\r\n        _this._register(DOM.addDisposableListener(_this.domNode, DOM.EventType.KEY_UP, function (e) {\r\n            var event = new StandardKeyboardEvent(e);\r\n            // Run action on Enter/Space\r\n            if (_this.isTriggerKeyEvent(event)) {\r\n                if (_this.options.triggerKeys && !_this.options.triggerKeys.keyDown) {\r\n                    _this.doTrigger(event);\r\n                }\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n            // Recompute focused item\r\n            else if (event.equals(2 /* Tab */) || event.equals(1024 /* Shift */ | 2 /* Tab */)) {\r\n                _this.updateFocusedItem();\r\n            }\r\n        }));\r\n        _this.focusTracker = _this._register(DOM.trackFocus(_this.domNode));\r\n        _this._register(_this.focusTracker.onDidBlur(function () {\r\n            if (document.activeElement === _this.domNode || !DOM.isAncestor(document.activeElement, _this.domNode)) {\r\n                _this._onDidBlur.fire();\r\n                _this.focusedItem = undefined;\r\n            }\r\n        }));\r\n        _this._register(_this.focusTracker.onDidFocus(function () { return _this.updateFocusedItem(); }));\r\n        _this.actionsList = document.createElement('ul');\r\n        _this.actionsList.className = 'actions-container';\r\n        _this.actionsList.setAttribute('role', 'toolbar');\r\n        if (_this.options.ariaLabel) {\r\n            _this.actionsList.setAttribute('aria-label', _this.options.ariaLabel);\r\n        }\r\n        _this.domNode.appendChild(_this.actionsList);\r\n        container.appendChild(_this.domNode);\r\n        return _this;\r\n    }\r\n    ActionBar.prototype.isTriggerKeyEvent = function (event) {\r\n        var ret = false;\r\n        if (this.options.triggerKeys) {\r\n            this.options.triggerKeys.keys.forEach(function (keyCode) {\r\n                ret = ret || event.equals(keyCode);\r\n            });\r\n        }\r\n        return ret;\r\n    };\r\n    ActionBar.prototype.updateFocusedItem = function () {\r\n        for (var i = 0; i < this.actionsList.children.length; i++) {\r\n            var elem = this.actionsList.children[i];\r\n            if (DOM.isAncestor(document.activeElement, elem)) {\r\n                this.focusedItem = i;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(ActionBar.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        set: function (context) {\r\n            this._context = context;\r\n            this.viewItems.forEach(function (i) { return i.setActionContext(context); });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ActionBar.prototype.getContainer = function () {\r\n        return this.domNode;\r\n    };\r\n    ActionBar.prototype.push = function (arg, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        var actions = Array.isArray(arg) ? arg : [arg];\r\n        var index = types.isNumber(options.index) ? options.index : null;\r\n        actions.forEach(function (action) {\r\n            var actionViewItemElement = document.createElement('li');\r\n            actionViewItemElement.className = 'action-item';\r\n            actionViewItemElement.setAttribute('role', 'presentation');\r\n            // Prevent native context menu on actions\r\n            _this._register(DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, function (e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }));\r\n            var item;\r\n            if (_this.options.actionViewItemProvider) {\r\n                item = _this.options.actionViewItemProvider(action);\r\n            }\r\n            if (!item) {\r\n                item = new ActionViewItem(_this.context, action, options);\r\n            }\r\n            item.actionRunner = _this._actionRunner;\r\n            item.setActionContext(_this.context);\r\n            item.render(actionViewItemElement);\r\n            if (index === null || index < 0 || index >= _this.actionsList.children.length) {\r\n                _this.actionsList.appendChild(actionViewItemElement);\r\n                _this.viewItems.push(item);\r\n            }\r\n            else {\r\n                _this.actionsList.insertBefore(actionViewItemElement, _this.actionsList.children[index]);\r\n                _this.viewItems.splice(index, 0, item);\r\n                index++;\r\n            }\r\n        });\r\n    };\r\n    ActionBar.prototype.clear = function () {\r\n        this.viewItems = dispose(this.viewItems);\r\n        DOM.clearNode(this.actionsList);\r\n    };\r\n    ActionBar.prototype.isEmpty = function () {\r\n        return this.viewItems.length === 0;\r\n    };\r\n    ActionBar.prototype.focus = function (arg) {\r\n        var selectFirst = false;\r\n        var index = undefined;\r\n        if (arg === undefined) {\r\n            selectFirst = true;\r\n        }\r\n        else if (typeof arg === 'number') {\r\n            index = arg;\r\n        }\r\n        else if (typeof arg === 'boolean') {\r\n            selectFirst = arg;\r\n        }\r\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\r\n            // Focus the first enabled item\r\n            this.focusedItem = this.viewItems.length - 1;\r\n            this.focusNext();\r\n        }\r\n        else {\r\n            if (index !== undefined) {\r\n                this.focusedItem = index;\r\n            }\r\n            this.updateFocus();\r\n        }\r\n    };\r\n    ActionBar.prototype.focusNext = function () {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.focusedItem = this.viewItems.length - 1;\r\n        }\r\n        var startIndex = this.focusedItem;\r\n        var item;\r\n        do {\r\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\r\n            item = this.viewItems[this.focusedItem];\r\n        } while (this.focusedItem !== startIndex && !item.isEnabled());\r\n        if (this.focusedItem === startIndex && !item.isEnabled()) {\r\n            this.focusedItem = undefined;\r\n        }\r\n        this.updateFocus();\r\n    };\r\n    ActionBar.prototype.focusPrevious = function () {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.focusedItem = 0;\r\n        }\r\n        var startIndex = this.focusedItem;\r\n        var item;\r\n        do {\r\n            this.focusedItem = this.focusedItem - 1;\r\n            if (this.focusedItem < 0) {\r\n                this.focusedItem = this.viewItems.length - 1;\r\n            }\r\n            item = this.viewItems[this.focusedItem];\r\n        } while (this.focusedItem !== startIndex && !item.isEnabled());\r\n        if (this.focusedItem === startIndex && !item.isEnabled()) {\r\n            this.focusedItem = undefined;\r\n        }\r\n        this.updateFocus(true);\r\n    };\r\n    ActionBar.prototype.updateFocus = function (fromRight, preventScroll) {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            this.actionsList.focus({ preventScroll: preventScroll });\r\n        }\r\n        for (var i = 0; i < this.viewItems.length; i++) {\r\n            var item = this.viewItems[i];\r\n            var actionViewItem = item;\r\n            if (i === this.focusedItem) {\r\n                if (types.isFunction(actionViewItem.isEnabled)) {\r\n                    if (actionViewItem.isEnabled() && types.isFunction(actionViewItem.focus)) {\r\n                        actionViewItem.focus(fromRight);\r\n                    }\r\n                    else {\r\n                        this.actionsList.focus({ preventScroll: preventScroll });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (types.isFunction(actionViewItem.blur)) {\r\n                    actionViewItem.blur();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ActionBar.prototype.doTrigger = function (event) {\r\n        if (typeof this.focusedItem === 'undefined') {\r\n            return; //nothing to focus\r\n        }\r\n        // trigger action\r\n        var actionViewItem = this.viewItems[this.focusedItem];\r\n        if (actionViewItem instanceof BaseActionViewItem) {\r\n            var context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\r\n            this.run(actionViewItem._action, context);\r\n        }\r\n    };\r\n    ActionBar.prototype.cancel = function () {\r\n        if (document.activeElement instanceof HTMLElement) {\r\n            document.activeElement.blur(); // remove focus from focused action\r\n        }\r\n        this._onDidCancel.fire();\r\n    };\r\n    ActionBar.prototype.run = function (action, context) {\r\n        return this._actionRunner.run(action, context);\r\n    };\r\n    ActionBar.prototype.dispose = function () {\r\n        dispose(this.viewItems);\r\n        this.viewItems = [];\r\n        DOM.removeNode(this.getContainer());\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return ActionBar;\r\n}(Disposable));\r\nexport { ActionBar };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}