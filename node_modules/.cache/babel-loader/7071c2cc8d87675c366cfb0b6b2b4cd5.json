{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\nvar CommitCharacterController = /** @class */function () {\n  function CommitCharacterController(editor, widget, accept) {\n    var _this = this;\n    this._disposables = new DisposableStore();\n    this._disposables.add(widget.onDidShow(function () {\n      return _this._onItem(widget.getFocusedItem());\n    }));\n    this._disposables.add(widget.onDidFocus(this._onItem, this));\n    this._disposables.add(widget.onDidHide(this.reset, this));\n    this._disposables.add(editor.onWillType(function (text) {\n      if (_this._active && !widget.isFrozen()) {\n        var ch = text.charCodeAt(text.length - 1);\n        if (_this._active.acceptCharacters.has(ch) && editor.getOption(0 /* acceptSuggestionOnCommitCharacter */)) {\n          accept(_this._active.item);\n        }\n      }\n    }));\n  }\n  CommitCharacterController.prototype._onItem = function (selected) {\n    if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\n      // no item or no commit characters\n      this.reset();\n      return;\n    }\n    if (this._active && this._active.item.item === selected.item) {\n      // still the same item\n      return;\n    }\n    // keep item and its commit characters\n    var acceptCharacters = new CharacterSet();\n    for (var _i = 0, _a = selected.item.completion.commitCharacters; _i < _a.length; _i++) {\n      var ch = _a[_i];\n      if (ch.length > 0) {\n        acceptCharacters.add(ch.charCodeAt(0));\n      }\n    }\n    this._active = {\n      acceptCharacters: acceptCharacters,\n      item: selected\n    };\n  };\n  CommitCharacterController.prototype.reset = function () {\n    this._active = undefined;\n  };\n  CommitCharacterController.prototype.dispose = function () {\n    this._disposables.dispose();\n  };\n  return CommitCharacterController;\n}();\nexport { CommitCharacterController };","map":{"version":3,"names":["isNonEmptyArray","DisposableStore","CharacterSet","CommitCharacterController","editor","widget","accept","_this","_disposables","add","onDidShow","_onItem","getFocusedItem","onDidFocus","onDidHide","reset","onWillType","text","_active","isFrozen","ch","charCodeAt","length","acceptCharacters","has","getOption","item","prototype","selected","completion","commitCharacters","_i","_a","undefined","dispose"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestCommitCharacters.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { CharacterSet } from '../../common/core/characterClassifier.js';\r\nvar CommitCharacterController = /** @class */ (function () {\r\n    function CommitCharacterController(editor, widget, accept) {\r\n        var _this = this;\r\n        this._disposables = new DisposableStore();\r\n        this._disposables.add(widget.onDidShow(function () { return _this._onItem(widget.getFocusedItem()); }));\r\n        this._disposables.add(widget.onDidFocus(this._onItem, this));\r\n        this._disposables.add(widget.onDidHide(this.reset, this));\r\n        this._disposables.add(editor.onWillType(function (text) {\r\n            if (_this._active && !widget.isFrozen()) {\r\n                var ch = text.charCodeAt(text.length - 1);\r\n                if (_this._active.acceptCharacters.has(ch) && editor.getOption(0 /* acceptSuggestionOnCommitCharacter */)) {\r\n                    accept(_this._active.item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    CommitCharacterController.prototype._onItem = function (selected) {\r\n        if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\r\n            // no item or no commit characters\r\n            this.reset();\r\n            return;\r\n        }\r\n        if (this._active && this._active.item.item === selected.item) {\r\n            // still the same item\r\n            return;\r\n        }\r\n        // keep item and its commit characters\r\n        var acceptCharacters = new CharacterSet();\r\n        for (var _i = 0, _a = selected.item.completion.commitCharacters; _i < _a.length; _i++) {\r\n            var ch = _a[_i];\r\n            if (ch.length > 0) {\r\n                acceptCharacters.add(ch.charCodeAt(0));\r\n            }\r\n        }\r\n        this._active = { acceptCharacters: acceptCharacters, item: selected };\r\n    };\r\n    CommitCharacterController.prototype.reset = function () {\r\n        this._active = undefined;\r\n    };\r\n    CommitCharacterController.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    return CommitCharacterController;\r\n}());\r\nexport { CommitCharacterController };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}