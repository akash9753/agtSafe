{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n//#region utils copied from typescript to prevent loading the entire typescriptServices ---\nvar IndentStyle;\n(function (IndentStyle) {\n  IndentStyle[IndentStyle[\"None\"] = 0] = \"None\";\n  IndentStyle[IndentStyle[\"Block\"] = 1] = \"Block\";\n  IndentStyle[IndentStyle[\"Smart\"] = 2] = \"Smart\";\n})(IndentStyle || (IndentStyle = {}));\nexport function flattenDiagnosticMessageText(diag, newLine, indent) {\n  if (indent === void 0) {\n    indent = 0;\n  }\n  if (typeof diag === \"string\") {\n    return diag;\n  } else if (diag === undefined) {\n    return \"\";\n  }\n  var result = \"\";\n  if (indent) {\n    result += newLine;\n    for (var i = 0; i < indent; i++) {\n      result += \"  \";\n    }\n  }\n  result += diag.messageText;\n  indent++;\n  if (diag.next) {\n    for (var _i = 0, _a = diag.next; _i < _a.length; _i++) {\n      var kid = _a[_i];\n      result += flattenDiagnosticMessageText(kid, newLine, indent);\n    }\n  }\n  return result;\n}\nfunction displayPartsToString(displayParts) {\n  if (displayParts) {\n    return displayParts.map(function (displayPart) {\n      return displayPart.text;\n    }).join(\"\");\n  }\n  return \"\";\n}\n//#endregion\nvar Adapter = /** @class */function () {\n  function Adapter(_worker) {\n    this._worker = _worker;\n  }\n  // protected _positionToOffset(model: monaco.editor.ITextModel, position: monaco.IPosition): number {\n  // \treturn model.getOffsetAt(position);\n  // }\n  // protected _offsetToPosition(model: monaco.editor.ITextModel, offset: number): monaco.IPosition {\n  // \treturn model.getPositionAt(offset);\n  // }\n  Adapter.prototype._textSpanToRange = function (model, span) {\n    var p1 = model.getPositionAt(span.start);\n    var p2 = model.getPositionAt(span.start + span.length);\n    var startLineNumber = p1.lineNumber,\n      startColumn = p1.column;\n    var endLineNumber = p2.lineNumber,\n      endColumn = p2.column;\n    return {\n      startLineNumber: startLineNumber,\n      startColumn: startColumn,\n      endLineNumber: endLineNumber,\n      endColumn: endColumn\n    };\n  };\n  return Adapter;\n}();\nexport { Adapter };\n// --- diagnostics --- ---\nvar DiagnosticCategory;\n(function (DiagnosticCategory) {\n  DiagnosticCategory[DiagnosticCategory[\"Warning\"] = 0] = \"Warning\";\n  DiagnosticCategory[DiagnosticCategory[\"Error\"] = 1] = \"Error\";\n  DiagnosticCategory[DiagnosticCategory[\"Suggestion\"] = 2] = \"Suggestion\";\n  DiagnosticCategory[DiagnosticCategory[\"Message\"] = 3] = \"Message\";\n})(DiagnosticCategory || (DiagnosticCategory = {}));\nvar DiagnosticsAdapter = /** @class */function (_super) {\n  __extends(DiagnosticsAdapter, _super);\n  function DiagnosticsAdapter(_defaults, _selector, worker) {\n    var _this = _super.call(this, worker) || this;\n    _this._defaults = _defaults;\n    _this._selector = _selector;\n    _this._disposables = [];\n    _this._listener = Object.create(null);\n    var onModelAdd = function onModelAdd(model) {\n      if (model.getModeId() !== _selector) {\n        return;\n      }\n      var handle;\n      var changeSubscription = model.onDidChangeContent(function () {\n        clearTimeout(handle);\n        handle = setTimeout(function () {\n          return _this._doValidate(model);\n        }, 500);\n      });\n      _this._listener[model.uri.toString()] = {\n        dispose: function dispose() {\n          changeSubscription.dispose();\n          clearTimeout(handle);\n        }\n      };\n      _this._doValidate(model);\n    };\n    var onModelRemoved = function onModelRemoved(model) {\n      monaco.editor.setModelMarkers(model, _this._selector, []);\n      var key = model.uri.toString();\n      if (_this._listener[key]) {\n        _this._listener[key].dispose();\n        delete _this._listener[key];\n      }\n    };\n    _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n    _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n    _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n      onModelRemoved(event.model);\n      onModelAdd(event.model);\n    }));\n    _this._disposables.push({\n      dispose: function dispose() {\n        for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n          var model = _a[_i];\n          onModelRemoved(model);\n        }\n      }\n    });\n    var recomputeDiagostics = function recomputeDiagostics() {\n      // redo diagnostics when options change\n      for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n        var model = _a[_i];\n        onModelRemoved(model);\n        onModelAdd(model);\n      }\n    };\n    _this._disposables.push(_this._defaults.onDidChange(recomputeDiagostics));\n    _this._disposables.push(_this._defaults.onDidExtraLibsChange(recomputeDiagostics));\n    monaco.editor.getModels().forEach(onModelAdd);\n    return _this;\n  }\n  DiagnosticsAdapter.prototype.dispose = function () {\n    this._disposables.forEach(function (d) {\n      return d && d.dispose();\n    });\n    this._disposables = [];\n  };\n  DiagnosticsAdapter.prototype._doValidate = function (model) {\n    return __awaiter(this, void 0, void 0, function () {\n      var worker, promises, _a, noSyntaxValidation, noSemanticValidation, noSuggestionDiagnostics, diagnostics, markers;\n      var _this = this;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            return [4 /*yield*/, this._worker(model.uri)];\n          case 1:\n            worker = _b.sent();\n            if (model.isDisposed()) {\n              // model was disposed in the meantime\n              return [2 /*return*/];\n            }\n\n            promises = [];\n            _a = this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation, noSuggestionDiagnostics = _a.noSuggestionDiagnostics;\n            if (!noSyntaxValidation) {\n              promises.push(worker.getSyntacticDiagnostics(model.uri.toString()));\n            }\n            if (!noSemanticValidation) {\n              promises.push(worker.getSemanticDiagnostics(model.uri.toString()));\n            }\n            if (!noSuggestionDiagnostics) {\n              promises.push(worker.getSuggestionDiagnostics(model.uri.toString()));\n            }\n            return [4 /*yield*/, Promise.all(promises)];\n          case 2:\n            diagnostics = _b.sent();\n            if (!diagnostics || model.isDisposed()) {\n              // model was disposed in the meantime\n              return [2 /*return*/];\n            }\n\n            markers = diagnostics.reduce(function (p, c) {\n              return c.concat(p);\n            }, []).filter(function (d) {\n              return (_this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore || []).indexOf(d.code) === -1;\n            }).map(function (d) {\n              return _this._convertDiagnostics(model, d);\n            });\n            monaco.editor.setModelMarkers(model, this._selector, markers);\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  DiagnosticsAdapter.prototype._convertDiagnostics = function (model, diag) {\n    var diagStart = diag.start || 0;\n    var diagLength = diag.length || 1;\n    var _a = model.getPositionAt(diagStart),\n      startLineNumber = _a.lineNumber,\n      startColumn = _a.column;\n    var _b = model.getPositionAt(diagStart + diagLength),\n      endLineNumber = _b.lineNumber,\n      endColumn = _b.column;\n    return {\n      severity: this._tsDiagnosticCategoryToMarkerSeverity(diag.category),\n      startLineNumber: startLineNumber,\n      startColumn: startColumn,\n      endLineNumber: endLineNumber,\n      endColumn: endColumn,\n      message: flattenDiagnosticMessageText(diag.messageText, '\\n'),\n      code: diag.code.toString(),\n      tags: diag.reportsUnnecessary ? [monaco.MarkerTag.Unnecessary] : [],\n      relatedInformation: this._convertRelatedInformation(model, diag.relatedInformation)\n    };\n  };\n  DiagnosticsAdapter.prototype._convertRelatedInformation = function (model, relatedInformation) {\n    if (!relatedInformation) {\n      return;\n    }\n    var result = [];\n    relatedInformation.forEach(function (info) {\n      var relatedResource = model;\n      if (info.file) {\n        var relatedResourceUri = monaco.Uri.parse(info.file.fileName);\n        relatedResource = monaco.editor.getModel(relatedResourceUri);\n      }\n      if (!relatedResource) {\n        return;\n      }\n      var infoStart = info.start || 0;\n      var infoLength = info.length || 1;\n      var _a = relatedResource.getPositionAt(infoStart),\n        startLineNumber = _a.lineNumber,\n        startColumn = _a.column;\n      var _b = relatedResource.getPositionAt(infoStart + infoLength),\n        endLineNumber = _b.lineNumber,\n        endColumn = _b.column;\n      result.push({\n        resource: relatedResource.uri,\n        startLineNumber: startLineNumber,\n        startColumn: startColumn,\n        endLineNumber: endLineNumber,\n        endColumn: endColumn,\n        message: flattenDiagnosticMessageText(info.messageText, '\\n')\n      });\n    });\n    return result;\n  };\n  DiagnosticsAdapter.prototype._tsDiagnosticCategoryToMarkerSeverity = function (category) {\n    switch (category) {\n      case DiagnosticCategory.Error:\n        return monaco.MarkerSeverity.Error;\n      case DiagnosticCategory.Message:\n        return monaco.MarkerSeverity.Info;\n      case DiagnosticCategory.Warning:\n        return monaco.MarkerSeverity.Warning;\n      case DiagnosticCategory.Suggestion:\n        return monaco.MarkerSeverity.Hint;\n    }\n    return monaco.MarkerSeverity.Info;\n  };\n  return DiagnosticsAdapter;\n}(Adapter);\nexport { DiagnosticsAdapter };\nvar SuggestAdapter = /** @class */function (_super) {\n  __extends(SuggestAdapter, _super);\n  function SuggestAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\n    get: function get() {\n      return ['.'];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  SuggestAdapter.prototype.provideCompletionItems = function (model, position, _context, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var wordInfo, wordRange, resource, offset, worker, info, suggestions;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            wordInfo = model.getWordUntilPosition(position);\n            wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getCompletionsAtPosition(resource.toString(), offset)];\n          case 2:\n            info = _a.sent();\n            if (!info || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            suggestions = info.entries.map(function (entry) {\n              var range = wordRange;\n              if (entry.replacementSpan) {\n                var p1 = model.getPositionAt(entry.replacementSpan.start);\n                var p2 = model.getPositionAt(entry.replacementSpan.start + entry.replacementSpan.length);\n                range = new Range(p1.lineNumber, p1.column, p2.lineNumber, p2.column);\n              }\n              return {\n                uri: resource,\n                position: position,\n                range: range,\n                label: entry.name,\n                insertText: entry.name,\n                sortText: entry.sortText,\n                kind: SuggestAdapter.convertKind(entry.kind)\n              };\n            });\n            return [2 /*return*/, {\n              suggestions: suggestions\n            }];\n        }\n      });\n    });\n  };\n  SuggestAdapter.prototype.resolveCompletionItem = function (model, _position, item, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var myItem, resource, position, offset, worker, details;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            myItem = item;\n            resource = myItem.uri;\n            position = myItem.position;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getCompletionEntryDetails(resource.toString(), offset, myItem.label)];\n          case 2:\n            details = _a.sent();\n            if (!details || model.isDisposed()) {\n              return [2 /*return*/, myItem];\n            }\n            return [2 /*return*/, {\n              uri: resource,\n              position: position,\n              label: details.name,\n              kind: SuggestAdapter.convertKind(details.kind),\n              detail: displayPartsToString(details.displayParts),\n              documentation: {\n                value: displayPartsToString(details.documentation)\n              }\n            }];\n        }\n      });\n    });\n  };\n  SuggestAdapter.convertKind = function (kind) {\n    switch (kind) {\n      case Kind.primitiveType:\n      case Kind.keyword:\n        return monaco.languages.CompletionItemKind.Keyword;\n      case Kind.variable:\n      case Kind.localVariable:\n        return monaco.languages.CompletionItemKind.Variable;\n      case Kind.memberVariable:\n      case Kind.memberGetAccessor:\n      case Kind.memberSetAccessor:\n        return monaco.languages.CompletionItemKind.Field;\n      case Kind.function:\n      case Kind.memberFunction:\n      case Kind.constructSignature:\n      case Kind.callSignature:\n      case Kind.indexSignature:\n        return monaco.languages.CompletionItemKind.Function;\n      case Kind.enum:\n        return monaco.languages.CompletionItemKind.Enum;\n      case Kind.module:\n        return monaco.languages.CompletionItemKind.Module;\n      case Kind.class:\n        return monaco.languages.CompletionItemKind.Class;\n      case Kind.interface:\n        return monaco.languages.CompletionItemKind.Interface;\n      case Kind.warning:\n        return monaco.languages.CompletionItemKind.File;\n    }\n    return monaco.languages.CompletionItemKind.Property;\n  };\n  return SuggestAdapter;\n}(Adapter);\nexport { SuggestAdapter };\nvar SignatureHelpAdapter = /** @class */function (_super) {\n  __extends(SignatureHelpAdapter, _super);\n  function SignatureHelpAdapter() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.signatureHelpTriggerCharacters = ['(', ','];\n    return _this;\n  }\n  SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, info, ret;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getSignatureHelpItems(resource.toString(), offset)];\n          case 2:\n            info = _a.sent();\n            if (!info || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            ret = {\n              activeSignature: info.selectedItemIndex,\n              activeParameter: info.argumentIndex,\n              signatures: []\n            };\n            info.items.forEach(function (item) {\n              var signature = {\n                label: '',\n                parameters: []\n              };\n              signature.documentation = displayPartsToString(item.documentation);\n              signature.label += displayPartsToString(item.prefixDisplayParts);\n              item.parameters.forEach(function (p, i, a) {\n                var label = displayPartsToString(p.displayParts);\n                var parameter = {\n                  label: label,\n                  documentation: displayPartsToString(p.documentation)\n                };\n                signature.label += label;\n                signature.parameters.push(parameter);\n                if (i < a.length - 1) {\n                  signature.label += displayPartsToString(item.separatorDisplayParts);\n                }\n              });\n              signature.label += displayPartsToString(item.suffixDisplayParts);\n              ret.signatures.push(signature);\n            });\n            return [2 /*return*/, {\n              value: ret,\n              dispose: function dispose() {}\n            }];\n        }\n      });\n    });\n  };\n  return SignatureHelpAdapter;\n}(Adapter);\nexport { SignatureHelpAdapter };\n// --- hover ------\nvar QuickInfoAdapter = /** @class */function (_super) {\n  __extends(QuickInfoAdapter, _super);\n  function QuickInfoAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, info, documentation, tags, contents;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getQuickInfoAtPosition(resource.toString(), offset)];\n          case 2:\n            info = _a.sent();\n            if (!info || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            documentation = displayPartsToString(info.documentation);\n            tags = info.tags ? info.tags.map(function (tag) {\n              var label = \"*@\" + tag.name + \"*\";\n              if (!tag.text) {\n                return label;\n              }\n              return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\n            }).join('  \\n\\n') : '';\n            contents = displayPartsToString(info.displayParts);\n            return [2 /*return*/, {\n              range: this._textSpanToRange(model, info.textSpan),\n              contents: [{\n                value: '```js\\n' + contents + '\\n```\\n'\n              }, {\n                value: documentation + (tags ? '\\n\\n' + tags : '')\n              }]\n            }];\n        }\n      });\n    });\n  };\n  return QuickInfoAdapter;\n}(Adapter);\nexport { QuickInfoAdapter };\n// --- occurrences ------\nvar OccurrencesAdapter = /** @class */function (_super) {\n  __extends(OccurrencesAdapter, _super);\n  function OccurrencesAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, entries;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getOccurrencesAtPosition(resource.toString(), offset)];\n          case 2:\n            entries = _a.sent();\n            if (!entries || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            return [2 /*return*/, entries.map(function (entry) {\n              return {\n                range: _this._textSpanToRange(model, entry.textSpan),\n                kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\n              };\n            })];\n        }\n      });\n    });\n  };\n  return OccurrencesAdapter;\n}(Adapter);\nexport { OccurrencesAdapter };\n// --- definition ------\nvar DefinitionAdapter = /** @class */function (_super) {\n  __extends(DefinitionAdapter, _super);\n  function DefinitionAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, entries, result, _i, entries_1, entry, uri, refModel;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getDefinitionAtPosition(resource.toString(), offset)];\n          case 2:\n            entries = _a.sent();\n            if (!entries || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            result = [];\n            for (_i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n              entry = entries_1[_i];\n              uri = Uri.parse(entry.fileName);\n              refModel = monaco.editor.getModel(uri);\n              if (refModel) {\n                result.push({\n                  uri: uri,\n                  range: this._textSpanToRange(refModel, entry.textSpan)\n                });\n              }\n            }\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  return DefinitionAdapter;\n}(Adapter);\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */function (_super) {\n  __extends(ReferenceAdapter, _super);\n  function ReferenceAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, entries, result, _i, entries_2, entry, uri, refModel;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getReferencesAtPosition(resource.toString(), offset)];\n          case 2:\n            entries = _a.sent();\n            if (!entries || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            result = [];\n            for (_i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n              entry = entries_2[_i];\n              uri = Uri.parse(entry.fileName);\n              refModel = monaco.editor.getModel(uri);\n              if (refModel) {\n                result.push({\n                  uri: uri,\n                  range: this._textSpanToRange(refModel, entry.textSpan)\n                });\n              }\n            }\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  return ReferenceAdapter;\n}(Adapter);\nexport { ReferenceAdapter };\n// --- outline ------\nvar OutlineAdapter = /** @class */function (_super) {\n  __extends(OutlineAdapter, _super);\n  function OutlineAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, worker, items, _convert, result;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getNavigationBarItems(resource.toString())];\n          case 2:\n            items = _a.sent();\n            if (!items || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            _convert = function convert(bucket, item, containerLabel) {\n              var result = {\n                name: item.text,\n                detail: '',\n                kind: outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable,\n                range: _this._textSpanToRange(model, item.spans[0]),\n                selectionRange: _this._textSpanToRange(model, item.spans[0]),\n                tags: [],\n                containerName: containerLabel\n              };\n              if (item.childItems && item.childItems.length > 0) {\n                for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\n                  var child = _a[_i];\n                  _convert(bucket, child, result.name);\n                }\n              }\n              bucket.push(result);\n            };\n            result = [];\n            items.forEach(function (item) {\n              return _convert(result, item);\n            });\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  return OutlineAdapter;\n}(Adapter);\nexport { OutlineAdapter };\nvar Kind = /** @class */function () {\n  function Kind() {}\n  Kind.unknown = '';\n  Kind.keyword = 'keyword';\n  Kind.script = 'script';\n  Kind.module = 'module';\n  Kind.class = 'class';\n  Kind.interface = 'interface';\n  Kind.type = 'type';\n  Kind.enum = 'enum';\n  Kind.variable = 'var';\n  Kind.localVariable = 'local var';\n  Kind.function = 'function';\n  Kind.localFunction = 'local function';\n  Kind.memberFunction = 'method';\n  Kind.memberGetAccessor = 'getter';\n  Kind.memberSetAccessor = 'setter';\n  Kind.memberVariable = 'property';\n  Kind.constructorImplementation = 'constructor';\n  Kind.callSignature = 'call';\n  Kind.indexSignature = 'index';\n  Kind.constructSignature = 'construct';\n  Kind.parameter = 'parameter';\n  Kind.typeParameter = 'type parameter';\n  Kind.primitiveType = 'primitive type';\n  Kind.label = 'label';\n  Kind.alias = 'alias';\n  Kind.const = 'const';\n  Kind.let = 'let';\n  Kind.warning = 'warning';\n  return Kind;\n}();\nexport { Kind };\nvar outlineTypeTable = Object.create(null);\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\n// --- formatting ----\nvar FormatHelper = /** @class */function (_super) {\n  __extends(FormatHelper, _super);\n  function FormatHelper() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  FormatHelper._convertOptions = function (options) {\n    return {\n      ConvertTabsToSpaces: options.insertSpaces,\n      TabSize: options.tabSize,\n      IndentSize: options.tabSize,\n      IndentStyle: IndentStyle.Smart,\n      NewLineCharacter: '\\n',\n      InsertSpaceAfterCommaDelimiter: true,\n      InsertSpaceAfterSemicolonInForStatements: true,\n      InsertSpaceBeforeAndAfterBinaryOperators: true,\n      InsertSpaceAfterKeywordsInControlFlowStatements: true,\n      InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\n      InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\n      InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\n      InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\n      PlaceOpenBraceOnNewLineForControlBlocks: false,\n      PlaceOpenBraceOnNewLineForFunctions: false\n    };\n  };\n  FormatHelper.prototype._convertTextChanges = function (model, change) {\n    return {\n      text: change.newText,\n      range: this._textSpanToRange(model, change.span)\n    };\n  };\n  return FormatHelper;\n}(Adapter);\nexport { FormatHelper };\nvar FormatAdapter = /** @class */function (_super) {\n  __extends(FormatAdapter, _super);\n  function FormatAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, startOffset, endOffset, worker, edits;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            startOffset = model.getOffsetAt({\n              lineNumber: range.startLineNumber,\n              column: range.startColumn\n            });\n            endOffset = model.getOffsetAt({\n              lineNumber: range.endLineNumber,\n              column: range.endColumn\n            });\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getFormattingEditsForRange(resource.toString(), startOffset, endOffset, FormatHelper._convertOptions(options))];\n          case 2:\n            edits = _a.sent();\n            if (!edits || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            return [2 /*return*/, edits.map(function (edit) {\n              return _this._convertTextChanges(model, edit);\n            })];\n        }\n      });\n    });\n  };\n  return FormatAdapter;\n}(FormatHelper);\nexport { FormatAdapter };\nvar FormatOnTypeAdapter = /** @class */function (_super) {\n  __extends(FormatOnTypeAdapter, _super);\n  function FormatOnTypeAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\n    get: function get() {\n      return [';', '}', '\\n'];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, offset, worker, edits;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getFormattingEditsAfterKeystroke(resource.toString(), offset, ch, FormatHelper._convertOptions(options))];\n          case 2:\n            edits = _a.sent();\n            if (!edits || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            return [2 /*return*/, edits.map(function (edit) {\n              return _this._convertTextChanges(model, edit);\n            })];\n        }\n      });\n    });\n  };\n  return FormatOnTypeAdapter;\n}(FormatHelper);\nexport { FormatOnTypeAdapter };\n// --- code actions ------\nvar CodeActionAdaptor = /** @class */function (_super) {\n  __extends(CodeActionAdaptor, _super);\n  function CodeActionAdaptor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CodeActionAdaptor.prototype.provideCodeActions = function (model, range, context, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, start, end, formatOptions, errorCodes, worker, codeFixes, actions;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            start = model.getOffsetAt({\n              lineNumber: range.startLineNumber,\n              column: range.startColumn\n            });\n            end = model.getOffsetAt({\n              lineNumber: range.endLineNumber,\n              column: range.endColumn\n            });\n            formatOptions = FormatHelper._convertOptions(model.getOptions());\n            errorCodes = context.markers.filter(function (m) {\n              return m.code;\n            }).map(function (m) {\n              return m.code;\n            }).map(Number);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getCodeFixesAtPosition(resource.toString(), start, end, errorCodes, formatOptions)];\n          case 2:\n            codeFixes = _a.sent();\n            if (!codeFixes || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            actions = codeFixes.filter(function (fix) {\n              // Removes any 'make a new file'-type code fix\n              return fix.changes.filter(function (change) {\n                return change.isNewFile;\n              }).length === 0;\n            }).map(function (fix) {\n              return _this._tsCodeFixActionToMonacoCodeAction(model, context, fix);\n            });\n            return [2 /*return*/, {\n              actions: actions,\n              dispose: function dispose() {}\n            }];\n        }\n      });\n    });\n  };\n  CodeActionAdaptor.prototype._tsCodeFixActionToMonacoCodeAction = function (model, context, codeFix) {\n    var edits = [];\n    for (var _i = 0, _a = codeFix.changes; _i < _a.length; _i++) {\n      var change = _a[_i];\n      for (var _b = 0, _c = change.textChanges; _b < _c.length; _b++) {\n        var textChange = _c[_b];\n        edits.push({\n          resource: model.uri,\n          edit: {\n            range: this._textSpanToRange(model, textChange.span),\n            text: textChange.newText\n          }\n        });\n      }\n    }\n    var action = {\n      title: codeFix.description,\n      edit: {\n        edits: edits\n      },\n      diagnostics: context.markers,\n      kind: \"quickfix\"\n    };\n    return action;\n  };\n  return CodeActionAdaptor;\n}(FormatHelper);\nexport { CodeActionAdaptor };\n// --- rename ----\nvar RenameAdapter = /** @class */function (_super) {\n  __extends(RenameAdapter, _super);\n  function RenameAdapter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var resource, fileName, offset, worker, renameInfo, renameLocations, edits, _i, renameLocations_1, renameLocation;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            resource = model.uri;\n            fileName = resource.toString();\n            offset = model.getOffsetAt(position);\n            return [4 /*yield*/, this._worker(resource)];\n          case 1:\n            worker = _a.sent();\n            return [4 /*yield*/, worker.getRenameInfo(fileName, offset, {\n              allowRenameOfImportPath: false\n            })];\n          case 2:\n            renameInfo = _a.sent();\n            if (renameInfo.canRename === false) {\n              // use explicit comparison so that the discriminated union gets resolved properly\n              return [2 /*return*/, {\n                edits: [],\n                rejectReason: renameInfo.localizedErrorMessage\n              }];\n            }\n            if (renameInfo.fileToRename !== undefined) {\n              throw new Error(\"Renaming files is not supported.\");\n            }\n            return [4 /*yield*/, worker.findRenameLocations(fileName, offset, /*strings*/false, /*comments*/false, /*prefixAndSuffix*/false)];\n          case 3:\n            renameLocations = _a.sent();\n            if (!renameLocations || model.isDisposed()) {\n              return [2 /*return*/];\n            }\n\n            edits = [];\n            for (_i = 0, renameLocations_1 = renameLocations; _i < renameLocations_1.length; _i++) {\n              renameLocation = renameLocations_1[_i];\n              edits.push({\n                resource: monaco.Uri.parse(renameLocation.fileName),\n                edit: {\n                  range: this._textSpanToRange(model, renameLocation.textSpan),\n                  text: newName\n                }\n              });\n            }\n            return [2 /*return*/, {\n              edits: edits\n            }];\n        }\n      });\n    });\n  };\n  return RenameAdapter;\n}(Adapter);\nexport { RenameAdapter };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Uri","monaco","Range","IndentStyle","flattenDiagnosticMessageText","diag","newLine","indent","undefined","i","messageText","_i","_a","kid","displayPartsToString","displayParts","map","displayPart","text","join","Adapter","_worker","_textSpanToRange","model","span","p1","getPositionAt","start","p2","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn","DiagnosticCategory","DiagnosticsAdapter","_super","_defaults","_selector","worker","_this","_disposables","_listener","onModelAdd","getModeId","handle","changeSubscription","onDidChangeContent","clearTimeout","setTimeout","_doValidate","uri","toString","dispose","onModelRemoved","editor","setModelMarkers","key","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","recomputeDiagostics","onDidChange","onDidExtraLibsChange","forEach","promises","noSyntaxValidation","noSemanticValidation","noSuggestionDiagnostics","diagnostics","markers","_b","isDisposed","getDiagnosticsOptions","getSyntacticDiagnostics","getSemanticDiagnostics","getSuggestionDiagnostics","all","reduce","c","concat","filter","diagnosticCodesToIgnore","indexOf","code","_convertDiagnostics","diagStart","diagLength","severity","_tsDiagnosticCategoryToMarkerSeverity","category","message","tags","reportsUnnecessary","MarkerTag","Unnecessary","relatedInformation","_convertRelatedInformation","info","relatedResource","file","relatedResourceUri","parse","fileName","getModel","infoStart","infoLength","resource","Error","MarkerSeverity","Message","Info","Warning","Suggestion","Hint","SuggestAdapter","arguments","defineProperty","get","enumerable","configurable","provideCompletionItems","position","_context","token","wordInfo","wordRange","offset","suggestions","getWordUntilPosition","getOffsetAt","getCompletionsAtPosition","entries","entry","range","replacementSpan","name","insertText","sortText","kind","convertKind","resolveCompletionItem","_position","item","myItem","details","getCompletionEntryDetails","detail","documentation","Kind","primitiveType","keyword","languages","CompletionItemKind","Keyword","variable","localVariable","Variable","memberVariable","memberGetAccessor","memberSetAccessor","Field","function","memberFunction","constructSignature","callSignature","indexSignature","Function","enum","Enum","module","Module","class","Class","interface","Interface","warning","File","Property","SignatureHelpAdapter","signatureHelpTriggerCharacters","provideSignatureHelp","ret","getSignatureHelpItems","activeSignature","selectedItemIndex","activeParameter","argumentIndex","signatures","items","signature","parameters","prefixDisplayParts","a","parameter","separatorDisplayParts","suffixDisplayParts","QuickInfoAdapter","provideHover","contents","getQuickInfoAtPosition","tag","match","textSpan","OccurrencesAdapter","provideDocumentHighlights","getOccurrencesAtPosition","isWriteAccess","DocumentHighlightKind","Write","Text","DefinitionAdapter","provideDefinition","entries_1","refModel","getDefinitionAtPosition","ReferenceAdapter","provideReferences","context","entries_2","getReferencesAtPosition","OutlineAdapter","provideDocumentSymbols","convert","getNavigationBarItems","bucket","containerLabel","outlineTypeTable","SymbolKind","spans","selectionRange","containerName","childItems","child","unknown","script","type","localFunction","constructorImplementation","typeParameter","alias","const","let","Method","FormatHelper","_convertOptions","options","ConvertTabsToSpaces","insertSpaces","TabSize","tabSize","IndentSize","Smart","NewLineCharacter","InsertSpaceAfterCommaDelimiter","InsertSpaceAfterSemicolonInForStatements","InsertSpaceBeforeAndAfterBinaryOperators","InsertSpaceAfterKeywordsInControlFlowStatements","InsertSpaceAfterFunctionKeywordForAnonymousFunctions","InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis","InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets","InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces","PlaceOpenBraceOnNewLineForControlBlocks","PlaceOpenBraceOnNewLineForFunctions","_convertTextChanges","change","newText","FormatAdapter","provideDocumentRangeFormattingEdits","startOffset","endOffset","edits","getFormattingEditsForRange","edit","FormatOnTypeAdapter","provideOnTypeFormattingEdits","ch","getFormattingEditsAfterKeystroke","CodeActionAdaptor","provideCodeActions","end","formatOptions","errorCodes","codeFixes","actions","getOptions","m","Number","getCodeFixesAtPosition","fix","changes","isNewFile","_tsCodeFixActionToMonacoCodeAction","codeFix","_c","textChanges","textChange","action","title","description","RenameAdapter","provideRenameEdits","newName","renameInfo","renameLocations","renameLocations_1","renameLocation","getRenameInfo","allowRenameOfImportPath","canRename","rejectReason","localizedErrorMessage","fileToRename","findRenameLocations"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/typescript/languageFeatures.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar Uri = monaco.Uri;\r\nvar Range = monaco.Range;\r\n//#region utils copied from typescript to prevent loading the entire typescriptServices ---\r\nvar IndentStyle;\r\n(function (IndentStyle) {\r\n    IndentStyle[IndentStyle[\"None\"] = 0] = \"None\";\r\n    IndentStyle[IndentStyle[\"Block\"] = 1] = \"Block\";\r\n    IndentStyle[IndentStyle[\"Smart\"] = 2] = \"Smart\";\r\n})(IndentStyle || (IndentStyle = {}));\r\nexport function flattenDiagnosticMessageText(diag, newLine, indent) {\r\n    if (indent === void 0) { indent = 0; }\r\n    if (typeof diag === \"string\") {\r\n        return diag;\r\n    }\r\n    else if (diag === undefined) {\r\n        return \"\";\r\n    }\r\n    var result = \"\";\r\n    if (indent) {\r\n        result += newLine;\r\n        for (var i = 0; i < indent; i++) {\r\n            result += \"  \";\r\n        }\r\n    }\r\n    result += diag.messageText;\r\n    indent++;\r\n    if (diag.next) {\r\n        for (var _i = 0, _a = diag.next; _i < _a.length; _i++) {\r\n            var kid = _a[_i];\r\n            result += flattenDiagnosticMessageText(kid, newLine, indent);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction displayPartsToString(displayParts) {\r\n    if (displayParts) {\r\n        return displayParts.map(function (displayPart) { return displayPart.text; }).join(\"\");\r\n    }\r\n    return \"\";\r\n}\r\n//#endregion\r\nvar Adapter = /** @class */ (function () {\r\n    function Adapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    // protected _positionToOffset(model: monaco.editor.ITextModel, position: monaco.IPosition): number {\r\n    // \treturn model.getOffsetAt(position);\r\n    // }\r\n    // protected _offsetToPosition(model: monaco.editor.ITextModel, offset: number): monaco.IPosition {\r\n    // \treturn model.getPositionAt(offset);\r\n    // }\r\n    Adapter.prototype._textSpanToRange = function (model, span) {\r\n        var p1 = model.getPositionAt(span.start);\r\n        var p2 = model.getPositionAt(span.start + span.length);\r\n        var startLineNumber = p1.lineNumber, startColumn = p1.column;\r\n        var endLineNumber = p2.lineNumber, endColumn = p2.column;\r\n        return { startLineNumber: startLineNumber, startColumn: startColumn, endLineNumber: endLineNumber, endColumn: endColumn };\r\n    };\r\n    return Adapter;\r\n}());\r\nexport { Adapter };\r\n// --- diagnostics --- ---\r\nvar DiagnosticCategory;\r\n(function (DiagnosticCategory) {\r\n    DiagnosticCategory[DiagnosticCategory[\"Warning\"] = 0] = \"Warning\";\r\n    DiagnosticCategory[DiagnosticCategory[\"Error\"] = 1] = \"Error\";\r\n    DiagnosticCategory[DiagnosticCategory[\"Suggestion\"] = 2] = \"Suggestion\";\r\n    DiagnosticCategory[DiagnosticCategory[\"Message\"] = 3] = \"Message\";\r\n})(DiagnosticCategory || (DiagnosticCategory = {}));\r\nvar DiagnosticsAdapter = /** @class */ (function (_super) {\r\n    __extends(DiagnosticsAdapter, _super);\r\n    function DiagnosticsAdapter(_defaults, _selector, worker) {\r\n        var _this = _super.call(this, worker) || this;\r\n        _this._defaults = _defaults;\r\n        _this._selector = _selector;\r\n        _this._disposables = [];\r\n        _this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            if (model.getModeId() !== _selector) {\r\n                return;\r\n            }\r\n            var handle;\r\n            var changeSubscription = model.onDidChangeContent(function () {\r\n                clearTimeout(handle);\r\n                handle = setTimeout(function () { return _this._doValidate(model); }, 500);\r\n            });\r\n            _this._listener[model.uri.toString()] = {\r\n                dispose: function () {\r\n                    changeSubscription.dispose();\r\n                    clearTimeout(handle);\r\n                }\r\n            };\r\n            _this._doValidate(model);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            monaco.editor.setModelMarkers(model, _this._selector, []);\r\n            var key = model.uri.toString();\r\n            if (_this._listener[key]) {\r\n                _this._listener[key].dispose();\r\n                delete _this._listener[key];\r\n            }\r\n        };\r\n        _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\r\n        _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\r\n        _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n        }));\r\n        _this._disposables.push({\r\n            dispose: function () {\r\n                for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\r\n                    var model = _a[_i];\r\n                    onModelRemoved(model);\r\n                }\r\n            }\r\n        });\r\n        var recomputeDiagostics = function () {\r\n            // redo diagnostics when options change\r\n            for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\r\n                var model = _a[_i];\r\n                onModelRemoved(model);\r\n                onModelAdd(model);\r\n            }\r\n        };\r\n        _this._disposables.push(_this._defaults.onDidChange(recomputeDiagostics));\r\n        _this._disposables.push(_this._defaults.onDidExtraLibsChange(recomputeDiagostics));\r\n        monaco.editor.getModels().forEach(onModelAdd);\r\n        return _this;\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (model) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var worker, promises, _a, noSyntaxValidation, noSemanticValidation, noSuggestionDiagnostics, diagnostics, markers;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this._worker(model.uri)];\r\n                    case 1:\r\n                        worker = _b.sent();\r\n                        if (model.isDisposed()) {\r\n                            // model was disposed in the meantime\r\n                            return [2 /*return*/];\r\n                        }\r\n                        promises = [];\r\n                        _a = this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation, noSuggestionDiagnostics = _a.noSuggestionDiagnostics;\r\n                        if (!noSyntaxValidation) {\r\n                            promises.push(worker.getSyntacticDiagnostics(model.uri.toString()));\r\n                        }\r\n                        if (!noSemanticValidation) {\r\n                            promises.push(worker.getSemanticDiagnostics(model.uri.toString()));\r\n                        }\r\n                        if (!noSuggestionDiagnostics) {\r\n                            promises.push(worker.getSuggestionDiagnostics(model.uri.toString()));\r\n                        }\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 2:\r\n                        diagnostics = _b.sent();\r\n                        if (!diagnostics || model.isDisposed()) {\r\n                            // model was disposed in the meantime\r\n                            return [2 /*return*/];\r\n                        }\r\n                        markers = diagnostics\r\n                            .reduce(function (p, c) { return c.concat(p); }, [])\r\n                            .filter(function (d) { return (_this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore || []).indexOf(d.code) === -1; })\r\n                            .map(function (d) { return _this._convertDiagnostics(model, d); });\r\n                        monaco.editor.setModelMarkers(model, this._selector, markers);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DiagnosticsAdapter.prototype._convertDiagnostics = function (model, diag) {\r\n        var diagStart = diag.start || 0;\r\n        var diagLength = diag.length || 1;\r\n        var _a = model.getPositionAt(diagStart), startLineNumber = _a.lineNumber, startColumn = _a.column;\r\n        var _b = model.getPositionAt(diagStart + diagLength), endLineNumber = _b.lineNumber, endColumn = _b.column;\r\n        return {\r\n            severity: this._tsDiagnosticCategoryToMarkerSeverity(diag.category),\r\n            startLineNumber: startLineNumber,\r\n            startColumn: startColumn,\r\n            endLineNumber: endLineNumber,\r\n            endColumn: endColumn,\r\n            message: flattenDiagnosticMessageText(diag.messageText, '\\n'),\r\n            code: diag.code.toString(),\r\n            tags: diag.reportsUnnecessary ? [monaco.MarkerTag.Unnecessary] : [],\r\n            relatedInformation: this._convertRelatedInformation(model, diag.relatedInformation),\r\n        };\r\n    };\r\n    DiagnosticsAdapter.prototype._convertRelatedInformation = function (model, relatedInformation) {\r\n        if (!relatedInformation) {\r\n            return;\r\n        }\r\n        var result = [];\r\n        relatedInformation.forEach(function (info) {\r\n            var relatedResource = model;\r\n            if (info.file) {\r\n                var relatedResourceUri = monaco.Uri.parse(info.file.fileName);\r\n                relatedResource = monaco.editor.getModel(relatedResourceUri);\r\n            }\r\n            if (!relatedResource) {\r\n                return;\r\n            }\r\n            var infoStart = info.start || 0;\r\n            var infoLength = info.length || 1;\r\n            var _a = relatedResource.getPositionAt(infoStart), startLineNumber = _a.lineNumber, startColumn = _a.column;\r\n            var _b = relatedResource.getPositionAt(infoStart + infoLength), endLineNumber = _b.lineNumber, endColumn = _b.column;\r\n            result.push({\r\n                resource: relatedResource.uri,\r\n                startLineNumber: startLineNumber,\r\n                startColumn: startColumn,\r\n                endLineNumber: endLineNumber,\r\n                endColumn: endColumn,\r\n                message: flattenDiagnosticMessageText(info.messageText, '\\n')\r\n            });\r\n        });\r\n        return result;\r\n    };\r\n    DiagnosticsAdapter.prototype._tsDiagnosticCategoryToMarkerSeverity = function (category) {\r\n        switch (category) {\r\n            case DiagnosticCategory.Error: return monaco.MarkerSeverity.Error;\r\n            case DiagnosticCategory.Message: return monaco.MarkerSeverity.Info;\r\n            case DiagnosticCategory.Warning: return monaco.MarkerSeverity.Warning;\r\n            case DiagnosticCategory.Suggestion: return monaco.MarkerSeverity.Hint;\r\n        }\r\n        return monaco.MarkerSeverity.Info;\r\n    };\r\n    return DiagnosticsAdapter;\r\n}(Adapter));\r\nexport { DiagnosticsAdapter };\r\nvar SuggestAdapter = /** @class */ (function (_super) {\r\n    __extends(SuggestAdapter, _super);\r\n    function SuggestAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return ['.'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SuggestAdapter.prototype.provideCompletionItems = function (model, position, _context, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var wordInfo, wordRange, resource, offset, worker, info, suggestions;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        wordInfo = model.getWordUntilPosition(position);\r\n                        wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getCompletionsAtPosition(resource.toString(), offset)];\r\n                    case 2:\r\n                        info = _a.sent();\r\n                        if (!info || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        suggestions = info.entries.map(function (entry) {\r\n                            var range = wordRange;\r\n                            if (entry.replacementSpan) {\r\n                                var p1 = model.getPositionAt(entry.replacementSpan.start);\r\n                                var p2 = model.getPositionAt(entry.replacementSpan.start + entry.replacementSpan.length);\r\n                                range = new Range(p1.lineNumber, p1.column, p2.lineNumber, p2.column);\r\n                            }\r\n                            return {\r\n                                uri: resource,\r\n                                position: position,\r\n                                range: range,\r\n                                label: entry.name,\r\n                                insertText: entry.name,\r\n                                sortText: entry.sortText,\r\n                                kind: SuggestAdapter.convertKind(entry.kind)\r\n                            };\r\n                        });\r\n                        return [2 /*return*/, {\r\n                                suggestions: suggestions\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SuggestAdapter.prototype.resolveCompletionItem = function (model, _position, item, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var myItem, resource, position, offset, worker, details;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        myItem = item;\r\n                        resource = myItem.uri;\r\n                        position = myItem.position;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getCompletionEntryDetails(resource.toString(), offset, myItem.label)];\r\n                    case 2:\r\n                        details = _a.sent();\r\n                        if (!details || model.isDisposed()) {\r\n                            return [2 /*return*/, myItem];\r\n                        }\r\n                        return [2 /*return*/, {\r\n                                uri: resource,\r\n                                position: position,\r\n                                label: details.name,\r\n                                kind: SuggestAdapter.convertKind(details.kind),\r\n                                detail: displayPartsToString(details.displayParts),\r\n                                documentation: {\r\n                                    value: displayPartsToString(details.documentation)\r\n                                }\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SuggestAdapter.convertKind = function (kind) {\r\n        switch (kind) {\r\n            case Kind.primitiveType:\r\n            case Kind.keyword:\r\n                return monaco.languages.CompletionItemKind.Keyword;\r\n            case Kind.variable:\r\n            case Kind.localVariable:\r\n                return monaco.languages.CompletionItemKind.Variable;\r\n            case Kind.memberVariable:\r\n            case Kind.memberGetAccessor:\r\n            case Kind.memberSetAccessor:\r\n                return monaco.languages.CompletionItemKind.Field;\r\n            case Kind.function:\r\n            case Kind.memberFunction:\r\n            case Kind.constructSignature:\r\n            case Kind.callSignature:\r\n            case Kind.indexSignature:\r\n                return monaco.languages.CompletionItemKind.Function;\r\n            case Kind.enum:\r\n                return monaco.languages.CompletionItemKind.Enum;\r\n            case Kind.module:\r\n                return monaco.languages.CompletionItemKind.Module;\r\n            case Kind.class:\r\n                return monaco.languages.CompletionItemKind.Class;\r\n            case Kind.interface:\r\n                return monaco.languages.CompletionItemKind.Interface;\r\n            case Kind.warning:\r\n                return monaco.languages.CompletionItemKind.File;\r\n        }\r\n        return monaco.languages.CompletionItemKind.Property;\r\n    };\r\n    return SuggestAdapter;\r\n}(Adapter));\r\nexport { SuggestAdapter };\r\nvar SignatureHelpAdapter = /** @class */ (function (_super) {\r\n    __extends(SignatureHelpAdapter, _super);\r\n    function SignatureHelpAdapter() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.signatureHelpTriggerCharacters = ['(', ','];\r\n        return _this;\r\n    }\r\n    SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, info, ret;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getSignatureHelpItems(resource.toString(), offset)];\r\n                    case 2:\r\n                        info = _a.sent();\r\n                        if (!info || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        ret = {\r\n                            activeSignature: info.selectedItemIndex,\r\n                            activeParameter: info.argumentIndex,\r\n                            signatures: []\r\n                        };\r\n                        info.items.forEach(function (item) {\r\n                            var signature = {\r\n                                label: '',\r\n                                parameters: []\r\n                            };\r\n                            signature.documentation = displayPartsToString(item.documentation);\r\n                            signature.label += displayPartsToString(item.prefixDisplayParts);\r\n                            item.parameters.forEach(function (p, i, a) {\r\n                                var label = displayPartsToString(p.displayParts);\r\n                                var parameter = {\r\n                                    label: label,\r\n                                    documentation: displayPartsToString(p.documentation)\r\n                                };\r\n                                signature.label += label;\r\n                                signature.parameters.push(parameter);\r\n                                if (i < a.length - 1) {\r\n                                    signature.label += displayPartsToString(item.separatorDisplayParts);\r\n                                }\r\n                            });\r\n                            signature.label += displayPartsToString(item.suffixDisplayParts);\r\n                            ret.signatures.push(signature);\r\n                        });\r\n                        return [2 /*return*/, {\r\n                                value: ret,\r\n                                dispose: function () { }\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return SignatureHelpAdapter;\r\n}(Adapter));\r\nexport { SignatureHelpAdapter };\r\n// --- hover ------\r\nvar QuickInfoAdapter = /** @class */ (function (_super) {\r\n    __extends(QuickInfoAdapter, _super);\r\n    function QuickInfoAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, info, documentation, tags, contents;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getQuickInfoAtPosition(resource.toString(), offset)];\r\n                    case 2:\r\n                        info = _a.sent();\r\n                        if (!info || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        documentation = displayPartsToString(info.documentation);\r\n                        tags = info.tags ? info.tags.map(function (tag) {\r\n                            var label = \"*@\" + tag.name + \"*\";\r\n                            if (!tag.text) {\r\n                                return label;\r\n                            }\r\n                            return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\r\n                        }).join('  \\n\\n') : '';\r\n                        contents = displayPartsToString(info.displayParts);\r\n                        return [2 /*return*/, {\r\n                                range: this._textSpanToRange(model, info.textSpan),\r\n                                contents: [{\r\n                                        value: '```js\\n' + contents + '\\n```\\n'\r\n                                    }, {\r\n                                        value: documentation + (tags ? '\\n\\n' + tags : '')\r\n                                    }]\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return QuickInfoAdapter;\r\n}(Adapter));\r\nexport { QuickInfoAdapter };\r\n// --- occurrences ------\r\nvar OccurrencesAdapter = /** @class */ (function (_super) {\r\n    __extends(OccurrencesAdapter, _super);\r\n    function OccurrencesAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, entries;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getOccurrencesAtPosition(resource.toString(), offset)];\r\n                    case 2:\r\n                        entries = _a.sent();\r\n                        if (!entries || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [2 /*return*/, entries.map(function (entry) {\r\n                                return {\r\n                                    range: _this._textSpanToRange(model, entry.textSpan),\r\n                                    kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\r\n                                };\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return OccurrencesAdapter;\r\n}(Adapter));\r\nexport { OccurrencesAdapter };\r\n// --- definition ------\r\nvar DefinitionAdapter = /** @class */ (function (_super) {\r\n    __extends(DefinitionAdapter, _super);\r\n    function DefinitionAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, entries, result, _i, entries_1, entry, uri, refModel;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getDefinitionAtPosition(resource.toString(), offset)];\r\n                    case 2:\r\n                        entries = _a.sent();\r\n                        if (!entries || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        result = [];\r\n                        for (_i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                            entry = entries_1[_i];\r\n                            uri = Uri.parse(entry.fileName);\r\n                            refModel = monaco.editor.getModel(uri);\r\n                            if (refModel) {\r\n                                result.push({\r\n                                    uri: uri,\r\n                                    range: this._textSpanToRange(refModel, entry.textSpan)\r\n                                });\r\n                            }\r\n                        }\r\n                        return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return DefinitionAdapter;\r\n}(Adapter));\r\nexport { DefinitionAdapter };\r\n// --- references ------\r\nvar ReferenceAdapter = /** @class */ (function (_super) {\r\n    __extends(ReferenceAdapter, _super);\r\n    function ReferenceAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, entries, result, _i, entries_2, entry, uri, refModel;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getReferencesAtPosition(resource.toString(), offset)];\r\n                    case 2:\r\n                        entries = _a.sent();\r\n                        if (!entries || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        result = [];\r\n                        for (_i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\r\n                            entry = entries_2[_i];\r\n                            uri = Uri.parse(entry.fileName);\r\n                            refModel = monaco.editor.getModel(uri);\r\n                            if (refModel) {\r\n                                result.push({\r\n                                    uri: uri,\r\n                                    range: this._textSpanToRange(refModel, entry.textSpan)\r\n                                });\r\n                            }\r\n                        }\r\n                        return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return ReferenceAdapter;\r\n}(Adapter));\r\nexport { ReferenceAdapter };\r\n// --- outline ------\r\nvar OutlineAdapter = /** @class */ (function (_super) {\r\n    __extends(OutlineAdapter, _super);\r\n    function OutlineAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, worker, items, convert, result;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getNavigationBarItems(resource.toString())];\r\n                    case 2:\r\n                        items = _a.sent();\r\n                        if (!items || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        convert = function (bucket, item, containerLabel) {\r\n                            var result = {\r\n                                name: item.text,\r\n                                detail: '',\r\n                                kind: (outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable),\r\n                                range: _this._textSpanToRange(model, item.spans[0]),\r\n                                selectionRange: _this._textSpanToRange(model, item.spans[0]),\r\n                                tags: [],\r\n                                containerName: containerLabel\r\n                            };\r\n                            if (item.childItems && item.childItems.length > 0) {\r\n                                for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\r\n                                    var child = _a[_i];\r\n                                    convert(bucket, child, result.name);\r\n                                }\r\n                            }\r\n                            bucket.push(result);\r\n                        };\r\n                        result = [];\r\n                        items.forEach(function (item) { return convert(result, item); });\r\n                        return [2 /*return*/, result];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return OutlineAdapter;\r\n}(Adapter));\r\nexport { OutlineAdapter };\r\nvar Kind = /** @class */ (function () {\r\n    function Kind() {\r\n    }\r\n    Kind.unknown = '';\r\n    Kind.keyword = 'keyword';\r\n    Kind.script = 'script';\r\n    Kind.module = 'module';\r\n    Kind.class = 'class';\r\n    Kind.interface = 'interface';\r\n    Kind.type = 'type';\r\n    Kind.enum = 'enum';\r\n    Kind.variable = 'var';\r\n    Kind.localVariable = 'local var';\r\n    Kind.function = 'function';\r\n    Kind.localFunction = 'local function';\r\n    Kind.memberFunction = 'method';\r\n    Kind.memberGetAccessor = 'getter';\r\n    Kind.memberSetAccessor = 'setter';\r\n    Kind.memberVariable = 'property';\r\n    Kind.constructorImplementation = 'constructor';\r\n    Kind.callSignature = 'call';\r\n    Kind.indexSignature = 'index';\r\n    Kind.constructSignature = 'construct';\r\n    Kind.parameter = 'parameter';\r\n    Kind.typeParameter = 'type parameter';\r\n    Kind.primitiveType = 'primitive type';\r\n    Kind.label = 'label';\r\n    Kind.alias = 'alias';\r\n    Kind.const = 'const';\r\n    Kind.let = 'let';\r\n    Kind.warning = 'warning';\r\n    return Kind;\r\n}());\r\nexport { Kind };\r\nvar outlineTypeTable = Object.create(null);\r\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\r\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\r\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\r\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\r\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\r\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\r\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\r\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\r\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\r\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\r\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\r\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\r\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\r\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\r\n// --- formatting ----\r\nvar FormatHelper = /** @class */ (function (_super) {\r\n    __extends(FormatHelper, _super);\r\n    function FormatHelper() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FormatHelper._convertOptions = function (options) {\r\n        return {\r\n            ConvertTabsToSpaces: options.insertSpaces,\r\n            TabSize: options.tabSize,\r\n            IndentSize: options.tabSize,\r\n            IndentStyle: IndentStyle.Smart,\r\n            NewLineCharacter: '\\n',\r\n            InsertSpaceAfterCommaDelimiter: true,\r\n            InsertSpaceAfterSemicolonInForStatements: true,\r\n            InsertSpaceBeforeAndAfterBinaryOperators: true,\r\n            InsertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\r\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\r\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\r\n            InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\r\n            PlaceOpenBraceOnNewLineForControlBlocks: false,\r\n            PlaceOpenBraceOnNewLineForFunctions: false\r\n        };\r\n    };\r\n    FormatHelper.prototype._convertTextChanges = function (model, change) {\r\n        return {\r\n            text: change.newText,\r\n            range: this._textSpanToRange(model, change.span)\r\n        };\r\n    };\r\n    return FormatHelper;\r\n}(Adapter));\r\nexport { FormatHelper };\r\nvar FormatAdapter = /** @class */ (function (_super) {\r\n    __extends(FormatAdapter, _super);\r\n    function FormatAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, startOffset, endOffset, worker, edits;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        startOffset = model.getOffsetAt({ lineNumber: range.startLineNumber, column: range.startColumn });\r\n                        endOffset = model.getOffsetAt({ lineNumber: range.endLineNumber, column: range.endColumn });\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getFormattingEditsForRange(resource.toString(), startOffset, endOffset, FormatHelper._convertOptions(options))];\r\n                    case 2:\r\n                        edits = _a.sent();\r\n                        if (!edits || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [2 /*return*/, edits.map(function (edit) { return _this._convertTextChanges(model, edit); })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatAdapter;\r\n}(FormatHelper));\r\nexport { FormatAdapter };\r\nvar FormatOnTypeAdapter = /** @class */ (function (_super) {\r\n    __extends(FormatOnTypeAdapter, _super);\r\n    function FormatOnTypeAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\r\n        get: function () {\r\n            return [';', '}', '\\n'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, offset, worker, edits;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getFormattingEditsAfterKeystroke(resource.toString(), offset, ch, FormatHelper._convertOptions(options))];\r\n                    case 2:\r\n                        edits = _a.sent();\r\n                        if (!edits || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [2 /*return*/, edits.map(function (edit) { return _this._convertTextChanges(model, edit); })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FormatOnTypeAdapter;\r\n}(FormatHelper));\r\nexport { FormatOnTypeAdapter };\r\n// --- code actions ------\r\nvar CodeActionAdaptor = /** @class */ (function (_super) {\r\n    __extends(CodeActionAdaptor, _super);\r\n    function CodeActionAdaptor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CodeActionAdaptor.prototype.provideCodeActions = function (model, range, context, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, start, end, formatOptions, errorCodes, worker, codeFixes, actions;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        start = model.getOffsetAt({ lineNumber: range.startLineNumber, column: range.startColumn });\r\n                        end = model.getOffsetAt({ lineNumber: range.endLineNumber, column: range.endColumn });\r\n                        formatOptions = FormatHelper._convertOptions(model.getOptions());\r\n                        errorCodes = context.markers.filter(function (m) { return m.code; }).map(function (m) { return m.code; }).map(Number);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getCodeFixesAtPosition(resource.toString(), start, end, errorCodes, formatOptions)];\r\n                    case 2:\r\n                        codeFixes = _a.sent();\r\n                        if (!codeFixes || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        actions = codeFixes.filter(function (fix) {\r\n                            // Removes any 'make a new file'-type code fix\r\n                            return fix.changes.filter(function (change) { return change.isNewFile; }).length === 0;\r\n                        }).map(function (fix) {\r\n                            return _this._tsCodeFixActionToMonacoCodeAction(model, context, fix);\r\n                        });\r\n                        return [2 /*return*/, {\r\n                                actions: actions,\r\n                                dispose: function () { }\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    CodeActionAdaptor.prototype._tsCodeFixActionToMonacoCodeAction = function (model, context, codeFix) {\r\n        var edits = [];\r\n        for (var _i = 0, _a = codeFix.changes; _i < _a.length; _i++) {\r\n            var change = _a[_i];\r\n            for (var _b = 0, _c = change.textChanges; _b < _c.length; _b++) {\r\n                var textChange = _c[_b];\r\n                edits.push({\r\n                    resource: model.uri,\r\n                    edit: {\r\n                        range: this._textSpanToRange(model, textChange.span),\r\n                        text: textChange.newText\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        var action = {\r\n            title: codeFix.description,\r\n            edit: { edits: edits },\r\n            diagnostics: context.markers,\r\n            kind: \"quickfix\"\r\n        };\r\n        return action;\r\n    };\r\n    return CodeActionAdaptor;\r\n}(FormatHelper));\r\nexport { CodeActionAdaptor };\r\n// --- rename ----\r\nvar RenameAdapter = /** @class */ (function (_super) {\r\n    __extends(RenameAdapter, _super);\r\n    function RenameAdapter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var resource, fileName, offset, worker, renameInfo, renameLocations, edits, _i, renameLocations_1, renameLocation;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        resource = model.uri;\r\n                        fileName = resource.toString();\r\n                        offset = model.getOffsetAt(position);\r\n                        return [4 /*yield*/, this._worker(resource)];\r\n                    case 1:\r\n                        worker = _a.sent();\r\n                        return [4 /*yield*/, worker.getRenameInfo(fileName, offset, { allowRenameOfImportPath: false })];\r\n                    case 2:\r\n                        renameInfo = _a.sent();\r\n                        if (renameInfo.canRename === false) { // use explicit comparison so that the discriminated union gets resolved properly\r\n                            return [2 /*return*/, {\r\n                                    edits: [],\r\n                                    rejectReason: renameInfo.localizedErrorMessage\r\n                                }];\r\n                        }\r\n                        if (renameInfo.fileToRename !== undefined) {\r\n                            throw new Error(\"Renaming files is not supported.\");\r\n                        }\r\n                        return [4 /*yield*/, worker.findRenameLocations(fileName, offset, /*strings*/ false, /*comments*/ false, /*prefixAndSuffix*/ false)];\r\n                    case 3:\r\n                        renameLocations = _a.sent();\r\n                        if (!renameLocations || model.isDisposed()) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        edits = [];\r\n                        for (_i = 0, renameLocations_1 = renameLocations; _i < renameLocations_1.length; _i++) {\r\n                            renameLocation = renameLocations_1[_i];\r\n                            edits.push({\r\n                                resource: monaco.Uri.parse(renameLocation.fileName),\r\n                                edit: {\r\n                                    range: this._textSpanToRange(model, renameLocation.textSpan),\r\n                                    text: newName\r\n                                }\r\n                            });\r\n                        }\r\n                        return [2 /*return*/, { edits: edits }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return RenameAdapter;\r\n}(Adapter));\r\nexport { RenameAdapter };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}