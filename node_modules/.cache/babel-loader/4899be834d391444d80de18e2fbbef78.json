{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nexport function renderText(text, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var element = createElement(options);\n  element.textContent = text;\n  return element;\n}\nexport function renderFormattedText(formattedText, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var element = createElement(options);\n  _renderFormattedText(element, parseFormattedText(formattedText), options.actionHandler);\n  return element;\n}\nexport function createElement(options) {\n  var tagName = options.inline ? 'span' : 'div';\n  var element = document.createElement(tagName);\n  if (options.className) {\n    element.className = options.className;\n  }\n  return element;\n}\nvar StringStream = /** @class */function () {\n  function StringStream(source) {\n    this.source = source;\n    this.index = 0;\n  }\n  StringStream.prototype.eos = function () {\n    return this.index >= this.source.length;\n  };\n  StringStream.prototype.next = function () {\n    var next = this.peek();\n    this.advance();\n    return next;\n  };\n  StringStream.prototype.peek = function () {\n    return this.source[this.index];\n  };\n  StringStream.prototype.advance = function () {\n    this.index++;\n  };\n  return StringStream;\n}();\nfunction _renderFormattedText(element, treeNode, actionHandler) {\n  var child;\n  if (treeNode.type === 2 /* Text */) {\n    child = document.createTextNode(treeNode.content || '');\n  } else if (treeNode.type === 3 /* Bold */) {\n    child = document.createElement('b');\n  } else if (treeNode.type === 4 /* Italics */) {\n    child = document.createElement('i');\n  } else if (treeNode.type === 5 /* Action */ && actionHandler) {\n    var a = document.createElement('a');\n    a.href = '#';\n    actionHandler.disposeables.add(DOM.addStandardDisposableListener(a, 'click', function (event) {\n      actionHandler.callback(String(treeNode.index), event);\n    }));\n    child = a;\n  } else if (treeNode.type === 7 /* NewLine */) {\n    child = document.createElement('br');\n  } else if (treeNode.type === 1 /* Root */) {\n    child = element;\n  }\n  if (child && element !== child) {\n    element.appendChild(child);\n  }\n  if (child && Array.isArray(treeNode.children)) {\n    treeNode.children.forEach(function (nodeChild) {\n      _renderFormattedText(child, nodeChild, actionHandler);\n    });\n  }\n}\nfunction parseFormattedText(content) {\n  var root = {\n    type: 1 /* Root */,\n    children: []\n  };\n  var actionViewItemIndex = 0;\n  var current = root;\n  var stack = [];\n  var stream = new StringStream(content);\n  while (!stream.eos()) {\n    var next = stream.next();\n    var isEscapedFormatType = next === '\\\\' && formatTagType(stream.peek()) !== 0 /* Invalid */;\n    if (isEscapedFormatType) {\n      next = stream.next(); // unread the backslash if it escapes a format tag type\n    }\n\n    if (!isEscapedFormatType && isFormatTag(next) && next === stream.peek()) {\n      stream.advance();\n      if (current.type === 2 /* Text */) {\n        current = stack.pop();\n      }\n      var type = formatTagType(next);\n      if (current.type === type || current.type === 5 /* Action */ && type === 6 /* ActionClose */) {\n        current = stack.pop();\n      } else {\n        var newCurrent = {\n          type: type,\n          children: []\n        };\n        if (type === 5 /* Action */) {\n          newCurrent.index = actionViewItemIndex;\n          actionViewItemIndex++;\n        }\n        current.children.push(newCurrent);\n        stack.push(current);\n        current = newCurrent;\n      }\n    } else if (next === '\\n') {\n      if (current.type === 2 /* Text */) {\n        current = stack.pop();\n      }\n      current.children.push({\n        type: 7 /* NewLine */\n      });\n    } else {\n      if (current.type !== 2 /* Text */) {\n        var textCurrent = {\n          type: 2 /* Text */,\n          content: next\n        };\n        current.children.push(textCurrent);\n        stack.push(current);\n        current = textCurrent;\n      } else {\n        current.content += next;\n      }\n    }\n  }\n  if (current.type === 2 /* Text */) {\n    current = stack.pop();\n  }\n  if (stack.length) {\n    // incorrectly formatted string literal\n  }\n  return root;\n}\nfunction isFormatTag(char) {\n  return formatTagType(char) !== 0 /* Invalid */;\n}\n\nfunction formatTagType(char) {\n  switch (char) {\n    case '*':\n      return 3 /* Bold */;\n    case '_':\n      return 4 /* Italics */;\n    case '[':\n      return 5 /* Action */;\n    case ']':\n      return 6 /* ActionClose */;\n    default:\n      return 0 /* Invalid */;\n  }\n}","map":{"version":3,"names":["DOM","renderText","text","options","element","createElement","textContent","renderFormattedText","formattedText","_renderFormattedText","parseFormattedText","actionHandler","tagName","inline","document","className","StringStream","source","index","prototype","eos","length","next","peek","advance","treeNode","child","type","createTextNode","content","a","href","disposeables","add","addStandardDisposableListener","event","callback","String","appendChild","Array","isArray","children","forEach","nodeChild","root","actionViewItemIndex","current","stack","stream","isEscapedFormatType","formatTagType","isFormatTag","pop","newCurrent","push","textCurrent","char"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as DOM from './dom.js';\r\nexport function renderText(text, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    element.textContent = text;\r\n    return element;\r\n}\r\nexport function renderFormattedText(formattedText, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var element = createElement(options);\r\n    _renderFormattedText(element, parseFormattedText(formattedText), options.actionHandler);\r\n    return element;\r\n}\r\nexport function createElement(options) {\r\n    var tagName = options.inline ? 'span' : 'div';\r\n    var element = document.createElement(tagName);\r\n    if (options.className) {\r\n        element.className = options.className;\r\n    }\r\n    return element;\r\n}\r\nvar StringStream = /** @class */ (function () {\r\n    function StringStream(source) {\r\n        this.source = source;\r\n        this.index = 0;\r\n    }\r\n    StringStream.prototype.eos = function () {\r\n        return this.index >= this.source.length;\r\n    };\r\n    StringStream.prototype.next = function () {\r\n        var next = this.peek();\r\n        this.advance();\r\n        return next;\r\n    };\r\n    StringStream.prototype.peek = function () {\r\n        return this.source[this.index];\r\n    };\r\n    StringStream.prototype.advance = function () {\r\n        this.index++;\r\n    };\r\n    return StringStream;\r\n}());\r\nfunction _renderFormattedText(element, treeNode, actionHandler) {\r\n    var child;\r\n    if (treeNode.type === 2 /* Text */) {\r\n        child = document.createTextNode(treeNode.content || '');\r\n    }\r\n    else if (treeNode.type === 3 /* Bold */) {\r\n        child = document.createElement('b');\r\n    }\r\n    else if (treeNode.type === 4 /* Italics */) {\r\n        child = document.createElement('i');\r\n    }\r\n    else if (treeNode.type === 5 /* Action */ && actionHandler) {\r\n        var a = document.createElement('a');\r\n        a.href = '#';\r\n        actionHandler.disposeables.add(DOM.addStandardDisposableListener(a, 'click', function (event) {\r\n            actionHandler.callback(String(treeNode.index), event);\r\n        }));\r\n        child = a;\r\n    }\r\n    else if (treeNode.type === 7 /* NewLine */) {\r\n        child = document.createElement('br');\r\n    }\r\n    else if (treeNode.type === 1 /* Root */) {\r\n        child = element;\r\n    }\r\n    if (child && element !== child) {\r\n        element.appendChild(child);\r\n    }\r\n    if (child && Array.isArray(treeNode.children)) {\r\n        treeNode.children.forEach(function (nodeChild) {\r\n            _renderFormattedText(child, nodeChild, actionHandler);\r\n        });\r\n    }\r\n}\r\nfunction parseFormattedText(content) {\r\n    var root = {\r\n        type: 1 /* Root */,\r\n        children: []\r\n    };\r\n    var actionViewItemIndex = 0;\r\n    var current = root;\r\n    var stack = [];\r\n    var stream = new StringStream(content);\r\n    while (!stream.eos()) {\r\n        var next = stream.next();\r\n        var isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek()) !== 0 /* Invalid */);\r\n        if (isEscapedFormatType) {\r\n            next = stream.next(); // unread the backslash if it escapes a format tag type\r\n        }\r\n        if (!isEscapedFormatType && isFormatTag(next) && next === stream.peek()) {\r\n            stream.advance();\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            var type = formatTagType(next);\r\n            if (current.type === type || (current.type === 5 /* Action */ && type === 6 /* ActionClose */)) {\r\n                current = stack.pop();\r\n            }\r\n            else {\r\n                var newCurrent = {\r\n                    type: type,\r\n                    children: []\r\n                };\r\n                if (type === 5 /* Action */) {\r\n                    newCurrent.index = actionViewItemIndex;\r\n                    actionViewItemIndex++;\r\n                }\r\n                current.children.push(newCurrent);\r\n                stack.push(current);\r\n                current = newCurrent;\r\n            }\r\n        }\r\n        else if (next === '\\n') {\r\n            if (current.type === 2 /* Text */) {\r\n                current = stack.pop();\r\n            }\r\n            current.children.push({\r\n                type: 7 /* NewLine */\r\n            });\r\n        }\r\n        else {\r\n            if (current.type !== 2 /* Text */) {\r\n                var textCurrent = {\r\n                    type: 2 /* Text */,\r\n                    content: next\r\n                };\r\n                current.children.push(textCurrent);\r\n                stack.push(current);\r\n                current = textCurrent;\r\n            }\r\n            else {\r\n                current.content += next;\r\n            }\r\n        }\r\n    }\r\n    if (current.type === 2 /* Text */) {\r\n        current = stack.pop();\r\n    }\r\n    if (stack.length) {\r\n        // incorrectly formatted string literal\r\n    }\r\n    return root;\r\n}\r\nfunction isFormatTag(char) {\r\n    return formatTagType(char) !== 0 /* Invalid */;\r\n}\r\nfunction formatTagType(char) {\r\n    switch (char) {\r\n        case '*':\r\n            return 3 /* Bold */;\r\n        case '_':\r\n            return 4 /* Italics */;\r\n        case '[':\r\n            return 5 /* Action */;\r\n        case ']':\r\n            return 6 /* ActionClose */;\r\n        default:\r\n            return 0 /* Invalid */;\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}