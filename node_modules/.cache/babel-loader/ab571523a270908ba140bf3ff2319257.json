{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n  return r;\n};\nimport { illegalState } from '../../../base/common/errors.js';\nimport { Graph } from './graph.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { IInstantiationService, _util, optional } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { IdleValue } from '../../../base/common/async.js';\n// TRACING\nvar _enableTracing = false;\nvar _canUseProxy = typeof Proxy === 'function';\nvar CyclicDependencyError = /** @class */function (_super) {\n  __extends(CyclicDependencyError, _super);\n  function CyclicDependencyError(graph) {\n    var _this = _super.call(this, 'cyclic dependency between services') || this;\n    _this.message = graph.toString();\n    return _this;\n  }\n  return CyclicDependencyError;\n}(Error);\nvar InstantiationService = /** @class */function () {\n  function InstantiationService(services, strict, parent) {\n    if (services === void 0) {\n      services = new ServiceCollection();\n    }\n    if (strict === void 0) {\n      strict = false;\n    }\n    this._services = services;\n    this._strict = strict;\n    this._parent = parent;\n    this._services.set(IInstantiationService, this);\n  }\n  InstantiationService.prototype.createChild = function (services) {\n    return new InstantiationService(services, this._strict, this);\n  };\n  InstantiationService.prototype.invokeFunction = function (fn) {\n    var _this = this;\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n    var _trace = Trace.traceInvocation(fn);\n    var _done = false;\n    try {\n      var accessor = {\n        get: function get(id, isOptional) {\n          if (_done) {\n            throw illegalState('service accessor is only valid during the invocation of its target method');\n          }\n          var result = _this._getOrCreateServiceInstance(id, _trace);\n          if (!result && isOptional !== optional) {\n            throw new Error(\"[invokeFunction] unknown service '\" + id + \"'\");\n          }\n          return result;\n        }\n      };\n      return fn.apply(undefined, __spreadArrays([accessor], args));\n    } finally {\n      _done = true;\n      _trace.stop();\n    }\n  };\n  InstantiationService.prototype.createInstance = function (ctorOrDescriptor) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      rest[_i - 1] = arguments[_i];\n    }\n    var _trace;\n    var result;\n    if (ctorOrDescriptor instanceof SyncDescriptor) {\n      _trace = Trace.traceCreation(ctorOrDescriptor.ctor);\n      result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n    } else {\n      _trace = Trace.traceCreation(ctorOrDescriptor);\n      result = this._createInstance(ctorOrDescriptor, rest, _trace);\n    }\n    _trace.stop();\n    return result;\n  };\n  InstantiationService.prototype._createInstance = function (ctor, args, _trace) {\n    if (args === void 0) {\n      args = [];\n    }\n    // arguments defined by service decorators\n    var serviceDependencies = _util.getServiceDependencies(ctor).sort(function (a, b) {\n      return a.index - b.index;\n    });\n    var serviceArgs = [];\n    for (var _i = 0, serviceDependencies_1 = serviceDependencies; _i < serviceDependencies_1.length; _i++) {\n      var dependency = serviceDependencies_1[_i];\n      var service = this._getOrCreateServiceInstance(dependency.id, _trace);\n      if (!service && this._strict && !dependency.optional) {\n        throw new Error(\"[createInstance] \" + ctor.name + \" depends on UNKNOWN service \" + dependency.id + \".\");\n      }\n      serviceArgs.push(service);\n    }\n    var firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n    // check for argument mismatches, adjust static args if needed\n    if (args.length !== firstServiceArgPos) {\n      console.warn(\"[createInstance] First service dependency of \" + ctor.name + \" at position \" + (firstServiceArgPos + 1) + \" conflicts with \" + args.length + \" static arguments\");\n      var delta = firstServiceArgPos - args.length;\n      if (delta > 0) {\n        args = args.concat(new Array(delta));\n      } else {\n        args = args.slice(0, firstServiceArgPos);\n      }\n    }\n    // now create the instance\n    return new (ctor.bind.apply(ctor, __spreadArrays([void 0], __spreadArrays(args, serviceArgs))))();\n  };\n  InstantiationService.prototype._setServiceInstance = function (id, instance) {\n    if (this._services.get(id) instanceof SyncDescriptor) {\n      this._services.set(id, instance);\n    } else if (this._parent) {\n      this._parent._setServiceInstance(id, instance);\n    } else {\n      throw new Error('illegalState - setting UNKNOWN service instance');\n    }\n  };\n  InstantiationService.prototype._getServiceInstanceOrDescriptor = function (id) {\n    var instanceOrDesc = this._services.get(id);\n    if (!instanceOrDesc && this._parent) {\n      return this._parent._getServiceInstanceOrDescriptor(id);\n    } else {\n      return instanceOrDesc;\n    }\n  };\n  InstantiationService.prototype._getOrCreateServiceInstance = function (id, _trace) {\n    var thing = this._getServiceInstanceOrDescriptor(id);\n    if (thing instanceof SyncDescriptor) {\n      return this._createAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n    } else {\n      _trace.branch(id, false);\n      return thing;\n    }\n  };\n  InstantiationService.prototype._createAndCacheServiceInstance = function (id, desc, _trace) {\n    var graph = new Graph(function (data) {\n      return data.id.toString();\n    });\n    var cycleCount = 0;\n    var stack = [{\n      id: id,\n      desc: desc,\n      _trace: _trace\n    }];\n    while (stack.length) {\n      var item = stack.pop();\n      graph.lookupOrInsertNode(item);\n      // a weak but working heuristic for cycle checks\n      if (cycleCount++ > 150) {\n        throw new CyclicDependencyError(graph);\n      }\n      // check all dependencies for existence and if they need to be created first\n      for (var _i = 0, _a = _util.getServiceDependencies(item.desc.ctor); _i < _a.length; _i++) {\n        var dependency = _a[_i];\n        var instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n        if (!instanceOrDesc && !dependency.optional) {\n          console.warn(\"[createInstance] \" + id + \" depends on \" + dependency.id + \" which is NOT registered.\");\n        }\n        if (instanceOrDesc instanceof SyncDescriptor) {\n          var d = {\n            id: dependency.id,\n            desc: instanceOrDesc,\n            _trace: item._trace.branch(dependency.id, true)\n          };\n          graph.insertEdge(item, d);\n          stack.push(d);\n        }\n      }\n    }\n    while (true) {\n      var roots = graph.roots();\n      // if there is no more roots but still\n      // nodes in the graph we have a cycle\n      if (roots.length === 0) {\n        if (!graph.isEmpty()) {\n          throw new CyclicDependencyError(graph);\n        }\n        break;\n      }\n      for (var _b = 0, roots_1 = roots; _b < roots_1.length; _b++) {\n        var data = roots_1[_b].data;\n        // create instance and overwrite the service collections\n        var instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n        this._setServiceInstance(data.id, instance);\n        graph.removeNode(data);\n      }\n    }\n    return this._getServiceInstanceOrDescriptor(id);\n  };\n  InstantiationService.prototype._createServiceInstanceWithOwner = function (id, ctor, args, supportsDelayedInstantiation, _trace) {\n    if (args === void 0) {\n      args = [];\n    }\n    if (this._services.get(id) instanceof SyncDescriptor) {\n      return this._createServiceInstance(ctor, args, supportsDelayedInstantiation, _trace);\n    } else if (this._parent) {\n      return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n    } else {\n      throw new Error(\"illegalState - creating UNKNOWN service instance \" + ctor.name);\n    }\n  };\n  InstantiationService.prototype._createServiceInstance = function (ctor, args, _supportsDelayedInstantiation, _trace) {\n    var _this = this;\n    if (args === void 0) {\n      args = [];\n    }\n    if (!_supportsDelayedInstantiation || !_canUseProxy) {\n      // eager instantiation or no support JS proxies (e.g. IE11)\n      return this._createInstance(ctor, args, _trace);\n    } else {\n      // Return a proxy object that's backed by an idle value. That\n      // strategy is to instantiate services in our idle time or when actually\n      // needed but not when injected into a consumer\n      var idle_1 = new IdleValue(function () {\n        return _this._createInstance(ctor, args, _trace);\n      });\n      return new Proxy(Object.create(null), {\n        get: function get(target, key) {\n          if (key in target) {\n            return target[key];\n          }\n          var obj = idle_1.getValue();\n          var prop = obj[key];\n          if (typeof prop !== 'function') {\n            return prop;\n          }\n          prop = prop.bind(obj);\n          target[key] = prop;\n          return prop;\n        },\n        set: function set(_target, p, value) {\n          idle_1.getValue()[p] = value;\n          return true;\n        }\n      });\n    }\n  };\n  return InstantiationService;\n}();\nexport { InstantiationService };\nvar Trace = /** @class */function () {\n  function Trace(type, name) {\n    this.type = type;\n    this.name = name;\n    this._start = Date.now();\n    this._dep = [];\n  }\n  Trace.traceInvocation = function (ctor) {\n    return !_enableTracing ? Trace._None : new Trace(1 /* Invocation */, ctor.name || ctor.toString().substring(0, 42).replace(/\\n/g, ''));\n  };\n  Trace.traceCreation = function (ctor) {\n    return !_enableTracing ? Trace._None : new Trace(0 /* Creation */, ctor.name);\n  };\n  Trace.prototype.branch = function (id, first) {\n    var child = new Trace(2 /* Branch */, id.toString());\n    this._dep.push([id, first, child]);\n    return child;\n  };\n  Trace.prototype.stop = function () {\n    var dur = Date.now() - this._start;\n    Trace._totals += dur;\n    var causedCreation = false;\n    function printChild(n, trace) {\n      var res = [];\n      var prefix = new Array(n + 1).join('\\t');\n      for (var _i = 0, _a = trace._dep; _i < _a.length; _i++) {\n        var _b = _a[_i],\n          id = _b[0],\n          first = _b[1],\n          child = _b[2];\n        if (first && child) {\n          causedCreation = true;\n          res.push(prefix + \"CREATES -> \" + id);\n          var nested = printChild(n + 1, child);\n          if (nested) {\n            res.push(nested);\n          }\n        } else {\n          res.push(prefix + \"uses -> \" + id);\n        }\n      }\n      return res.join('\\n');\n    }\n    var lines = [(this.type === 0 /* Creation */ ? 'CREATE' : 'CALL') + \" \" + this.name, \"\" + printChild(1, this), \"DONE, took \" + dur.toFixed(2) + \"ms (grand total \" + Trace._totals.toFixed(2) + \"ms)\"];\n    if (dur > 2 || causedCreation) {\n      console.log(lines.join('\\n'));\n    }\n  };\n  Trace._None = new ( /** @class */function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n      return _super.call(this, -1, null) || this;\n    }\n    class_1.prototype.stop = function () {};\n    class_1.prototype.branch = function () {\n      return this;\n    };\n    return class_1;\n  }(Trace))();\n  Trace._totals = 0;\n  return Trace;\n}();\n//#endregion","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__spreadArrays","s","i","il","arguments","length","r","k","a","j","jl","illegalState","Graph","SyncDescriptor","IInstantiationService","_util","optional","ServiceCollection","IdleValue","_enableTracing","_canUseProxy","Proxy","CyclicDependencyError","_super","graph","_this","call","message","toString","Error","InstantiationService","services","strict","parent","_services","_strict","_parent","set","createChild","invokeFunction","fn","args","_i","_trace","Trace","traceInvocation","_done","accessor","get","id","isOptional","result","_getOrCreateServiceInstance","apply","undefined","stop","createInstance","ctorOrDescriptor","rest","traceCreation","ctor","_createInstance","staticArguments","concat","serviceDependencies","getServiceDependencies","sort","index","serviceArgs","serviceDependencies_1","dependency","service","name","push","firstServiceArgPos","console","warn","delta","slice","bind","_setServiceInstance","instance","_getServiceInstanceOrDescriptor","instanceOrDesc","thing","_createAndCacheServiceInstance","branch","desc","data","cycleCount","stack","item","pop","lookupOrInsertNode","_a","insertEdge","roots","isEmpty","_b","roots_1","_createServiceInstanceWithOwner","supportsDelayedInstantiation","removeNode","_createServiceInstance","_supportsDelayedInstantiation","idle_1","target","key","obj","getValue","prop","_target","value","type","_start","Date","now","_dep","_None","substring","replace","first","child","dur","_totals","causedCreation","printChild","n","trace","res","prefix","join","nested","lines","toFixed","log","class_1"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { illegalState } from '../../../base/common/errors.js';\r\nimport { Graph } from './graph.js';\r\nimport { SyncDescriptor } from './descriptors.js';\r\nimport { IInstantiationService, _util, optional } from './instantiation.js';\r\nimport { ServiceCollection } from './serviceCollection.js';\r\nimport { IdleValue } from '../../../base/common/async.js';\r\n// TRACING\r\nvar _enableTracing = false;\r\nvar _canUseProxy = typeof Proxy === 'function';\r\nvar CyclicDependencyError = /** @class */ (function (_super) {\r\n    __extends(CyclicDependencyError, _super);\r\n    function CyclicDependencyError(graph) {\r\n        var _this = _super.call(this, 'cyclic dependency between services') || this;\r\n        _this.message = graph.toString();\r\n        return _this;\r\n    }\r\n    return CyclicDependencyError;\r\n}(Error));\r\nvar InstantiationService = /** @class */ (function () {\r\n    function InstantiationService(services, strict, parent) {\r\n        if (services === void 0) { services = new ServiceCollection(); }\r\n        if (strict === void 0) { strict = false; }\r\n        this._services = services;\r\n        this._strict = strict;\r\n        this._parent = parent;\r\n        this._services.set(IInstantiationService, this);\r\n    }\r\n    InstantiationService.prototype.createChild = function (services) {\r\n        return new InstantiationService(services, this._strict, this);\r\n    };\r\n    InstantiationService.prototype.invokeFunction = function (fn) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var _trace = Trace.traceInvocation(fn);\r\n        var _done = false;\r\n        try {\r\n            var accessor = {\r\n                get: function (id, isOptional) {\r\n                    if (_done) {\r\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\r\n                    }\r\n                    var result = _this._getOrCreateServiceInstance(id, _trace);\r\n                    if (!result && isOptional !== optional) {\r\n                        throw new Error(\"[invokeFunction] unknown service '\" + id + \"'\");\r\n                    }\r\n                    return result;\r\n                }\r\n            };\r\n            return fn.apply(undefined, __spreadArrays([accessor], args));\r\n        }\r\n        finally {\r\n            _done = true;\r\n            _trace.stop();\r\n        }\r\n    };\r\n    InstantiationService.prototype.createInstance = function (ctorOrDescriptor) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        var _trace;\r\n        var result;\r\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\r\n            _trace = Trace.traceCreation(ctorOrDescriptor.ctor);\r\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\r\n        }\r\n        else {\r\n            _trace = Trace.traceCreation(ctorOrDescriptor);\r\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\r\n        }\r\n        _trace.stop();\r\n        return result;\r\n    };\r\n    InstantiationService.prototype._createInstance = function (ctor, args, _trace) {\r\n        if (args === void 0) { args = []; }\r\n        // arguments defined by service decorators\r\n        var serviceDependencies = _util.getServiceDependencies(ctor).sort(function (a, b) { return a.index - b.index; });\r\n        var serviceArgs = [];\r\n        for (var _i = 0, serviceDependencies_1 = serviceDependencies; _i < serviceDependencies_1.length; _i++) {\r\n            var dependency = serviceDependencies_1[_i];\r\n            var service = this._getOrCreateServiceInstance(dependency.id, _trace);\r\n            if (!service && this._strict && !dependency.optional) {\r\n                throw new Error(\"[createInstance] \" + ctor.name + \" depends on UNKNOWN service \" + dependency.id + \".\");\r\n            }\r\n            serviceArgs.push(service);\r\n        }\r\n        var firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\r\n        // check for argument mismatches, adjust static args if needed\r\n        if (args.length !== firstServiceArgPos) {\r\n            console.warn(\"[createInstance] First service dependency of \" + ctor.name + \" at position \" + (firstServiceArgPos + 1) + \" conflicts with \" + args.length + \" static arguments\");\r\n            var delta = firstServiceArgPos - args.length;\r\n            if (delta > 0) {\r\n                args = args.concat(new Array(delta));\r\n            }\r\n            else {\r\n                args = args.slice(0, firstServiceArgPos);\r\n            }\r\n        }\r\n        // now create the instance\r\n        return new (ctor.bind.apply(ctor, __spreadArrays([void 0], __spreadArrays(args, serviceArgs))))();\r\n    };\r\n    InstantiationService.prototype._setServiceInstance = function (id, instance) {\r\n        if (this._services.get(id) instanceof SyncDescriptor) {\r\n            this._services.set(id, instance);\r\n        }\r\n        else if (this._parent) {\r\n            this._parent._setServiceInstance(id, instance);\r\n        }\r\n        else {\r\n            throw new Error('illegalState - setting UNKNOWN service instance');\r\n        }\r\n    };\r\n    InstantiationService.prototype._getServiceInstanceOrDescriptor = function (id) {\r\n        var instanceOrDesc = this._services.get(id);\r\n        if (!instanceOrDesc && this._parent) {\r\n            return this._parent._getServiceInstanceOrDescriptor(id);\r\n        }\r\n        else {\r\n            return instanceOrDesc;\r\n        }\r\n    };\r\n    InstantiationService.prototype._getOrCreateServiceInstance = function (id, _trace) {\r\n        var thing = this._getServiceInstanceOrDescriptor(id);\r\n        if (thing instanceof SyncDescriptor) {\r\n            return this._createAndCacheServiceInstance(id, thing, _trace.branch(id, true));\r\n        }\r\n        else {\r\n            _trace.branch(id, false);\r\n            return thing;\r\n        }\r\n    };\r\n    InstantiationService.prototype._createAndCacheServiceInstance = function (id, desc, _trace) {\r\n        var graph = new Graph(function (data) { return data.id.toString(); });\r\n        var cycleCount = 0;\r\n        var stack = [{ id: id, desc: desc, _trace: _trace }];\r\n        while (stack.length) {\r\n            var item = stack.pop();\r\n            graph.lookupOrInsertNode(item);\r\n            // a weak but working heuristic for cycle checks\r\n            if (cycleCount++ > 150) {\r\n                throw new CyclicDependencyError(graph);\r\n            }\r\n            // check all dependencies for existence and if they need to be created first\r\n            for (var _i = 0, _a = _util.getServiceDependencies(item.desc.ctor); _i < _a.length; _i++) {\r\n                var dependency = _a[_i];\r\n                var instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\r\n                if (!instanceOrDesc && !dependency.optional) {\r\n                    console.warn(\"[createInstance] \" + id + \" depends on \" + dependency.id + \" which is NOT registered.\");\r\n                }\r\n                if (instanceOrDesc instanceof SyncDescriptor) {\r\n                    var d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\r\n                    graph.insertEdge(item, d);\r\n                    stack.push(d);\r\n                }\r\n            }\r\n        }\r\n        while (true) {\r\n            var roots = graph.roots();\r\n            // if there is no more roots but still\r\n            // nodes in the graph we have a cycle\r\n            if (roots.length === 0) {\r\n                if (!graph.isEmpty()) {\r\n                    throw new CyclicDependencyError(graph);\r\n                }\r\n                break;\r\n            }\r\n            for (var _b = 0, roots_1 = roots; _b < roots_1.length; _b++) {\r\n                var data = roots_1[_b].data;\r\n                // create instance and overwrite the service collections\r\n                var instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\r\n                this._setServiceInstance(data.id, instance);\r\n                graph.removeNode(data);\r\n            }\r\n        }\r\n        return this._getServiceInstanceOrDescriptor(id);\r\n    };\r\n    InstantiationService.prototype._createServiceInstanceWithOwner = function (id, ctor, args, supportsDelayedInstantiation, _trace) {\r\n        if (args === void 0) { args = []; }\r\n        if (this._services.get(id) instanceof SyncDescriptor) {\r\n            return this._createServiceInstance(ctor, args, supportsDelayedInstantiation, _trace);\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\r\n        }\r\n        else {\r\n            throw new Error(\"illegalState - creating UNKNOWN service instance \" + ctor.name);\r\n        }\r\n    };\r\n    InstantiationService.prototype._createServiceInstance = function (ctor, args, _supportsDelayedInstantiation, _trace) {\r\n        var _this = this;\r\n        if (args === void 0) { args = []; }\r\n        if (!_supportsDelayedInstantiation || !_canUseProxy) {\r\n            // eager instantiation or no support JS proxies (e.g. IE11)\r\n            return this._createInstance(ctor, args, _trace);\r\n        }\r\n        else {\r\n            // Return a proxy object that's backed by an idle value. That\r\n            // strategy is to instantiate services in our idle time or when actually\r\n            // needed but not when injected into a consumer\r\n            var idle_1 = new IdleValue(function () { return _this._createInstance(ctor, args, _trace); });\r\n            return new Proxy(Object.create(null), {\r\n                get: function (target, key) {\r\n                    if (key in target) {\r\n                        return target[key];\r\n                    }\r\n                    var obj = idle_1.getValue();\r\n                    var prop = obj[key];\r\n                    if (typeof prop !== 'function') {\r\n                        return prop;\r\n                    }\r\n                    prop = prop.bind(obj);\r\n                    target[key] = prop;\r\n                    return prop;\r\n                },\r\n                set: function (_target, p, value) {\r\n                    idle_1.getValue()[p] = value;\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return InstantiationService;\r\n}());\r\nexport { InstantiationService };\r\nvar Trace = /** @class */ (function () {\r\n    function Trace(type, name) {\r\n        this.type = type;\r\n        this.name = name;\r\n        this._start = Date.now();\r\n        this._dep = [];\r\n    }\r\n    Trace.traceInvocation = function (ctor) {\r\n        return !_enableTracing ? Trace._None : new Trace(1 /* Invocation */, ctor.name || ctor.toString().substring(0, 42).replace(/\\n/g, ''));\r\n    };\r\n    Trace.traceCreation = function (ctor) {\r\n        return !_enableTracing ? Trace._None : new Trace(0 /* Creation */, ctor.name);\r\n    };\r\n    Trace.prototype.branch = function (id, first) {\r\n        var child = new Trace(2 /* Branch */, id.toString());\r\n        this._dep.push([id, first, child]);\r\n        return child;\r\n    };\r\n    Trace.prototype.stop = function () {\r\n        var dur = Date.now() - this._start;\r\n        Trace._totals += dur;\r\n        var causedCreation = false;\r\n        function printChild(n, trace) {\r\n            var res = [];\r\n            var prefix = new Array(n + 1).join('\\t');\r\n            for (var _i = 0, _a = trace._dep; _i < _a.length; _i++) {\r\n                var _b = _a[_i], id = _b[0], first = _b[1], child = _b[2];\r\n                if (first && child) {\r\n                    causedCreation = true;\r\n                    res.push(prefix + \"CREATES -> \" + id);\r\n                    var nested = printChild(n + 1, child);\r\n                    if (nested) {\r\n                        res.push(nested);\r\n                    }\r\n                }\r\n                else {\r\n                    res.push(prefix + \"uses -> \" + id);\r\n                }\r\n            }\r\n            return res.join('\\n');\r\n        }\r\n        var lines = [\r\n            (this.type === 0 /* Creation */ ? 'CREATE' : 'CALL') + \" \" + this.name,\r\n            \"\" + printChild(1, this),\r\n            \"DONE, took \" + dur.toFixed(2) + \"ms (grand total \" + Trace._totals.toFixed(2) + \"ms)\"\r\n        ];\r\n        if (dur > 2 || causedCreation) {\r\n            console.log(lines.join('\\n'));\r\n        }\r\n    };\r\n    Trace._None = new /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            return _super.call(this, -1, null) || this;\r\n        }\r\n        class_1.prototype.stop = function () { };\r\n        class_1.prototype.branch = function () { return this; };\r\n        return class_1;\r\n    }(Trace));\r\n    Trace._totals = 0;\r\n    return Trace;\r\n}());\r\n//#endregion\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}