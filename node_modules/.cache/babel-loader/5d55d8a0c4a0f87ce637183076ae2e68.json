{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */function () {\n  function WorkerManager(defaults) {\n    var _this = this;\n    this._defaults = defaults;\n    this._worker = null;\n    this._idleCheckInterval = setInterval(function () {\n      return _this._checkIfIdle();\n    }, 30 * 1000);\n    this._lastUsedTime = 0;\n    this._configChangeListener = this._defaults.onDidChange(function () {\n      return _this._stopWorker();\n    });\n  }\n  WorkerManager.prototype._stopWorker = function () {\n    if (this._worker) {\n      this._worker.dispose();\n      this._worker = null;\n    }\n    this._client = null;\n  };\n  WorkerManager.prototype.dispose = function () {\n    clearInterval(this._idleCheckInterval);\n    this._configChangeListener.dispose();\n    this._stopWorker();\n  };\n  WorkerManager.prototype._checkIfIdle = function () {\n    if (!this._worker) {\n      return;\n    }\n    var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n    if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n      this._stopWorker();\n    }\n  };\n  WorkerManager.prototype._getClient = function () {\n    this._lastUsedTime = Date.now();\n    if (!this._client) {\n      this._worker = monaco.editor.createWebWorker({\n        // module that exports the create() method and returns a `HTMLWorker` instance\n        moduleId: 'vs/language/html/htmlWorker',\n        // passed in to the create() method\n        createData: {\n          languageSettings: this._defaults.options,\n          languageId: this._defaults.languageId\n        },\n        label: this._defaults.languageId\n      });\n      this._client = this._worker.getProxy();\n    }\n    return this._client;\n  };\n  WorkerManager.prototype.getLanguageServiceWorker = function () {\n    var _this = this;\n    var resources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      resources[_i] = arguments[_i];\n    }\n    var _client;\n    return this._getClient().then(function (client) {\n      _client = client;\n    }).then(function (_) {\n      return _this._worker.withSyncedResources(resources);\n    }).then(function (_) {\n      return _client;\n    });\n  };\n  return WorkerManager;\n}();\nexport { WorkerManager };","map":{"version":3,"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","createData","languageSettings","options","languageId","label","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/html/workerManager.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = monaco.editor.createWebWorker({\r\n                // module that exports the create() method and returns a `HTMLWorker` instance\r\n                moduleId: 'vs/language/html/htmlWorker',\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.options,\r\n                    languageId: this._defaults.languageId\r\n                },\r\n                label: this._defaults.languageId\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient().then(function (client) {\r\n            _client = client;\r\n        }).then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        }).then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\r\nexport { WorkerManager };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}