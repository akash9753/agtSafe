{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\nrequire(\"core-js/modules/es.symbol.description\");\nrequire(\"core-js/modules/es.symbol.iterator\");\nrequire(\"core-js/modules/es.array.includes\");\nrequire(\"core-js/modules/es.array.iterator\");\nrequire(\"core-js/modules/es.object.to-string\");\nrequire(\"core-js/modules/es.regexp.to-string\");\nrequire(\"core-js/modules/es.string.includes\");\nrequire(\"core-js/modules/es.string.iterator\");\nrequire(\"core-js/modules/web.dom-collections.iterator\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _element = require(\"./../../../helpers/dom/element\");\nvar _event = require(\"./../../../helpers/dom/event\");\nvar _object = require(\"./../../../helpers/object\");\nvar _browser = require(\"./../../../helpers/browser\");\nvar _eventManager = _interopRequireDefault(require(\"./../../../eventManager\"));\nvar _coords = _interopRequireDefault(require(\"./cell/coords\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/**\n *\n */\nvar Border = /*#__PURE__*/\nfunction () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n    if (!settings) {\n      return;\n    }\n    this.eventManager = new _eventManager.default(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n      event.preventDefault();\n      (0, _event.stopImmediatePropagation)(event);\n      var _this = this;\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n          parentElement.style.display = 'block';\n        }\n      }\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n      if ((0, _browser.isMobileBrowser)()) {\n        this.createMultipleSelectorHandles();\n      }\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      (0, _object.objectEach)(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      (0, _object.objectEach)(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n      var _this$wot = this.wot,\n        wtTable = _this$wot.wtTable,\n        rootDocument = _this$wot.rootDocument,\n        rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n      var columnsCount = wtTable.getRenderedColumnsCount();\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n      var fromTD = wtTable.getCell(new _coords.default(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new _coords.default(toRow, toColumn)) : fromTD;\n      var fromOffset = (0, _element.offset)(fromTD);\n      var toOffset = isMultiple ? (0, _element.offset)(toTD) : fromOffset;\n      var containerOffset = (0, _element.offset)(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + (0, _element.outerWidth)(toTD) - minLeft;\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + (0, _element.outerHeight)(toTD) - minTop;\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n        var _fromTH = null;\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n      var style = (0, _element.getComputedStyle)(fromTD, rootWindow);\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n        checkCol = toColumn;\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n      if ((0, _browser.isMobileBrowser)() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = (0, _element.getTrimmingContainer)(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + (0, _element.outerWidth)(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= (0, _element.innerWidth)(trimmingContainer);\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + (0, _element.outerHeight)(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n          var _cornerOverlappingContainer = cornerBottomEdge >= (0, _element.innerHeight)(trimmingContainer);\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n        this.cornerStyle.display = 'block';\n      }\n      if ((0, _browser.isMobileBrowser)()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return _element.outerHeight.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n          dimensionFn = function dimensionFn() {\n            return _element.outerWidth.apply(void 0, arguments);\n          };\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n        default:\n      }\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n        var startHeaderOffset = (0, _element.offset)(startHeader);\n        var endOffset = (0, _element.offset)(endHeader);\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n        return [startHeader, index, dimension];\n      }\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n      if (!borderStyle || borderStyle.hide) {\n        (0, _element.addClass)(this[borderElement], 'hidden');\n      } else {\n        if ((0, _element.hasClass)(this[borderElement], 'hidden')) {\n          (0, _element.removeClass)(this[borderElement], 'hidden');\n        }\n        style.backgroundColor = borderStyle.color;\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n      if (remove) {\n        (0, _element.addClass)(this[borderElement], 'hidden');\n      } else {\n        (0, _element.removeClass)(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n      if ((0, _browser.isMobileBrowser)()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n  return Border;\n}();\nvar _default = Border;\nexports.default = _default;","map":{"version":3,"names":["require","exports","__esModule","default","_element","_event","_object","_browser","_eventManager","_interopRequireDefault","_coords","obj","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","Border","wotInstance","settings","eventManager","wot","mouseDown","main","top","left","bottom","right","topStyle","leftStyle","bottomStyle","rightStyle","cornerDefaultStyle","width","height","borderWidth","borderStyle","borderColor","corner","cornerStyle","createBorders","registerListeners","_this2","documentBody","rootDocument","body","addEventListener","onMouseDown","onMouseUp","_loop","c","len","childNodes","event","onMouseEnter","parentElement","getSetting","preventDefault","stopImmediatePropagation","_this","bounds","getBoundingClientRect","style","display","isOutside","mouseEvent","clientY","Math","floor","ceil","clientX","handler","handlerEvent","removeEventListener","createElement","borderDivs","position","div","className","concat","hide","backgroundColor","color","border","appendChild","join","isMobileBrowser","createMultipleSelectorHandles","disappear","wtTable","bordersHolder","spreader","_this3","selectionHandles","topLeft","topLeftHitArea","bottomRight","bottomRightHitArea","hitAreaWidth","styles","hitAreaStyle","parseInt","objectEach","handleStyle","background","isPartRange","row","col","areaSelection","selections","createOrGetArea","cellRange","to","updateMultipleSelectionHandlesPosition","handleWidth","cornerVisible","wtSettings","zIndex","appear","corners","disabled","_this$wot","rootWindow","fromRow","toRow","fromColumn","toColumn","rowsCount","getRenderedRowsCount","s","rowFilter","renderedToSource","columnsCount","getRenderedColumnsCount","_i2","_s2","columnFilter","_i3","_s3","fromTD","getCell","isMultiple","toTD","fromOffset","offset","toOffset","containerOffset","TABLE","minTop","minLeft","outerWidth","isEntireColumnSelected","modifiedValues","getDimensionsFromHeader","fromTH","_modifiedValues","outerHeight","isEntireRowSelected","_modifiedValues2","_fromTH","_modifiedValues3","getComputedStyle","borderTopWidth","borderLeftWidth","delta","cornerVisibleSetting","layerLevel","hookResult","checkRow","checkCol","_hookResult","borderRightWidth","trimmingContainer","getTrimmingContainer","trimToWindow","documentElement","toTdOffsetLeft","offsetLeft","cornerRightEdge","cornerOverlappingContainer","innerWidth","toTdOffsetTop","offsetTop","cornerBottomEdge","_cornerOverlappingContainer","innerHeight","borderBottomWidth","startRowIndex","endRowIndex","getFirstRenderedRow","getLastRenderedRow","startColumnIndex","endColumnIndex","getFirstRenderedColumn","getLastRenderedColumn","direction","fromIndex","toIndex","rootHotElement","wtRootElement","parentNode","getHeaderFn","dimensionFn","entireSelectionClassname","index","dimension","dimensionProperty","startHeader","endHeader","getRowHeader","apply","arguments","getColumnHeader","includes","columnHeaderLevelCount","startHeaderOffset","endOffset","changeBorderStyle","borderElement","addClass","hasClass","removeClass","changeBorderToDefaultStyle","defaultBorder","toggleHiddenClass","remove","destroy","destroyWithOwnEventsOnly","removeChild","_default"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/handsontable/commonjs/3rdparty/walkontable/src/border.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.includes\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.array.join\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.includes\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _element = require(\"./../../../helpers/dom/element\");\n\nvar _event = require(\"./../../../helpers/dom/event\");\n\nvar _object = require(\"./../../../helpers/object\");\n\nvar _browser = require(\"./../../../helpers/browser\");\n\nvar _eventManager = _interopRequireDefault(require(\"./../../../eventManager\"));\n\nvar _coords = _interopRequireDefault(require(\"./cell/coords\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n *\n */\nvar Border =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param {Walkontable} wotInstance\n   * @param {Object} settings\n   */\n  function Border(wotInstance, settings) {\n    _classCallCheck(this, Border);\n\n    if (!settings) {\n      return;\n    }\n\n    this.eventManager = new _eventManager.default(wotInstance);\n    this.instance = wotInstance;\n    this.wot = wotInstance;\n    this.settings = settings;\n    this.mouseDown = false;\n    this.main = null;\n    this.top = null;\n    this.left = null;\n    this.bottom = null;\n    this.right = null;\n    this.topStyle = null;\n    this.leftStyle = null;\n    this.bottomStyle = null;\n    this.rightStyle = null;\n    this.cornerDefaultStyle = {\n      width: '6px',\n      height: '6px',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#FFF'\n    };\n    this.corner = null;\n    this.cornerStyle = null;\n    this.createBorders(settings);\n    this.registerListeners();\n  }\n  /**\n   * Register all necessary events\n   */\n\n\n  _createClass(Border, [{\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      var _this2 = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      this.eventManager.addEventListener(documentBody, 'mousedown', function () {\n        return _this2.onMouseDown();\n      });\n      this.eventManager.addEventListener(documentBody, 'mouseup', function () {\n        return _this2.onMouseUp();\n      });\n\n      var _loop = function _loop(c, len) {\n        _this2.eventManager.addEventListener(_this2.main.childNodes[c], 'mouseenter', function (event) {\n          return _this2.onMouseEnter(event, _this2.main.childNodes[c]);\n        });\n      };\n\n      for (var c = 0, len = this.main.childNodes.length; c < len; c++) {\n        _loop(c, len);\n      }\n    }\n    /**\n     * Mouse down listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown() {\n      this.mouseDown = true;\n    }\n    /**\n     * Mouse up listener\n     *\n     * @private\n     */\n\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      this.mouseDown = false;\n    }\n    /**\n     * Mouse enter listener for fragment selection functionality.\n     *\n     * @private\n     * @param {Event} event Dom event\n     * @param {HTMLElement} parentElement Part of border element.\n     */\n\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(event, parentElement) {\n      if (!this.mouseDown || !this.wot.getSetting('hideBorderOnMouseDownOver')) {\n        return;\n      }\n\n      event.preventDefault();\n      (0, _event.stopImmediatePropagation)(event);\n\n      var _this = this;\n\n      var documentBody = this.wot.rootDocument.body;\n      var bounds = parentElement.getBoundingClientRect(); // Hide border to prevents selection jumping when fragmentSelection is enabled.\n\n      parentElement.style.display = 'none';\n\n      function isOutside(mouseEvent) {\n        if (mouseEvent.clientY < Math.floor(bounds.top)) {\n          return true;\n        }\n\n        if (mouseEvent.clientY > Math.ceil(bounds.top + bounds.height)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX < Math.floor(bounds.left)) {\n          return true;\n        }\n\n        if (mouseEvent.clientX > Math.ceil(bounds.left + bounds.width)) {\n          return true;\n        }\n      }\n\n      function handler(handlerEvent) {\n        if (isOutside(handlerEvent)) {\n          _this.eventManager.removeEventListener(documentBody, 'mousemove', handler);\n\n          parentElement.style.display = 'block';\n        }\n      }\n\n      this.eventManager.addEventListener(documentBody, 'mousemove', handler);\n    }\n    /**\n     * Create border elements\n     *\n     * @param {Object} settings\n     */\n\n  }, {\n    key: \"createBorders\",\n    value: function createBorders(settings) {\n      var rootDocument = this.wot.rootDocument;\n      this.main = rootDocument.createElement('div');\n      var borderDivs = ['top', 'left', 'bottom', 'right', 'corner'];\n      var style = this.main.style;\n      style.position = 'absolute';\n      style.top = 0;\n      style.left = 0;\n\n      for (var i = 0; i < 5; i++) {\n        var position = borderDivs[i];\n        var div = rootDocument.createElement('div');\n        div.className = \"wtBorder \".concat(this.settings.className || ''); // + borderDivs[i];\n\n        if (this.settings[position] && this.settings[position].hide) {\n          div.className += ' hidden';\n        }\n\n        style = div.style;\n        style.backgroundColor = this.settings[position] && this.settings[position].color ? this.settings[position].color : settings.border.color;\n        style.height = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        style.width = this.settings[position] && this.settings[position].width ? \"\".concat(this.settings[position].width, \"px\") : \"\".concat(settings.border.width, \"px\");\n        this.main.appendChild(div);\n      }\n\n      this.top = this.main.childNodes[0];\n      this.left = this.main.childNodes[1];\n      this.bottom = this.main.childNodes[2];\n      this.right = this.main.childNodes[3];\n      this.topStyle = this.top.style;\n      this.leftStyle = this.left.style;\n      this.bottomStyle = this.bottom.style;\n      this.rightStyle = this.right.style;\n      this.corner = this.main.childNodes[4];\n      this.corner.className += ' corner';\n      this.cornerStyle = this.corner.style;\n      this.cornerStyle.width = this.cornerDefaultStyle.width;\n      this.cornerStyle.height = this.cornerDefaultStyle.height;\n      this.cornerStyle.border = [this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor].join(' ');\n\n      if ((0, _browser.isMobileBrowser)()) {\n        this.createMultipleSelectorHandles();\n      }\n\n      this.disappear();\n      var wtTable = this.wot.wtTable;\n      var bordersHolder = wtTable.bordersHolder;\n\n      if (!bordersHolder) {\n        bordersHolder = rootDocument.createElement('div');\n        bordersHolder.className = 'htBorders';\n        wtTable.bordersHolder = bordersHolder;\n        wtTable.spreader.appendChild(bordersHolder);\n      }\n\n      bordersHolder.appendChild(this.main);\n    }\n    /**\n     * Create multiple selector handler for mobile devices\n     */\n\n  }, {\n    key: \"createMultipleSelectorHandles\",\n    value: function createMultipleSelectorHandles() {\n      var _this3 = this;\n\n      var rootDocument = this.wot.rootDocument;\n      this.selectionHandles = {\n        topLeft: rootDocument.createElement('DIV'),\n        topLeftHitArea: rootDocument.createElement('DIV'),\n        bottomRight: rootDocument.createElement('DIV'),\n        bottomRightHitArea: rootDocument.createElement('DIV')\n      };\n      var width = 10;\n      var hitAreaWidth = 40;\n      this.selectionHandles.topLeft.className = 'topLeftSelectionHandle';\n      this.selectionHandles.topLeftHitArea.className = 'topLeftSelectionHandle-HitArea';\n      this.selectionHandles.bottomRight.className = 'bottomRightSelectionHandle';\n      this.selectionHandles.bottomRightHitArea.className = 'bottomRightSelectionHandle-HitArea';\n      this.selectionHandles.styles = {\n        topLeft: this.selectionHandles.topLeft.style,\n        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,\n        bottomRight: this.selectionHandles.bottomRight.style,\n        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style\n      };\n      var hitAreaStyle = {\n        position: 'absolute',\n        height: \"\".concat(hitAreaWidth, \"px\"),\n        width: \"\".concat(hitAreaWidth, \"px\"),\n        'border-radius': \"\".concat(parseInt(hitAreaWidth / 1.5, 10), \"px\")\n      };\n      (0, _object.objectEach)(hitAreaStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRightHitArea[key] = value;\n        _this3.selectionHandles.styles.topLeftHitArea[key] = value;\n      });\n      var handleStyle = {\n        position: 'absolute',\n        height: \"\".concat(width, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        'border-radius': \"\".concat(parseInt(width / 1.5, 10), \"px\"),\n        background: '#F5F5FF',\n        border: '1px solid #4285c8'\n      };\n      (0, _object.objectEach)(handleStyle, function (value, key) {\n        _this3.selectionHandles.styles.bottomRight[key] = value;\n        _this3.selectionHandles.styles.topLeft[key] = value;\n      });\n      this.main.appendChild(this.selectionHandles.topLeft);\n      this.main.appendChild(this.selectionHandles.bottomRight);\n      this.main.appendChild(this.selectionHandles.topLeftHitArea);\n      this.main.appendChild(this.selectionHandles.bottomRightHitArea);\n    }\n  }, {\n    key: \"isPartRange\",\n    value: function isPartRange(row, col) {\n      var areaSelection = this.wot.selections.createOrGetArea();\n\n      if (areaSelection.cellRange) {\n        if (row !== areaSelection.cellRange.to.row || col !== areaSelection.cellRange.to.col) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateMultipleSelectionHandlesPosition\",\n    value: function updateMultipleSelectionHandlesPosition(row, col, top, left, width, height) {\n      var handleWidth = parseInt(this.selectionHandles.styles.topLeft.width, 10);\n      var hitAreaWidth = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);\n      this.selectionHandles.styles.topLeft.top = \"\".concat(parseInt(top - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeft.left = \"\".concat(parseInt(left - handleWidth, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.top = \"\".concat(parseInt(top - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.topLeftHitArea.left = \"\".concat(parseInt(left - hitAreaWidth / 4 * 3, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.top = \"\".concat(parseInt(top + height, 10), \"px\");\n      this.selectionHandles.styles.bottomRight.left = \"\".concat(parseInt(left + width, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.top = \"\".concat(parseInt(top + height - hitAreaWidth / 4, 10), \"px\");\n      this.selectionHandles.styles.bottomRightHitArea.left = \"\".concat(parseInt(left + width - hitAreaWidth / 4, 10), \"px\");\n\n      if (this.settings.border.cornerVisible && this.settings.border.cornerVisible()) {\n        this.selectionHandles.styles.topLeft.display = 'block';\n        this.selectionHandles.styles.topLeftHitArea.display = 'block';\n\n        if (this.isPartRange(row, col)) {\n          this.selectionHandles.styles.bottomRight.display = 'none';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n        } else {\n          this.selectionHandles.styles.bottomRight.display = 'block';\n          this.selectionHandles.styles.bottomRightHitArea.display = 'block';\n        }\n      } else {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n        this.selectionHandles.styles.topLeftHitArea.display = 'none';\n        this.selectionHandles.styles.bottomRightHitArea.display = 'none';\n      }\n\n      if (row === this.wot.wtSettings.getSetting('fixedRowsTop') || col === this.wot.wtSettings.getSetting('fixedColumnsLeft')) {\n        this.selectionHandles.styles.topLeft.zIndex = '9999';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '9999';\n      } else {\n        this.selectionHandles.styles.topLeft.zIndex = '';\n        this.selectionHandles.styles.topLeftHitArea.zIndex = '';\n      }\n    }\n    /**\n     * Show border around one or many cells\n     *\n     * @param {Array} corners\n     */\n\n  }, {\n    key: \"appear\",\n    value: function appear(corners) {\n      if (this.disabled) {\n        return;\n      }\n\n      var _this$wot = this.wot,\n          wtTable = _this$wot.wtTable,\n          rootDocument = _this$wot.rootDocument,\n          rootWindow = _this$wot.rootWindow;\n      var fromRow;\n      var toRow;\n      var fromColumn;\n      var toColumn;\n      var rowsCount = wtTable.getRenderedRowsCount();\n\n      for (var i = 0; i < rowsCount; i += 1) {\n        var s = wtTable.rowFilter.renderedToSource(i);\n\n        if (s >= corners[0] && s <= corners[2]) {\n          fromRow = s;\n          break;\n        }\n      }\n\n      for (var _i = rowsCount - 1; _i >= 0; _i -= 1) {\n        var _s = wtTable.rowFilter.renderedToSource(_i);\n\n        if (_s >= corners[0] && _s <= corners[2]) {\n          toRow = _s;\n          break;\n        }\n      }\n\n      var columnsCount = wtTable.getRenderedColumnsCount();\n\n      for (var _i2 = 0; _i2 < columnsCount; _i2 += 1) {\n        var _s2 = wtTable.columnFilter.renderedToSource(_i2);\n\n        if (_s2 >= corners[1] && _s2 <= corners[3]) {\n          fromColumn = _s2;\n          break;\n        }\n      }\n\n      for (var _i3 = columnsCount - 1; _i3 >= 0; _i3 -= 1) {\n        var _s3 = wtTable.columnFilter.renderedToSource(_i3);\n\n        if (_s3 >= corners[1] && _s3 <= corners[3]) {\n          toColumn = _s3;\n          break;\n        }\n      }\n\n      if (fromRow === void 0 || fromColumn === void 0) {\n        this.disappear();\n        return;\n      }\n\n      var fromTD = wtTable.getCell(new _coords.default(fromRow, fromColumn));\n      var isMultiple = fromRow !== toRow || fromColumn !== toColumn;\n      var toTD = isMultiple ? wtTable.getCell(new _coords.default(toRow, toColumn)) : fromTD;\n      var fromOffset = (0, _element.offset)(fromTD);\n      var toOffset = isMultiple ? (0, _element.offset)(toTD) : fromOffset;\n      var containerOffset = (0, _element.offset)(wtTable.TABLE);\n      var minTop = fromOffset.top;\n      var minLeft = fromOffset.left;\n      var left = minLeft - containerOffset.left - 1;\n      var width = toOffset.left + (0, _element.outerWidth)(toTD) - minLeft;\n\n      if (this.isEntireColumnSelected(fromRow, toRow)) {\n        var modifiedValues = this.getDimensionsFromHeader('columns', fromColumn, toColumn, containerOffset);\n        var fromTH = null;\n\n        if (modifiedValues) {\n          var _modifiedValues = _slicedToArray(modifiedValues, 3);\n\n          fromTH = _modifiedValues[0];\n          left = _modifiedValues[1];\n          width = _modifiedValues[2];\n        }\n\n        if (fromTH) {\n          fromTD = fromTH;\n        }\n      }\n\n      var top = minTop - containerOffset.top - 1;\n      var height = toOffset.top + (0, _element.outerHeight)(toTD) - minTop;\n\n      if (this.isEntireRowSelected(fromColumn, toColumn)) {\n        var _modifiedValues2 = this.getDimensionsFromHeader('rows', fromRow, toRow, containerOffset);\n\n        var _fromTH = null;\n\n        if (_modifiedValues2) {\n          var _modifiedValues3 = _slicedToArray(_modifiedValues2, 3);\n\n          _fromTH = _modifiedValues3[0];\n          top = _modifiedValues3[1];\n          height = _modifiedValues3[2];\n        }\n\n        if (_fromTH) {\n          fromTD = _fromTH;\n        }\n      }\n\n      var style = (0, _element.getComputedStyle)(fromTD, rootWindow);\n\n      if (parseInt(style.borderTopWidth, 10) > 0) {\n        top += 1;\n        height = height > 0 ? height - 1 : 0;\n      }\n\n      if (parseInt(style.borderLeftWidth, 10) > 0) {\n        left += 1;\n        width = width > 0 ? width - 1 : 0;\n      }\n\n      this.topStyle.top = \"\".concat(top, \"px\");\n      this.topStyle.left = \"\".concat(left, \"px\");\n      this.topStyle.width = \"\".concat(width, \"px\");\n      this.topStyle.display = 'block';\n      this.leftStyle.top = \"\".concat(top, \"px\");\n      this.leftStyle.left = \"\".concat(left, \"px\");\n      this.leftStyle.height = \"\".concat(height, \"px\");\n      this.leftStyle.display = 'block';\n      var delta = Math.floor(this.settings.border.width / 2);\n      this.bottomStyle.top = \"\".concat(top + height - delta, \"px\");\n      this.bottomStyle.left = \"\".concat(left, \"px\");\n      this.bottomStyle.width = \"\".concat(width, \"px\");\n      this.bottomStyle.display = 'block';\n      this.rightStyle.top = \"\".concat(top, \"px\");\n      this.rightStyle.left = \"\".concat(left + width - delta, \"px\");\n      this.rightStyle.height = \"\".concat(height + 1, \"px\");\n      this.rightStyle.display = 'block';\n      var cornerVisibleSetting = this.settings.border.cornerVisible;\n      cornerVisibleSetting = typeof cornerVisibleSetting === 'function' ? cornerVisibleSetting(this.settings.layerLevel) : cornerVisibleSetting;\n      var hookResult = this.wot.getSetting('onModifyGetCellCoords', toRow, toColumn);\n      var checkRow = toRow,\n          checkCol = toColumn;\n\n      if (hookResult && Array.isArray(hookResult)) {\n        var _hookResult = _slicedToArray(hookResult, 4);\n\n        checkRow = _hookResult[2];\n        checkCol = _hookResult[3];\n      }\n\n      if ((0, _browser.isMobileBrowser)() || !cornerVisibleSetting || this.isPartRange(checkRow, checkCol)) {\n        this.cornerStyle.display = 'none';\n      } else {\n        this.cornerStyle.top = \"\".concat(top + height - 4, \"px\");\n        this.cornerStyle.left = \"\".concat(left + width - 4, \"px\");\n        this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth;\n        this.cornerStyle.width = this.cornerDefaultStyle.width; // Hide the fill handle, so the possible further adjustments won't force unneeded scrollbars.\n\n        this.cornerStyle.display = 'none';\n        var trimmingContainer = (0, _element.getTrimmingContainer)(wtTable.TABLE);\n        var trimToWindow = trimmingContainer === rootWindow;\n\n        if (trimToWindow) {\n          trimmingContainer = rootDocument.documentElement;\n        }\n\n        if (toColumn === this.wot.getSetting('totalColumns') - 1) {\n          var toTdOffsetLeft = trimToWindow ? toTD.getBoundingClientRect().left : toTD.offsetLeft;\n          var cornerRightEdge = toTdOffsetLeft + (0, _element.outerWidth)(toTD) + parseInt(this.cornerDefaultStyle.width, 10) / 2;\n          var cornerOverlappingContainer = cornerRightEdge >= (0, _element.innerWidth)(trimmingContainer);\n\n          if (cornerOverlappingContainer) {\n            this.cornerStyle.left = \"\".concat(Math.floor(left + width - 3 - parseInt(this.cornerDefaultStyle.width, 10) / 2), \"px\");\n            this.cornerStyle.borderRightWidth = 0;\n          }\n        }\n\n        if (toRow === this.wot.getSetting('totalRows') - 1) {\n          var toTdOffsetTop = trimToWindow ? toTD.getBoundingClientRect().top : toTD.offsetTop;\n          var cornerBottomEdge = toTdOffsetTop + (0, _element.outerHeight)(toTD) + parseInt(this.cornerDefaultStyle.height, 10) / 2;\n\n          var _cornerOverlappingContainer = cornerBottomEdge >= (0, _element.innerHeight)(trimmingContainer);\n\n          if (_cornerOverlappingContainer) {\n            this.cornerStyle.top = \"\".concat(Math.floor(top + height - 3 - parseInt(this.cornerDefaultStyle.height, 10) / 2), \"px\");\n            this.cornerStyle.borderBottomWidth = 0;\n          }\n        }\n\n        this.cornerStyle.display = 'block';\n      }\n\n      if ((0, _browser.isMobileBrowser)()) {\n        this.updateMultipleSelectionHandlesPosition(toRow, toColumn, top, left, width, height);\n      }\n    }\n    /**\n     * Check whether an entire column of cells is selected.\n     *\n     * @private\n     * @param {Number} startRowIndex Start row index.\n     * @param {Number} endRowIndex End row index.\n     */\n\n  }, {\n    key: \"isEntireColumnSelected\",\n    value: function isEntireColumnSelected(startRowIndex, endRowIndex) {\n      return startRowIndex === this.wot.wtTable.getFirstRenderedRow() && endRowIndex === this.wot.wtTable.getLastRenderedRow();\n    }\n    /**\n     * Check whether an entire row of cells is selected.\n     *\n     * @private\n     * @param {Number} startColumnIndex Start column index.\n     * @param {Number} endColumnIndex End column index.\n     */\n\n  }, {\n    key: \"isEntireRowSelected\",\n    value: function isEntireRowSelected(startColumnIndex, endColumnIndex) {\n      return startColumnIndex === this.wot.wtTable.getFirstRenderedColumn() && endColumnIndex === this.wot.wtTable.getLastRenderedColumn();\n    }\n    /**\n     * Get left/top index and width/height depending on the `direction` provided.\n     *\n     * @private\n     * @param {String} direction `rows` or `columns`, defines if an entire column or row is selected.\n     * @param {Number} fromIndex Start index of the selection.\n     * @param {Number} toIndex End index of the selection.\n     * @param {Number} containerOffset offset of the container.\n     * @return {Array|Boolean} Returns an array of [headerElement, left, width] or [headerElement, top, height], depending on `direction` (`false` in case of an error getting the headers).\n     */\n\n  }, {\n    key: \"getDimensionsFromHeader\",\n    value: function getDimensionsFromHeader(direction, fromIndex, toIndex, containerOffset) {\n      var wtTable = this.wot.wtTable;\n      var rootHotElement = wtTable.wtRootElement.parentNode;\n      var getHeaderFn = null;\n      var dimensionFn = null;\n      var entireSelectionClassname = null;\n      var index = null;\n      var dimension = null;\n      var dimensionProperty = null;\n      var startHeader = null;\n      var endHeader = null;\n\n      switch (direction) {\n        case 'rows':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getRowHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return _element.outerHeight.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--rows';\n          dimensionProperty = 'top';\n          break;\n\n        case 'columns':\n          getHeaderFn = function getHeaderFn() {\n            return wtTable.getColumnHeader.apply(wtTable, arguments);\n          };\n\n          dimensionFn = function dimensionFn() {\n            return _element.outerWidth.apply(void 0, arguments);\n          };\n\n          entireSelectionClassname = 'ht__selection--columns';\n          dimensionProperty = 'left';\n          break;\n\n        default:\n      }\n\n      if (rootHotElement.className.includes(entireSelectionClassname)) {\n        var columnHeaderLevelCount = this.wot.getSetting('columnHeaders').length;\n        startHeader = getHeaderFn(fromIndex, columnHeaderLevelCount - 1);\n        endHeader = getHeaderFn(toIndex, columnHeaderLevelCount - 1);\n\n        if (!startHeader || !endHeader) {\n          return false;\n        }\n\n        var startHeaderOffset = (0, _element.offset)(startHeader);\n        var endOffset = (0, _element.offset)(endHeader);\n\n        if (startHeader && endHeader) {\n          index = startHeaderOffset[dimensionProperty] - containerOffset[dimensionProperty] - 1;\n          dimension = endOffset[dimensionProperty] + dimensionFn(endHeader) - startHeaderOffset[dimensionProperty];\n        }\n\n        return [startHeader, index, dimension];\n      }\n\n      return false;\n    }\n    /**\n     * Change border style.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     */\n\n  }, {\n    key: \"changeBorderStyle\",\n    value: function changeBorderStyle(borderElement, border) {\n      var style = this[borderElement].style;\n      var borderStyle = border[borderElement];\n\n      if (!borderStyle || borderStyle.hide) {\n        (0, _element.addClass)(this[borderElement], 'hidden');\n      } else {\n        if ((0, _element.hasClass)(this[borderElement], 'hidden')) {\n          (0, _element.removeClass)(this[borderElement], 'hidden');\n        }\n\n        style.backgroundColor = borderStyle.color;\n\n        if (borderElement === 'top' || borderElement === 'bottom') {\n          style.height = \"\".concat(borderStyle.width, \"px\");\n        }\n\n        if (borderElement === 'right' || borderElement === 'left') {\n          style.width = \"\".concat(borderStyle.width, \"px\");\n        }\n      }\n    }\n    /**\n     * Change border style to default.\n     *\n     * @private\n     * @param {HTMLElement} position\n     */\n\n  }, {\n    key: \"changeBorderToDefaultStyle\",\n    value: function changeBorderToDefaultStyle(position) {\n      var defaultBorder = {\n        width: 1,\n        color: '#000'\n      };\n      var style = this[position].style;\n      style.backgroundColor = defaultBorder.color;\n      style.width = \"\".concat(defaultBorder.width, \"px\");\n      style.height = \"\".concat(defaultBorder.width, \"px\");\n    }\n    /**\n     * Toggle class 'hidden' to element.\n     *\n     * @private\n     * @param {String} borderElement Coordinate where add/remove border: top, right, bottom, left.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"toggleHiddenClass\",\n    value: function toggleHiddenClass(borderElement, remove) {\n      this.changeBorderToDefaultStyle(borderElement);\n\n      if (remove) {\n        (0, _element.addClass)(this[borderElement], 'hidden');\n      } else {\n        (0, _element.removeClass)(this[borderElement], 'hidden');\n      }\n    }\n    /**\n     * Hide border\n     */\n\n  }, {\n    key: \"disappear\",\n    value: function disappear() {\n      this.topStyle.display = 'none';\n      this.leftStyle.display = 'none';\n      this.bottomStyle.display = 'none';\n      this.rightStyle.display = 'none';\n      this.cornerStyle.display = 'none';\n\n      if ((0, _browser.isMobileBrowser)()) {\n        this.selectionHandles.styles.topLeft.display = 'none';\n        this.selectionHandles.styles.bottomRight.display = 'none';\n      }\n    }\n    /**\n     * Cleans up all the DOM state related to a Border instance. Call this prior to deleting a Border instance.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.eventManager.destroyWithOwnEventsOnly();\n      this.main.parentNode.removeChild(this.main);\n    }\n  }]);\n\n  return Border;\n}();\n\nvar _default = Border;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}