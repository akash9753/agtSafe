{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h;\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../base/common/async.js';\nimport { KeyChord } from '../../../base/common/keyCodes.js';\nimport { isWeb } from '../../../base/common/platform.js';\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport * as corePosition from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { isLocationLink } from '../../common/modes.js';\nimport { MessageController } from '../message/messageController.js';\nimport { PeekContext } from '../peekView/peekView.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport * as nls from '../../../nls.js';\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from './goToSymbol.js';\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { isStandalone } from '../../../base/browser/browser.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\nMenuRegistry.appendMenuItem(7 /* EditorContext */, {\n  submenu: 8 /* EditorContextPeek */,\n  title: nls.localize('peek.submenu', \"Peek\"),\n  group: 'navigation',\n  order: 100\n});\nvar SymbolNavigationAction = /** @class */function (_super) {\n  __extends(SymbolNavigationAction, _super);\n  function SymbolNavigationAction(configuration, opts) {\n    var _this = _super.call(this, opts) || this;\n    _this._configuration = configuration;\n    return _this;\n  }\n  SymbolNavigationAction.prototype.run = function (accessor, editor) {\n    var _this = this;\n    if (!editor.hasModel()) {\n      return Promise.resolve(undefined);\n    }\n    var notificationService = accessor.get(INotificationService);\n    var editorService = accessor.get(ICodeEditorService);\n    var progressService = accessor.get(IEditorProgressService);\n    var symbolNavService = accessor.get(ISymbolNavigationService);\n    var model = editor.getModel();\n    var pos = editor.getPosition();\n    var cts = new EditorStateCancellationTokenSource(editor, 1 /* Value */ | 4 /* Position */);\n    var promise = raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then(function (references) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var altAction, altActionId, referenceCount, info;\n        return __generator(this, function (_a) {\n          if (!references || cts.token.isCancellationRequested) {\n            return [2 /*return*/];\n          }\n\n          alert(references.ariaMessage);\n          if (references.referenceAt(model.uri, pos)) {\n            altActionId = this._getAlternativeCommand(editor);\n            if (altActionId !== this.id) {\n              altAction = editor.getAction(altActionId);\n            }\n          }\n          referenceCount = references.references.length;\n          if (referenceCount === 0) {\n            // no result -> show message\n            if (!this._configuration.muteMessage) {\n              info = model.getWordAtPosition(pos);\n              MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\n            }\n          } else if (referenceCount === 1 && altAction) {\n            // already at the only result, run alternative\n            altAction.run();\n          } else {\n            // normal results handling\n            return [2 /*return*/, this._onResult(editorService, symbolNavService, editor, references)];\n          }\n          return [2 /*return*/];\n        });\n      });\n    }, function (err) {\n      // report an error\n      notificationService.error(err);\n    }).finally(function () {\n      cts.dispose();\n    });\n    progressService.showWhile(promise, 250);\n    return promise;\n  };\n  SymbolNavigationAction.prototype._onResult = function (editorService, symbolNavService, editor, model) {\n    return __awaiter(this, void 0, void 0, function () {\n      var gotoLocation, next, peek, targetEditor;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            gotoLocation = this._getGoToPreference(editor);\n            if (!(!(editor instanceof EmbeddedCodeEditorWidget) && (this._configuration.openInPeek || gotoLocation === 'peek' && model.references.length > 1))) return [3 /*break*/, 1];\n            this._openInPeek(editor, model);\n            return [3 /*break*/, 3];\n          case 1:\n            next = model.firstReference();\n            peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n            return [4 /*yield*/, this._openReference(editor, editorService, next, this._configuration.openToSide, !peek)];\n          case 2:\n            targetEditor = _a.sent();\n            if (peek && targetEditor) {\n              this._openInPeek(targetEditor, model);\n            } else {\n              model.dispose();\n            }\n            // keep remaining locations around when using\n            // 'goto'-mode\n            if (gotoLocation === 'goto') {\n              symbolNavService.put(next);\n            }\n            _a.label = 3;\n          case 3:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  SymbolNavigationAction.prototype._openReference = function (editor, editorService, reference, sideBySide, highlight) {\n    return __awaiter(this, void 0, void 0, function () {\n      var range, targetEditor, modelNow_1, ids_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            range = undefined;\n            if (isLocationLink(reference)) {\n              range = reference.targetSelectionRange;\n            }\n            if (!range) {\n              range = reference.range;\n            }\n            return [4 /*yield*/, editorService.openCodeEditor({\n              resource: reference.uri,\n              options: {\n                selection: Range.collapseToStart(range),\n                revealInCenterIfOutsideViewport: true\n              }\n            }, editor, sideBySide)];\n          case 1:\n            targetEditor = _a.sent();\n            if (!targetEditor) {\n              return [2 /*return*/, undefined];\n            }\n            if (highlight) {\n              modelNow_1 = targetEditor.getModel();\n              ids_1 = targetEditor.deltaDecorations([], [{\n                range: range,\n                options: {\n                  className: 'symbolHighlight'\n                }\n              }]);\n              setTimeout(function () {\n                if (targetEditor.getModel() === modelNow_1) {\n                  targetEditor.deltaDecorations(ids_1, []);\n                }\n              }, 350);\n            }\n            return [2 /*return*/, targetEditor];\n        }\n      });\n    });\n  };\n  SymbolNavigationAction.prototype._openInPeek = function (target, model) {\n    var controller = ReferencesController.get(target);\n    if (controller && target.hasModel()) {\n      controller.toggleWidget(target.getSelection(), createCancelablePromise(function (_) {\n        return Promise.resolve(model);\n      }), this._configuration.openInPeek);\n    } else {\n      model.dispose();\n    }\n  };\n  return SymbolNavigationAction;\n}(EditorAction);\n//#region --- DEFINITION\nvar DefinitionAction = /** @class */function (_super) {\n  __extends(DefinitionAction, _super);\n  function DefinitionAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DefinitionAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getDefinitionsAtPosition(model, position, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('def.title', 'Definitions')]))()];\n        }\n      });\n    });\n  };\n  DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && info.word ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word) : nls.localize('generic.noResults', \"No definition found\");\n  };\n  DefinitionAction.prototype._getAlternativeCommand = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).alternativeDefinitionCommand;\n  };\n  DefinitionAction.prototype._getGoToPreference = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).multipleDefinitions;\n  };\n  return DefinitionAction;\n}(SymbolNavigationAction);\nexport { DefinitionAction };\nvar goToDefinitionKb = isWeb && !isStandalone ? 2048 /* CtrlCmd */ | 70 /* F12 */ : 70 /* F12 */;\nregisterEditorAction((_a = /** @class */function (_super) {\n  __extends(GoToDefinitionAction, _super);\n  function GoToDefinitionAction() {\n    var _this = _super.call(this, {\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: GoToDefinitionAction.id,\n      label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n      alias: 'Go to Definition',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: goToDefinitionKb,\n        weight: 100 /* EditorContrib */\n      },\n\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 1.1\n      },\n      menuOpts: {\n        menuId: 19 /* MenubarGoMenu */,\n        group: '4_symbol_nav',\n        order: 2,\n        title: nls.localize({\n          key: 'miGotoDefinition',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Definition\")\n      }\n    }) || this;\n    CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n    return _this;\n  }\n  return GoToDefinitionAction;\n}(DefinitionAction), _a.id = 'editor.action.revealDefinition', _a));\nregisterEditorAction((_b = /** @class */function (_super) {\n  __extends(OpenDefinitionToSideAction, _super);\n  function OpenDefinitionToSideAction() {\n    var _this = _super.call(this, {\n      openToSide: true,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: OpenDefinitionToSideAction.id,\n      label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n      alias: 'Open Definition to the Side',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, goToDefinitionKb),\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n    CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n    return _this;\n  }\n  return OpenDefinitionToSideAction;\n}(DefinitionAction), _b.id = 'editor.action.revealDefinitionAside', _b));\nregisterEditorAction((_c = /** @class */function (_super) {\n  __extends(PeekDefinitionAction, _super);\n  function PeekDefinitionAction() {\n    var _this = _super.call(this, {\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: PeekDefinitionAction.id,\n      label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n      alias: 'Peek Definition',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 512 /* Alt */ | 70 /* F12 */,\n        linux: {\n          primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 68 /* F10 */\n        },\n        weight: 100 /* EditorContrib */\n      },\n\n      contextMenuOpts: {\n        menuId: 8 /* EditorContextPeek */,\n        group: 'peek',\n        order: 2\n      }\n    }) || this;\n    CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n    return _this;\n  }\n  return PeekDefinitionAction;\n}(DefinitionAction), _c.id = 'editor.action.peekDefinition', _c));\n//#endregion\n//#region --- DECLARATION\nvar DeclarationAction = /** @class */function (_super) {\n  __extends(DeclarationAction, _super);\n  function DeclarationAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DeclarationAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getDeclarationsAtPosition(model, position, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('decl.title', 'Declarations')]))()];\n        }\n      });\n    });\n  };\n  DeclarationAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && info.word ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word) : nls.localize('decl.generic.noResults', \"No declaration found\");\n  };\n  DeclarationAction.prototype._getAlternativeCommand = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).alternativeDeclarationCommand;\n  };\n  DeclarationAction.prototype._getGoToPreference = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).multipleDeclarations;\n  };\n  return DeclarationAction;\n}(SymbolNavigationAction);\nregisterEditorAction((_d = /** @class */function (_super) {\n  __extends(GoToDeclarationAction, _super);\n  function GoToDeclarationAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: GoToDeclarationAction.id,\n      label: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n      alias: 'Go to Declaration',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 1.3\n      },\n      menuOpts: {\n        menuId: 19 /* MenubarGoMenu */,\n        group: '4_symbol_nav',\n        order: 3,\n        title: nls.localize({\n          key: 'miGotoDeclaration',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Declaration\")\n      }\n    }) || this;\n  }\n  GoToDeclarationAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && info.word ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word) : nls.localize('decl.generic.noResults', \"No declaration found\");\n  };\n  return GoToDeclarationAction;\n}(DeclarationAction), _d.id = 'editor.action.revealDeclaration', _d));\nregisterEditorAction( /** @class */function (_super) {\n  __extends(PeekDeclarationAction, _super);\n  function PeekDeclarationAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: 'editor.action.peekDeclaration',\n      label: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n      alias: 'Peek Declaration',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      contextMenuOpts: {\n        menuId: 8 /* EditorContextPeek */,\n        group: 'peek',\n        order: 3\n      }\n    }) || this;\n  }\n  return PeekDeclarationAction;\n}(DeclarationAction));\n//#endregion\n//#region --- TYPE DEFINITION\nvar TypeDefinitionAction = /** @class */function (_super) {\n  __extends(TypeDefinitionAction, _super);\n  function TypeDefinitionAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  TypeDefinitionAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getTypeDefinitionsAtPosition(model, position, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('typedef.title', 'Type Definitions')]))()];\n        }\n      });\n    });\n  };\n  TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && info.word ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word) : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n  };\n  TypeDefinitionAction.prototype._getAlternativeCommand = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).alternativeTypeDefinitionCommand;\n  };\n  TypeDefinitionAction.prototype._getGoToPreference = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).multipleTypeDefinitions;\n  };\n  return TypeDefinitionAction;\n}(SymbolNavigationAction);\nregisterEditorAction((_e = /** @class */function (_super) {\n  __extends(GoToTypeDefinitionAction, _super);\n  function GoToTypeDefinitionAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: GoToTypeDefinitionAction.ID,\n      label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n      alias: 'Go to Type Definition',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 0,\n        weight: 100 /* EditorContrib */\n      },\n\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 1.4\n      },\n      menuOpts: {\n        menuId: 19 /* MenubarGoMenu */,\n        group: '4_symbol_nav',\n        order: 3,\n        title: nls.localize({\n          key: 'miGotoTypeDefinition',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Type Definition\")\n      }\n    }) || this;\n  }\n  return GoToTypeDefinitionAction;\n}(TypeDefinitionAction), _e.ID = 'editor.action.goToTypeDefinition', _e));\nregisterEditorAction((_f = /** @class */function (_super) {\n  __extends(PeekTypeDefinitionAction, _super);\n  function PeekTypeDefinitionAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: PeekTypeDefinitionAction.ID,\n      label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n      alias: 'Peek Type Definition',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      contextMenuOpts: {\n        menuId: 8 /* EditorContextPeek */,\n        group: 'peek',\n        order: 4\n      }\n    }) || this;\n  }\n  return PeekTypeDefinitionAction;\n}(TypeDefinitionAction), _f.ID = 'editor.action.peekTypeDefinition', _f));\n//#endregion\n//#region --- IMPLEMENTATION\nvar ImplementationAction = /** @class */function (_super) {\n  __extends(ImplementationAction, _super);\n  function ImplementationAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ImplementationAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getImplementationsAtPosition(model, position, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('impl.title', 'Implementations')]))()];\n        }\n      });\n    });\n  };\n  ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && info.word ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word) : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n  };\n  ImplementationAction.prototype._getAlternativeCommand = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).alternativeImplementationCommand;\n  };\n  ImplementationAction.prototype._getGoToPreference = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).multipleImplementations;\n  };\n  return ImplementationAction;\n}(SymbolNavigationAction);\nregisterEditorAction((_g = /** @class */function (_super) {\n  __extends(GoToImplementationAction, _super);\n  function GoToImplementationAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: GoToImplementationAction.ID,\n      label: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\n      alias: 'Go to Implementations',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* CtrlCmd */ | 70 /* F12 */,\n        weight: 100 /* EditorContrib */\n      },\n\n      menuOpts: {\n        menuId: 19 /* MenubarGoMenu */,\n        group: '4_symbol_nav',\n        order: 4,\n        title: nls.localize({\n          key: 'miGotoImplementation',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Implementations\")\n      },\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 1.45\n      }\n    }) || this;\n  }\n  return GoToImplementationAction;\n}(ImplementationAction), _g.ID = 'editor.action.goToImplementation', _g));\nregisterEditorAction((_h = /** @class */function (_super) {\n  __extends(PeekImplementationAction, _super);\n  function PeekImplementationAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: PeekImplementationAction.ID,\n      label: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\n      alias: 'Peek Implementations',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 70 /* F12 */,\n        weight: 100 /* EditorContrib */\n      },\n\n      contextMenuOpts: {\n        menuId: 8 /* EditorContextPeek */,\n        group: 'peek',\n        order: 5\n      }\n    }) || this;\n  }\n  return PeekImplementationAction;\n}(ImplementationAction), _h.ID = 'editor.action.peekImplementation', _h));\n//#endregion\n//#region --- REFERENCES\nvar ReferencesAction = /** @class */function (_super) {\n  __extends(ReferencesAction, _super);\n  function ReferencesAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ReferencesAction.prototype._getNoResultFoundMessage = function (info) {\n    return info ? nls.localize('references.no', \"No references found for '{0}'\", info.word) : nls.localize('references.noGeneric', \"No references found\");\n  };\n  ReferencesAction.prototype._getAlternativeCommand = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).alternativeReferenceCommand;\n  };\n  ReferencesAction.prototype._getGoToPreference = function (editor) {\n    return editor.getOption(41 /* gotoLocation */).multipleReferences;\n  };\n  return ReferencesAction;\n}(SymbolNavigationAction);\nregisterEditorAction( /** @class */function (_super) {\n  __extends(GoToReferencesAction, _super);\n  function GoToReferencesAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: 'editor.action.goToReferences',\n      label: nls.localize('goToReferences.label', \"Go to References\"),\n      alias: 'Go to References',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* Shift */ | 70 /* F12 */,\n        weight: 100 /* EditorContrib */\n      },\n\n      contextMenuOpts: {\n        group: 'navigation',\n        order: 1.45\n      },\n      menuOpts: {\n        menuId: 19 /* MenubarGoMenu */,\n        group: '4_symbol_nav',\n        order: 5,\n        title: nls.localize({\n          key: 'miGotoReference',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&References\")\n      }\n    }) || this;\n  }\n  GoToReferencesAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getReferencesAtPosition(model, position, true, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\n        }\n      });\n    });\n  };\n  return GoToReferencesAction;\n}(ReferencesAction));\nregisterEditorAction( /** @class */function (_super) {\n  __extends(PeekReferencesAction, _super);\n  function PeekReferencesAction() {\n    return _super.call(this, {\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: 'editor.action.referenceSearch.trigger',\n      label: nls.localize('references.action.label', \"Peek References\"),\n      alias: 'Peek References',\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n      contextMenuOpts: {\n        menuId: 8 /* EditorContextPeek */,\n        group: 'peek',\n        order: 6\n      }\n    }) || this;\n  }\n  PeekReferencesAction.prototype._getLocationModel = function (model, position, token) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = ReferencesModel.bind;\n            return [4 /*yield*/, getReferencesAtPosition(model, position, false, token)];\n          case 1:\n            return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\n        }\n      });\n    });\n  };\n  return PeekReferencesAction;\n}(ReferencesAction));\n//#endregion\n//#region --- GENERIC goto symbols command\nvar GenericGoToLocationAction = /** @class */function (_super) {\n  __extends(GenericGoToLocationAction, _super);\n  function GenericGoToLocationAction(config, _references, _gotoMultipleBehaviour) {\n    var _this = _super.call(this, config, {\n      id: 'editor.action.goToLocation',\n      label: nls.localize('label.generic', \"Go To Any Symbol\"),\n      alias: 'Go To Any Symbol',\n      precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated())\n    }) || this;\n    _this._references = _references;\n    _this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\n    return _this;\n  }\n  GenericGoToLocationAction.prototype._getLocationModel = function (_model, _position, _token) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'))];\n      });\n    });\n  };\n  GenericGoToLocationAction.prototype._getNoResultFoundMessage = function (info) {\n    return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n  };\n  GenericGoToLocationAction.prototype._getGoToPreference = function (editor) {\n    var _a;\n    return (_a = this._gotoMultipleBehaviour) !== null && _a !== void 0 ? _a : editor.getOption(41 /* gotoLocation */).multipleReferences;\n  };\n  GenericGoToLocationAction.prototype._getAlternativeCommand = function () {\n    return '';\n  };\n  return GenericGoToLocationAction;\n}(SymbolNavigationAction);\nCommandsRegistry.registerCommand({\n  id: 'editor.action.goToLocations',\n  description: {\n    description: 'Go to locations from a position in a file',\n    args: [{\n      name: 'uri',\n      description: 'The text document in which to start',\n      constraint: URI\n    }, {\n      name: 'position',\n      description: 'The position at which to start',\n      constraint: corePosition.Position.isIPosition\n    }, {\n      name: 'locations',\n      description: 'An array of locations.',\n      constraint: Array\n    }, {\n      name: 'multiple',\n      description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'\n    }]\n  },\n  handler: function handler(accessor, resource, position, references, multiple, openInPeek) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var editorService, editor;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            assertType(URI.isUri(resource));\n            assertType(corePosition.Position.isIPosition(position));\n            assertType(Array.isArray(references));\n            assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n            assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n            editorService = accessor.get(ICodeEditorService);\n            return [4 /*yield*/, editorService.openCodeEditor({\n              resource: resource\n            }, editorService.getFocusedCodeEditor())];\n          case 1:\n            editor = _a.sent();\n            if (isCodeEditor(editor)) {\n              editor.setPosition(position);\n              editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\n              return [2 /*return*/, editor.invokeWithinContext(function (accessor) {\n                var command = new GenericGoToLocationAction({\n                  muteMessage: true,\n                  openInPeek: Boolean(openInPeek),\n                  openToSide: false\n                }, references, multiple);\n                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n              })];\n            }\n            return [2 /*return*/];\n        }\n      });\n    });\n  }\n});\n\nCommandsRegistry.registerCommand({\n  id: 'editor.action.peekLocations',\n  description: {\n    description: 'Peek locations from a position in a file',\n    args: [{\n      name: 'uri',\n      description: 'The text document in which to start',\n      constraint: URI\n    }, {\n      name: 'position',\n      description: 'The position at which to start',\n      constraint: corePosition.Position.isIPosition\n    }, {\n      name: 'locations',\n      description: 'An array of locations.',\n      constraint: Array\n    }, {\n      name: 'multiple',\n      description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'\n    }]\n  },\n  handler: function handler(accessor, resource, position, references, multiple) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, true);\n        return [2 /*return*/];\n      });\n    });\n  }\n});\n//#endregion\n//#region --- REFERENCE search special commands\nCommandsRegistry.registerCommand({\n  id: 'editor.action.findReferences',\n  handler: function handler(accessor, resource, position) {\n    assertType(URI.isUri(resource));\n    assertType(corePosition.Position.isIPosition(position));\n    var codeEditorService = accessor.get(ICodeEditorService);\n    return codeEditorService.openCodeEditor({\n      resource: resource\n    }, codeEditorService.getFocusedCodeEditor()).then(function (control) {\n      if (!isCodeEditor(control) || !control.hasModel()) {\n        return undefined;\n      }\n      var controller = ReferencesController.get(control);\n      if (!controller) {\n        return undefined;\n      }\n      var references = createCancelablePromise(function (token) {\n        return getReferencesAtPosition(control.getModel(), corePosition.Position.lift(position), false, token).then(function (references) {\n          return new ReferencesModel(references, nls.localize('ref.title', 'References'));\n        });\n      });\n      var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n      return Promise.resolve(controller.toggleWidget(range, references, false));\n    });\n  }\n});\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n//#endregion","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","_a","_b","_c","_d","_e","_f","_g","_h","alert","createCancelablePromise","raceCancellation","KeyChord","isWeb","isCodeEditor","EditorAction","registerEditorAction","ICodeEditorService","corePosition","Range","EditorContextKeys","isLocationLink","MessageController","PeekContext","ReferencesController","ReferencesModel","nls","MenuRegistry","ContextKeyExpr","INotificationService","IEditorProgressService","getDefinitionsAtPosition","getImplementationsAtPosition","getTypeDefinitionsAtPosition","getDeclarationsAtPosition","getReferencesAtPosition","CommandsRegistry","ICommandService","EditorStateCancellationTokenSource","ISymbolNavigationService","isStandalone","URI","IInstantiationService","assertType","EmbeddedCodeEditorWidget","appendMenuItem","submenu","title","localize","group","order","SymbolNavigationAction","_super","configuration","opts","_this","_configuration","run","accessor","editor","hasModel","undefined","notificationService","get","editorService","progressService","symbolNavService","model","getModel","pos","getPosition","cts","promise","_getLocationModel","token","references","altAction","altActionId","referenceCount","info","isCancellationRequested","ariaMessage","referenceAt","uri","_getAlternativeCommand","id","getAction","muteMessage","getWordAtPosition","showMessage","_getNoResultFoundMessage","_onResult","err","error","finally","dispose","showWhile","gotoLocation","peek","targetEditor","_getGoToPreference","openInPeek","_openInPeek","firstReference","_openReference","openToSide","put","reference","sideBySide","highlight","range","modelNow_1","ids_1","targetSelectionRange","openCodeEditor","resource","options","selection","collapseToStart","revealInCenterIfOutsideViewport","deltaDecorations","className","setTimeout","target","controller","toggleWidget","getSelection","DefinitionAction","arguments","position","bind","word","getOption","alternativeDefinitionCommand","multipleDefinitions","goToDefinitionKb","GoToDefinitionAction","alias","precondition","and","hasDefinitionProvider","isInEmbeddedEditor","toNegated","kbOpts","kbExpr","editorTextFocus","primary","weight","contextMenuOpts","menuOpts","menuId","key","comment","registerCommandAlias","OpenDefinitionToSideAction","PeekDefinitionAction","notInPeekEditor","linux","DeclarationAction","alternativeDeclarationCommand","multipleDeclarations","GoToDeclarationAction","hasDeclarationProvider","PeekDeclarationAction","TypeDefinitionAction","alternativeTypeDefinitionCommand","multipleTypeDefinitions","GoToTypeDefinitionAction","ID","hasTypeDefinitionProvider","PeekTypeDefinitionAction","ImplementationAction","alternativeImplementationCommand","multipleImplementations","GoToImplementationAction","hasImplementationProvider","PeekImplementationAction","ReferencesAction","alternativeReferenceCommand","multipleReferences","GoToReferencesAction","hasReferenceProvider","PeekReferencesAction","GenericGoToLocationAction","config","_references","_gotoMultipleBehaviour","_model","_position","_token","registerCommand","description","args","name","constraint","Position","isIPosition","handler","multiple","isUri","isArray","getFocusedCodeEditor","setPosition","revealPositionInCenterIfOutsideViewport","invokeWithinContext","command","Boolean","invokeFunction","executeCommand","codeEditorService","control","lift","lineNumber","column"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/goToCommands.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _a, _b, _c, _d, _e, _f, _g, _h;\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { createCancelablePromise, raceCancellation } from '../../../base/common/async.js';\r\nimport { KeyChord } from '../../../base/common/keyCodes.js';\r\nimport { isWeb } from '../../../base/common/platform.js';\r\nimport { isCodeEditor } from '../../browser/editorBrowser.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport * as corePosition from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { isLocationLink } from '../../common/modes.js';\r\nimport { MessageController } from '../message/messageController.js';\r\nimport { PeekContext } from '../peekView/peekView.js';\r\nimport { ReferencesController } from './peek/referencesController.js';\r\nimport { ReferencesModel } from './referencesModel.js';\r\nimport * as nls from '../../../nls.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\r\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition, getReferencesAtPosition } from './goToSymbol.js';\r\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\r\nimport { EditorStateCancellationTokenSource } from '../../browser/core/editorState.js';\r\nimport { ISymbolNavigationService } from './symbolNavigation.js';\r\nimport { isStandalone } from '../../../base/browser/browser.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { assertType } from '../../../base/common/types.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../browser/widget/embeddedCodeEditorWidget.js';\r\nMenuRegistry.appendMenuItem(7 /* EditorContext */, {\r\n    submenu: 8 /* EditorContextPeek */,\r\n    title: nls.localize('peek.submenu', \"Peek\"),\r\n    group: 'navigation',\r\n    order: 100\r\n});\r\nvar SymbolNavigationAction = /** @class */ (function (_super) {\r\n    __extends(SymbolNavigationAction, _super);\r\n    function SymbolNavigationAction(configuration, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._configuration = configuration;\r\n        return _this;\r\n    }\r\n    SymbolNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var notificationService = accessor.get(INotificationService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var progressService = accessor.get(IEditorProgressService);\r\n        var symbolNavService = accessor.get(ISymbolNavigationService);\r\n        var model = editor.getModel();\r\n        var pos = editor.getPosition();\r\n        var cts = new EditorStateCancellationTokenSource(editor, 1 /* Value */ | 4 /* Position */);\r\n        var promise = raceCancellation(this._getLocationModel(model, pos, cts.token), cts.token).then(function (references) { return __awaiter(_this, void 0, void 0, function () {\r\n            var altAction, altActionId, referenceCount, info;\r\n            return __generator(this, function (_a) {\r\n                if (!references || cts.token.isCancellationRequested) {\r\n                    return [2 /*return*/];\r\n                }\r\n                alert(references.ariaMessage);\r\n                if (references.referenceAt(model.uri, pos)) {\r\n                    altActionId = this._getAlternativeCommand(editor);\r\n                    if (altActionId !== this.id) {\r\n                        altAction = editor.getAction(altActionId);\r\n                    }\r\n                }\r\n                referenceCount = references.references.length;\r\n                if (referenceCount === 0) {\r\n                    // no result -> show message\r\n                    if (!this._configuration.muteMessage) {\r\n                        info = model.getWordAtPosition(pos);\r\n                        MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\r\n                    }\r\n                }\r\n                else if (referenceCount === 1 && altAction) {\r\n                    // already at the only result, run alternative\r\n                    altAction.run();\r\n                }\r\n                else {\r\n                    // normal results handling\r\n                    return [2 /*return*/, this._onResult(editorService, symbolNavService, editor, references)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        }); }, function (err) {\r\n            // report an error\r\n            notificationService.error(err);\r\n        }).finally(function () {\r\n            cts.dispose();\r\n        });\r\n        progressService.showWhile(promise, 250);\r\n        return promise;\r\n    };\r\n    SymbolNavigationAction.prototype._onResult = function (editorService, symbolNavService, editor, model) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var gotoLocation, next, peek, targetEditor;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        gotoLocation = this._getGoToPreference(editor);\r\n                        if (!(!(editor instanceof EmbeddedCodeEditorWidget) && (this._configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1)))) return [3 /*break*/, 1];\r\n                        this._openInPeek(editor, model);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        next = model.firstReference();\r\n                        peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\r\n                        return [4 /*yield*/, this._openReference(editor, editorService, next, this._configuration.openToSide, !peek)];\r\n                    case 2:\r\n                        targetEditor = _a.sent();\r\n                        if (peek && targetEditor) {\r\n                            this._openInPeek(targetEditor, model);\r\n                        }\r\n                        else {\r\n                            model.dispose();\r\n                        }\r\n                        // keep remaining locations around when using\r\n                        // 'goto'-mode\r\n                        if (gotoLocation === 'goto') {\r\n                            symbolNavService.put(next);\r\n                        }\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openReference = function (editor, editorService, reference, sideBySide, highlight) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var range, targetEditor, modelNow_1, ids_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        range = undefined;\r\n                        if (isLocationLink(reference)) {\r\n                            range = reference.targetSelectionRange;\r\n                        }\r\n                        if (!range) {\r\n                            range = reference.range;\r\n                        }\r\n                        return [4 /*yield*/, editorService.openCodeEditor({\r\n                                resource: reference.uri,\r\n                                options: {\r\n                                    selection: Range.collapseToStart(range),\r\n                                    revealInCenterIfOutsideViewport: true\r\n                                }\r\n                            }, editor, sideBySide)];\r\n                    case 1:\r\n                        targetEditor = _a.sent();\r\n                        if (!targetEditor) {\r\n                            return [2 /*return*/, undefined];\r\n                        }\r\n                        if (highlight) {\r\n                            modelNow_1 = targetEditor.getModel();\r\n                            ids_1 = targetEditor.deltaDecorations([], [{ range: range, options: { className: 'symbolHighlight' } }]);\r\n                            setTimeout(function () {\r\n                                if (targetEditor.getModel() === modelNow_1) {\r\n                                    targetEditor.deltaDecorations(ids_1, []);\r\n                                }\r\n                            }, 350);\r\n                        }\r\n                        return [2 /*return*/, targetEditor];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SymbolNavigationAction.prototype._openInPeek = function (target, model) {\r\n        var controller = ReferencesController.get(target);\r\n        if (controller && target.hasModel()) {\r\n            controller.toggleWidget(target.getSelection(), createCancelablePromise(function (_) { return Promise.resolve(model); }), this._configuration.openInPeek);\r\n        }\r\n        else {\r\n            model.dispose();\r\n        }\r\n    };\r\n    return SymbolNavigationAction;\r\n}(EditorAction));\r\n//#region --- DEFINITION\r\nvar DefinitionAction = /** @class */ (function (_super) {\r\n    __extends(DefinitionAction, _super);\r\n    function DefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('def.title', 'Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\r\n            : nls.localize('generic.noResults', \"No definition found\");\r\n    };\r\n    DefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeDefinitionCommand;\r\n    };\r\n    DefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleDefinitions;\r\n    };\r\n    return DefinitionAction;\r\n}(SymbolNavigationAction));\r\nexport { DefinitionAction };\r\nvar goToDefinitionKb = isWeb && !isStandalone\r\n    ? 2048 /* CtrlCmd */ | 70 /* F12 */\r\n    : 70 /* F12 */;\r\nregisterEditorAction((_a = /** @class */ (function (_super) {\r\n        __extends(GoToDefinitionAction, _super);\r\n        function GoToDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDefinitionAction.id,\r\n                label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\r\n                alias: 'Go to Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: goToDefinitionKb,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.1\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 2,\r\n                    title: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return GoToDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _a.id = 'editor.action.revealDefinition',\r\n    _a));\r\nregisterEditorAction((_b = /** @class */ (function (_super) {\r\n        __extends(OpenDefinitionToSideAction, _super);\r\n        function OpenDefinitionToSideAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: true,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: OpenDefinitionToSideAction.id,\r\n                label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\r\n                alias: 'Open Definition to the Side',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: KeyChord(2048 /* CtrlCmd */ | 41 /* KEY_K */, goToDefinitionKb),\r\n                    weight: 100 /* EditorContrib */\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\r\n            return _this;\r\n        }\r\n        return OpenDefinitionToSideAction;\r\n    }(DefinitionAction)),\r\n    _b.id = 'editor.action.revealDefinitionAside',\r\n    _b));\r\nregisterEditorAction((_c = /** @class */ (function (_super) {\r\n        __extends(PeekDefinitionAction, _super);\r\n        function PeekDefinitionAction() {\r\n            var _this = _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekDefinitionAction.id,\r\n                label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\r\n                alias: 'Peek Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 512 /* Alt */ | 70 /* F12 */,\r\n                    linux: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 68 /* F10 */ },\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 2\r\n                }\r\n            }) || this;\r\n            CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\r\n            return _this;\r\n        }\r\n        return PeekDefinitionAction;\r\n    }(DefinitionAction)),\r\n    _c.id = 'editor.action.peekDefinition',\r\n    _c));\r\n//#endregion\r\n//#region --- DECLARATION\r\nvar DeclarationAction = /** @class */ (function (_super) {\r\n    __extends(DeclarationAction, _super);\r\n    function DeclarationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeclarationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getDeclarationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('decl.title', 'Declarations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n    };\r\n    DeclarationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeDeclarationCommand;\r\n    };\r\n    DeclarationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleDeclarations;\r\n    };\r\n    return DeclarationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_d = /** @class */ (function (_super) {\r\n        __extends(GoToDeclarationAction, _super);\r\n        function GoToDeclarationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToDeclarationAction.id,\r\n                label: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\r\n                alias: 'Go to Declaration',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.3\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\r\n                },\r\n            }) || this;\r\n        }\r\n        GoToDeclarationAction.prototype._getNoResultFoundMessage = function (info) {\r\n            return info && info.word\r\n                ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\r\n                : nls.localize('decl.generic.noResults', \"No declaration found\");\r\n        };\r\n        return GoToDeclarationAction;\r\n    }(DeclarationAction)),\r\n    _d.id = 'editor.action.revealDeclaration',\r\n    _d));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekDeclarationAction, _super);\r\n    function PeekDeclarationAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.peekDeclaration',\r\n            label: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\r\n            alias: 'Peek Declaration',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 3\r\n            }\r\n        }) || this;\r\n    }\r\n    return PeekDeclarationAction;\r\n}(DeclarationAction)));\r\n//#endregion\r\n//#region --- TYPE DEFINITION\r\nvar TypeDefinitionAction = /** @class */ (function (_super) {\r\n    __extends(TypeDefinitionAction, _super);\r\n    function TypeDefinitionAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TypeDefinitionAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getTypeDefinitionsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('typedef.title', 'Type Definitions')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\r\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\r\n    };\r\n    TypeDefinitionAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeTypeDefinitionCommand;\r\n    };\r\n    TypeDefinitionAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleTypeDefinitions;\r\n    };\r\n    return TypeDefinitionAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_e = /** @class */ (function (_super) {\r\n        __extends(GoToTypeDefinitionAction, _super);\r\n        function GoToTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\r\n                alias: 'Go to Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 0,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.4\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 3,\r\n                    title: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _e.ID = 'editor.action.goToTypeDefinition',\r\n    _e));\r\nregisterEditorAction((_f = /** @class */ (function (_super) {\r\n        __extends(PeekTypeDefinitionAction, _super);\r\n        function PeekTypeDefinitionAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekTypeDefinitionAction.ID,\r\n                label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\r\n                alias: 'Peek Type Definition',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 4\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekTypeDefinitionAction;\r\n    }(TypeDefinitionAction)),\r\n    _f.ID = 'editor.action.peekTypeDefinition',\r\n    _f));\r\n//#endregion\r\n//#region --- IMPLEMENTATION\r\nvar ImplementationAction = /** @class */ (function (_super) {\r\n    __extends(ImplementationAction, _super);\r\n    function ImplementationAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ImplementationAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getImplementationsAtPosition(model, position, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('impl.title', 'Implementations')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && info.word\r\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\r\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\r\n    };\r\n    ImplementationAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeImplementationCommand;\r\n    };\r\n    ImplementationAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleImplementations;\r\n    };\r\n    return ImplementationAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction((_g = /** @class */ (function (_super) {\r\n        __extends(GoToImplementationAction, _super);\r\n        function GoToImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: false,\r\n                muteMessage: false\r\n            }, {\r\n                id: GoToImplementationAction.ID,\r\n                label: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\r\n                alias: 'Go to Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                menuOpts: {\r\n                    menuId: 19 /* MenubarGoMenu */,\r\n                    group: '4_symbol_nav',\r\n                    order: 4,\r\n                    title: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\r\n                },\r\n                contextMenuOpts: {\r\n                    group: 'navigation',\r\n                    order: 1.45\r\n                }\r\n            }) || this;\r\n        }\r\n        return GoToImplementationAction;\r\n    }(ImplementationAction)),\r\n    _g.ID = 'editor.action.goToImplementation',\r\n    _g));\r\nregisterEditorAction((_h = /** @class */ (function (_super) {\r\n        __extends(PeekImplementationAction, _super);\r\n        function PeekImplementationAction() {\r\n            return _super.call(this, {\r\n                openToSide: false,\r\n                openInPeek: true,\r\n                muteMessage: false\r\n            }, {\r\n                id: PeekImplementationAction.ID,\r\n                label: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\r\n                alias: 'Peek Implementations',\r\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n                kbOpts: {\r\n                    kbExpr: EditorContextKeys.editorTextFocus,\r\n                    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 70 /* F12 */,\r\n                    weight: 100 /* EditorContrib */\r\n                },\r\n                contextMenuOpts: {\r\n                    menuId: 8 /* EditorContextPeek */,\r\n                    group: 'peek',\r\n                    order: 5\r\n                }\r\n            }) || this;\r\n        }\r\n        return PeekImplementationAction;\r\n    }(ImplementationAction)),\r\n    _h.ID = 'editor.action.peekImplementation',\r\n    _h));\r\n//#endregion\r\n//#region --- REFERENCES\r\nvar ReferencesAction = /** @class */ (function (_super) {\r\n    __extends(ReferencesAction, _super);\r\n    function ReferencesAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ReferencesAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info\r\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\r\n            : nls.localize('references.noGeneric', \"No references found\");\r\n    };\r\n    ReferencesAction.prototype._getAlternativeCommand = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).alternativeReferenceCommand;\r\n    };\r\n    ReferencesAction.prototype._getGoToPreference = function (editor) {\r\n        return editor.getOption(41 /* gotoLocation */).multipleReferences;\r\n    };\r\n    return ReferencesAction;\r\n}(SymbolNavigationAction));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(GoToReferencesAction, _super);\r\n    function GoToReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: false,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.goToReferences',\r\n            label: nls.localize('goToReferences.label', \"Go to References\"),\r\n            alias: 'Go to References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 70 /* F12 */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            contextMenuOpts: {\r\n                group: 'navigation',\r\n                order: 1.45\r\n            },\r\n            menuOpts: {\r\n                menuId: 19 /* MenubarGoMenu */,\r\n                group: '4_symbol_nav',\r\n                order: 5,\r\n                title: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\r\n            },\r\n        }) || this;\r\n    }\r\n    GoToReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, true, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return GoToReferencesAction;\r\n}(ReferencesAction)));\r\nregisterEditorAction(/** @class */ (function (_super) {\r\n    __extends(PeekReferencesAction, _super);\r\n    function PeekReferencesAction() {\r\n        return _super.call(this, {\r\n            openToSide: false,\r\n            openInPeek: true,\r\n            muteMessage: false\r\n        }, {\r\n            id: 'editor.action.referenceSearch.trigger',\r\n            label: nls.localize('references.action.label', \"Peek References\"),\r\n            alias: 'Peek References',\r\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n            contextMenuOpts: {\r\n                menuId: 8 /* EditorContextPeek */,\r\n                group: 'peek',\r\n                order: 6\r\n            }\r\n        }) || this;\r\n    }\r\n    PeekReferencesAction.prototype._getLocationModel = function (model, position, token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = ReferencesModel.bind;\r\n                        return [4 /*yield*/, getReferencesAtPosition(model, position, false, token)];\r\n                    case 1: return [2 /*return*/, new (_a.apply(ReferencesModel, [void 0, _b.sent(), nls.localize('ref.title', 'References')]))()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return PeekReferencesAction;\r\n}(ReferencesAction)));\r\n//#endregion\r\n//#region --- GENERIC goto symbols command\r\nvar GenericGoToLocationAction = /** @class */ (function (_super) {\r\n    __extends(GenericGoToLocationAction, _super);\r\n    function GenericGoToLocationAction(config, _references, _gotoMultipleBehaviour) {\r\n        var _this = _super.call(this, config, {\r\n            id: 'editor.action.goToLocation',\r\n            label: nls.localize('label.generic', \"Go To Any Symbol\"),\r\n            alias: 'Go To Any Symbol',\r\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\r\n        }) || this;\r\n        _this._references = _references;\r\n        _this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\r\n        return _this;\r\n    }\r\n    GenericGoToLocationAction.prototype._getLocationModel = function (_model, _position, _token) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'))];\r\n            });\r\n        });\r\n    };\r\n    GenericGoToLocationAction.prototype._getNoResultFoundMessage = function (info) {\r\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\r\n    };\r\n    GenericGoToLocationAction.prototype._getGoToPreference = function (editor) {\r\n        var _a;\r\n        return (_a = this._gotoMultipleBehaviour) !== null && _a !== void 0 ? _a : editor.getOption(41 /* gotoLocation */).multipleReferences;\r\n    };\r\n    GenericGoToLocationAction.prototype._getAlternativeCommand = function () { return ''; };\r\n    return GenericGoToLocationAction;\r\n}(SymbolNavigationAction));\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.goToLocations',\r\n    description: {\r\n        description: 'Go to locations from a position in a file',\r\n        args: [\r\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\r\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\r\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\r\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\r\n        ]\r\n    },\r\n    handler: function (accessor, resource, position, references, multiple, openInPeek) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var editorService, editor;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    assertType(URI.isUri(resource));\r\n                    assertType(corePosition.Position.isIPosition(position));\r\n                    assertType(Array.isArray(references));\r\n                    assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\r\n                    assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\r\n                    editorService = accessor.get(ICodeEditorService);\r\n                    return [4 /*yield*/, editorService.openCodeEditor({ resource: resource }, editorService.getFocusedCodeEditor())];\r\n                case 1:\r\n                    editor = _a.sent();\r\n                    if (isCodeEditor(editor)) {\r\n                        editor.setPosition(position);\r\n                        editor.revealPositionInCenterIfOutsideViewport(position, 0 /* Smooth */);\r\n                        return [2 /*return*/, editor.invokeWithinContext(function (accessor) {\r\n                                var command = new GenericGoToLocationAction({ muteMessage: true, openInPeek: Boolean(openInPeek), openToSide: false }, references, multiple);\r\n                                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\r\n                            })];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }\r\n});\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.peekLocations',\r\n    description: {\r\n        description: 'Peek locations from a position in a file',\r\n        args: [\r\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\r\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\r\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\r\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\r\n        ]\r\n    },\r\n    handler: function (accessor, resource, position, references, multiple) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, true);\r\n            return [2 /*return*/];\r\n        });\r\n    }); }\r\n});\r\n//#endregion\r\n//#region --- REFERENCE search special commands\r\nCommandsRegistry.registerCommand({\r\n    id: 'editor.action.findReferences',\r\n    handler: function (accessor, resource, position) {\r\n        assertType(URI.isUri(resource));\r\n        assertType(corePosition.Position.isIPosition(position));\r\n        var codeEditorService = accessor.get(ICodeEditorService);\r\n        return codeEditorService.openCodeEditor({ resource: resource }, codeEditorService.getFocusedCodeEditor()).then(function (control) {\r\n            if (!isCodeEditor(control) || !control.hasModel()) {\r\n                return undefined;\r\n            }\r\n            var controller = ReferencesController.get(control);\r\n            if (!controller) {\r\n                return undefined;\r\n            }\r\n            var references = createCancelablePromise(function (token) { return getReferencesAtPosition(control.getModel(), corePosition.Position.lift(position), false, token).then(function (references) { return new ReferencesModel(references, nls.localize('ref.title', 'References')); }); });\r\n            var range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\r\n            return Promise.resolve(controller.toggleWidget(range, references, false));\r\n        });\r\n    }\r\n});\r\n// use NEW command\r\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\r\n//#endregion\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}