{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as nodes from '../parser/cssNodes.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { difference } from '../utils/strings.js';\nimport { Rules } from '../services/lintRules.js';\nimport { Command, TextEdit, CodeAction, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier } from '../cssLanguageTypes.js';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSCodeActions = /** @class */function () {\n  function CSSCodeActions() {}\n  CSSCodeActions.prototype.doCodeActions = function (document, range, context, stylesheet) {\n    return this.doCodeActions2(document, range, context, stylesheet).map(function (ca) {\n      var textDocumentEdit = ca.edit && ca.edit.documentChanges && ca.edit.documentChanges[0];\n      return Command.create(ca.title, '_css.applyCodeAction', document.uri, document.version, textDocumentEdit && textDocumentEdit.edits);\n    });\n  };\n  CSSCodeActions.prototype.doCodeActions2 = function (document, range, context, stylesheet) {\n    var result = [];\n    if (context.diagnostics) {\n      for (var _i = 0, _a = context.diagnostics; _i < _a.length; _i++) {\n        var diagnostic = _a[_i];\n        this.appendFixesForMarker(document, stylesheet, diagnostic, result);\n      }\n    }\n    return result;\n  };\n  CSSCodeActions.prototype.getFixesForUnknownProperty = function (document, property, marker, result) {\n    var propertyName = property.getName();\n    var candidates = [];\n    languageFacts.cssDataManager.getProperties().forEach(function (p) {\n      var score = difference(propertyName, p.name);\n      if (score >= propertyName.length / 2 /*score_lim*/) {\n        candidates.push({\n          property: p.name,\n          score: score\n        });\n      }\n    });\n    // Sort in descending order.\n    candidates.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    var maxActions = 3;\n    for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n      var candidate = candidates_1[_i];\n      var propertyName_1 = candidate.property;\n      var title = localize('css.codeaction.rename', \"Rename to '{0}'\", propertyName_1);\n      var edit = TextEdit.replace(marker.range, propertyName_1);\n      var documentIdentifier = VersionedTextDocumentIdentifier.create(document.uri, document.version);\n      var workspaceEdit = {\n        documentChanges: [TextDocumentEdit.create(documentIdentifier, [edit])]\n      };\n      var codeAction = CodeAction.create(title, workspaceEdit, CodeActionKind.QuickFix);\n      codeAction.diagnostics = [marker];\n      result.push(codeAction);\n      if (--maxActions <= 0) {\n        return;\n      }\n    }\n  };\n  CSSCodeActions.prototype.appendFixesForMarker = function (document, stylesheet, marker, result) {\n    if (marker.code !== Rules.UnknownProperty.id) {\n      return;\n    }\n    var offset = document.offsetAt(marker.range.start);\n    var end = document.offsetAt(marker.range.end);\n    var nodepath = nodes.getNodePath(stylesheet, offset);\n    for (var i = nodepath.length - 1; i >= 0; i--) {\n      var node = nodepath[i];\n      if (node instanceof nodes.Declaration) {\n        var property = node.getProperty();\n        if (property && property.offset === offset && property.end === end) {\n          this.getFixesForUnknownProperty(document, property, marker, result);\n          return;\n        }\n      }\n    }\n  };\n  return CSSCodeActions;\n}();\nexport { CSSCodeActions };","map":{"version":3,"names":["nodes","languageFacts","difference","Rules","Command","TextEdit","CodeAction","CodeActionKind","TextDocumentEdit","VersionedTextDocumentIdentifier","nls","localize","loadMessageBundle","CSSCodeActions","prototype","doCodeActions","document","range","context","stylesheet","doCodeActions2","map","ca","textDocumentEdit","edit","documentChanges","create","title","uri","version","edits","result","diagnostics","_i","_a","length","diagnostic","appendFixesForMarker","getFixesForUnknownProperty","property","marker","propertyName","getName","candidates","cssDataManager","getProperties","forEach","p","score","name","push","sort","a","b","maxActions","candidates_1","candidate","propertyName_1","replace","documentIdentifier","workspaceEdit","codeAction","QuickFix","code","UnknownProperty","id","offset","offsetAt","start","end","nodepath","getNodePath","i","node","Declaration","getProperty"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCodeActions.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { difference } from '../utils/strings.js';\nimport { Rules } from '../services/lintRules.js';\nimport { Command, TextEdit, CodeAction, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier } from '../cssLanguageTypes.js';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSCodeActions = /** @class */ (function () {\n    function CSSCodeActions() {\n    }\n    CSSCodeActions.prototype.doCodeActions = function (document, range, context, stylesheet) {\n        return this.doCodeActions2(document, range, context, stylesheet).map(function (ca) {\n            var textDocumentEdit = ca.edit && ca.edit.documentChanges && ca.edit.documentChanges[0];\n            return Command.create(ca.title, '_css.applyCodeAction', document.uri, document.version, textDocumentEdit && textDocumentEdit.edits);\n        });\n    };\n    CSSCodeActions.prototype.doCodeActions2 = function (document, range, context, stylesheet) {\n        var result = [];\n        if (context.diagnostics) {\n            for (var _i = 0, _a = context.diagnostics; _i < _a.length; _i++) {\n                var diagnostic = _a[_i];\n                this.appendFixesForMarker(document, stylesheet, diagnostic, result);\n            }\n        }\n        return result;\n    };\n    CSSCodeActions.prototype.getFixesForUnknownProperty = function (document, property, marker, result) {\n        var propertyName = property.getName();\n        var candidates = [];\n        languageFacts.cssDataManager.getProperties().forEach(function (p) {\n            var score = difference(propertyName, p.name);\n            if (score >= propertyName.length / 2 /*score_lim*/) {\n                candidates.push({ property: p.name, score: score });\n            }\n        });\n        // Sort in descending order.\n        candidates.sort(function (a, b) {\n            return b.score - a.score;\n        });\n        var maxActions = 3;\n        for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n            var candidate = candidates_1[_i];\n            var propertyName_1 = candidate.property;\n            var title = localize('css.codeaction.rename', \"Rename to '{0}'\", propertyName_1);\n            var edit = TextEdit.replace(marker.range, propertyName_1);\n            var documentIdentifier = VersionedTextDocumentIdentifier.create(document.uri, document.version);\n            var workspaceEdit = { documentChanges: [TextDocumentEdit.create(documentIdentifier, [edit])] };\n            var codeAction = CodeAction.create(title, workspaceEdit, CodeActionKind.QuickFix);\n            codeAction.diagnostics = [marker];\n            result.push(codeAction);\n            if (--maxActions <= 0) {\n                return;\n            }\n        }\n    };\n    CSSCodeActions.prototype.appendFixesForMarker = function (document, stylesheet, marker, result) {\n        if (marker.code !== Rules.UnknownProperty.id) {\n            return;\n        }\n        var offset = document.offsetAt(marker.range.start);\n        var end = document.offsetAt(marker.range.end);\n        var nodepath = nodes.getNodePath(stylesheet, offset);\n        for (var i = nodepath.length - 1; i >= 0; i--) {\n            var node = nodepath[i];\n            if (node instanceof nodes.Declaration) {\n                var property = node.getProperty();\n                if (property && property.offset === offset && property.end === end) {\n                    this.getFixesForUnknownProperty(document, property, marker, result);\n                    return;\n                }\n            }\n        }\n    };\n    return CSSCodeActions;\n}());\nexport { CSSCodeActions };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}