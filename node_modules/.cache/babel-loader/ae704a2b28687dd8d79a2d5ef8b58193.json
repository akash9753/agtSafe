{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\nrequire(\"core-js/modules/es.symbol.description\");\nrequire(\"core-js/modules/es.symbol.iterator\");\nrequire(\"core-js/modules/es.array.filter\");\nrequire(\"core-js/modules/es.array.find\");\nrequire(\"core-js/modules/es.array.index-of\");\nrequire(\"core-js/modules/es.array.iterator\");\nrequire(\"core-js/modules/es.array.sort\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\nrequire(\"core-js/modules/es.object.get-prototype-of\");\nrequire(\"core-js/modules/es.object.set-prototype-of\");\nrequire(\"core-js/modules/es.object.to-string\");\nrequire(\"core-js/modules/es.reflect.get\");\nrequire(\"core-js/modules/es.regexp.exec\");\nrequire(\"core-js/modules/es.string.iterator\");\nrequire(\"core-js/modules/es.string.replace\");\nrequire(\"core-js/modules/es.weak-map\");\nrequire(\"core-js/modules/web.dom-collections.iterator\");\nexports.__esModule = true;\nexports.default = void 0;\nvar _unicode = require(\"./../helpers/unicode\");\nvar _mixed = require(\"./../helpers/mixed\");\nvar _string = require(\"./../helpers/string\");\nvar _array = require(\"./../helpers/array\");\nvar _element = require(\"./../helpers/dom/element\");\nvar _handsontableEditor = _interopRequireDefault(require(\"./handsontableEditor\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get(target, property, receiver || target);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nvar privatePool = new WeakMap();\n/**\n * @private\n * @editor AutocompleteEditor\n * @class AutocompleteEditor\n * @dependencies HandsontableEditor\n */\n\nvar AutocompleteEditor = /*#__PURE__*/\nfunction (_HandsontableEditor) {\n  _inherits(AutocompleteEditor, _HandsontableEditor);\n  function AutocompleteEditor(instance) {\n    var _this;\n    _classCallCheck(this, AutocompleteEditor);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AutocompleteEditor).call(this, instance));\n    /**\n     * Query string to turn available values over.\n     *\n     * @type {String}\n     */\n\n    _this.query = null;\n    /**\n     * Contains stripped choices.\n     *\n     * @type {String[]}\n     */\n\n    _this.strippedChoices = [];\n    /**\n     * Contains raw choices.\n     *\n     * @type {Array}\n     */\n\n    _this.rawChoices = [];\n    privatePool.set(_assertThisInitialized(_this), {\n      skipOne: false\n    });\n    return _this;\n  }\n  /**\n   * Gets current value from editable element.\n   *\n   * @returns {String}\n   */\n\n  _createClass(AutocompleteEditor, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var _this2 = this;\n      var selectedValue = this.rawChoices.find(function (value) {\n        var strippedValue = _this2.stripValueIfNeeded(value);\n        return strippedValue === _this2.TEXTAREA.value;\n      });\n      if ((0, _mixed.isDefined)(selectedValue)) {\n        return selectedValue;\n      }\n      return this.TEXTAREA.value;\n    }\n    /**\n     * Creates an editor's elements and adds necessary CSS classnames.\n     */\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"createElements\", this).call(this);\n      (0, _element.addClass)(this.htContainer, 'autocompleteEditor');\n      (0, _element.addClass)(this.htContainer, this.hot.rootWindow.navigator.platform.indexOf('Mac') === -1 ? '' : 'htMacScroll');\n    }\n    /**\n     * Opens the editor and adjust its size and internal Handsontable's instance.\n     */\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this3 = this;\n      var priv = privatePool.get(this); // this.addHook('beforeKeyDown', event => this.onBeforeKeyDown(event));\n      // Ugly fix for handsontable which grab window object for autocomplete scroll listener instead table element.\n\n      this.TEXTAREA_PARENT.style.overflow = 'auto';\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"open\", this).call(this);\n      this.TEXTAREA_PARENT.style.overflow = '';\n      var choicesListHot = this.htEditor.getInstance();\n      var trimDropdown = this.cellProperties.trimDropdown === void 0 ? true : this.cellProperties.trimDropdown;\n      this.showEditableElement();\n      this.focus();\n      var scrollbarWidth = (0, _element.getScrollbarWidth)(this.hot.rootDocument);\n      choicesListHot.updateSettings({\n        colWidths: trimDropdown ? [(0, _element.outerWidth)(this.TEXTAREA) - 2] : void 0,\n        width: trimDropdown ? (0, _element.outerWidth)(this.TEXTAREA) + scrollbarWidth + 2 : void 0,\n        afterRenderer: function afterRenderer(TD, row, col, prop, value) {\n          var _this3$cellProperties = _this3.cellProperties,\n            filteringCaseSensitive = _this3$cellProperties.filteringCaseSensitive,\n            allowHtml = _this3$cellProperties.allowHtml;\n          var query = _this3.query;\n          var cellValue = (0, _mixed.stringify)(value);\n          var indexOfMatch;\n          var match;\n          if (cellValue && !allowHtml) {\n            indexOfMatch = filteringCaseSensitive === true ? cellValue.indexOf(query) : cellValue.toLowerCase().indexOf(query.toLowerCase());\n            if (indexOfMatch !== -1) {\n              match = cellValue.substr(indexOfMatch, query.length);\n              cellValue = cellValue.replace(match, \"<strong>\".concat(match, \"</strong>\"));\n            }\n          }\n          TD.innerHTML = cellValue;\n        },\n        autoColumnSize: true,\n        modifyColWidth: function modifyColWidth(width, col) {\n          // workaround for <strong> text overlapping the dropdown, not really accurate\n          var autoColumnSize = this.getPlugin('autoColumnSize');\n          var columnWidth = width;\n          if (autoColumnSize) {\n            var autoWidths = autoColumnSize.widths;\n            if (autoWidths[col]) {\n              columnWidth = autoWidths[col];\n            }\n          }\n          return trimDropdown ? columnWidth : columnWidth + 15;\n        }\n      }); // Add additional space for autocomplete holder\n\n      this.htEditor.view.wt.wtTable.holder.parentNode.style['padding-right'] = \"\".concat(scrollbarWidth + 2, \"px\");\n      if (priv.skipOne) {\n        priv.skipOne = false;\n      }\n      this.hot._registerTimeout(function () {\n        _this3.queryChoices(_this3.TEXTAREA.value);\n      });\n    }\n    /**\n     * Closes the editor.\n     */\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.removeHooksByKey('beforeKeyDown');\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"close\", this).call(this);\n    }\n    /**\n     * Verifies result of validation or closes editor if user's cancelled changes. Re-renders WalkOnTable.\n     *\n     * @param {Boolean|undefined} result\n     */\n  }, {\n    key: \"discardEditor\",\n    value: function discardEditor(result) {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"discardEditor\", this).call(this, result);\n      this.hot.view.render();\n    }\n    /**\n     * Prepares choices list based on applied argument.\n     *\n     * @private\n     * @param {String} query\n     */\n  }, {\n    key: \"queryChoices\",\n    value: function queryChoices(query) {\n      var _this4 = this;\n      var source = this.cellProperties.source;\n      this.query = query;\n      if (typeof source === 'function') {\n        source.call(this.cellProperties, query, function (choices) {\n          _this4.rawChoices = choices;\n          _this4.updateChoicesList(_this4.stripValuesIfNeeded(choices));\n        });\n      } else if (Array.isArray(source)) {\n        this.rawChoices = source;\n        this.updateChoicesList(this.stripValuesIfNeeded(source));\n      } else {\n        this.updateChoicesList([]);\n      }\n    }\n    /**\n     * Updates list of the possible completions to choose.\n     *\n     * @private\n     * @param {Array} choicesList\n     */\n  }, {\n    key: \"updateChoicesList\",\n    value: function updateChoicesList(choicesList) {\n      var pos = (0, _element.getCaretPosition)(this.TEXTAREA);\n      var endPos = (0, _element.getSelectionEndPosition)(this.TEXTAREA);\n      var sortByRelevanceSetting = this.cellProperties.sortByRelevance;\n      var filterSetting = this.cellProperties.filter;\n      var orderByRelevance = null;\n      var highlightIndex = null;\n      var choices = choicesList;\n      if (sortByRelevanceSetting) {\n        orderByRelevance = AutocompleteEditor.sortByRelevance(this.stripValueIfNeeded(this.getValue()), choices, this.cellProperties.filteringCaseSensitive);\n      }\n      var orderByRelevanceLength = Array.isArray(orderByRelevance) ? orderByRelevance.length : 0;\n      if (filterSetting === false) {\n        if (orderByRelevanceLength) {\n          highlightIndex = orderByRelevance[0];\n        }\n      } else {\n        var sorted = [];\n        for (var i = 0, choicesCount = choices.length; i < choicesCount; i++) {\n          if (sortByRelevanceSetting && orderByRelevanceLength <= i) {\n            break;\n          }\n          if (orderByRelevanceLength) {\n            sorted.push(choices[orderByRelevance[i]]);\n          } else {\n            sorted.push(choices[i]);\n          }\n        }\n        highlightIndex = 0;\n        choices = sorted;\n      }\n      this.strippedChoices = choices;\n      this.htEditor.loadData((0, _array.pivot)([choices]));\n      this.updateDropdownHeight();\n      this.flipDropdownIfNeeded();\n      if (this.cellProperties.strict === true) {\n        this.highlightBestMatchingChoice(highlightIndex);\n      }\n      this.hot.listen(false);\n      (0, _element.setCaretPosition)(this.TEXTAREA, pos, pos === endPos ? void 0 : endPos);\n    }\n    /**\n     * Checks where is enough place to open editor.\n     *\n     * @private\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"flipDropdownIfNeeded\",\n    value: function flipDropdownIfNeeded() {\n      var textareaOffset = (0, _element.offset)(this.TEXTAREA);\n      var textareaHeight = (0, _element.outerHeight)(this.TEXTAREA);\n      var dropdownHeight = this.getDropdownHeight();\n      var trimmingContainer = (0, _element.getTrimmingContainer)(this.hot.view.wt.wtTable.TABLE);\n      var trimmingContainerScrollTop = trimmingContainer.scrollTop;\n      var headersHeight = (0, _element.outerHeight)(this.hot.view.wt.wtTable.THEAD);\n      var containerOffset = {\n        row: 0,\n        col: 0\n      };\n      if (trimmingContainer !== this.hot.rootWindow) {\n        containerOffset = (0, _element.offset)(trimmingContainer);\n      }\n      var spaceAbove = textareaOffset.top - containerOffset.top - headersHeight + trimmingContainerScrollTop;\n      var spaceBelow = trimmingContainer.scrollHeight - spaceAbove - headersHeight - textareaHeight;\n      var flipNeeded = dropdownHeight > spaceBelow && spaceAbove > spaceBelow;\n      if (flipNeeded) {\n        this.flipDropdown(dropdownHeight);\n      } else {\n        this.unflipDropdown();\n      }\n      this.limitDropdownIfNeeded(flipNeeded ? spaceAbove : spaceBelow, dropdownHeight);\n      return flipNeeded;\n    }\n    /**\n     * Checks if the internal table should generate scrollbar or could be rendered without it.\n     *\n     * @private\n     * @param {Number} spaceAvailable\n     * @param {Number} dropdownHeight\n     */\n  }, {\n    key: \"limitDropdownIfNeeded\",\n    value: function limitDropdownIfNeeded(spaceAvailable, dropdownHeight) {\n      if (dropdownHeight > spaceAvailable) {\n        var tempHeight = 0;\n        var i = 0;\n        var lastRowHeight = 0;\n        var height = null;\n        do {\n          lastRowHeight = this.htEditor.getRowHeight(i) || this.htEditor.view.wt.wtSettings.settings.defaultRowHeight;\n          tempHeight += lastRowHeight;\n          i += 1;\n        } while (tempHeight < spaceAvailable);\n        height = tempHeight - lastRowHeight;\n        if (this.htEditor.flipped) {\n          this.htEditor.rootElement.style.top = \"\".concat(parseInt(this.htEditor.rootElement.style.top, 10) + dropdownHeight - height, \"px\");\n        }\n        this.setDropdownHeight(tempHeight - lastRowHeight);\n      }\n    }\n    /**\n     * Configures editor to open it at the top.\n     *\n     * @private\n     * @param {Number} dropdownHeight\n     */\n  }, {\n    key: \"flipDropdown\",\n    value: function flipDropdown(dropdownHeight) {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      dropdownStyle.position = 'absolute';\n      dropdownStyle.top = \"\".concat(-dropdownHeight, \"px\");\n      this.htEditor.flipped = true;\n    }\n    /**\n     * Configures editor to open it at the bottom.\n     *\n     * @private\n     */\n  }, {\n    key: \"unflipDropdown\",\n    value: function unflipDropdown() {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      if (dropdownStyle.position === 'absolute') {\n        dropdownStyle.position = '';\n        dropdownStyle.top = '';\n      }\n      this.htEditor.flipped = void 0;\n    }\n    /**\n     * Updates width and height of the internal Handsontable's instance.\n     *\n     * @private\n     */\n  }, {\n    key: \"updateDropdownHeight\",\n    value: function updateDropdownHeight() {\n      var currentDropdownWidth = this.htEditor.getColWidth(0) + (0, _element.getScrollbarWidth)(this.hot.rootDocument) + 2;\n      var trimDropdown = this.cellProperties.trimDropdown;\n      this.htEditor.updateSettings({\n        height: this.getDropdownHeight(),\n        width: trimDropdown ? void 0 : currentDropdownWidth\n      });\n      this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer();\n    }\n    /**\n     * Sets new height of the internal Handsontable's instance.\n     *\n     * @private\n     * @param {Number} height\n     */\n  }, {\n    key: \"setDropdownHeight\",\n    value: function setDropdownHeight(height) {\n      this.htEditor.updateSettings({\n        height: height\n      });\n    }\n    /**\n     * Creates new selection on specified row index, or deselects selected cells.\n     *\n     * @private\n     * @param {Number|undefined} index\n     */\n  }, {\n    key: \"highlightBestMatchingChoice\",\n    value: function highlightBestMatchingChoice(index) {\n      if (typeof index === 'number') {\n        this.htEditor.selectCell(index, 0, void 0, void 0, void 0, false);\n      } else {\n        this.htEditor.deselectCell();\n      }\n    }\n    /**\n     * Calculates and return the internal Handsontable's height.\n     *\n     * @private\n     * @returns {Number}\n     */\n  }, {\n    key: \"getDropdownHeight\",\n    value: function getDropdownHeight() {\n      var firstRowHeight = this.htEditor.getInstance().getRowHeight(0) || 23;\n      var visibleRows = this.cellProperties.visibleRows;\n      return this.strippedChoices.length >= visibleRows ? visibleRows * firstRowHeight : this.strippedChoices.length * firstRowHeight + 8;\n    }\n    /**\n     * Sanitizes value from potential dangerous tags.\n     *\n     * @private\n     * @param {String} value\n     * @returns {String}\n     */\n  }, {\n    key: \"stripValueIfNeeded\",\n    value: function stripValueIfNeeded(value) {\n      return this.stripValuesIfNeeded([value])[0];\n    }\n    /**\n     * Sanitizes an array of the values from potential dangerous tags.\n     *\n     * @private\n     * @param {String[]} values\n     * @returns {String[]}\n     */\n  }, {\n    key: \"stripValuesIfNeeded\",\n    value: function stripValuesIfNeeded(values) {\n      var allowHtml = this.cellProperties.allowHtml;\n      var stringifiedValues = (0, _array.arrayMap)(values, function (value) {\n        return (0, _mixed.stringify)(value);\n      });\n      var strippedValues = (0, _array.arrayMap)(stringifiedValues, function (value) {\n        return allowHtml ? value : (0, _string.stripTags)(value);\n      });\n      return strippedValues;\n    }\n    /**\n     * Captures use of arrow down and up to control their behaviour.\n     *\n     * @private\n     * @param {Number} keyCode\n     * @returns {Boolean}\n     */\n  }, {\n    key: \"allowKeyEventPropagation\",\n    value: function allowKeyEventPropagation(keyCode) {\n      var selectedRange = this.htEditor.getSelectedRangeLast();\n      var selected = {\n        row: selectedRange ? selectedRange.from.row : -1\n      };\n      var allowed = false;\n      if (keyCode === _unicode.KEY_CODES.ARROW_DOWN && selected.row > 0 && selected.row < this.htEditor.countRows() - 1) {\n        allowed = true;\n      }\n      if (keyCode === _unicode.KEY_CODES.ARROW_UP && selected.row > -1) {\n        allowed = true;\n      }\n      return allowed;\n    }\n    /**\n     * onBeforeKeyDown callback.\n     *\n     * @private\n     * @param {KeyboardEvent} event\n     */\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      var _this5 = this;\n      var priv = privatePool.get(this);\n      priv.skipOne = false;\n      if ((0, _unicode.isPrintableChar)(event.keyCode) || event.keyCode === _unicode.KEY_CODES.BACKSPACE || event.keyCode === _unicode.KEY_CODES.DELETE || event.keyCode === _unicode.KEY_CODES.INSERT) {\n        var timeOffset = 0; // on ctl+c / cmd+c don't update suggestion list\n\n        if (event.keyCode === _unicode.KEY_CODES.C && (event.ctrlKey || event.metaKey)) {\n          return;\n        }\n        if (!this.isOpened()) {\n          timeOffset += 10;\n        }\n        if (this.htEditor) {\n          this.hot._registerTimeout(function () {\n            _this5.queryChoices(_this5.TEXTAREA.value);\n            priv.skipOne = true;\n          }, timeOffset);\n        }\n      }\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\n    }\n  }]);\n  return AutocompleteEditor;\n}(_handsontableEditor.default);\n/**\n * Filters and sorts by relevance.\n *\n * @param value\n * @param choices\n * @param caseSensitive\n * @returns {Number[]} array of indexes in original choices array\n */\n\nAutocompleteEditor.sortByRelevance = function (value, choices, caseSensitive) {\n  var choicesRelevance = [];\n  var currentItem;\n  var valueLength = value.length;\n  var valueIndex;\n  var charsLeft;\n  var result = [];\n  var i;\n  var choicesCount = choices.length;\n  if (valueLength === 0) {\n    for (i = 0; i < choicesCount; i++) {\n      result.push(i);\n    }\n    return result;\n  }\n  for (i = 0; i < choicesCount; i++) {\n    currentItem = (0, _string.stripTags)((0, _mixed.stringify)(choices[i]));\n    if (caseSensitive) {\n      valueIndex = currentItem.indexOf(value);\n    } else {\n      valueIndex = currentItem.toLowerCase().indexOf(value.toLowerCase());\n    }\n    if (valueIndex !== -1) {\n      charsLeft = currentItem.length - valueIndex - valueLength;\n      choicesRelevance.push({\n        baseIndex: i,\n        index: valueIndex,\n        charsLeft: charsLeft,\n        value: currentItem\n      });\n    }\n  }\n  choicesRelevance.sort(function (a, b) {\n    if (b.index === -1) {\n      return -1;\n    }\n    if (a.index === -1) {\n      return 1;\n    }\n    if (a.index < b.index) {\n      return -1;\n    } else if (b.index < a.index) {\n      return 1;\n    } else if (a.index === b.index) {\n      if (a.charsLeft < b.charsLeft) {\n        return -1;\n      } else if (a.charsLeft > b.charsLeft) {\n        return 1;\n      }\n    }\n    return 0;\n  });\n  for (i = 0, choicesCount = choicesRelevance.length; i < choicesCount; i++) {\n    result.push(choicesRelevance[i].baseIndex);\n  }\n  return result;\n};\nvar _default = AutocompleteEditor;\nexports.default = _default;","map":{"version":3,"names":["require","exports","__esModule","default","_unicode","_mixed","_string","_array","_element","_handsontableEditor","_interopRequireDefault","obj","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","privatePool","WeakMap","AutocompleteEditor","_HandsontableEditor","_this","query","strippedChoices","rawChoices","set","skipOne","getValue","_this2","selectedValue","find","strippedValue","stripValueIfNeeded","TEXTAREA","isDefined","createElements","addClass","htContainer","hot","rootWindow","navigator","platform","indexOf","open","_this3","priv","TEXTAREA_PARENT","style","overflow","choicesListHot","htEditor","getInstance","trimDropdown","cellProperties","showEditableElement","focus","scrollbarWidth","getScrollbarWidth","rootDocument","updateSettings","colWidths","outerWidth","width","afterRenderer","TD","row","col","prop","_this3$cellProperties","filteringCaseSensitive","allowHtml","cellValue","stringify","indexOfMatch","match","toLowerCase","substr","replace","concat","innerHTML","autoColumnSize","modifyColWidth","getPlugin","columnWidth","autoWidths","widths","view","wt","wtTable","holder","parentNode","_registerTimeout","queryChoices","close","removeHooksByKey","discardEditor","result","render","_this4","source","choices","updateChoicesList","stripValuesIfNeeded","Array","isArray","choicesList","pos","getCaretPosition","endPos","getSelectionEndPosition","sortByRelevanceSetting","sortByRelevance","filterSetting","filter","orderByRelevance","highlightIndex","orderByRelevanceLength","sorted","choicesCount","push","loadData","pivot","updateDropdownHeight","flipDropdownIfNeeded","strict","highlightBestMatchingChoice","listen","setCaretPosition","textareaOffset","offset","textareaHeight","outerHeight","dropdownHeight","getDropdownHeight","trimmingContainer","getTrimmingContainer","TABLE","trimmingContainerScrollTop","scrollTop","headersHeight","THEAD","containerOffset","spaceAbove","top","spaceBelow","scrollHeight","flipNeeded","flipDropdown","unflipDropdown","limitDropdownIfNeeded","spaceAvailable","tempHeight","lastRowHeight","height","getRowHeight","wtSettings","settings","defaultRowHeight","flipped","rootElement","parseInt","setDropdownHeight","dropdownStyle","position","currentDropdownWidth","getColWidth","alignOverlaysWithTrimmingContainer","index","selectCell","deselectCell","firstRowHeight","visibleRows","values","stringifiedValues","arrayMap","strippedValues","stripTags","allowKeyEventPropagation","keyCode","selectedRange","getSelectedRangeLast","selected","from","allowed","KEY_CODES","ARROW_DOWN","countRows","ARROW_UP","onBeforeKeyDown","event","_this5","isPrintableChar","BACKSPACE","DELETE","INSERT","timeOffset","C","ctrlKey","metaKey","isOpened","caseSensitive","choicesRelevance","currentItem","valueLength","valueIndex","charsLeft","baseIndex","sort","a","b","_default"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/handsontable/commonjs/editors/autocompleteEditor.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.find\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of\");\n\nrequire(\"core-js/modules/es.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.reflect.get\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nrequire(\"core-js/modules/es.weak-map\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _unicode = require(\"./../helpers/unicode\");\n\nvar _mixed = require(\"./../helpers/mixed\");\n\nvar _string = require(\"./../helpers/string\");\n\nvar _array = require(\"./../helpers/array\");\n\nvar _element = require(\"./../helpers/dom/element\");\n\nvar _handsontableEditor = _interopRequireDefault(require(\"./handsontableEditor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar privatePool = new WeakMap();\n/**\n * @private\n * @editor AutocompleteEditor\n * @class AutocompleteEditor\n * @dependencies HandsontableEditor\n */\n\nvar AutocompleteEditor =\n/*#__PURE__*/\nfunction (_HandsontableEditor) {\n  _inherits(AutocompleteEditor, _HandsontableEditor);\n\n  function AutocompleteEditor(instance) {\n    var _this;\n\n    _classCallCheck(this, AutocompleteEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AutocompleteEditor).call(this, instance));\n    /**\n     * Query string to turn available values over.\n     *\n     * @type {String}\n     */\n\n    _this.query = null;\n    /**\n     * Contains stripped choices.\n     *\n     * @type {String[]}\n     */\n\n    _this.strippedChoices = [];\n    /**\n     * Contains raw choices.\n     *\n     * @type {Array}\n     */\n\n    _this.rawChoices = [];\n    privatePool.set(_assertThisInitialized(_this), {\n      skipOne: false\n    });\n    return _this;\n  }\n  /**\n   * Gets current value from editable element.\n   *\n   * @returns {String}\n   */\n\n\n  _createClass(AutocompleteEditor, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var _this2 = this;\n\n      var selectedValue = this.rawChoices.find(function (value) {\n        var strippedValue = _this2.stripValueIfNeeded(value);\n\n        return strippedValue === _this2.TEXTAREA.value;\n      });\n\n      if ((0, _mixed.isDefined)(selectedValue)) {\n        return selectedValue;\n      }\n\n      return this.TEXTAREA.value;\n    }\n    /**\n     * Creates an editor's elements and adds necessary CSS classnames.\n     */\n\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"createElements\", this).call(this);\n\n      (0, _element.addClass)(this.htContainer, 'autocompleteEditor');\n      (0, _element.addClass)(this.htContainer, this.hot.rootWindow.navigator.platform.indexOf('Mac') === -1 ? '' : 'htMacScroll');\n    }\n    /**\n     * Opens the editor and adjust its size and internal Handsontable's instance.\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this3 = this;\n\n      var priv = privatePool.get(this); // this.addHook('beforeKeyDown', event => this.onBeforeKeyDown(event));\n      // Ugly fix for handsontable which grab window object for autocomplete scroll listener instead table element.\n\n      this.TEXTAREA_PARENT.style.overflow = 'auto';\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"open\", this).call(this);\n\n      this.TEXTAREA_PARENT.style.overflow = '';\n      var choicesListHot = this.htEditor.getInstance();\n      var trimDropdown = this.cellProperties.trimDropdown === void 0 ? true : this.cellProperties.trimDropdown;\n      this.showEditableElement();\n      this.focus();\n      var scrollbarWidth = (0, _element.getScrollbarWidth)(this.hot.rootDocument);\n      choicesListHot.updateSettings({\n        colWidths: trimDropdown ? [(0, _element.outerWidth)(this.TEXTAREA) - 2] : void 0,\n        width: trimDropdown ? (0, _element.outerWidth)(this.TEXTAREA) + scrollbarWidth + 2 : void 0,\n        afterRenderer: function afterRenderer(TD, row, col, prop, value) {\n          var _this3$cellProperties = _this3.cellProperties,\n              filteringCaseSensitive = _this3$cellProperties.filteringCaseSensitive,\n              allowHtml = _this3$cellProperties.allowHtml;\n          var query = _this3.query;\n          var cellValue = (0, _mixed.stringify)(value);\n          var indexOfMatch;\n          var match;\n\n          if (cellValue && !allowHtml) {\n            indexOfMatch = filteringCaseSensitive === true ? cellValue.indexOf(query) : cellValue.toLowerCase().indexOf(query.toLowerCase());\n\n            if (indexOfMatch !== -1) {\n              match = cellValue.substr(indexOfMatch, query.length);\n              cellValue = cellValue.replace(match, \"<strong>\".concat(match, \"</strong>\"));\n            }\n          }\n\n          TD.innerHTML = cellValue;\n        },\n        autoColumnSize: true,\n        modifyColWidth: function modifyColWidth(width, col) {\n          // workaround for <strong> text overlapping the dropdown, not really accurate\n          var autoColumnSize = this.getPlugin('autoColumnSize');\n          var columnWidth = width;\n\n          if (autoColumnSize) {\n            var autoWidths = autoColumnSize.widths;\n\n            if (autoWidths[col]) {\n              columnWidth = autoWidths[col];\n            }\n          }\n\n          return trimDropdown ? columnWidth : columnWidth + 15;\n        }\n      }); // Add additional space for autocomplete holder\n\n      this.htEditor.view.wt.wtTable.holder.parentNode.style['padding-right'] = \"\".concat(scrollbarWidth + 2, \"px\");\n\n      if (priv.skipOne) {\n        priv.skipOne = false;\n      }\n\n      this.hot._registerTimeout(function () {\n        _this3.queryChoices(_this3.TEXTAREA.value);\n      });\n    }\n    /**\n     * Closes the editor.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.removeHooksByKey('beforeKeyDown');\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"close\", this).call(this);\n    }\n    /**\n     * Verifies result of validation or closes editor if user's cancelled changes. Re-renders WalkOnTable.\n     *\n     * @param {Boolean|undefined} result\n     */\n\n  }, {\n    key: \"discardEditor\",\n    value: function discardEditor(result) {\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"discardEditor\", this).call(this, result);\n\n      this.hot.view.render();\n    }\n    /**\n     * Prepares choices list based on applied argument.\n     *\n     * @private\n     * @param {String} query\n     */\n\n  }, {\n    key: \"queryChoices\",\n    value: function queryChoices(query) {\n      var _this4 = this;\n\n      var source = this.cellProperties.source;\n      this.query = query;\n\n      if (typeof source === 'function') {\n        source.call(this.cellProperties, query, function (choices) {\n          _this4.rawChoices = choices;\n\n          _this4.updateChoicesList(_this4.stripValuesIfNeeded(choices));\n        });\n      } else if (Array.isArray(source)) {\n        this.rawChoices = source;\n        this.updateChoicesList(this.stripValuesIfNeeded(source));\n      } else {\n        this.updateChoicesList([]);\n      }\n    }\n    /**\n     * Updates list of the possible completions to choose.\n     *\n     * @private\n     * @param {Array} choicesList\n     */\n\n  }, {\n    key: \"updateChoicesList\",\n    value: function updateChoicesList(choicesList) {\n      var pos = (0, _element.getCaretPosition)(this.TEXTAREA);\n      var endPos = (0, _element.getSelectionEndPosition)(this.TEXTAREA);\n      var sortByRelevanceSetting = this.cellProperties.sortByRelevance;\n      var filterSetting = this.cellProperties.filter;\n      var orderByRelevance = null;\n      var highlightIndex = null;\n      var choices = choicesList;\n\n      if (sortByRelevanceSetting) {\n        orderByRelevance = AutocompleteEditor.sortByRelevance(this.stripValueIfNeeded(this.getValue()), choices, this.cellProperties.filteringCaseSensitive);\n      }\n\n      var orderByRelevanceLength = Array.isArray(orderByRelevance) ? orderByRelevance.length : 0;\n\n      if (filterSetting === false) {\n        if (orderByRelevanceLength) {\n          highlightIndex = orderByRelevance[0];\n        }\n      } else {\n        var sorted = [];\n\n        for (var i = 0, choicesCount = choices.length; i < choicesCount; i++) {\n          if (sortByRelevanceSetting && orderByRelevanceLength <= i) {\n            break;\n          }\n\n          if (orderByRelevanceLength) {\n            sorted.push(choices[orderByRelevance[i]]);\n          } else {\n            sorted.push(choices[i]);\n          }\n        }\n\n        highlightIndex = 0;\n        choices = sorted;\n      }\n\n      this.strippedChoices = choices;\n      this.htEditor.loadData((0, _array.pivot)([choices]));\n      this.updateDropdownHeight();\n      this.flipDropdownIfNeeded();\n\n      if (this.cellProperties.strict === true) {\n        this.highlightBestMatchingChoice(highlightIndex);\n      }\n\n      this.hot.listen(false);\n      (0, _element.setCaretPosition)(this.TEXTAREA, pos, pos === endPos ? void 0 : endPos);\n    }\n    /**\n     * Checks where is enough place to open editor.\n     *\n     * @private\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"flipDropdownIfNeeded\",\n    value: function flipDropdownIfNeeded() {\n      var textareaOffset = (0, _element.offset)(this.TEXTAREA);\n      var textareaHeight = (0, _element.outerHeight)(this.TEXTAREA);\n      var dropdownHeight = this.getDropdownHeight();\n      var trimmingContainer = (0, _element.getTrimmingContainer)(this.hot.view.wt.wtTable.TABLE);\n      var trimmingContainerScrollTop = trimmingContainer.scrollTop;\n      var headersHeight = (0, _element.outerHeight)(this.hot.view.wt.wtTable.THEAD);\n      var containerOffset = {\n        row: 0,\n        col: 0\n      };\n\n      if (trimmingContainer !== this.hot.rootWindow) {\n        containerOffset = (0, _element.offset)(trimmingContainer);\n      }\n\n      var spaceAbove = textareaOffset.top - containerOffset.top - headersHeight + trimmingContainerScrollTop;\n      var spaceBelow = trimmingContainer.scrollHeight - spaceAbove - headersHeight - textareaHeight;\n      var flipNeeded = dropdownHeight > spaceBelow && spaceAbove > spaceBelow;\n\n      if (flipNeeded) {\n        this.flipDropdown(dropdownHeight);\n      } else {\n        this.unflipDropdown();\n      }\n\n      this.limitDropdownIfNeeded(flipNeeded ? spaceAbove : spaceBelow, dropdownHeight);\n      return flipNeeded;\n    }\n    /**\n     * Checks if the internal table should generate scrollbar or could be rendered without it.\n     *\n     * @private\n     * @param {Number} spaceAvailable\n     * @param {Number} dropdownHeight\n     */\n\n  }, {\n    key: \"limitDropdownIfNeeded\",\n    value: function limitDropdownIfNeeded(spaceAvailable, dropdownHeight) {\n      if (dropdownHeight > spaceAvailable) {\n        var tempHeight = 0;\n        var i = 0;\n        var lastRowHeight = 0;\n        var height = null;\n\n        do {\n          lastRowHeight = this.htEditor.getRowHeight(i) || this.htEditor.view.wt.wtSettings.settings.defaultRowHeight;\n          tempHeight += lastRowHeight;\n          i += 1;\n        } while (tempHeight < spaceAvailable);\n\n        height = tempHeight - lastRowHeight;\n\n        if (this.htEditor.flipped) {\n          this.htEditor.rootElement.style.top = \"\".concat(parseInt(this.htEditor.rootElement.style.top, 10) + dropdownHeight - height, \"px\");\n        }\n\n        this.setDropdownHeight(tempHeight - lastRowHeight);\n      }\n    }\n    /**\n     * Configures editor to open it at the top.\n     *\n     * @private\n     * @param {Number} dropdownHeight\n     */\n\n  }, {\n    key: \"flipDropdown\",\n    value: function flipDropdown(dropdownHeight) {\n      var dropdownStyle = this.htEditor.rootElement.style;\n      dropdownStyle.position = 'absolute';\n      dropdownStyle.top = \"\".concat(-dropdownHeight, \"px\");\n      this.htEditor.flipped = true;\n    }\n    /**\n     * Configures editor to open it at the bottom.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"unflipDropdown\",\n    value: function unflipDropdown() {\n      var dropdownStyle = this.htEditor.rootElement.style;\n\n      if (dropdownStyle.position === 'absolute') {\n        dropdownStyle.position = '';\n        dropdownStyle.top = '';\n      }\n\n      this.htEditor.flipped = void 0;\n    }\n    /**\n     * Updates width and height of the internal Handsontable's instance.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"updateDropdownHeight\",\n    value: function updateDropdownHeight() {\n      var currentDropdownWidth = this.htEditor.getColWidth(0) + (0, _element.getScrollbarWidth)(this.hot.rootDocument) + 2;\n      var trimDropdown = this.cellProperties.trimDropdown;\n      this.htEditor.updateSettings({\n        height: this.getDropdownHeight(),\n        width: trimDropdown ? void 0 : currentDropdownWidth\n      });\n      this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer();\n    }\n    /**\n     * Sets new height of the internal Handsontable's instance.\n     *\n     * @private\n     * @param {Number} height\n     */\n\n  }, {\n    key: \"setDropdownHeight\",\n    value: function setDropdownHeight(height) {\n      this.htEditor.updateSettings({\n        height: height\n      });\n    }\n    /**\n     * Creates new selection on specified row index, or deselects selected cells.\n     *\n     * @private\n     * @param {Number|undefined} index\n     */\n\n  }, {\n    key: \"highlightBestMatchingChoice\",\n    value: function highlightBestMatchingChoice(index) {\n      if (typeof index === 'number') {\n        this.htEditor.selectCell(index, 0, void 0, void 0, void 0, false);\n      } else {\n        this.htEditor.deselectCell();\n      }\n    }\n    /**\n     * Calculates and return the internal Handsontable's height.\n     *\n     * @private\n     * @returns {Number}\n     */\n\n  }, {\n    key: \"getDropdownHeight\",\n    value: function getDropdownHeight() {\n      var firstRowHeight = this.htEditor.getInstance().getRowHeight(0) || 23;\n      var visibleRows = this.cellProperties.visibleRows;\n      return this.strippedChoices.length >= visibleRows ? visibleRows * firstRowHeight : this.strippedChoices.length * firstRowHeight + 8;\n    }\n    /**\n     * Sanitizes value from potential dangerous tags.\n     *\n     * @private\n     * @param {String} value\n     * @returns {String}\n     */\n\n  }, {\n    key: \"stripValueIfNeeded\",\n    value: function stripValueIfNeeded(value) {\n      return this.stripValuesIfNeeded([value])[0];\n    }\n    /**\n     * Sanitizes an array of the values from potential dangerous tags.\n     *\n     * @private\n     * @param {String[]} values\n     * @returns {String[]}\n     */\n\n  }, {\n    key: \"stripValuesIfNeeded\",\n    value: function stripValuesIfNeeded(values) {\n      var allowHtml = this.cellProperties.allowHtml;\n      var stringifiedValues = (0, _array.arrayMap)(values, function (value) {\n        return (0, _mixed.stringify)(value);\n      });\n      var strippedValues = (0, _array.arrayMap)(stringifiedValues, function (value) {\n        return allowHtml ? value : (0, _string.stripTags)(value);\n      });\n      return strippedValues;\n    }\n    /**\n     * Captures use of arrow down and up to control their behaviour.\n     *\n     * @private\n     * @param {Number} keyCode\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"allowKeyEventPropagation\",\n    value: function allowKeyEventPropagation(keyCode) {\n      var selectedRange = this.htEditor.getSelectedRangeLast();\n      var selected = {\n        row: selectedRange ? selectedRange.from.row : -1\n      };\n      var allowed = false;\n\n      if (keyCode === _unicode.KEY_CODES.ARROW_DOWN && selected.row > 0 && selected.row < this.htEditor.countRows() - 1) {\n        allowed = true;\n      }\n\n      if (keyCode === _unicode.KEY_CODES.ARROW_UP && selected.row > -1) {\n        allowed = true;\n      }\n\n      return allowed;\n    }\n    /**\n     * onBeforeKeyDown callback.\n     *\n     * @private\n     * @param {KeyboardEvent} event\n     */\n\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      var _this5 = this;\n\n      var priv = privatePool.get(this);\n      priv.skipOne = false;\n\n      if ((0, _unicode.isPrintableChar)(event.keyCode) || event.keyCode === _unicode.KEY_CODES.BACKSPACE || event.keyCode === _unicode.KEY_CODES.DELETE || event.keyCode === _unicode.KEY_CODES.INSERT) {\n        var timeOffset = 0; // on ctl+c / cmd+c don't update suggestion list\n\n        if (event.keyCode === _unicode.KEY_CODES.C && (event.ctrlKey || event.metaKey)) {\n          return;\n        }\n\n        if (!this.isOpened()) {\n          timeOffset += 10;\n        }\n\n        if (this.htEditor) {\n          this.hot._registerTimeout(function () {\n            _this5.queryChoices(_this5.TEXTAREA.value);\n\n            priv.skipOne = true;\n          }, timeOffset);\n        }\n      }\n\n      _get(_getPrototypeOf(AutocompleteEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\n    }\n  }]);\n\n  return AutocompleteEditor;\n}(_handsontableEditor.default);\n/**\n * Filters and sorts by relevance.\n *\n * @param value\n * @param choices\n * @param caseSensitive\n * @returns {Number[]} array of indexes in original choices array\n */\n\n\nAutocompleteEditor.sortByRelevance = function (value, choices, caseSensitive) {\n  var choicesRelevance = [];\n  var currentItem;\n  var valueLength = value.length;\n  var valueIndex;\n  var charsLeft;\n  var result = [];\n  var i;\n  var choicesCount = choices.length;\n\n  if (valueLength === 0) {\n    for (i = 0; i < choicesCount; i++) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  for (i = 0; i < choicesCount; i++) {\n    currentItem = (0, _string.stripTags)((0, _mixed.stringify)(choices[i]));\n\n    if (caseSensitive) {\n      valueIndex = currentItem.indexOf(value);\n    } else {\n      valueIndex = currentItem.toLowerCase().indexOf(value.toLowerCase());\n    }\n\n    if (valueIndex !== -1) {\n      charsLeft = currentItem.length - valueIndex - valueLength;\n      choicesRelevance.push({\n        baseIndex: i,\n        index: valueIndex,\n        charsLeft: charsLeft,\n        value: currentItem\n      });\n    }\n  }\n\n  choicesRelevance.sort(function (a, b) {\n    if (b.index === -1) {\n      return -1;\n    }\n\n    if (a.index === -1) {\n      return 1;\n    }\n\n    if (a.index < b.index) {\n      return -1;\n    } else if (b.index < a.index) {\n      return 1;\n    } else if (a.index === b.index) {\n      if (a.charsLeft < b.charsLeft) {\n        return -1;\n      } else if (a.charsLeft > b.charsLeft) {\n        return 1;\n      }\n    }\n\n    return 0;\n  });\n\n  for (i = 0, choicesCount = choicesRelevance.length; i < choicesCount; i++) {\n    result.push(choicesRelevance[i].baseIndex);\n  }\n\n  return result;\n};\n\nvar _default = AutocompleteEditor;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}