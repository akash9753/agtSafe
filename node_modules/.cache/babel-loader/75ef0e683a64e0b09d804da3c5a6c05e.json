{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport './media/scrollbars.css';\nimport { isEdgeOrIE } from '../../browser.js';\nimport * as dom from '../../dom.js';\nimport { createFastDomNode } from '../../fastDomNode.js';\nimport { StandardWheelEvent } from '../../mouseEvent.js';\nimport { HorizontalScrollbar } from './horizontalScrollbar.js';\nimport { VerticalScrollbar } from './verticalScrollbar.js';\nimport { Widget } from '../widget.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { Emitter } from '../../../common/event.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nvar HIDE_TIMEOUT = 500;\nvar SCROLL_WHEEL_SENSITIVITY = 50;\nvar SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED = true;\nvar MouseWheelClassifierItem = /** @class */function () {\n  function MouseWheelClassifierItem(timestamp, deltaX, deltaY) {\n    this.timestamp = timestamp;\n    this.deltaX = deltaX;\n    this.deltaY = deltaY;\n    this.score = 0;\n  }\n  return MouseWheelClassifierItem;\n}();\nvar MouseWheelClassifier = /** @class */function () {\n  function MouseWheelClassifier() {\n    this._capacity = 5;\n    this._memory = [];\n    this._front = -1;\n    this._rear = -1;\n  }\n  MouseWheelClassifier.prototype.isPhysicalMouseWheel = function () {\n    if (this._front === -1 && this._rear === -1) {\n      // no elements\n      return false;\n    }\n    // 0.5 * last + 0.25 * 2nd last + 0.125 * 3rd last + ...\n    var remainingInfluence = 1;\n    var score = 0;\n    var iteration = 1;\n    var index = this._rear;\n    do {\n      var influence = index === this._front ? remainingInfluence : Math.pow(2, -iteration);\n      remainingInfluence -= influence;\n      score += this._memory[index].score * influence;\n      if (index === this._front) {\n        break;\n      }\n      index = (this._capacity + index - 1) % this._capacity;\n      iteration++;\n    } while (true);\n    return score <= 0.5;\n  };\n  MouseWheelClassifier.prototype.accept = function (timestamp, deltaX, deltaY) {\n    var item = new MouseWheelClassifierItem(timestamp, deltaX, deltaY);\n    item.score = this._computeScore(item);\n    if (this._front === -1 && this._rear === -1) {\n      this._memory[0] = item;\n      this._front = 0;\n      this._rear = 0;\n    } else {\n      this._rear = (this._rear + 1) % this._capacity;\n      if (this._rear === this._front) {\n        // Drop oldest\n        this._front = (this._front + 1) % this._capacity;\n      }\n      this._memory[this._rear] = item;\n    }\n  };\n  /**\r\n   * A score between 0 and 1 for `item`.\r\n   *  - a score towards 0 indicates that the source appears to be a physical mouse wheel\r\n   *  - a score towards 1 indicates that the source appears to be a touchpad or magic mouse, etc.\r\n   */\n  MouseWheelClassifier.prototype._computeScore = function (item) {\n    if (Math.abs(item.deltaX) > 0 && Math.abs(item.deltaY) > 0) {\n      // both axes exercised => definitely not a physical mouse wheel\n      return 1;\n    }\n    var score = 0.5;\n    var prev = this._front === -1 && this._rear === -1 ? null : this._memory[this._rear];\n    if (prev) {\n      // const deltaT = item.timestamp - prev.timestamp;\n      // if (deltaT < 1000 / 30) {\n      // \t// sooner than X times per second => indicator that this is not a physical mouse wheel\n      // \tscore += 0.25;\n      // }\n      // if (item.deltaX === prev.deltaX && item.deltaY === prev.deltaY) {\n      // \t// equal amplitude => indicator that this is a physical mouse wheel\n      // \tscore -= 0.25;\n      // }\n    }\n    if (Math.abs(item.deltaX - Math.round(item.deltaX)) > 0 || Math.abs(item.deltaY - Math.round(item.deltaY)) > 0) {\n      // non-integer deltas => indicator that this is not a physical mouse wheel\n      score += 0.25;\n    }\n    return Math.min(Math.max(score, 0), 1);\n  };\n  MouseWheelClassifier.INSTANCE = new MouseWheelClassifier();\n  return MouseWheelClassifier;\n}();\nexport { MouseWheelClassifier };\nvar AbstractScrollableElement = /** @class */function (_super) {\n  __extends(AbstractScrollableElement, _super);\n  function AbstractScrollableElement(element, options, scrollable) {\n    var _this = _super.call(this) || this;\n    _this._onScroll = _this._register(new Emitter());\n    _this.onScroll = _this._onScroll.event;\n    element.style.overflow = 'hidden';\n    _this._options = resolveOptions(options);\n    _this._scrollable = scrollable;\n    _this._register(_this._scrollable.onScroll(function (e) {\n      _this._onDidScroll(e);\n      _this._onScroll.fire(e);\n    }));\n    var scrollbarHost = {\n      onMouseWheel: function onMouseWheel(mouseWheelEvent) {\n        return _this._onMouseWheel(mouseWheelEvent);\n      },\n      onDragStart: function onDragStart() {\n        return _this._onDragStart();\n      },\n      onDragEnd: function onDragEnd() {\n        return _this._onDragEnd();\n      }\n    };\n    _this._verticalScrollbar = _this._register(new VerticalScrollbar(_this._scrollable, _this._options, scrollbarHost));\n    _this._horizontalScrollbar = _this._register(new HorizontalScrollbar(_this._scrollable, _this._options, scrollbarHost));\n    _this._domNode = document.createElement('div');\n    _this._domNode.className = 'monaco-scrollable-element ' + _this._options.className;\n    _this._domNode.setAttribute('role', 'presentation');\n    _this._domNode.style.position = 'relative';\n    _this._domNode.style.overflow = 'hidden';\n    _this._domNode.appendChild(element);\n    _this._domNode.appendChild(_this._horizontalScrollbar.domNode.domNode);\n    _this._domNode.appendChild(_this._verticalScrollbar.domNode.domNode);\n    if (_this._options.useShadows) {\n      _this._leftShadowDomNode = createFastDomNode(document.createElement('div'));\n      _this._leftShadowDomNode.setClassName('shadow');\n      _this._domNode.appendChild(_this._leftShadowDomNode.domNode);\n      _this._topShadowDomNode = createFastDomNode(document.createElement('div'));\n      _this._topShadowDomNode.setClassName('shadow');\n      _this._domNode.appendChild(_this._topShadowDomNode.domNode);\n      _this._topLeftShadowDomNode = createFastDomNode(document.createElement('div'));\n      _this._topLeftShadowDomNode.setClassName('shadow top-left-corner');\n      _this._domNode.appendChild(_this._topLeftShadowDomNode.domNode);\n    } else {\n      _this._leftShadowDomNode = null;\n      _this._topShadowDomNode = null;\n      _this._topLeftShadowDomNode = null;\n    }\n    _this._listenOnDomNode = _this._options.listenOnDomNode || _this._domNode;\n    _this._mouseWheelToDispose = [];\n    _this._setListeningToMouseWheel(_this._options.handleMouseWheel);\n    _this.onmouseover(_this._listenOnDomNode, function (e) {\n      return _this._onMouseOver(e);\n    });\n    _this.onnonbubblingmouseout(_this._listenOnDomNode, function (e) {\n      return _this._onMouseOut(e);\n    });\n    _this._hideTimeout = _this._register(new TimeoutTimer());\n    _this._isDragging = false;\n    _this._mouseIsOver = false;\n    _this._shouldRender = true;\n    _this._revealOnScroll = true;\n    return _this;\n  }\n  AbstractScrollableElement.prototype.dispose = function () {\n    this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n    _super.prototype.dispose.call(this);\n  };\n  /**\r\n   * Get the generated 'scrollable' dom node\r\n   */\n  AbstractScrollableElement.prototype.getDomNode = function () {\n    return this._domNode;\n  };\n  AbstractScrollableElement.prototype.getOverviewRulerLayoutInfo = function () {\n    return {\n      parent: this._domNode,\n      insertBefore: this._verticalScrollbar.domNode.domNode\n    };\n  };\n  /**\r\n   * Delegate a mouse down event to the vertical scrollbar.\r\n   * This is to help with clicking somewhere else and having the scrollbar react.\r\n   */\n  AbstractScrollableElement.prototype.delegateVerticalScrollbarMouseDown = function (browserEvent) {\n    this._verticalScrollbar.delegateMouseDown(browserEvent);\n  };\n  AbstractScrollableElement.prototype.getScrollDimensions = function () {\n    return this._scrollable.getScrollDimensions();\n  };\n  AbstractScrollableElement.prototype.setScrollDimensions = function (dimensions) {\n    this._scrollable.setScrollDimensions(dimensions);\n  };\n  /**\r\n   * Update the class name of the scrollable element.\r\n   */\n  AbstractScrollableElement.prototype.updateClassName = function (newClassName) {\n    this._options.className = newClassName;\n    // Defaults are different on Macs\n    if (platform.isMacintosh) {\n      this._options.className += ' mac';\n    }\n    this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\n  };\n  /**\r\n   * Update configuration options for the scrollbar.\r\n   * Really this is Editor.IEditorScrollbarOptions, but base shouldn't\r\n   * depend on Editor.\r\n   */\n  AbstractScrollableElement.prototype.updateOptions = function (newOptions) {\n    var massagedOptions = resolveOptions(newOptions);\n    this._options.handleMouseWheel = massagedOptions.handleMouseWheel;\n    this._options.mouseWheelScrollSensitivity = massagedOptions.mouseWheelScrollSensitivity;\n    this._options.fastScrollSensitivity = massagedOptions.fastScrollSensitivity;\n    this._setListeningToMouseWheel(this._options.handleMouseWheel);\n    if (!this._options.lazyRender) {\n      this._render();\n    }\n  };\n  // -------------------- mouse wheel scrolling --------------------\n  AbstractScrollableElement.prototype._setListeningToMouseWheel = function (shouldListen) {\n    var _this = this;\n    var isListening = this._mouseWheelToDispose.length > 0;\n    if (isListening === shouldListen) {\n      // No change\n      return;\n    }\n    // Stop listening (if necessary)\n    this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n    // Start listening (if necessary)\n    if (shouldListen) {\n      var onMouseWheel = function onMouseWheel(browserEvent) {\n        _this._onMouseWheel(new StandardWheelEvent(browserEvent));\n      };\n      this._mouseWheelToDispose.push(dom.addDisposableListener(this._listenOnDomNode, isEdgeOrIE ? 'mousewheel' : 'wheel', onMouseWheel, {\n        passive: false\n      }));\n    }\n  };\n  AbstractScrollableElement.prototype._onMouseWheel = function (e) {\n    var _a;\n    var classifier = MouseWheelClassifier.INSTANCE;\n    if (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED) {\n      classifier.accept(Date.now(), e.deltaX, e.deltaY);\n    }\n    // console.log(`${Date.now()}, ${e.deltaY}, ${e.deltaX}`);\n    if (e.deltaY || e.deltaX) {\n      var deltaY = e.deltaY * this._options.mouseWheelScrollSensitivity;\n      var deltaX = e.deltaX * this._options.mouseWheelScrollSensitivity;\n      if (this._options.flipAxes) {\n        _a = [deltaX, deltaY], deltaY = _a[0], deltaX = _a[1];\n      }\n      // Convert vertical scrolling to horizontal if shift is held, this\n      // is handled at a higher level on Mac\n      var shiftConvert = !platform.isMacintosh && e.browserEvent && e.browserEvent.shiftKey;\n      if ((this._options.scrollYToX || shiftConvert) && !deltaX) {\n        deltaX = deltaY;\n        deltaY = 0;\n      }\n      if (e.browserEvent && e.browserEvent.altKey) {\n        // fastScrolling\n        deltaX = deltaX * this._options.fastScrollSensitivity;\n        deltaY = deltaY * this._options.fastScrollSensitivity;\n      }\n      var futureScrollPosition = this._scrollable.getFutureScrollPosition();\n      var desiredScrollPosition = {};\n      if (deltaY) {\n        var desiredScrollTop = futureScrollPosition.scrollTop - SCROLL_WHEEL_SENSITIVITY * deltaY;\n        this._verticalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollTop);\n      }\n      if (deltaX) {\n        var desiredScrollLeft = futureScrollPosition.scrollLeft - SCROLL_WHEEL_SENSITIVITY * deltaX;\n        this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollLeft);\n      }\n      // Check that we are scrolling towards a location which is valid\n      desiredScrollPosition = this._scrollable.validateScrollPosition(desiredScrollPosition);\n      if (futureScrollPosition.scrollLeft !== desiredScrollPosition.scrollLeft || futureScrollPosition.scrollTop !== desiredScrollPosition.scrollTop) {\n        var canPerformSmoothScroll = SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED && this._options.mouseWheelSmoothScroll && classifier.isPhysicalMouseWheel();\n        if (canPerformSmoothScroll) {\n          this._scrollable.setScrollPositionSmooth(desiredScrollPosition);\n        } else {\n          this._scrollable.setScrollPositionNow(desiredScrollPosition);\n        }\n        this._shouldRender = true;\n      }\n    }\n    if (this._options.alwaysConsumeMouseWheel || this._shouldRender) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n  AbstractScrollableElement.prototype._onDidScroll = function (e) {\n    this._shouldRender = this._horizontalScrollbar.onDidScroll(e) || this._shouldRender;\n    this._shouldRender = this._verticalScrollbar.onDidScroll(e) || this._shouldRender;\n    if (this._options.useShadows) {\n      this._shouldRender = true;\n    }\n    if (this._revealOnScroll) {\n      this._reveal();\n    }\n    if (!this._options.lazyRender) {\n      this._render();\n    }\n  };\n  /**\r\n   * Render / mutate the DOM now.\r\n   * Should be used together with the ctor option `lazyRender`.\r\n   */\n  AbstractScrollableElement.prototype.renderNow = function () {\n    if (!this._options.lazyRender) {\n      throw new Error('Please use `lazyRender` together with `renderNow`!');\n    }\n    this._render();\n  };\n  AbstractScrollableElement.prototype._render = function () {\n    if (!this._shouldRender) {\n      return;\n    }\n    this._shouldRender = false;\n    this._horizontalScrollbar.render();\n    this._verticalScrollbar.render();\n    if (this._options.useShadows) {\n      var scrollState = this._scrollable.getCurrentScrollPosition();\n      var enableTop = scrollState.scrollTop > 0;\n      var enableLeft = scrollState.scrollLeft > 0;\n      this._leftShadowDomNode.setClassName('shadow' + (enableLeft ? ' left' : ''));\n      this._topShadowDomNode.setClassName('shadow' + (enableTop ? ' top' : ''));\n      this._topLeftShadowDomNode.setClassName('shadow top-left-corner' + (enableTop ? ' top' : '') + (enableLeft ? ' left' : ''));\n    }\n  };\n  // -------------------- fade in / fade out --------------------\n  AbstractScrollableElement.prototype._onDragStart = function () {\n    this._isDragging = true;\n    this._reveal();\n  };\n  AbstractScrollableElement.prototype._onDragEnd = function () {\n    this._isDragging = false;\n    this._hide();\n  };\n  AbstractScrollableElement.prototype._onMouseOut = function (e) {\n    this._mouseIsOver = false;\n    this._hide();\n  };\n  AbstractScrollableElement.prototype._onMouseOver = function (e) {\n    this._mouseIsOver = true;\n    this._reveal();\n  };\n  AbstractScrollableElement.prototype._reveal = function () {\n    this._verticalScrollbar.beginReveal();\n    this._horizontalScrollbar.beginReveal();\n    this._scheduleHide();\n  };\n  AbstractScrollableElement.prototype._hide = function () {\n    if (!this._mouseIsOver && !this._isDragging) {\n      this._verticalScrollbar.beginHide();\n      this._horizontalScrollbar.beginHide();\n    }\n  };\n  AbstractScrollableElement.prototype._scheduleHide = function () {\n    var _this = this;\n    if (!this._mouseIsOver && !this._isDragging) {\n      this._hideTimeout.cancelAndSet(function () {\n        return _this._hide();\n      }, HIDE_TIMEOUT);\n    }\n  };\n  return AbstractScrollableElement;\n}(Widget);\nexport { AbstractScrollableElement };\nvar ScrollableElement = /** @class */function (_super) {\n  __extends(ScrollableElement, _super);\n  function ScrollableElement(element, options) {\n    var _this = this;\n    options = options || {};\n    options.mouseWheelSmoothScroll = false;\n    var scrollable = new Scrollable(0, function (callback) {\n      return dom.scheduleAtNextAnimationFrame(callback);\n    });\n    _this = _super.call(this, element, options, scrollable) || this;\n    _this._register(scrollable);\n    return _this;\n  }\n  ScrollableElement.prototype.setScrollPosition = function (update) {\n    this._scrollable.setScrollPositionNow(update);\n  };\n  ScrollableElement.prototype.getScrollPosition = function () {\n    return this._scrollable.getCurrentScrollPosition();\n  };\n  return ScrollableElement;\n}(AbstractScrollableElement);\nexport { ScrollableElement };\nvar SmoothScrollableElement = /** @class */function (_super) {\n  __extends(SmoothScrollableElement, _super);\n  function SmoothScrollableElement(element, options, scrollable) {\n    return _super.call(this, element, options, scrollable) || this;\n  }\n  return SmoothScrollableElement;\n}(AbstractScrollableElement);\nexport { SmoothScrollableElement };\nvar DomScrollableElement = /** @class */function (_super) {\n  __extends(DomScrollableElement, _super);\n  function DomScrollableElement(element, options) {\n    var _this = _super.call(this, element, options) || this;\n    _this._element = element;\n    _this.onScroll(function (e) {\n      if (e.scrollTopChanged) {\n        _this._element.scrollTop = e.scrollTop;\n      }\n      if (e.scrollLeftChanged) {\n        _this._element.scrollLeft = e.scrollLeft;\n      }\n    });\n    _this.scanDomNode();\n    return _this;\n  }\n  DomScrollableElement.prototype.scanDomNode = function () {\n    // width, scrollLeft, scrollWidth, height, scrollTop, scrollHeight\n    this.setScrollDimensions({\n      width: this._element.clientWidth,\n      scrollWidth: this._element.scrollWidth,\n      height: this._element.clientHeight,\n      scrollHeight: this._element.scrollHeight\n    });\n    this.setScrollPosition({\n      scrollLeft: this._element.scrollLeft,\n      scrollTop: this._element.scrollTop\n    });\n  };\n  return DomScrollableElement;\n}(ScrollableElement);\nexport { DomScrollableElement };\nfunction resolveOptions(opts) {\n  var result = {\n    lazyRender: typeof opts.lazyRender !== 'undefined' ? opts.lazyRender : false,\n    className: typeof opts.className !== 'undefined' ? opts.className : '',\n    useShadows: typeof opts.useShadows !== 'undefined' ? opts.useShadows : true,\n    handleMouseWheel: typeof opts.handleMouseWheel !== 'undefined' ? opts.handleMouseWheel : true,\n    flipAxes: typeof opts.flipAxes !== 'undefined' ? opts.flipAxes : false,\n    alwaysConsumeMouseWheel: typeof opts.alwaysConsumeMouseWheel !== 'undefined' ? opts.alwaysConsumeMouseWheel : false,\n    scrollYToX: typeof opts.scrollYToX !== 'undefined' ? opts.scrollYToX : false,\n    mouseWheelScrollSensitivity: typeof opts.mouseWheelScrollSensitivity !== 'undefined' ? opts.mouseWheelScrollSensitivity : 1,\n    fastScrollSensitivity: typeof opts.fastScrollSensitivity !== 'undefined' ? opts.fastScrollSensitivity : 5,\n    mouseWheelSmoothScroll: typeof opts.mouseWheelSmoothScroll !== 'undefined' ? opts.mouseWheelSmoothScroll : true,\n    arrowSize: typeof opts.arrowSize !== 'undefined' ? opts.arrowSize : 11,\n    listenOnDomNode: typeof opts.listenOnDomNode !== 'undefined' ? opts.listenOnDomNode : null,\n    horizontal: typeof opts.horizontal !== 'undefined' ? opts.horizontal : 1 /* Auto */,\n    horizontalScrollbarSize: typeof opts.horizontalScrollbarSize !== 'undefined' ? opts.horizontalScrollbarSize : 10,\n    horizontalSliderSize: typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : 0,\n    horizontalHasArrows: typeof opts.horizontalHasArrows !== 'undefined' ? opts.horizontalHasArrows : false,\n    vertical: typeof opts.vertical !== 'undefined' ? opts.vertical : 1 /* Auto */,\n    verticalScrollbarSize: typeof opts.verticalScrollbarSize !== 'undefined' ? opts.verticalScrollbarSize : 10,\n    verticalHasArrows: typeof opts.verticalHasArrows !== 'undefined' ? opts.verticalHasArrows : false,\n    verticalSliderSize: typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : 0\n  };\n  result.horizontalSliderSize = typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : result.horizontalScrollbarSize;\n  result.verticalSliderSize = typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : result.verticalScrollbarSize;\n  // Defaults are different on Macs\n  if (platform.isMacintosh) {\n    result.className += ' mac';\n  }\n  return result;\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isEdgeOrIE","dom","createFastDomNode","StandardWheelEvent","HorizontalScrollbar","VerticalScrollbar","Widget","TimeoutTimer","Emitter","dispose","platform","Scrollable","HIDE_TIMEOUT","SCROLL_WHEEL_SENSITIVITY","SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED","MouseWheelClassifierItem","timestamp","deltaX","deltaY","score","MouseWheelClassifier","_capacity","_memory","_front","_rear","isPhysicalMouseWheel","remainingInfluence","iteration","index","influence","Math","pow","accept","item","_computeScore","abs","prev","round","min","max","INSTANCE","AbstractScrollableElement","_super","element","options","scrollable","_this","call","_onScroll","_register","onScroll","event","style","overflow","_options","resolveOptions","_scrollable","e","_onDidScroll","fire","scrollbarHost","onMouseWheel","mouseWheelEvent","_onMouseWheel","onDragStart","_onDragStart","onDragEnd","_onDragEnd","_verticalScrollbar","_horizontalScrollbar","_domNode","document","createElement","className","setAttribute","position","appendChild","domNode","useShadows","_leftShadowDomNode","setClassName","_topShadowDomNode","_topLeftShadowDomNode","_listenOnDomNode","listenOnDomNode","_mouseWheelToDispose","_setListeningToMouseWheel","handleMouseWheel","onmouseover","_onMouseOver","onnonbubblingmouseout","_onMouseOut","_hideTimeout","_isDragging","_mouseIsOver","_shouldRender","_revealOnScroll","getDomNode","getOverviewRulerLayoutInfo","parent","insertBefore","delegateVerticalScrollbarMouseDown","browserEvent","delegateMouseDown","getScrollDimensions","setScrollDimensions","dimensions","updateClassName","newClassName","isMacintosh","updateOptions","newOptions","massagedOptions","mouseWheelScrollSensitivity","fastScrollSensitivity","lazyRender","_render","shouldListen","isListening","length","push","addDisposableListener","passive","_a","classifier","Date","now","flipAxes","shiftConvert","shiftKey","scrollYToX","altKey","futureScrollPosition","getFutureScrollPosition","desiredScrollPosition","desiredScrollTop","scrollTop","writeScrollPosition","desiredScrollLeft","scrollLeft","validateScrollPosition","canPerformSmoothScroll","mouseWheelSmoothScroll","setScrollPositionSmooth","setScrollPositionNow","alwaysConsumeMouseWheel","preventDefault","stopPropagation","onDidScroll","_reveal","renderNow","Error","render","scrollState","getCurrentScrollPosition","enableTop","enableLeft","_hide","beginReveal","_scheduleHide","beginHide","cancelAndSet","ScrollableElement","callback","scheduleAtNextAnimationFrame","setScrollPosition","update","getScrollPosition","SmoothScrollableElement","DomScrollableElement","_element","scrollTopChanged","scrollLeftChanged","scanDomNode","width","clientWidth","scrollWidth","height","clientHeight","scrollHeight","opts","result","arrowSize","horizontal","horizontalScrollbarSize","horizontalSliderSize","horizontalHasArrows","vertical","verticalScrollbarSize","verticalHasArrows","verticalSliderSize"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './media/scrollbars.css';\r\nimport { isEdgeOrIE } from '../../browser.js';\r\nimport * as dom from '../../dom.js';\r\nimport { createFastDomNode } from '../../fastDomNode.js';\r\nimport { StandardWheelEvent } from '../../mouseEvent.js';\r\nimport { HorizontalScrollbar } from './horizontalScrollbar.js';\r\nimport { VerticalScrollbar } from './verticalScrollbar.js';\r\nimport { Widget } from '../widget.js';\r\nimport { TimeoutTimer } from '../../../common/async.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { dispose } from '../../../common/lifecycle.js';\r\nimport * as platform from '../../../common/platform.js';\r\nimport { Scrollable } from '../../../common/scrollable.js';\r\nvar HIDE_TIMEOUT = 500;\r\nvar SCROLL_WHEEL_SENSITIVITY = 50;\r\nvar SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED = true;\r\nvar MouseWheelClassifierItem = /** @class */ (function () {\r\n    function MouseWheelClassifierItem(timestamp, deltaX, deltaY) {\r\n        this.timestamp = timestamp;\r\n        this.deltaX = deltaX;\r\n        this.deltaY = deltaY;\r\n        this.score = 0;\r\n    }\r\n    return MouseWheelClassifierItem;\r\n}());\r\nvar MouseWheelClassifier = /** @class */ (function () {\r\n    function MouseWheelClassifier() {\r\n        this._capacity = 5;\r\n        this._memory = [];\r\n        this._front = -1;\r\n        this._rear = -1;\r\n    }\r\n    MouseWheelClassifier.prototype.isPhysicalMouseWheel = function () {\r\n        if (this._front === -1 && this._rear === -1) {\r\n            // no elements\r\n            return false;\r\n        }\r\n        // 0.5 * last + 0.25 * 2nd last + 0.125 * 3rd last + ...\r\n        var remainingInfluence = 1;\r\n        var score = 0;\r\n        var iteration = 1;\r\n        var index = this._rear;\r\n        do {\r\n            var influence = (index === this._front ? remainingInfluence : Math.pow(2, -iteration));\r\n            remainingInfluence -= influence;\r\n            score += this._memory[index].score * influence;\r\n            if (index === this._front) {\r\n                break;\r\n            }\r\n            index = (this._capacity + index - 1) % this._capacity;\r\n            iteration++;\r\n        } while (true);\r\n        return (score <= 0.5);\r\n    };\r\n    MouseWheelClassifier.prototype.accept = function (timestamp, deltaX, deltaY) {\r\n        var item = new MouseWheelClassifierItem(timestamp, deltaX, deltaY);\r\n        item.score = this._computeScore(item);\r\n        if (this._front === -1 && this._rear === -1) {\r\n            this._memory[0] = item;\r\n            this._front = 0;\r\n            this._rear = 0;\r\n        }\r\n        else {\r\n            this._rear = (this._rear + 1) % this._capacity;\r\n            if (this._rear === this._front) {\r\n                // Drop oldest\r\n                this._front = (this._front + 1) % this._capacity;\r\n            }\r\n            this._memory[this._rear] = item;\r\n        }\r\n    };\r\n    /**\r\n     * A score between 0 and 1 for `item`.\r\n     *  - a score towards 0 indicates that the source appears to be a physical mouse wheel\r\n     *  - a score towards 1 indicates that the source appears to be a touchpad or magic mouse, etc.\r\n     */\r\n    MouseWheelClassifier.prototype._computeScore = function (item) {\r\n        if (Math.abs(item.deltaX) > 0 && Math.abs(item.deltaY) > 0) {\r\n            // both axes exercised => definitely not a physical mouse wheel\r\n            return 1;\r\n        }\r\n        var score = 0.5;\r\n        var prev = (this._front === -1 && this._rear === -1 ? null : this._memory[this._rear]);\r\n        if (prev) {\r\n            // const deltaT = item.timestamp - prev.timestamp;\r\n            // if (deltaT < 1000 / 30) {\r\n            // \t// sooner than X times per second => indicator that this is not a physical mouse wheel\r\n            // \tscore += 0.25;\r\n            // }\r\n            // if (item.deltaX === prev.deltaX && item.deltaY === prev.deltaY) {\r\n            // \t// equal amplitude => indicator that this is a physical mouse wheel\r\n            // \tscore -= 0.25;\r\n            // }\r\n        }\r\n        if (Math.abs(item.deltaX - Math.round(item.deltaX)) > 0 || Math.abs(item.deltaY - Math.round(item.deltaY)) > 0) {\r\n            // non-integer deltas => indicator that this is not a physical mouse wheel\r\n            score += 0.25;\r\n        }\r\n        return Math.min(Math.max(score, 0), 1);\r\n    };\r\n    MouseWheelClassifier.INSTANCE = new MouseWheelClassifier();\r\n    return MouseWheelClassifier;\r\n}());\r\nexport { MouseWheelClassifier };\r\nvar AbstractScrollableElement = /** @class */ (function (_super) {\r\n    __extends(AbstractScrollableElement, _super);\r\n    function AbstractScrollableElement(element, options, scrollable) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onScroll = _this._register(new Emitter());\r\n        _this.onScroll = _this._onScroll.event;\r\n        element.style.overflow = 'hidden';\r\n        _this._options = resolveOptions(options);\r\n        _this._scrollable = scrollable;\r\n        _this._register(_this._scrollable.onScroll(function (e) {\r\n            _this._onDidScroll(e);\r\n            _this._onScroll.fire(e);\r\n        }));\r\n        var scrollbarHost = {\r\n            onMouseWheel: function (mouseWheelEvent) { return _this._onMouseWheel(mouseWheelEvent); },\r\n            onDragStart: function () { return _this._onDragStart(); },\r\n            onDragEnd: function () { return _this._onDragEnd(); },\r\n        };\r\n        _this._verticalScrollbar = _this._register(new VerticalScrollbar(_this._scrollable, _this._options, scrollbarHost));\r\n        _this._horizontalScrollbar = _this._register(new HorizontalScrollbar(_this._scrollable, _this._options, scrollbarHost));\r\n        _this._domNode = document.createElement('div');\r\n        _this._domNode.className = 'monaco-scrollable-element ' + _this._options.className;\r\n        _this._domNode.setAttribute('role', 'presentation');\r\n        _this._domNode.style.position = 'relative';\r\n        _this._domNode.style.overflow = 'hidden';\r\n        _this._domNode.appendChild(element);\r\n        _this._domNode.appendChild(_this._horizontalScrollbar.domNode.domNode);\r\n        _this._domNode.appendChild(_this._verticalScrollbar.domNode.domNode);\r\n        if (_this._options.useShadows) {\r\n            _this._leftShadowDomNode = createFastDomNode(document.createElement('div'));\r\n            _this._leftShadowDomNode.setClassName('shadow');\r\n            _this._domNode.appendChild(_this._leftShadowDomNode.domNode);\r\n            _this._topShadowDomNode = createFastDomNode(document.createElement('div'));\r\n            _this._topShadowDomNode.setClassName('shadow');\r\n            _this._domNode.appendChild(_this._topShadowDomNode.domNode);\r\n            _this._topLeftShadowDomNode = createFastDomNode(document.createElement('div'));\r\n            _this._topLeftShadowDomNode.setClassName('shadow top-left-corner');\r\n            _this._domNode.appendChild(_this._topLeftShadowDomNode.domNode);\r\n        }\r\n        else {\r\n            _this._leftShadowDomNode = null;\r\n            _this._topShadowDomNode = null;\r\n            _this._topLeftShadowDomNode = null;\r\n        }\r\n        _this._listenOnDomNode = _this._options.listenOnDomNode || _this._domNode;\r\n        _this._mouseWheelToDispose = [];\r\n        _this._setListeningToMouseWheel(_this._options.handleMouseWheel);\r\n        _this.onmouseover(_this._listenOnDomNode, function (e) { return _this._onMouseOver(e); });\r\n        _this.onnonbubblingmouseout(_this._listenOnDomNode, function (e) { return _this._onMouseOut(e); });\r\n        _this._hideTimeout = _this._register(new TimeoutTimer());\r\n        _this._isDragging = false;\r\n        _this._mouseIsOver = false;\r\n        _this._shouldRender = true;\r\n        _this._revealOnScroll = true;\r\n        return _this;\r\n    }\r\n    AbstractScrollableElement.prototype.dispose = function () {\r\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    /**\r\n     * Get the generated 'scrollable' dom node\r\n     */\r\n    AbstractScrollableElement.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    AbstractScrollableElement.prototype.getOverviewRulerLayoutInfo = function () {\r\n        return {\r\n            parent: this._domNode,\r\n            insertBefore: this._verticalScrollbar.domNode.domNode,\r\n        };\r\n    };\r\n    /**\r\n     * Delegate a mouse down event to the vertical scrollbar.\r\n     * This is to help with clicking somewhere else and having the scrollbar react.\r\n     */\r\n    AbstractScrollableElement.prototype.delegateVerticalScrollbarMouseDown = function (browserEvent) {\r\n        this._verticalScrollbar.delegateMouseDown(browserEvent);\r\n    };\r\n    AbstractScrollableElement.prototype.getScrollDimensions = function () {\r\n        return this._scrollable.getScrollDimensions();\r\n    };\r\n    AbstractScrollableElement.prototype.setScrollDimensions = function (dimensions) {\r\n        this._scrollable.setScrollDimensions(dimensions);\r\n    };\r\n    /**\r\n     * Update the class name of the scrollable element.\r\n     */\r\n    AbstractScrollableElement.prototype.updateClassName = function (newClassName) {\r\n        this._options.className = newClassName;\r\n        // Defaults are different on Macs\r\n        if (platform.isMacintosh) {\r\n            this._options.className += ' mac';\r\n        }\r\n        this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\r\n    };\r\n    /**\r\n     * Update configuration options for the scrollbar.\r\n     * Really this is Editor.IEditorScrollbarOptions, but base shouldn't\r\n     * depend on Editor.\r\n     */\r\n    AbstractScrollableElement.prototype.updateOptions = function (newOptions) {\r\n        var massagedOptions = resolveOptions(newOptions);\r\n        this._options.handleMouseWheel = massagedOptions.handleMouseWheel;\r\n        this._options.mouseWheelScrollSensitivity = massagedOptions.mouseWheelScrollSensitivity;\r\n        this._options.fastScrollSensitivity = massagedOptions.fastScrollSensitivity;\r\n        this._setListeningToMouseWheel(this._options.handleMouseWheel);\r\n        if (!this._options.lazyRender) {\r\n            this._render();\r\n        }\r\n    };\r\n    // -------------------- mouse wheel scrolling --------------------\r\n    AbstractScrollableElement.prototype._setListeningToMouseWheel = function (shouldListen) {\r\n        var _this = this;\r\n        var isListening = (this._mouseWheelToDispose.length > 0);\r\n        if (isListening === shouldListen) {\r\n            // No change\r\n            return;\r\n        }\r\n        // Stop listening (if necessary)\r\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\r\n        // Start listening (if necessary)\r\n        if (shouldListen) {\r\n            var onMouseWheel = function (browserEvent) {\r\n                _this._onMouseWheel(new StandardWheelEvent(browserEvent));\r\n            };\r\n            this._mouseWheelToDispose.push(dom.addDisposableListener(this._listenOnDomNode, isEdgeOrIE ? 'mousewheel' : 'wheel', onMouseWheel, { passive: false }));\r\n        }\r\n    };\r\n    AbstractScrollableElement.prototype._onMouseWheel = function (e) {\r\n        var _a;\r\n        var classifier = MouseWheelClassifier.INSTANCE;\r\n        if (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED) {\r\n            classifier.accept(Date.now(), e.deltaX, e.deltaY);\r\n        }\r\n        // console.log(`${Date.now()}, ${e.deltaY}, ${e.deltaX}`);\r\n        if (e.deltaY || e.deltaX) {\r\n            var deltaY = e.deltaY * this._options.mouseWheelScrollSensitivity;\r\n            var deltaX = e.deltaX * this._options.mouseWheelScrollSensitivity;\r\n            if (this._options.flipAxes) {\r\n                _a = [deltaX, deltaY], deltaY = _a[0], deltaX = _a[1];\r\n            }\r\n            // Convert vertical scrolling to horizontal if shift is held, this\r\n            // is handled at a higher level on Mac\r\n            var shiftConvert = !platform.isMacintosh && e.browserEvent && e.browserEvent.shiftKey;\r\n            if ((this._options.scrollYToX || shiftConvert) && !deltaX) {\r\n                deltaX = deltaY;\r\n                deltaY = 0;\r\n            }\r\n            if (e.browserEvent && e.browserEvent.altKey) {\r\n                // fastScrolling\r\n                deltaX = deltaX * this._options.fastScrollSensitivity;\r\n                deltaY = deltaY * this._options.fastScrollSensitivity;\r\n            }\r\n            var futureScrollPosition = this._scrollable.getFutureScrollPosition();\r\n            var desiredScrollPosition = {};\r\n            if (deltaY) {\r\n                var desiredScrollTop = futureScrollPosition.scrollTop - SCROLL_WHEEL_SENSITIVITY * deltaY;\r\n                this._verticalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollTop);\r\n            }\r\n            if (deltaX) {\r\n                var desiredScrollLeft = futureScrollPosition.scrollLeft - SCROLL_WHEEL_SENSITIVITY * deltaX;\r\n                this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollLeft);\r\n            }\r\n            // Check that we are scrolling towards a location which is valid\r\n            desiredScrollPosition = this._scrollable.validateScrollPosition(desiredScrollPosition);\r\n            if (futureScrollPosition.scrollLeft !== desiredScrollPosition.scrollLeft || futureScrollPosition.scrollTop !== desiredScrollPosition.scrollTop) {\r\n                var canPerformSmoothScroll = (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED\r\n                    && this._options.mouseWheelSmoothScroll\r\n                    && classifier.isPhysicalMouseWheel());\r\n                if (canPerformSmoothScroll) {\r\n                    this._scrollable.setScrollPositionSmooth(desiredScrollPosition);\r\n                }\r\n                else {\r\n                    this._scrollable.setScrollPositionNow(desiredScrollPosition);\r\n                }\r\n                this._shouldRender = true;\r\n            }\r\n        }\r\n        if (this._options.alwaysConsumeMouseWheel || this._shouldRender) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    AbstractScrollableElement.prototype._onDidScroll = function (e) {\r\n        this._shouldRender = this._horizontalScrollbar.onDidScroll(e) || this._shouldRender;\r\n        this._shouldRender = this._verticalScrollbar.onDidScroll(e) || this._shouldRender;\r\n        if (this._options.useShadows) {\r\n            this._shouldRender = true;\r\n        }\r\n        if (this._revealOnScroll) {\r\n            this._reveal();\r\n        }\r\n        if (!this._options.lazyRender) {\r\n            this._render();\r\n        }\r\n    };\r\n    /**\r\n     * Render / mutate the DOM now.\r\n     * Should be used together with the ctor option `lazyRender`.\r\n     */\r\n    AbstractScrollableElement.prototype.renderNow = function () {\r\n        if (!this._options.lazyRender) {\r\n            throw new Error('Please use `lazyRender` together with `renderNow`!');\r\n        }\r\n        this._render();\r\n    };\r\n    AbstractScrollableElement.prototype._render = function () {\r\n        if (!this._shouldRender) {\r\n            return;\r\n        }\r\n        this._shouldRender = false;\r\n        this._horizontalScrollbar.render();\r\n        this._verticalScrollbar.render();\r\n        if (this._options.useShadows) {\r\n            var scrollState = this._scrollable.getCurrentScrollPosition();\r\n            var enableTop = scrollState.scrollTop > 0;\r\n            var enableLeft = scrollState.scrollLeft > 0;\r\n            this._leftShadowDomNode.setClassName('shadow' + (enableLeft ? ' left' : ''));\r\n            this._topShadowDomNode.setClassName('shadow' + (enableTop ? ' top' : ''));\r\n            this._topLeftShadowDomNode.setClassName('shadow top-left-corner' + (enableTop ? ' top' : '') + (enableLeft ? ' left' : ''));\r\n        }\r\n    };\r\n    // -------------------- fade in / fade out --------------------\r\n    AbstractScrollableElement.prototype._onDragStart = function () {\r\n        this._isDragging = true;\r\n        this._reveal();\r\n    };\r\n    AbstractScrollableElement.prototype._onDragEnd = function () {\r\n        this._isDragging = false;\r\n        this._hide();\r\n    };\r\n    AbstractScrollableElement.prototype._onMouseOut = function (e) {\r\n        this._mouseIsOver = false;\r\n        this._hide();\r\n    };\r\n    AbstractScrollableElement.prototype._onMouseOver = function (e) {\r\n        this._mouseIsOver = true;\r\n        this._reveal();\r\n    };\r\n    AbstractScrollableElement.prototype._reveal = function () {\r\n        this._verticalScrollbar.beginReveal();\r\n        this._horizontalScrollbar.beginReveal();\r\n        this._scheduleHide();\r\n    };\r\n    AbstractScrollableElement.prototype._hide = function () {\r\n        if (!this._mouseIsOver && !this._isDragging) {\r\n            this._verticalScrollbar.beginHide();\r\n            this._horizontalScrollbar.beginHide();\r\n        }\r\n    };\r\n    AbstractScrollableElement.prototype._scheduleHide = function () {\r\n        var _this = this;\r\n        if (!this._mouseIsOver && !this._isDragging) {\r\n            this._hideTimeout.cancelAndSet(function () { return _this._hide(); }, HIDE_TIMEOUT);\r\n        }\r\n    };\r\n    return AbstractScrollableElement;\r\n}(Widget));\r\nexport { AbstractScrollableElement };\r\nvar ScrollableElement = /** @class */ (function (_super) {\r\n    __extends(ScrollableElement, _super);\r\n    function ScrollableElement(element, options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.mouseWheelSmoothScroll = false;\r\n        var scrollable = new Scrollable(0, function (callback) { return dom.scheduleAtNextAnimationFrame(callback); });\r\n        _this = _super.call(this, element, options, scrollable) || this;\r\n        _this._register(scrollable);\r\n        return _this;\r\n    }\r\n    ScrollableElement.prototype.setScrollPosition = function (update) {\r\n        this._scrollable.setScrollPositionNow(update);\r\n    };\r\n    ScrollableElement.prototype.getScrollPosition = function () {\r\n        return this._scrollable.getCurrentScrollPosition();\r\n    };\r\n    return ScrollableElement;\r\n}(AbstractScrollableElement));\r\nexport { ScrollableElement };\r\nvar SmoothScrollableElement = /** @class */ (function (_super) {\r\n    __extends(SmoothScrollableElement, _super);\r\n    function SmoothScrollableElement(element, options, scrollable) {\r\n        return _super.call(this, element, options, scrollable) || this;\r\n    }\r\n    return SmoothScrollableElement;\r\n}(AbstractScrollableElement));\r\nexport { SmoothScrollableElement };\r\nvar DomScrollableElement = /** @class */ (function (_super) {\r\n    __extends(DomScrollableElement, _super);\r\n    function DomScrollableElement(element, options) {\r\n        var _this = _super.call(this, element, options) || this;\r\n        _this._element = element;\r\n        _this.onScroll(function (e) {\r\n            if (e.scrollTopChanged) {\r\n                _this._element.scrollTop = e.scrollTop;\r\n            }\r\n            if (e.scrollLeftChanged) {\r\n                _this._element.scrollLeft = e.scrollLeft;\r\n            }\r\n        });\r\n        _this.scanDomNode();\r\n        return _this;\r\n    }\r\n    DomScrollableElement.prototype.scanDomNode = function () {\r\n        // width, scrollLeft, scrollWidth, height, scrollTop, scrollHeight\r\n        this.setScrollDimensions({\r\n            width: this._element.clientWidth,\r\n            scrollWidth: this._element.scrollWidth,\r\n            height: this._element.clientHeight,\r\n            scrollHeight: this._element.scrollHeight\r\n        });\r\n        this.setScrollPosition({\r\n            scrollLeft: this._element.scrollLeft,\r\n            scrollTop: this._element.scrollTop,\r\n        });\r\n    };\r\n    return DomScrollableElement;\r\n}(ScrollableElement));\r\nexport { DomScrollableElement };\r\nfunction resolveOptions(opts) {\r\n    var result = {\r\n        lazyRender: (typeof opts.lazyRender !== 'undefined' ? opts.lazyRender : false),\r\n        className: (typeof opts.className !== 'undefined' ? opts.className : ''),\r\n        useShadows: (typeof opts.useShadows !== 'undefined' ? opts.useShadows : true),\r\n        handleMouseWheel: (typeof opts.handleMouseWheel !== 'undefined' ? opts.handleMouseWheel : true),\r\n        flipAxes: (typeof opts.flipAxes !== 'undefined' ? opts.flipAxes : false),\r\n        alwaysConsumeMouseWheel: (typeof opts.alwaysConsumeMouseWheel !== 'undefined' ? opts.alwaysConsumeMouseWheel : false),\r\n        scrollYToX: (typeof opts.scrollYToX !== 'undefined' ? opts.scrollYToX : false),\r\n        mouseWheelScrollSensitivity: (typeof opts.mouseWheelScrollSensitivity !== 'undefined' ? opts.mouseWheelScrollSensitivity : 1),\r\n        fastScrollSensitivity: (typeof opts.fastScrollSensitivity !== 'undefined' ? opts.fastScrollSensitivity : 5),\r\n        mouseWheelSmoothScroll: (typeof opts.mouseWheelSmoothScroll !== 'undefined' ? opts.mouseWheelSmoothScroll : true),\r\n        arrowSize: (typeof opts.arrowSize !== 'undefined' ? opts.arrowSize : 11),\r\n        listenOnDomNode: (typeof opts.listenOnDomNode !== 'undefined' ? opts.listenOnDomNode : null),\r\n        horizontal: (typeof opts.horizontal !== 'undefined' ? opts.horizontal : 1 /* Auto */),\r\n        horizontalScrollbarSize: (typeof opts.horizontalScrollbarSize !== 'undefined' ? opts.horizontalScrollbarSize : 10),\r\n        horizontalSliderSize: (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : 0),\r\n        horizontalHasArrows: (typeof opts.horizontalHasArrows !== 'undefined' ? opts.horizontalHasArrows : false),\r\n        vertical: (typeof opts.vertical !== 'undefined' ? opts.vertical : 1 /* Auto */),\r\n        verticalScrollbarSize: (typeof opts.verticalScrollbarSize !== 'undefined' ? opts.verticalScrollbarSize : 10),\r\n        verticalHasArrows: (typeof opts.verticalHasArrows !== 'undefined' ? opts.verticalHasArrows : false),\r\n        verticalSliderSize: (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : 0)\r\n    };\r\n    result.horizontalSliderSize = (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : result.horizontalScrollbarSize);\r\n    result.verticalSliderSize = (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : result.verticalScrollbarSize);\r\n    // Defaults are different on Macs\r\n    if (platform.isMacintosh) {\r\n        result.className += ' mac';\r\n    }\r\n    return result;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}