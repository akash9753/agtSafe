{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport './colorPicker.css';\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\nimport { Widget } from '../../../base/browser/ui/widget.js';\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\nvar $ = dom.$;\nvar ColorPickerHeader = /** @class */function (_super) {\n  __extends(ColorPickerHeader, _super);\n  function ColorPickerHeader(container, model, themeService) {\n    var _this = _super.call(this) || this;\n    _this.model = model;\n    _this.domNode = $('.colorpicker-header');\n    dom.append(container, _this.domNode);\n    _this.pickedColorNode = dom.append(_this.domNode, $('.picked-color'));\n    var colorBox = dom.append(_this.domNode, $('.original-color'));\n    colorBox.style.backgroundColor = Color.Format.CSS.format(_this.model.originalColor) || '';\n    _this.backgroundColor = themeService.getTheme().getColor(editorHoverBackground) || Color.white;\n    _this._register(registerThemingParticipant(function (theme, collector) {\n      _this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\n    }));\n    _this._register(dom.addDisposableListener(_this.pickedColorNode, dom.EventType.CLICK, function () {\n      return _this.model.selectNextColorPresentation();\n    }));\n    _this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, function () {\n      _this.model.color = _this.model.originalColor;\n      _this.model.flushColor();\n    }));\n    _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\n    _this._register(model.onDidChangePresentation(_this.onDidChangePresentation, _this));\n    _this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\n    dom.toggleClass(_this.pickedColorNode, 'light', model.color.rgba.a < 0.5 ? _this.backgroundColor.isLighter() : model.color.isLighter());\n    return _this;\n  }\n  ColorPickerHeader.prototype.onDidChangeColor = function (color) {\n    this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\n    dom.toggleClass(this.pickedColorNode, 'light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\n    this.onDidChangePresentation();\n  };\n  ColorPickerHeader.prototype.onDidChangePresentation = function () {\n    this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\n  };\n  return ColorPickerHeader;\n}(Disposable);\nexport { ColorPickerHeader };\nvar ColorPickerBody = /** @class */function (_super) {\n  __extends(ColorPickerBody, _super);\n  function ColorPickerBody(container, model, pixelRatio) {\n    var _this = _super.call(this) || this;\n    _this.model = model;\n    _this.pixelRatio = pixelRatio;\n    _this.domNode = $('.colorpicker-body');\n    dom.append(container, _this.domNode);\n    _this.saturationBox = new SaturationBox(_this.domNode, _this.model, _this.pixelRatio);\n    _this._register(_this.saturationBox);\n    _this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange, _this));\n    _this._register(_this.saturationBox.onColorFlushed(_this.flushColor, _this));\n    _this.opacityStrip = new OpacityStrip(_this.domNode, _this.model);\n    _this._register(_this.opacityStrip);\n    _this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange, _this));\n    _this._register(_this.opacityStrip.onColorFlushed(_this.flushColor, _this));\n    _this.hueStrip = new HueStrip(_this.domNode, _this.model);\n    _this._register(_this.hueStrip);\n    _this._register(_this.hueStrip.onDidChange(_this.onDidHueChange, _this));\n    _this._register(_this.hueStrip.onColorFlushed(_this.flushColor, _this));\n    return _this;\n  }\n  ColorPickerBody.prototype.flushColor = function () {\n    this.model.flushColor();\n  };\n  ColorPickerBody.prototype.onDidSaturationValueChange = function (_a) {\n    var s = _a.s,\n      v = _a.v;\n    var hsva = this.model.color.hsva;\n    this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n  };\n  ColorPickerBody.prototype.onDidOpacityChange = function (a) {\n    var hsva = this.model.color.hsva;\n    this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n  };\n  ColorPickerBody.prototype.onDidHueChange = function (value) {\n    var hsva = this.model.color.hsva;\n    var h = (1 - value) * 360;\n    this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n  };\n  ColorPickerBody.prototype.layout = function () {\n    this.saturationBox.layout();\n    this.opacityStrip.layout();\n    this.hueStrip.layout();\n  };\n  return ColorPickerBody;\n}(Disposable);\nexport { ColorPickerBody };\nvar SaturationBox = /** @class */function (_super) {\n  __extends(SaturationBox, _super);\n  function SaturationBox(container, model, pixelRatio) {\n    var _this = _super.call(this) || this;\n    _this.model = model;\n    _this.pixelRatio = pixelRatio;\n    _this._onDidChange = new Emitter();\n    _this.onDidChange = _this._onDidChange.event;\n    _this._onColorFlushed = new Emitter();\n    _this.onColorFlushed = _this._onColorFlushed.event;\n    _this.domNode = $('.saturation-wrap');\n    dom.append(container, _this.domNode);\n    // Create canvas, draw selected color\n    _this.canvas = document.createElement('canvas');\n    _this.canvas.className = 'saturation-box';\n    dom.append(_this.domNode, _this.canvas);\n    // Add selection circle\n    _this.selection = $('.saturation-selection');\n    dom.append(_this.domNode, _this.selection);\n    _this.layout();\n    _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) {\n      return _this.onMouseDown(e);\n    }));\n    _this._register(_this.model.onDidChangeColor(_this.onDidChangeColor, _this));\n    _this.monitor = null;\n    return _this;\n  }\n  SaturationBox.prototype.onMouseDown = function (e) {\n    var _this = this;\n    this.monitor = this._register(new GlobalMouseMoveMonitor());\n    var origin = dom.getDomNodePagePosition(this.domNode);\n    if (e.target !== this.selection) {\n      this.onDidChangePosition(e.offsetX, e.offsetY);\n    }\n    this.monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) {\n      return _this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top);\n    }, function () {\n      return null;\n    });\n    var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\n      _this._onColorFlushed.fire();\n      mouseUpListener.dispose();\n      if (_this.monitor) {\n        _this.monitor.stopMonitoring(true);\n        _this.monitor = null;\n      }\n    }, true);\n  };\n  SaturationBox.prototype.onDidChangePosition = function (left, top) {\n    var s = Math.max(0, Math.min(1, left / this.width));\n    var v = Math.max(0, Math.min(1, 1 - top / this.height));\n    this.paintSelection(s, v);\n    this._onDidChange.fire({\n      s: s,\n      v: v\n    });\n  };\n  SaturationBox.prototype.layout = function () {\n    this.width = this.domNode.offsetWidth;\n    this.height = this.domNode.offsetHeight;\n    this.canvas.width = this.width * this.pixelRatio;\n    this.canvas.height = this.height * this.pixelRatio;\n    this.paint();\n    var hsva = this.model.color.hsva;\n    this.paintSelection(hsva.s, hsva.v);\n  };\n  SaturationBox.prototype.paint = function () {\n    var hsva = this.model.color.hsva;\n    var saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n    var ctx = this.canvas.getContext('2d');\n    var whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\n    whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n    whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n    whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n    var blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\n    blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n    blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n    ctx.rect(0, 0, this.canvas.width, this.canvas.height);\n    ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\n    ctx.fill();\n    ctx.fillStyle = whiteGradient;\n    ctx.fill();\n    ctx.fillStyle = blackGradient;\n    ctx.fill();\n  };\n  SaturationBox.prototype.paintSelection = function (s, v) {\n    this.selection.style.left = s * this.width + \"px\";\n    this.selection.style.top = this.height - v * this.height + \"px\";\n  };\n  SaturationBox.prototype.onDidChangeColor = function () {\n    if (this.monitor && this.monitor.isMonitoring()) {\n      return;\n    }\n    this.paint();\n  };\n  return SaturationBox;\n}(Disposable);\nvar Strip = /** @class */function (_super) {\n  __extends(Strip, _super);\n  function Strip(container, model) {\n    var _this = _super.call(this) || this;\n    _this.model = model;\n    _this._onDidChange = new Emitter();\n    _this.onDidChange = _this._onDidChange.event;\n    _this._onColorFlushed = new Emitter();\n    _this.onColorFlushed = _this._onColorFlushed.event;\n    _this.domNode = dom.append(container, $('.strip'));\n    _this.overlay = dom.append(_this.domNode, $('.overlay'));\n    _this.slider = dom.append(_this.domNode, $('.slider'));\n    _this.slider.style.top = \"0px\";\n    _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) {\n      return _this.onMouseDown(e);\n    }));\n    _this.layout();\n    return _this;\n  }\n  Strip.prototype.layout = function () {\n    this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n    var value = this.getValue(this.model.color);\n    this.updateSliderPosition(value);\n  };\n  Strip.prototype.onMouseDown = function (e) {\n    var _this = this;\n    var monitor = this._register(new GlobalMouseMoveMonitor());\n    var origin = dom.getDomNodePagePosition(this.domNode);\n    dom.addClass(this.domNode, 'grabbing');\n    if (e.target !== this.slider) {\n      this.onDidChangeTop(e.offsetY);\n    }\n    monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) {\n      return _this.onDidChangeTop(event.posy - origin.top);\n    }, function () {\n      return null;\n    });\n    var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\n      _this._onColorFlushed.fire();\n      mouseUpListener.dispose();\n      monitor.stopMonitoring(true);\n      dom.removeClass(_this.domNode, 'grabbing');\n    }, true);\n  };\n  Strip.prototype.onDidChangeTop = function (top) {\n    var value = Math.max(0, Math.min(1, 1 - top / this.height));\n    this.updateSliderPosition(value);\n    this._onDidChange.fire(value);\n  };\n  Strip.prototype.updateSliderPosition = function (value) {\n    this.slider.style.top = (1 - value) * this.height + \"px\";\n  };\n  return Strip;\n}(Disposable);\nvar OpacityStrip = /** @class */function (_super) {\n  __extends(OpacityStrip, _super);\n  function OpacityStrip(container, model) {\n    var _this = _super.call(this, container, model) || this;\n    dom.addClass(_this.domNode, 'opacity-strip');\n    _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\n    _this.onDidChangeColor(_this.model.color);\n    return _this;\n  }\n  OpacityStrip.prototype.onDidChangeColor = function (color) {\n    var _a = color.rgba,\n      r = _a.r,\n      g = _a.g,\n      b = _a.b;\n    var opaque = new Color(new RGBA(r, g, b, 1));\n    var transparent = new Color(new RGBA(r, g, b, 0));\n    this.overlay.style.background = \"linear-gradient(to bottom, \" + opaque + \" 0%, \" + transparent + \" 100%)\";\n  };\n  OpacityStrip.prototype.getValue = function (color) {\n    return color.hsva.a;\n  };\n  return OpacityStrip;\n}(Strip);\nvar HueStrip = /** @class */function (_super) {\n  __extends(HueStrip, _super);\n  function HueStrip(container, model) {\n    var _this = _super.call(this, container, model) || this;\n    dom.addClass(_this.domNode, 'hue-strip');\n    return _this;\n  }\n  HueStrip.prototype.getValue = function (color) {\n    return 1 - color.hsva.h / 360;\n  };\n  return HueStrip;\n}(Strip);\nvar ColorPickerWidget = /** @class */function (_super) {\n  __extends(ColorPickerWidget, _super);\n  function ColorPickerWidget(container, model, pixelRatio, themeService) {\n    var _this = _super.call(this) || this;\n    _this.model = model;\n    _this.pixelRatio = pixelRatio;\n    _this._register(onDidChangeZoomLevel(function () {\n      return _this.layout();\n    }));\n    var element = $('.colorpicker-widget');\n    container.appendChild(element);\n    var header = new ColorPickerHeader(element, _this.model, themeService);\n    _this.body = new ColorPickerBody(element, _this.model, _this.pixelRatio);\n    _this._register(header);\n    _this._register(_this.body);\n    return _this;\n  }\n  ColorPickerWidget.prototype.layout = function () {\n    this.body.layout();\n  };\n  return ColorPickerWidget;\n}(Widget);\nexport { ColorPickerWidget };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","onDidChangeZoomLevel","dom","GlobalMouseMoveMonitor","standardMouseMoveMerger","Widget","Color","HSVA","RGBA","Emitter","Disposable","editorHoverBackground","registerThemingParticipant","$","ColorPickerHeader","_super","container","model","themeService","_this","call","domNode","append","pickedColorNode","colorBox","style","backgroundColor","Format","CSS","format","originalColor","getTheme","getColor","white","_register","theme","collector","addDisposableListener","EventType","CLICK","selectNextColorPresentation","color","flushColor","onDidChangeColor","onDidChangePresentation","toggleClass","rgba","a","isLighter","textContent","presentation","label","ColorPickerBody","pixelRatio","saturationBox","SaturationBox","onDidChange","onDidSaturationValueChange","onColorFlushed","opacityStrip","OpacityStrip","onDidOpacityChange","hueStrip","HueStrip","onDidHueChange","_a","s","v","hsva","h","value","layout","_onDidChange","event","_onColorFlushed","canvas","document","createElement","className","selection","addDisposableGenericMouseDownListner","e","onMouseDown","monitor","origin","getDomNodePagePosition","target","onDidChangePosition","offsetX","offsetY","startMonitoring","buttons","posx","left","posy","top","mouseUpListener","addDisposableGenericMouseUpListner","fire","dispose","stopMonitoring","Math","max","min","width","height","paintSelection","offsetWidth","offsetHeight","paint","saturatedColor","ctx","getContext","whiteGradient","createLinearGradient","addColorStop","blackGradient","rect","fillStyle","fill","isMonitoring","Strip","overlay","slider","getValue","updateSliderPosition","addClass","onDidChangeTop","removeClass","r","g","opaque","transparent","background","ColorPickerWidget","element","appendChild","header","body"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './colorPicker.css';\r\nimport { onDidChangeZoomLevel } from '../../../base/browser/browser.js';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { GlobalMouseMoveMonitor, standardMouseMoveMerger } from '../../../base/browser/globalMouseMoveMonitor.js';\r\nimport { Widget } from '../../../base/browser/ui/widget.js';\r\nimport { Color, HSVA, RGBA } from '../../../base/common/color.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { editorHoverBackground } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant } from '../../../platform/theme/common/themeService.js';\r\nvar $ = dom.$;\r\nvar ColorPickerHeader = /** @class */ (function (_super) {\r\n    __extends(ColorPickerHeader, _super);\r\n    function ColorPickerHeader(container, model, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.domNode = $('.colorpicker-header');\r\n        dom.append(container, _this.domNode);\r\n        _this.pickedColorNode = dom.append(_this.domNode, $('.picked-color'));\r\n        var colorBox = dom.append(_this.domNode, $('.original-color'));\r\n        colorBox.style.backgroundColor = Color.Format.CSS.format(_this.model.originalColor) || '';\r\n        _this.backgroundColor = themeService.getTheme().getColor(editorHoverBackground) || Color.white;\r\n        _this._register(registerThemingParticipant(function (theme, collector) {\r\n            _this.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\r\n        }));\r\n        _this._register(dom.addDisposableListener(_this.pickedColorNode, dom.EventType.CLICK, function () { return _this.model.selectNextColorPresentation(); }));\r\n        _this._register(dom.addDisposableListener(colorBox, dom.EventType.CLICK, function () {\r\n            _this.model.color = _this.model.originalColor;\r\n            _this.model.flushColor();\r\n        }));\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this._register(model.onDidChangePresentation(_this.onDidChangePresentation, _this));\r\n        _this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\r\n        dom.toggleClass(_this.pickedColorNode, 'light', model.color.rgba.a < 0.5 ? _this.backgroundColor.isLighter() : model.color.isLighter());\r\n        return _this;\r\n    }\r\n    ColorPickerHeader.prototype.onDidChangeColor = function (color) {\r\n        this.pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\r\n        dom.toggleClass(this.pickedColorNode, 'light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\r\n        this.onDidChangePresentation();\r\n    };\r\n    ColorPickerHeader.prototype.onDidChangePresentation = function () {\r\n        this.pickedColorNode.textContent = this.model.presentation ? this.model.presentation.label : '';\r\n    };\r\n    return ColorPickerHeader;\r\n}(Disposable));\r\nexport { ColorPickerHeader };\r\nvar ColorPickerBody = /** @class */ (function (_super) {\r\n    __extends(ColorPickerBody, _super);\r\n    function ColorPickerBody(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this.domNode = $('.colorpicker-body');\r\n        dom.append(container, _this.domNode);\r\n        _this.saturationBox = new SaturationBox(_this.domNode, _this.model, _this.pixelRatio);\r\n        _this._register(_this.saturationBox);\r\n        _this._register(_this.saturationBox.onDidChange(_this.onDidSaturationValueChange, _this));\r\n        _this._register(_this.saturationBox.onColorFlushed(_this.flushColor, _this));\r\n        _this.opacityStrip = new OpacityStrip(_this.domNode, _this.model);\r\n        _this._register(_this.opacityStrip);\r\n        _this._register(_this.opacityStrip.onDidChange(_this.onDidOpacityChange, _this));\r\n        _this._register(_this.opacityStrip.onColorFlushed(_this.flushColor, _this));\r\n        _this.hueStrip = new HueStrip(_this.domNode, _this.model);\r\n        _this._register(_this.hueStrip);\r\n        _this._register(_this.hueStrip.onDidChange(_this.onDidHueChange, _this));\r\n        _this._register(_this.hueStrip.onColorFlushed(_this.flushColor, _this));\r\n        return _this;\r\n    }\r\n    ColorPickerBody.prototype.flushColor = function () {\r\n        this.model.flushColor();\r\n    };\r\n    ColorPickerBody.prototype.onDidSaturationValueChange = function (_a) {\r\n        var s = _a.s, v = _a.v;\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.onDidOpacityChange = function (a) {\r\n        var hsva = this.model.color.hsva;\r\n        this.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\r\n    };\r\n    ColorPickerBody.prototype.onDidHueChange = function (value) {\r\n        var hsva = this.model.color.hsva;\r\n        var h = (1 - value) * 360;\r\n        this.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\r\n    };\r\n    ColorPickerBody.prototype.layout = function () {\r\n        this.saturationBox.layout();\r\n        this.opacityStrip.layout();\r\n        this.hueStrip.layout();\r\n    };\r\n    return ColorPickerBody;\r\n}(Disposable));\r\nexport { ColorPickerBody };\r\nvar SaturationBox = /** @class */ (function (_super) {\r\n    __extends(SaturationBox, _super);\r\n    function SaturationBox(container, model, pixelRatio) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = $('.saturation-wrap');\r\n        dom.append(container, _this.domNode);\r\n        // Create canvas, draw selected color\r\n        _this.canvas = document.createElement('canvas');\r\n        _this.canvas.className = 'saturation-box';\r\n        dom.append(_this.domNode, _this.canvas);\r\n        // Add selection circle\r\n        _this.selection = $('.saturation-selection');\r\n        dom.append(_this.domNode, _this.selection);\r\n        _this.layout();\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this._register(_this.model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.monitor = null;\r\n        return _this;\r\n    }\r\n    SaturationBox.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        this.monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        if (e.target !== this.selection) {\r\n            this.onDidChangePosition(e.offsetX, e.offsetY);\r\n        }\r\n        this.monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) { return _this.onDidChangePosition(event.posx - origin.left, event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            if (_this.monitor) {\r\n                _this.monitor.stopMonitoring(true);\r\n                _this.monitor = null;\r\n            }\r\n        }, true);\r\n    };\r\n    SaturationBox.prototype.onDidChangePosition = function (left, top) {\r\n        var s = Math.max(0, Math.min(1, left / this.width));\r\n        var v = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.paintSelection(s, v);\r\n        this._onDidChange.fire({ s: s, v: v });\r\n    };\r\n    SaturationBox.prototype.layout = function () {\r\n        this.width = this.domNode.offsetWidth;\r\n        this.height = this.domNode.offsetHeight;\r\n        this.canvas.width = this.width * this.pixelRatio;\r\n        this.canvas.height = this.height * this.pixelRatio;\r\n        this.paint();\r\n        var hsva = this.model.color.hsva;\r\n        this.paintSelection(hsva.s, hsva.v);\r\n    };\r\n    SaturationBox.prototype.paint = function () {\r\n        var hsva = this.model.color.hsva;\r\n        var saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\r\n        var ctx = this.canvas.getContext('2d');\r\n        var whiteGradient = ctx.createLinearGradient(0, 0, this.canvas.width, 0);\r\n        whiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\r\n        whiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\r\n        whiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\r\n        var blackGradient = ctx.createLinearGradient(0, 0, 0, this.canvas.height);\r\n        blackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\r\n        blackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\r\n        ctx.rect(0, 0, this.canvas.width, this.canvas.height);\r\n        ctx.fillStyle = Color.Format.CSS.format(saturatedColor);\r\n        ctx.fill();\r\n        ctx.fillStyle = whiteGradient;\r\n        ctx.fill();\r\n        ctx.fillStyle = blackGradient;\r\n        ctx.fill();\r\n    };\r\n    SaturationBox.prototype.paintSelection = function (s, v) {\r\n        this.selection.style.left = s * this.width + \"px\";\r\n        this.selection.style.top = this.height - v * this.height + \"px\";\r\n    };\r\n    SaturationBox.prototype.onDidChangeColor = function () {\r\n        if (this.monitor && this.monitor.isMonitoring()) {\r\n            return;\r\n        }\r\n        this.paint();\r\n    };\r\n    return SaturationBox;\r\n}(Disposable));\r\nvar Strip = /** @class */ (function (_super) {\r\n    __extends(Strip, _super);\r\n    function Strip(container, model) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this._onDidChange = new Emitter();\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._onColorFlushed = new Emitter();\r\n        _this.onColorFlushed = _this._onColorFlushed.event;\r\n        _this.domNode = dom.append(container, $('.strip'));\r\n        _this.overlay = dom.append(_this.domNode, $('.overlay'));\r\n        _this.slider = dom.append(_this.domNode, $('.slider'));\r\n        _this.slider.style.top = \"0px\";\r\n        _this._register(dom.addDisposableGenericMouseDownListner(_this.domNode, function (e) { return _this.onMouseDown(e); }));\r\n        _this.layout();\r\n        return _this;\r\n    }\r\n    Strip.prototype.layout = function () {\r\n        this.height = this.domNode.offsetHeight - this.slider.offsetHeight;\r\n        var value = this.getValue(this.model.color);\r\n        this.updateSliderPosition(value);\r\n    };\r\n    Strip.prototype.onMouseDown = function (e) {\r\n        var _this = this;\r\n        var monitor = this._register(new GlobalMouseMoveMonitor());\r\n        var origin = dom.getDomNodePagePosition(this.domNode);\r\n        dom.addClass(this.domNode, 'grabbing');\r\n        if (e.target !== this.slider) {\r\n            this.onDidChangeTop(e.offsetY);\r\n        }\r\n        monitor.startMonitoring(e.target, e.buttons, standardMouseMoveMerger, function (event) { return _this.onDidChangeTop(event.posy - origin.top); }, function () { return null; });\r\n        var mouseUpListener = dom.addDisposableGenericMouseUpListner(document, function () {\r\n            _this._onColorFlushed.fire();\r\n            mouseUpListener.dispose();\r\n            monitor.stopMonitoring(true);\r\n            dom.removeClass(_this.domNode, 'grabbing');\r\n        }, true);\r\n    };\r\n    Strip.prototype.onDidChangeTop = function (top) {\r\n        var value = Math.max(0, Math.min(1, 1 - (top / this.height)));\r\n        this.updateSliderPosition(value);\r\n        this._onDidChange.fire(value);\r\n    };\r\n    Strip.prototype.updateSliderPosition = function (value) {\r\n        this.slider.style.top = (1 - value) * this.height + \"px\";\r\n    };\r\n    return Strip;\r\n}(Disposable));\r\nvar OpacityStrip = /** @class */ (function (_super) {\r\n    __extends(OpacityStrip, _super);\r\n    function OpacityStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'opacity-strip');\r\n        _this._register(model.onDidChangeColor(_this.onDidChangeColor, _this));\r\n        _this.onDidChangeColor(_this.model.color);\r\n        return _this;\r\n    }\r\n    OpacityStrip.prototype.onDidChangeColor = function (color) {\r\n        var _a = color.rgba, r = _a.r, g = _a.g, b = _a.b;\r\n        var opaque = new Color(new RGBA(r, g, b, 1));\r\n        var transparent = new Color(new RGBA(r, g, b, 0));\r\n        this.overlay.style.background = \"linear-gradient(to bottom, \" + opaque + \" 0%, \" + transparent + \" 100%)\";\r\n    };\r\n    OpacityStrip.prototype.getValue = function (color) {\r\n        return color.hsva.a;\r\n    };\r\n    return OpacityStrip;\r\n}(Strip));\r\nvar HueStrip = /** @class */ (function (_super) {\r\n    __extends(HueStrip, _super);\r\n    function HueStrip(container, model) {\r\n        var _this = _super.call(this, container, model) || this;\r\n        dom.addClass(_this.domNode, 'hue-strip');\r\n        return _this;\r\n    }\r\n    HueStrip.prototype.getValue = function (color) {\r\n        return 1 - (color.hsva.h / 360);\r\n    };\r\n    return HueStrip;\r\n}(Strip));\r\nvar ColorPickerWidget = /** @class */ (function (_super) {\r\n    __extends(ColorPickerWidget, _super);\r\n    function ColorPickerWidget(container, model, pixelRatio, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = model;\r\n        _this.pixelRatio = pixelRatio;\r\n        _this._register(onDidChangeZoomLevel(function () { return _this.layout(); }));\r\n        var element = $('.colorpicker-widget');\r\n        container.appendChild(element);\r\n        var header = new ColorPickerHeader(element, _this.model, themeService);\r\n        _this.body = new ColorPickerBody(element, _this.model, _this.pixelRatio);\r\n        _this._register(header);\r\n        _this._register(_this.body);\r\n        return _this;\r\n    }\r\n    ColorPickerWidget.prototype.layout = function () {\r\n        this.body.layout();\r\n    };\r\n    return ColorPickerWidget;\r\n}(Widget));\r\nexport { ColorPickerWidget };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}