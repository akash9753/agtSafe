{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser.js';\nimport { Range } from '../jsonLanguageTypes.js';\nvar JSONHover = /** @class */function () {\n  function JSONHover(schemaService, contributions, promiseConstructor) {\n    if (contributions === void 0) {\n      contributions = [];\n    }\n    this.schemaService = schemaService;\n    this.contributions = contributions;\n    this.promise = promiseConstructor || Promise;\n  }\n  JSONHover.prototype.doHover = function (document, position, doc) {\n    var offset = document.offsetAt(position);\n    var node = doc.getNodeFromOffset(offset);\n    if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n      return this.promise.resolve(null);\n    }\n    var hoverRangeNode = node;\n    // use the property description when hovering over an object key\n    if (node.type === 'string') {\n      var parent = node.parent;\n      if (parent && parent.type === 'property' && parent.keyNode === node) {\n        node = parent.valueNode;\n        if (!node) {\n          return this.promise.resolve(null);\n        }\n      }\n    }\n    var hoverRange = Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n    var createHover = function createHover(contents) {\n      var result = {\n        contents: contents,\n        range: hoverRange\n      };\n      return result;\n    };\n    var location = Parser.getNodePath(node);\n    for (var i = this.contributions.length - 1; i >= 0; i--) {\n      var contribution = this.contributions[i];\n      var promise = contribution.getInfoContribution(document.uri, location);\n      if (promise) {\n        return promise.then(function (htmlContent) {\n          return createHover(htmlContent);\n        });\n      }\n    }\n    return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n      if (schema) {\n        var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n        var title_1 = null;\n        var markdownDescription_1 = null;\n        var markdownEnumValueDescription_1 = null,\n          enumValue_1 = null;\n        matchingSchemas.every(function (s) {\n          if (s.node === node && !s.inverted && s.schema) {\n            title_1 = title_1 || s.schema.title;\n            markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n            if (s.schema.enum) {\n              var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n              if (s.schema.markdownEnumDescriptions) {\n                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n              } else if (s.schema.enumDescriptions) {\n                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n              }\n              if (markdownEnumValueDescription_1) {\n                enumValue_1 = s.schema.enum[idx];\n                if (typeof enumValue_1 !== 'string') {\n                  enumValue_1 = JSON.stringify(enumValue_1);\n                }\n              }\n            }\n          }\n          return true;\n        });\n        var result = '';\n        if (title_1) {\n          result = toMarkdown(title_1);\n        }\n        if (markdownDescription_1) {\n          if (result.length > 0) {\n            result += \"\\n\\n\";\n          }\n          result += markdownDescription_1;\n        }\n        if (markdownEnumValueDescription_1) {\n          if (result.length > 0) {\n            result += \"\\n\\n\";\n          }\n          result += \"`\" + toMarkdownCodeBlock(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n        }\n        return createHover([result]);\n      }\n      return null;\n    });\n  };\n  return JSONHover;\n}();\nexport { JSONHover };\nfunction toMarkdown(plain) {\n  if (plain) {\n    var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n    return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n  }\n\n  return void 0;\n}\nfunction toMarkdownCodeBlock(content) {\n  // see https://daringfireball.net/projects/markdown/syntax#precode\n  if (content.indexOf('`') !== -1) {\n    return '`` ' + content + ' ``';\n  }\n  return content;\n}","map":{"version":3,"names":["Parser","Range","JSONHover","schemaService","contributions","promiseConstructor","promise","Promise","prototype","doHover","document","position","doc","offset","offsetAt","node","getNodeFromOffset","type","length","resolve","hoverRangeNode","parent","keyNode","valueNode","hoverRange","create","positionAt","createHover","contents","result","range","location","getNodePath","i","contribution","getInfoContribution","uri","then","htmlContent","getSchemaForResource","schema","matchingSchemas","getMatchingSchemas","title_1","markdownDescription_1","markdownEnumValueDescription_1","enumValue_1","every","s","inverted","title","markdownDescription","toMarkdown","description","enum","idx","indexOf","getNodeValue","markdownEnumDescriptions","enumDescriptions","JSON","stringify","toMarkdownCodeBlock","plain","res","replace","content"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonHover.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Parser from '../parser/jsonParser.js';\nimport { Range } from '../jsonLanguageTypes.js';\nvar JSONHover = /** @class */ (function () {\n    function JSONHover(schemaService, contributions, promiseConstructor) {\n        if (contributions === void 0) { contributions = []; }\n        this.schemaService = schemaService;\n        this.contributions = contributions;\n        this.promise = promiseConstructor || Promise;\n    }\n    JSONHover.prototype.doHover = function (document, position, doc) {\n        var offset = document.offsetAt(position);\n        var node = doc.getNodeFromOffset(offset);\n        if (!node || (node.type === 'object' || node.type === 'array') && offset > node.offset + 1 && offset < node.offset + node.length - 1) {\n            return this.promise.resolve(null);\n        }\n        var hoverRangeNode = node;\n        // use the property description when hovering over an object key\n        if (node.type === 'string') {\n            var parent = node.parent;\n            if (parent && parent.type === 'property' && parent.keyNode === node) {\n                node = parent.valueNode;\n                if (!node) {\n                    return this.promise.resolve(null);\n                }\n            }\n        }\n        var hoverRange = Range.create(document.positionAt(hoverRangeNode.offset), document.positionAt(hoverRangeNode.offset + hoverRangeNode.length));\n        var createHover = function (contents) {\n            var result = {\n                contents: contents,\n                range: hoverRange\n            };\n            return result;\n        };\n        var location = Parser.getNodePath(node);\n        for (var i = this.contributions.length - 1; i >= 0; i--) {\n            var contribution = this.contributions[i];\n            var promise = contribution.getInfoContribution(document.uri, location);\n            if (promise) {\n                return promise.then(function (htmlContent) { return createHover(htmlContent); });\n            }\n        }\n        return this.schemaService.getSchemaForResource(document.uri, doc).then(function (schema) {\n            if (schema) {\n                var matchingSchemas = doc.getMatchingSchemas(schema.schema, node.offset);\n                var title_1 = null;\n                var markdownDescription_1 = null;\n                var markdownEnumValueDescription_1 = null, enumValue_1 = null;\n                matchingSchemas.every(function (s) {\n                    if (s.node === node && !s.inverted && s.schema) {\n                        title_1 = title_1 || s.schema.title;\n                        markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);\n                        if (s.schema.enum) {\n                            var idx = s.schema.enum.indexOf(Parser.getNodeValue(node));\n                            if (s.schema.markdownEnumDescriptions) {\n                                markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];\n                            }\n                            else if (s.schema.enumDescriptions) {\n                                markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);\n                            }\n                            if (markdownEnumValueDescription_1) {\n                                enumValue_1 = s.schema.enum[idx];\n                                if (typeof enumValue_1 !== 'string') {\n                                    enumValue_1 = JSON.stringify(enumValue_1);\n                                }\n                            }\n                        }\n                    }\n                    return true;\n                });\n                var result = '';\n                if (title_1) {\n                    result = toMarkdown(title_1);\n                }\n                if (markdownDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += markdownDescription_1;\n                }\n                if (markdownEnumValueDescription_1) {\n                    if (result.length > 0) {\n                        result += \"\\n\\n\";\n                    }\n                    result += \"`\" + toMarkdownCodeBlock(enumValue_1) + \"`: \" + markdownEnumValueDescription_1;\n                }\n                return createHover([result]);\n            }\n            return null;\n        });\n    };\n    return JSONHover;\n}());\nexport { JSONHover };\nfunction toMarkdown(plain) {\n    if (plain) {\n        var res = plain.replace(/([^\\n\\r])(\\r?\\n)([^\\n\\r])/gm, '$1\\n\\n$3'); // single new lines to \\n\\n (Markdown paragraph)\n        return res.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, \"\\\\$&\"); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    return void 0;\n}\nfunction toMarkdownCodeBlock(content) {\n    // see https://daringfireball.net/projects/markdown/syntax#precode\n    if (content.indexOf('`') !== -1) {\n        return '`` ' + content + ' ``';\n    }\n    return content;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}