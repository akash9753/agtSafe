{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as arrays from '../common/arrays.js';\nimport { Disposable } from '../common/lifecycle.js';\nimport * as DomUtils from './dom.js';\nimport { memoize } from '../common/decorators.js';\nexport var EventType;\n(function (EventType) {\n  EventType.Tap = '-monaco-gesturetap';\n  EventType.Change = '-monaco-gesturechange';\n  EventType.Start = '-monaco-gesturestart';\n  EventType.End = '-monaco-gesturesend';\n  EventType.Contextmenu = '-monaco-gesturecontextmenu';\n})(EventType || (EventType = {}));\nvar Gesture = /** @class */function (_super) {\n  __extends(Gesture, _super);\n  function Gesture() {\n    var _this = _super.call(this) || this;\n    _this.dispatched = false;\n    _this.activeTouches = {};\n    _this.handle = null;\n    _this.targets = [];\n    _this.ignoreTargets = [];\n    _this._lastSetTapCountTime = 0;\n    _this._register(DomUtils.addDisposableListener(document, 'touchstart', function (e) {\n      return _this.onTouchStart(e);\n    }));\n    _this._register(DomUtils.addDisposableListener(document, 'touchend', function (e) {\n      return _this.onTouchEnd(e);\n    }));\n    _this._register(DomUtils.addDisposableListener(document, 'touchmove', function (e) {\n      return _this.onTouchMove(e);\n    }));\n    return _this;\n  }\n  Gesture.addTarget = function (element) {\n    if (!Gesture.isTouchDevice()) {\n      return Disposable.None;\n    }\n    if (!Gesture.INSTANCE) {\n      Gesture.INSTANCE = new Gesture();\n    }\n    Gesture.INSTANCE.targets.push(element);\n    return {\n      dispose: function dispose() {\n        Gesture.INSTANCE.targets = Gesture.INSTANCE.targets.filter(function (t) {\n          return t !== element;\n        });\n      }\n    };\n  };\n  Gesture.ignoreTarget = function (element) {\n    if (!Gesture.isTouchDevice()) {\n      return Disposable.None;\n    }\n    if (!Gesture.INSTANCE) {\n      Gesture.INSTANCE = new Gesture();\n    }\n    Gesture.INSTANCE.ignoreTargets.push(element);\n    return {\n      dispose: function dispose() {\n        Gesture.INSTANCE.ignoreTargets = Gesture.INSTANCE.ignoreTargets.filter(function (t) {\n          return t !== element;\n        });\n      }\n    };\n  };\n  Gesture.isTouchDevice = function () {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0;\n  };\n  Gesture.prototype.dispose = function () {\n    if (this.handle) {\n      this.handle.dispose();\n      this.handle = null;\n    }\n    _super.prototype.dispose.call(this);\n  };\n  Gesture.prototype.onTouchStart = function (e) {\n    var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n    if (this.handle) {\n      this.handle.dispose();\n      this.handle = null;\n    }\n    for (var i = 0, len = e.targetTouches.length; i < len; i++) {\n      var touch = e.targetTouches.item(i);\n      this.activeTouches[touch.identifier] = {\n        id: touch.identifier,\n        initialTarget: touch.target,\n        initialTimeStamp: timestamp,\n        initialPageX: touch.pageX,\n        initialPageY: touch.pageY,\n        rollingTimestamps: [timestamp],\n        rollingPageX: [touch.pageX],\n        rollingPageY: [touch.pageY]\n      };\n      var evt = this.newGestureEvent(EventType.Start, touch.target);\n      evt.pageX = touch.pageX;\n      evt.pageY = touch.pageY;\n      this.dispatchEvent(evt);\n    }\n    if (this.dispatched) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.dispatched = false;\n    }\n  };\n  Gesture.prototype.onTouchEnd = function (e) {\n    var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n    var activeTouchCount = Object.keys(this.activeTouches).length;\n    var _loop_1 = function _loop_1(i, len) {\n      var touch = e.changedTouches.item(i);\n      if (!this_1.activeTouches.hasOwnProperty(String(touch.identifier))) {\n        console.warn('move of an UNKNOWN touch', touch);\n        return \"continue\";\n      }\n      var data = this_1.activeTouches[touch.identifier],\n        holdTime = Date.now() - data.initialTimeStamp;\n      if (holdTime < Gesture.HOLD_DELAY && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30 && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n        var evt = this_1.newGestureEvent(EventType.Tap, data.initialTarget);\n        evt.pageX = arrays.tail(data.rollingPageX);\n        evt.pageY = arrays.tail(data.rollingPageY);\n        this_1.dispatchEvent(evt);\n      } else if (holdTime >= Gesture.HOLD_DELAY && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30 && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n        var evt = this_1.newGestureEvent(EventType.Contextmenu, data.initialTarget);\n        evt.pageX = arrays.tail(data.rollingPageX);\n        evt.pageY = arrays.tail(data.rollingPageY);\n        this_1.dispatchEvent(evt);\n      } else if (activeTouchCount === 1) {\n        var finalX = arrays.tail(data.rollingPageX);\n        var finalY = arrays.tail(data.rollingPageY);\n        var deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\n        var deltaX = finalX - data.rollingPageX[0];\n        var deltaY = finalY - data.rollingPageY[0];\n        // We need to get all the dispatch targets on the start of the inertia event\n        var dispatchTo = this_1.targets.filter(function (t) {\n          return data.initialTarget instanceof Node && t.contains(data.initialTarget);\n        });\n        this_1.inertia(dispatchTo, timestamp,\n        // time now\n        Math.abs(deltaX) / deltaT,\n        // speed\n        deltaX > 0 ? 1 : -1,\n        // x direction\n        finalX,\n        // x now\n        Math.abs(deltaY) / deltaT,\n        // y speed\n        deltaY > 0 ? 1 : -1,\n        // y direction\n        finalY // y now\n        );\n      }\n\n      this_1.dispatchEvent(this_1.newGestureEvent(EventType.End, data.initialTarget));\n      // forget about this touch\n      delete this_1.activeTouches[touch.identifier];\n    };\n    var this_1 = this;\n    for (var i = 0, len = e.changedTouches.length; i < len; i++) {\n      _loop_1(i, len);\n    }\n    if (this.dispatched) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.dispatched = false;\n    }\n  };\n  Gesture.prototype.newGestureEvent = function (type, initialTarget) {\n    var event = document.createEvent('CustomEvent');\n    event.initEvent(type, false, true);\n    event.initialTarget = initialTarget;\n    event.tapCount = 0;\n    return event;\n  };\n  Gesture.prototype.dispatchEvent = function (event) {\n    var _this = this;\n    if (event.type === EventType.Tap) {\n      var currentTime = new Date().getTime();\n      var setTapCount = 0;\n      if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\n        setTapCount = 1;\n      } else {\n        setTapCount = 2;\n      }\n      this._lastSetTapCountTime = currentTime;\n      event.tapCount = setTapCount;\n    } else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\n      // tap is canceled by scrolling or context menu\n      this._lastSetTapCountTime = 0;\n    }\n    for (var i = 0; i < this.ignoreTargets.length; i++) {\n      if (event.initialTarget instanceof Node && this.ignoreTargets[i].contains(event.initialTarget)) {\n        return;\n      }\n    }\n    this.targets.forEach(function (target) {\n      if (event.initialTarget instanceof Node && target.contains(event.initialTarget)) {\n        target.dispatchEvent(event);\n        _this.dispatched = true;\n      }\n    });\n  };\n  Gesture.prototype.inertia = function (dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\n    var _this = this;\n    this.handle = DomUtils.scheduleAtNextAnimationFrame(function () {\n      var now = Date.now();\n      // velocity: old speed + accel_over_time\n      var deltaT = now - t1,\n        delta_pos_x = 0,\n        delta_pos_y = 0,\n        stopped = true;\n      vX += Gesture.SCROLL_FRICTION * deltaT;\n      vY += Gesture.SCROLL_FRICTION * deltaT;\n      if (vX > 0) {\n        stopped = false;\n        delta_pos_x = dirX * vX * deltaT;\n      }\n      if (vY > 0) {\n        stopped = false;\n        delta_pos_y = dirY * vY * deltaT;\n      }\n      // dispatch translation event\n      var evt = _this.newGestureEvent(EventType.Change);\n      evt.translationX = delta_pos_x;\n      evt.translationY = delta_pos_y;\n      dispatchTo.forEach(function (d) {\n        return d.dispatchEvent(evt);\n      });\n      if (!stopped) {\n        _this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\n      }\n    });\n  };\n  Gesture.prototype.onTouchMove = function (e) {\n    var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n    for (var i = 0, len = e.changedTouches.length; i < len; i++) {\n      var touch = e.changedTouches.item(i);\n      if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n        console.warn('end of an UNKNOWN touch', touch);\n        continue;\n      }\n      var data = this.activeTouches[touch.identifier];\n      var evt = this.newGestureEvent(EventType.Change, data.initialTarget);\n      evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\n      evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\n      evt.pageX = touch.pageX;\n      evt.pageY = touch.pageY;\n      this.dispatchEvent(evt);\n      // only keep a few data points, to average the final speed\n      if (data.rollingPageX.length > 3) {\n        data.rollingPageX.shift();\n        data.rollingPageY.shift();\n        data.rollingTimestamps.shift();\n      }\n      data.rollingPageX.push(touch.pageX);\n      data.rollingPageY.push(touch.pageY);\n      data.rollingTimestamps.push(timestamp);\n    }\n    if (this.dispatched) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.dispatched = false;\n    }\n  };\n  Gesture.SCROLL_FRICTION = -0.005;\n  Gesture.HOLD_DELAY = 700;\n  Gesture.CLEAR_TAP_COUNT_TIME = 400; // ms\n  __decorate([memoize], Gesture, \"isTouchDevice\", null);\n  return Gesture;\n}(Disposable);\nexport { Gesture };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","arrays","Disposable","DomUtils","memoize","EventType","Tap","Change","Start","End","Contextmenu","Gesture","_super","_this","call","dispatched","activeTouches","handle","targets","ignoreTargets","_lastSetTapCountTime","_register","addDisposableListener","document","e","onTouchStart","onTouchEnd","onTouchMove","addTarget","element","isTouchDevice","None","INSTANCE","push","dispose","filter","t","ignoreTarget","window","navigator","maxTouchPoints","msMaxTouchPoints","timestamp","Date","now","len","targetTouches","touch","item","identifier","id","initialTarget","initialTimeStamp","initialPageX","pageX","initialPageY","pageY","rollingTimestamps","rollingPageX","rollingPageY","evt","newGestureEvent","dispatchEvent","preventDefault","stopPropagation","activeTouchCount","keys","_loop_1","changedTouches","this_1","String","console","warn","data","holdTime","HOLD_DELAY","Math","abs","tail","finalX","finalY","deltaT","deltaX","deltaY","dispatchTo","Node","contains","inertia","type","event","createEvent","initEvent","tapCount","currentTime","getTime","setTapCount","CLEAR_TAP_COUNT_TIME","forEach","t1","vX","dirX","x","vY","dirY","y","scheduleAtNextAnimationFrame","delta_pos_x","delta_pos_y","stopped","SCROLL_FRICTION","translationX","translationY","shift"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/base/browser/touch.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport * as arrays from '../common/arrays.js';\r\nimport { Disposable } from '../common/lifecycle.js';\r\nimport * as DomUtils from './dom.js';\r\nimport { memoize } from '../common/decorators.js';\r\nexport var EventType;\r\n(function (EventType) {\r\n    EventType.Tap = '-monaco-gesturetap';\r\n    EventType.Change = '-monaco-gesturechange';\r\n    EventType.Start = '-monaco-gesturestart';\r\n    EventType.End = '-monaco-gesturesend';\r\n    EventType.Contextmenu = '-monaco-gesturecontextmenu';\r\n})(EventType || (EventType = {}));\r\nvar Gesture = /** @class */ (function (_super) {\r\n    __extends(Gesture, _super);\r\n    function Gesture() {\r\n        var _this = _super.call(this) || this;\r\n        _this.dispatched = false;\r\n        _this.activeTouches = {};\r\n        _this.handle = null;\r\n        _this.targets = [];\r\n        _this.ignoreTargets = [];\r\n        _this._lastSetTapCountTime = 0;\r\n        _this._register(DomUtils.addDisposableListener(document, 'touchstart', function (e) { return _this.onTouchStart(e); }));\r\n        _this._register(DomUtils.addDisposableListener(document, 'touchend', function (e) { return _this.onTouchEnd(e); }));\r\n        _this._register(DomUtils.addDisposableListener(document, 'touchmove', function (e) { return _this.onTouchMove(e); }));\r\n        return _this;\r\n    }\r\n    Gesture.addTarget = function (element) {\r\n        if (!Gesture.isTouchDevice()) {\r\n            return Disposable.None;\r\n        }\r\n        if (!Gesture.INSTANCE) {\r\n            Gesture.INSTANCE = new Gesture();\r\n        }\r\n        Gesture.INSTANCE.targets.push(element);\r\n        return {\r\n            dispose: function () {\r\n                Gesture.INSTANCE.targets = Gesture.INSTANCE.targets.filter(function (t) { return t !== element; });\r\n            }\r\n        };\r\n    };\r\n    Gesture.ignoreTarget = function (element) {\r\n        if (!Gesture.isTouchDevice()) {\r\n            return Disposable.None;\r\n        }\r\n        if (!Gesture.INSTANCE) {\r\n            Gesture.INSTANCE = new Gesture();\r\n        }\r\n        Gesture.INSTANCE.ignoreTargets.push(element);\r\n        return {\r\n            dispose: function () {\r\n                Gesture.INSTANCE.ignoreTargets = Gesture.INSTANCE.ignoreTargets.filter(function (t) { return t !== element; });\r\n            }\r\n        };\r\n    };\r\n    Gesture.isTouchDevice = function () {\r\n        return 'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0;\r\n    };\r\n    Gesture.prototype.dispose = function () {\r\n        if (this.handle) {\r\n            this.handle.dispose();\r\n            this.handle = null;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    Gesture.prototype.onTouchStart = function (e) {\r\n        var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\r\n        if (this.handle) {\r\n            this.handle.dispose();\r\n            this.handle = null;\r\n        }\r\n        for (var i = 0, len = e.targetTouches.length; i < len; i++) {\r\n            var touch = e.targetTouches.item(i);\r\n            this.activeTouches[touch.identifier] = {\r\n                id: touch.identifier,\r\n                initialTarget: touch.target,\r\n                initialTimeStamp: timestamp,\r\n                initialPageX: touch.pageX,\r\n                initialPageY: touch.pageY,\r\n                rollingTimestamps: [timestamp],\r\n                rollingPageX: [touch.pageX],\r\n                rollingPageY: [touch.pageY]\r\n            };\r\n            var evt = this.newGestureEvent(EventType.Start, touch.target);\r\n            evt.pageX = touch.pageX;\r\n            evt.pageY = touch.pageY;\r\n            this.dispatchEvent(evt);\r\n        }\r\n        if (this.dispatched) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.dispatched = false;\r\n        }\r\n    };\r\n    Gesture.prototype.onTouchEnd = function (e) {\r\n        var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\r\n        var activeTouchCount = Object.keys(this.activeTouches).length;\r\n        var _loop_1 = function (i, len) {\r\n            var touch = e.changedTouches.item(i);\r\n            if (!this_1.activeTouches.hasOwnProperty(String(touch.identifier))) {\r\n                console.warn('move of an UNKNOWN touch', touch);\r\n                return \"continue\";\r\n            }\r\n            var data = this_1.activeTouches[touch.identifier], holdTime = Date.now() - data.initialTimeStamp;\r\n            if (holdTime < Gesture.HOLD_DELAY\r\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\r\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\r\n                var evt = this_1.newGestureEvent(EventType.Tap, data.initialTarget);\r\n                evt.pageX = arrays.tail(data.rollingPageX);\r\n                evt.pageY = arrays.tail(data.rollingPageY);\r\n                this_1.dispatchEvent(evt);\r\n            }\r\n            else if (holdTime >= Gesture.HOLD_DELAY\r\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\r\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\r\n                var evt = this_1.newGestureEvent(EventType.Contextmenu, data.initialTarget);\r\n                evt.pageX = arrays.tail(data.rollingPageX);\r\n                evt.pageY = arrays.tail(data.rollingPageY);\r\n                this_1.dispatchEvent(evt);\r\n            }\r\n            else if (activeTouchCount === 1) {\r\n                var finalX = arrays.tail(data.rollingPageX);\r\n                var finalY = arrays.tail(data.rollingPageY);\r\n                var deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\r\n                var deltaX = finalX - data.rollingPageX[0];\r\n                var deltaY = finalY - data.rollingPageY[0];\r\n                // We need to get all the dispatch targets on the start of the inertia event\r\n                var dispatchTo = this_1.targets.filter(function (t) { return data.initialTarget instanceof Node && t.contains(data.initialTarget); });\r\n                this_1.inertia(dispatchTo, timestamp, // time now\r\n                Math.abs(deltaX) / deltaT, // speed\r\n                deltaX > 0 ? 1 : -1, // x direction\r\n                finalX, // x now\r\n                Math.abs(deltaY) / deltaT, // y speed\r\n                deltaY > 0 ? 1 : -1, // y direction\r\n                finalY // y now\r\n                );\r\n            }\r\n            this_1.dispatchEvent(this_1.newGestureEvent(EventType.End, data.initialTarget));\r\n            // forget about this touch\r\n            delete this_1.activeTouches[touch.identifier];\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0, len = e.changedTouches.length; i < len; i++) {\r\n            _loop_1(i, len);\r\n        }\r\n        if (this.dispatched) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.dispatched = false;\r\n        }\r\n    };\r\n    Gesture.prototype.newGestureEvent = function (type, initialTarget) {\r\n        var event = document.createEvent('CustomEvent');\r\n        event.initEvent(type, false, true);\r\n        event.initialTarget = initialTarget;\r\n        event.tapCount = 0;\r\n        return event;\r\n    };\r\n    Gesture.prototype.dispatchEvent = function (event) {\r\n        var _this = this;\r\n        if (event.type === EventType.Tap) {\r\n            var currentTime = (new Date()).getTime();\r\n            var setTapCount = 0;\r\n            if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\r\n                setTapCount = 1;\r\n            }\r\n            else {\r\n                setTapCount = 2;\r\n            }\r\n            this._lastSetTapCountTime = currentTime;\r\n            event.tapCount = setTapCount;\r\n        }\r\n        else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\r\n            // tap is canceled by scrolling or context menu\r\n            this._lastSetTapCountTime = 0;\r\n        }\r\n        for (var i = 0; i < this.ignoreTargets.length; i++) {\r\n            if (event.initialTarget instanceof Node && this.ignoreTargets[i].contains(event.initialTarget)) {\r\n                return;\r\n            }\r\n        }\r\n        this.targets.forEach(function (target) {\r\n            if (event.initialTarget instanceof Node && target.contains(event.initialTarget)) {\r\n                target.dispatchEvent(event);\r\n                _this.dispatched = true;\r\n            }\r\n        });\r\n    };\r\n    Gesture.prototype.inertia = function (dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\r\n        var _this = this;\r\n        this.handle = DomUtils.scheduleAtNextAnimationFrame(function () {\r\n            var now = Date.now();\r\n            // velocity: old speed + accel_over_time\r\n            var deltaT = now - t1, delta_pos_x = 0, delta_pos_y = 0, stopped = true;\r\n            vX += Gesture.SCROLL_FRICTION * deltaT;\r\n            vY += Gesture.SCROLL_FRICTION * deltaT;\r\n            if (vX > 0) {\r\n                stopped = false;\r\n                delta_pos_x = dirX * vX * deltaT;\r\n            }\r\n            if (vY > 0) {\r\n                stopped = false;\r\n                delta_pos_y = dirY * vY * deltaT;\r\n            }\r\n            // dispatch translation event\r\n            var evt = _this.newGestureEvent(EventType.Change);\r\n            evt.translationX = delta_pos_x;\r\n            evt.translationY = delta_pos_y;\r\n            dispatchTo.forEach(function (d) { return d.dispatchEvent(evt); });\r\n            if (!stopped) {\r\n                _this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\r\n            }\r\n        });\r\n    };\r\n    Gesture.prototype.onTouchMove = function (e) {\r\n        var timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\r\n        for (var i = 0, len = e.changedTouches.length; i < len; i++) {\r\n            var touch = e.changedTouches.item(i);\r\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\r\n                console.warn('end of an UNKNOWN touch', touch);\r\n                continue;\r\n            }\r\n            var data = this.activeTouches[touch.identifier];\r\n            var evt = this.newGestureEvent(EventType.Change, data.initialTarget);\r\n            evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\r\n            evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\r\n            evt.pageX = touch.pageX;\r\n            evt.pageY = touch.pageY;\r\n            this.dispatchEvent(evt);\r\n            // only keep a few data points, to average the final speed\r\n            if (data.rollingPageX.length > 3) {\r\n                data.rollingPageX.shift();\r\n                data.rollingPageY.shift();\r\n                data.rollingTimestamps.shift();\r\n            }\r\n            data.rollingPageX.push(touch.pageX);\r\n            data.rollingPageY.push(touch.pageY);\r\n            data.rollingTimestamps.push(timestamp);\r\n        }\r\n        if (this.dispatched) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.dispatched = false;\r\n        }\r\n    };\r\n    Gesture.SCROLL_FRICTION = -0.005;\r\n    Gesture.HOLD_DELAY = 700;\r\n    Gesture.CLEAR_TAP_COUNT_TIME = 400; // ms\r\n    __decorate([\r\n        memoize\r\n    ], Gesture, \"isTouchDevice\", null);\r\n    return Gesture;\r\n}(Disposable));\r\nexport { Gesture };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}