{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\src\\\\containers\\\\FormAction\\\\addFormAction.js\";\nimport React, { Component } from 'react';\nimport { Breadcrumb, Icon, Col, Row, Select, Form, Modal, Spin } from 'antd';\nimport LayoutContentWrapper from '../../components/utility/layoutWrapper';\nimport LayoutContent from '../../components/utility/layoutContent';\nimport Button from '../../components/uielements/button';\nimport { CallServerPost, errorModal, successModal, getProjectRole } from '../Utility/sharedUtility';\nimport { rowStyle } from '../../styles/JsStyles/CommonStyles';\nimport SingleForm from '../Utility/SingleForm';\nvar projectRole = getProjectRole();\nvar antIcon = /*#__PURE__*/React.createElement(Icon, {\n  type: \"loading\",\n  style: {\n    fontSize: 24,\n    color: '#17242c'\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 17\n  }\n});\nvar AddFormAction = /*#__PURE__*/function (_Component) {\n  _inherits(AddFormAction, _Component);\n  var _super = _createSuper(AddFormAction);\n  function AddFormAction(_props) {\n    var _this;\n    _classCallCheck(this, AddFormAction);\n    _this = _super.call(this, _props);\n    _this.getFormData = function (props) {\n      if (typeof props.FormID != \"undefined\" && props.FormID != null && props.action === \"Create\" && props.visible) {\n        var thisObj = _assertThisInitialized(_this);\n        var formID = props.FormID;\n        var formName = props.FormName;\n        CallServerPost('FormAction/GetFormActionFormData', {\n          FormName: \"FormAction\",\n          ActionName: \"Create\"\n        }).then(function (response) {\n          var responseData = response.value;\n          if (response.status == 0) {\n            errorModal(responseData.message);\n          } else {\n            thisObj.setState({\n              responseData: responseData,\n              formID: formID\n            });\n          }\n        }).catch(function (error) {\n          return error;\n        });\n      }\n    };\n    _this.handleCancel = function () {\n      _this.props.handleCancel();\n    };\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var thisObj = _assertThisInitialized(_this);\n      var formID = _this.state.formID;\n      thisObj.props.form.validateFields(function (err, values) {\n        if (!err) {\n          values[\"FormID\"] = formID;\n          values[\"TimeZone\"] = \"IST\";\n          values[\"UpdatedBy\"] = projectRole.userProfile.userID;\n          thisObj.setState({\n            loading: true,\n            disableBtn: true\n          });\n          CallServerPost('FormAction/Create', values).then(function (response) {\n            if (response.status == 1) {\n              thisObj.setState({\n                loading: false,\n                disableBtn: false\n              });\n              successModal(response.message, thisObj.props, \"/trans/FormAction\");\n            } else {\n              thisObj.setState({\n                loading: false,\n                disableBtn: false\n              });\n              errorModal(response.message);\n            }\n          }).catch(function (error) {\n            return error;\n          });\n        }\n      });\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      loading: false,\n      responseData: {\n        formData: {},\n        selectOptions: {}\n      },\n      formID: null,\n      formName: null,\n      disableBtn: false\n    };\n    _this.getFormData(_this.props);\n    return _this;\n  }\n  _createClass(AddFormAction, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        responseData = _this$state.responseData,\n        loading = _this$state.loading;\n      var _this$props$form = this.props.form,\n        getFieldDecorator = _this$props$form.getFieldDecorator,\n        setFieldsValue = _this$props$form.setFieldsValue;\n      return /*#__PURE__*/React.createElement(Modal, {\n        visible: this.props.visible,\n        title: \"Add Form Action\",\n        style: {\n          top: 20\n        },\n        onCancel: this.state.disableBtn ? null : this.handleCancel,\n        width: '80%',\n        maskClosable: false,\n        footer: null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Spin, {\n        indicator: antIcon,\n        spinning: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, Object.keys(responseData.formData).length > 0 && /*#__PURE__*/React.createElement(SingleForm, {\n        isCreate: true,\n        property: this,\n        responseData: responseData,\n        getFieldDecorator: getFieldDecorator,\n        handleCancel: this.handleCancel,\n        setFieldsValue: setFieldsValue,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      })));\n    }\n  }]);\n  return AddFormAction;\n}(Component);\nvar WrappedApp = Form.create()(AddFormAction);\nexport default WrappedApp;","map":{"version":3,"names":["React","Component","Breadcrumb","Icon","Col","Row","Select","Form","Modal","Spin","LayoutContentWrapper","LayoutContent","Button","CallServerPost","errorModal","successModal","getProjectRole","rowStyle","SingleForm","projectRole","antIcon","fontSize","color","AddFormAction","props","getFormData","FormID","action","visible","thisObj","formID","formName","FormName","ActionName","then","response","responseData","value","status","message","setState","catch","error","handleCancel","handleSubmit","e","preventDefault","state","form","validateFields","err","values","userProfile","userID","loading","disableBtn","bind","formData","selectOptions","getFieldDecorator","setFieldsValue","top","Object","keys","length","WrappedApp","create"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/src/containers/FormAction/addFormAction.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Breadcrumb, Icon, Col, Row, Select, Form, Modal, Spin } from 'antd';\r\nimport LayoutContentWrapper from '../../components/utility/layoutWrapper';\nimport LayoutContent from '../../components/utility/layoutContent';\r\nimport Button from '../../components/uielements/button';\r\nimport { CallServerPost, errorModal, successModal, getProjectRole } from '../Utility/sharedUtility';\r\nimport { rowStyle } from '../../styles/JsStyles/CommonStyles';\r\nimport SingleForm from '../Utility/SingleForm';\r\n\r\nconst projectRole = getProjectRole();\r\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 24, color: '#17242c' }} spin />;\r\n\r\nclass AddFormAction extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n        this.state = {\r\n            loading: false,\r\n            responseData: {\r\n                formData: {},\r\n                selectOptions: {}\r\n            },\r\n            formID: null,\r\n            formName: null,\r\n            disableBtn: false\r\n        };\r\n        this.getFormData(this.props);\r\n    }\r\n\r\n        \r\n\r\n    getFormData = (props) => {\r\n\r\n        if (typeof props.FormID != \"undefined\" && props.FormID != null && props.action === \"Create\" && props.visible) {\r\n            const thisObj = this;            \r\n            let formID = props.FormID;\r\n            var formName = props.FormName;            \r\n            CallServerPost('FormAction/GetFormActionFormData', { FormName: \"FormAction\", ActionName: \"Create\" }).then(\r\n                function (response) {\r\n                    const responseData = response.value;\r\n                    if (response.status == 0) {\r\n                        errorModal(responseData.message);\r\n                    } else {\r\n                        thisObj.setState({ responseData: responseData, formID: formID });\r\n                    }\r\n\r\n                }).catch(error => error);\r\n        }\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.handleCancel();\r\n    }\r\n    \r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const thisObj = this;\r\n        const { formID } = this.state;\r\n        thisObj.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                values[\"FormID\"] = formID;\r\n                values[\"TimeZone\"] = \"IST\";\r\n                values[\"UpdatedBy\"] = projectRole.userProfile.userID;\r\n                thisObj.setState({ loading: true , disableBtn: true});\r\n                CallServerPost('FormAction/Create', values)\r\n                    .then(\r\n                    function (response) {\r\n                        if (response.status == 1) {\r\n                            thisObj.setState({ loading: false, disableBtn: false });\r\n                            successModal(response.message, thisObj.props, \"/trans/FormAction\");\r\n                        } else {\r\n                            thisObj.setState({ loading: false, disableBtn: false });\r\n                            errorModal(response.message);\r\n                        }\r\n                    }).catch(error => error);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { responseData, loading } = this.state;\r\n        const { getFieldDecorator, setFieldsValue } = this.props.form;\r\n\r\n        return (\r\n            \n            <Modal\r\n                visible={this.props.visible}\r\n                title={\"Add Form Action\"}\r\n                style={{ top: 20 }}\r\n                onCancel={this.state.disableBtn ? null : this.handleCancel}\r\n                width={'80%'}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n\r\n                <Spin indicator={antIcon} spinning={loading}>\r\n                    {Object.keys(responseData.formData).length > 0 &&\n                        <SingleForm isCreate={true} property={this}  responseData={responseData} getFieldDecorator={getFieldDecorator} handleCancel={this.handleCancel} setFieldsValue={setFieldsValue} handleSubmit={this.handleSubmit} />\n                    }\n                    \r\n                </Spin>\r\n\r\n            </Modal>\n\n                \n            \r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedApp = Form.create()(AddFormAction);\r\n\r\nexport default WrappedApp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}