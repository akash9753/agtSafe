{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport './referencesWidget.css';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { basenameOrAuthority, dirname, isEqual } from '../../../../base/common/resources.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions, TextModel } from '../../../common/model/textModel.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { AriaProvider, DataSource, Delegate, FileReferencesRenderer, OneReferenceRenderer, StringRepresentationProvider, IdentityProvider } from './referencesTree.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { activeContrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport * as peekView from '../../peekView/peekView.js';\nimport { FileReferences, OneReference } from '../referencesModel.js';\nimport { SplitView, Sizing } from '../../../../base/browser/ui/splitview/splitview.js';\nvar DecorationsManager = /** @class */function () {\n  function DecorationsManager(_editor, _model) {\n    var _this = this;\n    this._editor = _editor;\n    this._model = _model;\n    this._decorations = new Map();\n    this._decorationIgnoreSet = new Set();\n    this._callOnDispose = new DisposableStore();\n    this._callOnModelChange = new DisposableStore();\n    this._callOnDispose.add(this._editor.onDidChangeModel(function () {\n      return _this._onModelChanged();\n    }));\n    this._onModelChanged();\n  }\n  DecorationsManager.prototype.dispose = function () {\n    this._callOnModelChange.dispose();\n    this._callOnDispose.dispose();\n    this.removeDecorations();\n  };\n  DecorationsManager.prototype._onModelChanged = function () {\n    this._callOnModelChange.clear();\n    var model = this._editor.getModel();\n    if (model) {\n      for (var _i = 0, _a = this._model.groups; _i < _a.length; _i++) {\n        var ref = _a[_i];\n        if (isEqual(ref.uri, model.uri)) {\n          this._addDecorations(ref);\n          return;\n        }\n      }\n    }\n  };\n  DecorationsManager.prototype._addDecorations = function (reference) {\n    var _this = this;\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function (event) {\n      return _this._onDecorationChanged();\n    }));\n    var newDecorations = [];\n    var newDecorationsActualIndex = [];\n    for (var i = 0, len = reference.children.length; i < len; i++) {\n      var oneReference = reference.children[i];\n      if (this._decorationIgnoreSet.has(oneReference.id)) {\n        continue;\n      }\n      newDecorations.push({\n        range: oneReference.range,\n        options: DecorationsManager.DecorationOptions\n      });\n      newDecorationsActualIndex.push(i);\n    }\n    var decorations = this._editor.deltaDecorations([], newDecorations);\n    for (var i = 0; i < decorations.length; i++) {\n      this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\n    }\n  };\n  DecorationsManager.prototype._onDecorationChanged = function () {\n    var _this = this;\n    var toRemove = [];\n    var model = this._editor.getModel();\n    if (!model) {\n      return;\n    }\n    this._decorations.forEach(function (reference, decorationId) {\n      var newRange = model.getDecorationRange(decorationId);\n      if (!newRange) {\n        return;\n      }\n      var ignore = false;\n      if (Range.equalsRange(newRange, reference.range)) {\n        return;\n      } else if (Range.spansMultipleLines(newRange)) {\n        ignore = true;\n      } else {\n        var lineLength = reference.range.endColumn - reference.range.startColumn;\n        var newLineLength = newRange.endColumn - newRange.startColumn;\n        if (lineLength !== newLineLength) {\n          ignore = true;\n        }\n      }\n      if (ignore) {\n        _this._decorationIgnoreSet.add(reference.id);\n        toRemove.push(decorationId);\n      } else {\n        reference.range = newRange;\n      }\n    });\n    for (var i = 0, len = toRemove.length; i < len; i++) {\n      this._decorations.delete(toRemove[i]);\n    }\n    this._editor.deltaDecorations(toRemove, []);\n  };\n  DecorationsManager.prototype.removeDecorations = function () {\n    var toRemove = [];\n    this._decorations.forEach(function (value, key) {\n      toRemove.push(key);\n    });\n    this._editor.deltaDecorations(toRemove, []);\n    this._decorations.clear();\n  };\n  DecorationsManager.DecorationOptions = ModelDecorationOptions.register({\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'reference-decoration'\n  });\n  return DecorationsManager;\n}();\nvar LayoutData = /** @class */function () {\n  function LayoutData() {\n    this.ratio = 0.7;\n    this.heightInLines = 18;\n  }\n  LayoutData.fromJSON = function (raw) {\n    var ratio;\n    var heightInLines;\n    try {\n      var data = JSON.parse(raw);\n      ratio = data.ratio;\n      heightInLines = data.heightInLines;\n    } catch (_a) {\n      //\n    }\n    return {\n      ratio: ratio || 0.7,\n      heightInLines: heightInLines || 18\n    };\n  };\n  return LayoutData;\n}();\nexport { LayoutData };\n/**\r\n * ZoneWidget that is shown inside the editor\r\n */\nvar ReferenceWidget = /** @class */function (_super) {\n  __extends(ReferenceWidget, _super);\n  function ReferenceWidget(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel) {\n    var _this = _super.call(this, editor, {\n      showFrame: false,\n      showArrow: true,\n      isResizeable: true,\n      isAccessible: true\n    }) || this;\n    _this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n    _this.layoutData = layoutData;\n    _this._textModelResolverService = _textModelResolverService;\n    _this._instantiationService = _instantiationService;\n    _this._peekViewService = _peekViewService;\n    _this._uriLabel = _uriLabel;\n    _this._disposeOnNewModel = new DisposableStore();\n    _this._callOnDispose = new DisposableStore();\n    _this._onDidSelectReference = new Emitter();\n    _this.onDidSelectReference = _this._onDidSelectReference.event;\n    _this._dim = {\n      height: 0,\n      width: 0\n    };\n    _this._applyTheme(themeService.getTheme());\n    _this._callOnDispose.add(themeService.onThemeChange(_this._applyTheme.bind(_this)));\n    _this._peekViewService.addExclusiveWidget(editor, _this);\n    _this.create();\n    return _this;\n  }\n  ReferenceWidget.prototype.dispose = function () {\n    this.setModel(undefined);\n    this._callOnDispose.dispose();\n    this._disposeOnNewModel.dispose();\n    dispose(this._preview);\n    dispose(this._previewNotAvailableMessage);\n    dispose(this._tree);\n    dispose(this._previewModelReference);\n    this._splitView.dispose();\n    _super.prototype.dispose.call(this);\n  };\n  ReferenceWidget.prototype._applyTheme = function (theme) {\n    var borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\n    this.style({\n      arrowColor: borderColor,\n      frameColor: borderColor,\n      headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\n      primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\n      secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\n    });\n  };\n  ReferenceWidget.prototype.show = function (where) {\n    this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */);\n    _super.prototype.show.call(this, where, this.layoutData.heightInLines || 18);\n  };\n  ReferenceWidget.prototype.focusOnReferenceTree = function () {\n    this._tree.domFocus();\n  };\n  ReferenceWidget.prototype.focusOnPreviewEditor = function () {\n    this._preview.focus();\n  };\n  ReferenceWidget.prototype.isPreviewEditorFocused = function () {\n    return this._preview.hasTextFocus();\n  };\n  ReferenceWidget.prototype._onTitleClick = function (e) {\n    if (this._preview && this._preview.getModel()) {\n      this._onDidSelectReference.fire({\n        element: this._getFocusedReference(),\n        kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\n        source: 'title'\n      });\n    }\n  };\n  ReferenceWidget.prototype._fillBody = function (containerElement) {\n    var _this = this;\n    this.setCssClass('reference-zone-widget');\n    // message pane\n    this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\n    dom.hide(this._messageContainer);\n    this._splitView = new SplitView(containerElement, {\n      orientation: 1 /* HORIZONTAL */\n    });\n    // editor\n    this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\n    var options = {\n      scrollBeyondLastLine: false,\n      scrollbar: {\n        verticalScrollbarSize: 14,\n        horizontal: 'auto',\n        useShadows: true,\n        verticalHasArrows: false,\n        horizontalHasArrows: false,\n        alwaysConsumeMouseWheel: false\n      },\n      overviewRulerLanes: 2,\n      fixedOverflowWidgets: true,\n      minimap: {\n        enabled: false\n      }\n    };\n    this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, this.editor);\n    dom.hide(this._previewContainer);\n    this._previewNotAvailableMessage = TextModel.createFromString(nls.localize('missingPreviewMessage', \"no preview available\"));\n    // tree\n    this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\n    var treeOptions = {\n      ariaLabel: nls.localize('treeAriaLabel', \"References\"),\n      keyboardSupport: this._defaultTreeKeyboardSupport,\n      accessibilityProvider: new AriaProvider(),\n      keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\n      identityProvider: new IdentityProvider(),\n      overrideStyles: {\n        listBackground: peekView.peekViewResultsBackground\n      }\n    };\n    this._tree = this._instantiationService.createInstance(WorkbenchAsyncDataTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [this._instantiationService.createInstance(FileReferencesRenderer), this._instantiationService.createInstance(OneReferenceRenderer)], this._instantiationService.createInstance(DataSource), treeOptions);\n    // split stuff\n    this._splitView.addView({\n      onDidChange: Event.None,\n      element: this._previewContainer,\n      minimumSize: 200,\n      maximumSize: Number.MAX_VALUE,\n      layout: function layout(width) {\n        _this._preview.layout({\n          height: _this._dim.height,\n          width: width\n        });\n      }\n    }, Sizing.Distribute);\n    this._splitView.addView({\n      onDidChange: Event.None,\n      element: this._treeContainer,\n      minimumSize: 100,\n      maximumSize: Number.MAX_VALUE,\n      layout: function layout(width) {\n        _this._treeContainer.style.height = _this._dim.height + \"px\";\n        _this._treeContainer.style.width = width + \"px\";\n        _this._tree.layout(_this._dim.height, width);\n      }\n    }, Sizing.Distribute);\n    this._disposables.add(this._splitView.onDidSashChange(function () {\n      if (_this._dim.width) {\n        _this.layoutData.ratio = _this._splitView.getViewSize(0) / _this._dim.width;\n      }\n    }, undefined));\n    // listen on selection and focus\n    var onEvent = function onEvent(element, kind) {\n      if (element instanceof OneReference) {\n        if (kind === 'show') {\n          _this._revealReference(element, false);\n        }\n        _this._onDidSelectReference.fire({\n          element: element,\n          kind: kind,\n          source: 'tree'\n        });\n      }\n    };\n    this._tree.onDidChangeFocus(function (e) {\n      onEvent(e.elements[0], 'show');\n    });\n    this._tree.onDidOpen(function (e) {\n      if (e.browserEvent instanceof MouseEvent && (e.browserEvent.ctrlKey || e.browserEvent.metaKey || e.browserEvent.altKey)) {\n        // modifier-click -> open to the side\n        onEvent(e.elements[0], 'side');\n      } else if (e.browserEvent instanceof KeyboardEvent || e.browserEvent instanceof MouseEvent && e.browserEvent.detail === 2 || e.browserEvent.tapCount === 2) {\n        // keybinding (list service command)\n        // OR double click\n        // OR double tap\n        // -> close widget and goto target\n        onEvent(e.elements[0], 'goto');\n      } else {\n        // preview location\n        onEvent(e.elements[0], 'show');\n      }\n    });\n    dom.hide(this._treeContainer);\n  };\n  ReferenceWidget.prototype._onWidth = function (width) {\n    if (this._dim) {\n      this._doLayoutBody(this._dim.height, width);\n    }\n  };\n  ReferenceWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\n    _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\n    this._dim = {\n      height: heightInPixel,\n      width: widthInPixel\n    };\n    this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\n    this._splitView.layout(widthInPixel);\n    this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\n  };\n  ReferenceWidget.prototype.setSelection = function (selection) {\n    var _this = this;\n    return this._revealReference(selection, true).then(function () {\n      if (!_this._model) {\n        // disposed\n        return;\n      }\n      // show in tree\n      _this._tree.setSelection([selection]);\n      _this._tree.setFocus([selection]);\n    });\n  };\n  ReferenceWidget.prototype.setModel = function (newModel) {\n    // clean up\n    this._disposeOnNewModel.clear();\n    this._model = newModel;\n    if (this._model) {\n      return this._onNewModel();\n    }\n    return Promise.resolve();\n  };\n  ReferenceWidget.prototype._onNewModel = function () {\n    var _this = this;\n    if (!this._model) {\n      return Promise.resolve(undefined);\n    }\n    if (this._model.isEmpty) {\n      this.setTitle('');\n      this._messageContainer.innerHTML = nls.localize('noResults', \"No results\");\n      dom.show(this._messageContainer);\n      return Promise.resolve(undefined);\n    }\n    dom.hide(this._messageContainer);\n    this._decorationsManager = new DecorationsManager(this._preview, this._model);\n    this._disposeOnNewModel.add(this._decorationsManager);\n    // listen on model changes\n    this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function (reference) {\n      return _this._tree.rerender(reference);\n    }));\n    // listen on editor\n    this._disposeOnNewModel.add(this._preview.onMouseDown(function (e) {\n      var event = e.event,\n        target = e.target;\n      if (event.detail !== 2) {\n        return;\n      }\n      var element = _this._getFocusedReference();\n      if (!element) {\n        return;\n      }\n      _this._onDidSelectReference.fire({\n        element: {\n          uri: element.uri,\n          range: target.range\n        },\n        kind: event.ctrlKey || event.metaKey || event.altKey ? 'side' : 'open',\n        source: 'editor'\n      });\n    }));\n    // make sure things are rendered\n    dom.addClass(this.container, 'results-loaded');\n    dom.show(this._treeContainer);\n    dom.show(this._previewContainer);\n    this._splitView.layout(this._dim.width);\n    this.focusOnReferenceTree();\n    // pick input and a reference to begin with\n    return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\n  };\n  ReferenceWidget.prototype._getFocusedReference = function () {\n    var element = this._tree.getFocus()[0];\n    if (element instanceof OneReference) {\n      return element;\n    } else if (element instanceof FileReferences) {\n      if (element.children.length > 0) {\n        return element.children[0];\n      }\n    }\n    return undefined;\n  };\n  ReferenceWidget.prototype._revealReference = function (reference, revealParent) {\n    return __awaiter(this, void 0, void 0, function () {\n      var promise, ref, model, scrollType, sel;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // check if there is anything to do...\n            if (this._revealedReference === reference) {\n              return [2 /*return*/];\n            }\n\n            this._revealedReference = reference;\n            // Update widget header\n            if (reference.uri.scheme !== Schemas.inMemory) {\n              this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\n            } else {\n              this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\n            }\n            promise = this._textModelResolverService.createModelReference(reference.uri);\n            if (!(this._tree.getInput() === reference.parent)) return [3 /*break*/, 1];\n            this._tree.reveal(reference);\n            return [3 /*break*/, 3];\n          case 1:\n            if (revealParent) {\n              this._tree.reveal(reference.parent);\n            }\n            return [4 /*yield*/, this._tree.expand(reference.parent)];\n          case 2:\n            _a.sent();\n            this._tree.reveal(reference);\n            _a.label = 3;\n          case 3:\n            return [4 /*yield*/, promise];\n          case 4:\n            ref = _a.sent();\n            if (!this._model) {\n              // disposed\n              ref.dispose();\n              return [2 /*return*/];\n            }\n\n            dispose(this._previewModelReference);\n            model = ref.object;\n            if (model) {\n              scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* Smooth */ : 1 /* Immediate */;\n              sel = Range.lift(reference.range).collapseToStart();\n              this._previewModelReference = ref;\n              this._preview.setModel(model.textEditorModel);\n              this._preview.setSelection(sel);\n              this._preview.revealRangeInCenter(sel, scrollType);\n            } else {\n              this._preview.setModel(this._previewNotAvailableMessage);\n              ref.dispose();\n            }\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  ReferenceWidget = __decorate([__param(3, IThemeService), __param(4, ITextModelService), __param(5, IInstantiationService), __param(6, peekView.IPeekViewService), __param(7, ILabelService)], ReferenceWidget);\n  return ReferenceWidget;\n}(peekView.PeekViewWidget);\nexport { ReferenceWidget };\n// theming\nregisterThemingParticipant(function (theme, collector) {\n  var findMatchHighlightColor = theme.getColor(peekView.peekViewResultsMatchHighlight);\n  if (findMatchHighlightColor) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: \" + findMatchHighlightColor + \"; }\");\n  }\n  var referenceHighlightColor = theme.getColor(peekView.peekViewEditorMatchHighlight);\n  if (referenceHighlightColor) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: \" + referenceHighlightColor + \"; }\");\n  }\n  var referenceHighlightBorder = theme.getColor(peekView.peekViewEditorMatchHighlightBorder);\n  if (referenceHighlightBorder) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid \" + referenceHighlightBorder + \"; box-sizing: border-box; }\");\n  }\n  var hcOutline = theme.getColor(activeContrastBorder);\n  if (hcOutline) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted \" + hcOutline + \"; box-sizing: border-box; }\");\n  }\n  var resultsBackground = theme.getColor(peekView.peekViewResultsBackground);\n  if (resultsBackground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { background-color: \" + resultsBackground + \"; }\");\n  }\n  var resultsMatchForeground = theme.getColor(peekView.peekViewResultsMatchForeground);\n  if (resultsMatchForeground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { color: \" + resultsMatchForeground + \"; }\");\n  }\n  var resultsFileForeground = theme.getColor(peekView.peekViewResultsFileForeground);\n  if (resultsFileForeground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: \" + resultsFileForeground + \"; }\");\n  }\n  var resultsSelectedBackground = theme.getColor(peekView.peekViewResultsSelectionBackground);\n  if (resultsSelectedBackground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: \" + resultsSelectedBackground + \"; }\");\n  }\n  var resultsSelectedForeground = theme.getColor(peekView.peekViewResultsSelectionForeground);\n  if (resultsSelectedForeground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: \" + resultsSelectedForeground + \" !important; }\");\n  }\n  var editorBackground = theme.getColor(peekView.peekViewEditorBackground);\n  if (editorBackground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\" + \".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\" + (\"\\tbackground-color: \" + editorBackground + \";\") + \"}\");\n  }\n  var editorGutterBackground = theme.getColor(peekView.peekViewEditorGutterBackground);\n  if (editorGutterBackground) {\n    collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\" + (\"\\tbackground-color: \" + editorGutterBackground + \";\") + \"}\");\n  }\n});","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","push","dom","Color","Emitter","Event","dispose","DisposableStore","Schemas","basenameOrAuthority","dirname","isEqual","EmbeddedCodeEditorWidget","Range","ModelDecorationOptions","TextModel","ITextModelService","AriaProvider","DataSource","Delegate","FileReferencesRenderer","OneReferenceRenderer","StringRepresentationProvider","IdentityProvider","nls","IInstantiationService","ILabelService","WorkbenchAsyncDataTree","activeContrastBorder","IThemeService","registerThemingParticipant","peekView","FileReferences","OneReference","SplitView","Sizing","DecorationsManager","_editor","_model","_this","_decorations","Map","_decorationIgnoreSet","Set","_callOnDispose","_callOnModelChange","add","onDidChangeModel","_onModelChanged","removeDecorations","clear","model","getModel","_i","_a","groups","ref","uri","_addDecorations","reference","hasModel","onDidChangeDecorations","event","_onDecorationChanged","newDecorations","newDecorationsActualIndex","len","children","oneReference","has","id","range","options","DecorationOptions","decorations","deltaDecorations","set","toRemove","forEach","decorationId","newRange","getDecorationRange","ignore","equalsRange","spansMultipleLines","lineLength","endColumn","startColumn","newLineLength","delete","register","stickiness","className","LayoutData","ratio","heightInLines","fromJSON","raw","data","JSON","parse","ReferenceWidget","_super","editor","_defaultTreeKeyboardSupport","layoutData","themeService","_textModelResolverService","_instantiationService","_peekViewService","_uriLabel","showFrame","showArrow","isResizeable","isAccessible","_disposeOnNewModel","_onDidSelectReference","onDidSelectReference","_dim","height","width","_applyTheme","getTheme","onThemeChange","bind","addExclusiveWidget","setModel","undefined","_preview","_previewNotAvailableMessage","_tree","_previewModelReference","_splitView","theme","borderColor","getColor","peekViewBorder","transparent","style","arrowColor","frameColor","headerBackgroundColor","peekViewTitleBackground","primaryHeadingColor","peekViewTitleForeground","secondaryHeadingColor","peekViewTitleInfoForeground","show","where","revealRangeInCenterIfOutsideViewport","focusOnReferenceTree","domFocus","focusOnPreviewEditor","focus","isPreviewEditorFocused","hasTextFocus","_onTitleClick","fire","element","_getFocusedReference","kind","ctrlKey","metaKey","altKey","source","_fillBody","containerElement","setCssClass","_messageContainer","append","$","hide","orientation","_previewContainer","scrollBeyondLastLine","scrollbar","verticalScrollbarSize","horizontal","useShadows","verticalHasArrows","horizontalHasArrows","alwaysConsumeMouseWheel","overviewRulerLanes","fixedOverflowWidgets","minimap","enabled","createInstance","createFromString","localize","_treeContainer","treeOptions","ariaLabel","keyboardSupport","accessibilityProvider","keyboardNavigationLabelProvider","identityProvider","overrideStyles","listBackground","peekViewResultsBackground","addView","onDidChange","None","minimumSize","maximumSize","Number","MAX_VALUE","layout","Distribute","_disposables","onDidSashChange","getViewSize","onEvent","_revealReference","onDidChangeFocus","elements","onDidOpen","browserEvent","MouseEvent","KeyboardEvent","detail","tapCount","_onWidth","_doLayoutBody","heightInPixel","widthInPixel","_viewZone","resizeView","setSelection","selection","setFocus","newModel","_onNewModel","isEmpty","setTitle","innerHTML","_decorationsManager","onDidChangeReferenceRange","rerender","onMouseDown","addClass","container","setInput","getFocus","revealParent","promise","scrollType","sel","_revealedReference","scheme","inMemory","getUriLabel","createModelReference","getInput","parent","reveal","expand","object","textEditorModel","lift","collapseToStart","revealRangeInCenter","IPeekViewService","PeekViewWidget","collector","findMatchHighlightColor","peekViewResultsMatchHighlight","addRule","referenceHighlightColor","peekViewEditorMatchHighlight","referenceHighlightBorder","peekViewEditorMatchHighlightBorder","hcOutline","resultsBackground","resultsMatchForeground","peekViewResultsMatchForeground","resultsFileForeground","peekViewResultsFileForeground","resultsSelectedBackground","peekViewResultsSelectionBackground","resultsSelectedForeground","peekViewResultsSelectionForeground","editorBackground","peekViewEditorBackground","editorGutterBackground","peekViewEditorGutterBackground"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/peek/referencesWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport './referencesWidget.css';\r\nimport * as dom from '../../../../base/browser/dom.js';\r\nimport { Color } from '../../../../base/common/color.js';\r\nimport { Emitter, Event } from '../../../../base/common/event.js';\r\nimport { dispose, DisposableStore } from '../../../../base/common/lifecycle.js';\r\nimport { Schemas } from '../../../../base/common/network.js';\r\nimport { basenameOrAuthority, dirname, isEqual } from '../../../../base/common/resources.js';\r\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\r\nimport { Range } from '../../../common/core/range.js';\r\nimport { ModelDecorationOptions, TextModel } from '../../../common/model/textModel.js';\r\nimport { ITextModelService } from '../../../common/services/resolverService.js';\r\nimport { AriaProvider, DataSource, Delegate, FileReferencesRenderer, OneReferenceRenderer, StringRepresentationProvider, IdentityProvider } from './referencesTree.js';\r\nimport * as nls from '../../../../nls.js';\r\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\r\nimport { ILabelService } from '../../../../platform/label/common/label.js';\r\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\r\nimport { activeContrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\r\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\r\nimport * as peekView from '../../peekView/peekView.js';\r\nimport { FileReferences, OneReference } from '../referencesModel.js';\r\nimport { SplitView, Sizing } from '../../../../base/browser/ui/splitview/splitview.js';\r\nvar DecorationsManager = /** @class */ (function () {\r\n    function DecorationsManager(_editor, _model) {\r\n        var _this = this;\r\n        this._editor = _editor;\r\n        this._model = _model;\r\n        this._decorations = new Map();\r\n        this._decorationIgnoreSet = new Set();\r\n        this._callOnDispose = new DisposableStore();\r\n        this._callOnModelChange = new DisposableStore();\r\n        this._callOnDispose.add(this._editor.onDidChangeModel(function () { return _this._onModelChanged(); }));\r\n        this._onModelChanged();\r\n    }\r\n    DecorationsManager.prototype.dispose = function () {\r\n        this._callOnModelChange.dispose();\r\n        this._callOnDispose.dispose();\r\n        this.removeDecorations();\r\n    };\r\n    DecorationsManager.prototype._onModelChanged = function () {\r\n        this._callOnModelChange.clear();\r\n        var model = this._editor.getModel();\r\n        if (model) {\r\n            for (var _i = 0, _a = this._model.groups; _i < _a.length; _i++) {\r\n                var ref = _a[_i];\r\n                if (isEqual(ref.uri, model.uri)) {\r\n                    this._addDecorations(ref);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DecorationsManager.prototype._addDecorations = function (reference) {\r\n        var _this = this;\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function (event) { return _this._onDecorationChanged(); }));\r\n        var newDecorations = [];\r\n        var newDecorationsActualIndex = [];\r\n        for (var i = 0, len = reference.children.length; i < len; i++) {\r\n            var oneReference = reference.children[i];\r\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\r\n                continue;\r\n            }\r\n            newDecorations.push({\r\n                range: oneReference.range,\r\n                options: DecorationsManager.DecorationOptions\r\n            });\r\n            newDecorationsActualIndex.push(i);\r\n        }\r\n        var decorations = this._editor.deltaDecorations([], newDecorations);\r\n        for (var i = 0; i < decorations.length; i++) {\r\n            this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\r\n        }\r\n    };\r\n    DecorationsManager.prototype._onDecorationChanged = function () {\r\n        var _this = this;\r\n        var toRemove = [];\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return;\r\n        }\r\n        this._decorations.forEach(function (reference, decorationId) {\r\n            var newRange = model.getDecorationRange(decorationId);\r\n            if (!newRange) {\r\n                return;\r\n            }\r\n            var ignore = false;\r\n            if (Range.equalsRange(newRange, reference.range)) {\r\n                return;\r\n            }\r\n            else if (Range.spansMultipleLines(newRange)) {\r\n                ignore = true;\r\n            }\r\n            else {\r\n                var lineLength = reference.range.endColumn - reference.range.startColumn;\r\n                var newLineLength = newRange.endColumn - newRange.startColumn;\r\n                if (lineLength !== newLineLength) {\r\n                    ignore = true;\r\n                }\r\n            }\r\n            if (ignore) {\r\n                _this._decorationIgnoreSet.add(reference.id);\r\n                toRemove.push(decorationId);\r\n            }\r\n            else {\r\n                reference.range = newRange;\r\n            }\r\n        });\r\n        for (var i = 0, len = toRemove.length; i < len; i++) {\r\n            this._decorations.delete(toRemove[i]);\r\n        }\r\n        this._editor.deltaDecorations(toRemove, []);\r\n    };\r\n    DecorationsManager.prototype.removeDecorations = function () {\r\n        var toRemove = [];\r\n        this._decorations.forEach(function (value, key) {\r\n            toRemove.push(key);\r\n        });\r\n        this._editor.deltaDecorations(toRemove, []);\r\n        this._decorations.clear();\r\n    };\r\n    DecorationsManager.DecorationOptions = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'reference-decoration'\r\n    });\r\n    return DecorationsManager;\r\n}());\r\nvar LayoutData = /** @class */ (function () {\r\n    function LayoutData() {\r\n        this.ratio = 0.7;\r\n        this.heightInLines = 18;\r\n    }\r\n    LayoutData.fromJSON = function (raw) {\r\n        var ratio;\r\n        var heightInLines;\r\n        try {\r\n            var data = JSON.parse(raw);\r\n            ratio = data.ratio;\r\n            heightInLines = data.heightInLines;\r\n        }\r\n        catch (_a) {\r\n            //\r\n        }\r\n        return {\r\n            ratio: ratio || 0.7,\r\n            heightInLines: heightInLines || 18\r\n        };\r\n    };\r\n    return LayoutData;\r\n}());\r\nexport { LayoutData };\r\n/**\r\n * ZoneWidget that is shown inside the editor\r\n */\r\nvar ReferenceWidget = /** @class */ (function (_super) {\r\n    __extends(ReferenceWidget, _super);\r\n    function ReferenceWidget(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel) {\r\n        var _this = _super.call(this, editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true }) || this;\r\n        _this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\r\n        _this.layoutData = layoutData;\r\n        _this._textModelResolverService = _textModelResolverService;\r\n        _this._instantiationService = _instantiationService;\r\n        _this._peekViewService = _peekViewService;\r\n        _this._uriLabel = _uriLabel;\r\n        _this._disposeOnNewModel = new DisposableStore();\r\n        _this._callOnDispose = new DisposableStore();\r\n        _this._onDidSelectReference = new Emitter();\r\n        _this.onDidSelectReference = _this._onDidSelectReference.event;\r\n        _this._dim = { height: 0, width: 0 };\r\n        _this._applyTheme(themeService.getTheme());\r\n        _this._callOnDispose.add(themeService.onThemeChange(_this._applyTheme.bind(_this)));\r\n        _this._peekViewService.addExclusiveWidget(editor, _this);\r\n        _this.create();\r\n        return _this;\r\n    }\r\n    ReferenceWidget.prototype.dispose = function () {\r\n        this.setModel(undefined);\r\n        this._callOnDispose.dispose();\r\n        this._disposeOnNewModel.dispose();\r\n        dispose(this._preview);\r\n        dispose(this._previewNotAvailableMessage);\r\n        dispose(this._tree);\r\n        dispose(this._previewModelReference);\r\n        this._splitView.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    ReferenceWidget.prototype._applyTheme = function (theme) {\r\n        var borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\r\n        this.style({\r\n            arrowColor: borderColor,\r\n            frameColor: borderColor,\r\n            headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\r\n            primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\r\n            secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.show = function (where) {\r\n        this.editor.revealRangeInCenterIfOutsideViewport(where, 0 /* Smooth */);\r\n        _super.prototype.show.call(this, where, this.layoutData.heightInLines || 18);\r\n    };\r\n    ReferenceWidget.prototype.focusOnReferenceTree = function () {\r\n        this._tree.domFocus();\r\n    };\r\n    ReferenceWidget.prototype.focusOnPreviewEditor = function () {\r\n        this._preview.focus();\r\n    };\r\n    ReferenceWidget.prototype.isPreviewEditorFocused = function () {\r\n        return this._preview.hasTextFocus();\r\n    };\r\n    ReferenceWidget.prototype._onTitleClick = function (e) {\r\n        if (this._preview && this._preview.getModel()) {\r\n            this._onDidSelectReference.fire({\r\n                element: this._getFocusedReference(),\r\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\r\n                source: 'title'\r\n            });\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._fillBody = function (containerElement) {\r\n        var _this = this;\r\n        this.setCssClass('reference-zone-widget');\r\n        // message pane\r\n        this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\r\n        dom.hide(this._messageContainer);\r\n        this._splitView = new SplitView(containerElement, { orientation: 1 /* HORIZONTAL */ });\r\n        // editor\r\n        this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\r\n        var options = {\r\n            scrollBeyondLastLine: false,\r\n            scrollbar: {\r\n                verticalScrollbarSize: 14,\r\n                horizontal: 'auto',\r\n                useShadows: true,\r\n                verticalHasArrows: false,\r\n                horizontalHasArrows: false,\r\n                alwaysConsumeMouseWheel: false\r\n            },\r\n            overviewRulerLanes: 2,\r\n            fixedOverflowWidgets: true,\r\n            minimap: {\r\n                enabled: false\r\n            }\r\n        };\r\n        this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, this.editor);\r\n        dom.hide(this._previewContainer);\r\n        this._previewNotAvailableMessage = TextModel.createFromString(nls.localize('missingPreviewMessage', \"no preview available\"));\r\n        // tree\r\n        this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\r\n        var treeOptions = {\r\n            ariaLabel: nls.localize('treeAriaLabel', \"References\"),\r\n            keyboardSupport: this._defaultTreeKeyboardSupport,\r\n            accessibilityProvider: new AriaProvider(),\r\n            keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\r\n            identityProvider: new IdentityProvider(),\r\n            overrideStyles: {\r\n                listBackground: peekView.peekViewResultsBackground\r\n            }\r\n        };\r\n        this._tree = this._instantiationService.createInstance(WorkbenchAsyncDataTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [\r\n            this._instantiationService.createInstance(FileReferencesRenderer),\r\n            this._instantiationService.createInstance(OneReferenceRenderer),\r\n        ], this._instantiationService.createInstance(DataSource), treeOptions);\r\n        // split stuff\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._previewContainer,\r\n            minimumSize: 200,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._preview.layout({ height: _this._dim.height, width: width });\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._splitView.addView({\r\n            onDidChange: Event.None,\r\n            element: this._treeContainer,\r\n            minimumSize: 100,\r\n            maximumSize: Number.MAX_VALUE,\r\n            layout: function (width) {\r\n                _this._treeContainer.style.height = _this._dim.height + \"px\";\r\n                _this._treeContainer.style.width = width + \"px\";\r\n                _this._tree.layout(_this._dim.height, width);\r\n            }\r\n        }, Sizing.Distribute);\r\n        this._disposables.add(this._splitView.onDidSashChange(function () {\r\n            if (_this._dim.width) {\r\n                _this.layoutData.ratio = _this._splitView.getViewSize(0) / _this._dim.width;\r\n            }\r\n        }, undefined));\r\n        // listen on selection and focus\r\n        var onEvent = function (element, kind) {\r\n            if (element instanceof OneReference) {\r\n                if (kind === 'show') {\r\n                    _this._revealReference(element, false);\r\n                }\r\n                _this._onDidSelectReference.fire({ element: element, kind: kind, source: 'tree' });\r\n            }\r\n        };\r\n        this._tree.onDidChangeFocus(function (e) {\r\n            onEvent(e.elements[0], 'show');\r\n        });\r\n        this._tree.onDidOpen(function (e) {\r\n            if (e.browserEvent instanceof MouseEvent && (e.browserEvent.ctrlKey || e.browserEvent.metaKey || e.browserEvent.altKey)) {\r\n                // modifier-click -> open to the side\r\n                onEvent(e.elements[0], 'side');\r\n            }\r\n            else if (e.browserEvent instanceof KeyboardEvent || (e.browserEvent instanceof MouseEvent && e.browserEvent.detail === 2) || e.browserEvent.tapCount === 2) {\r\n                // keybinding (list service command)\r\n                // OR double click\r\n                // OR double tap\r\n                // -> close widget and goto target\r\n                onEvent(e.elements[0], 'goto');\r\n            }\r\n            else {\r\n                // preview location\r\n                onEvent(e.elements[0], 'show');\r\n            }\r\n        });\r\n        dom.hide(this._treeContainer);\r\n    };\r\n    ReferenceWidget.prototype._onWidth = function (width) {\r\n        if (this._dim) {\r\n            this._doLayoutBody(this._dim.height, width);\r\n        }\r\n    };\r\n    ReferenceWidget.prototype._doLayoutBody = function (heightInPixel, widthInPixel) {\r\n        _super.prototype._doLayoutBody.call(this, heightInPixel, widthInPixel);\r\n        this._dim = { height: heightInPixel, width: widthInPixel };\r\n        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\r\n        this._splitView.layout(widthInPixel);\r\n        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\r\n    };\r\n    ReferenceWidget.prototype.setSelection = function (selection) {\r\n        var _this = this;\r\n        return this._revealReference(selection, true).then(function () {\r\n            if (!_this._model) {\r\n                // disposed\r\n                return;\r\n            }\r\n            // show in tree\r\n            _this._tree.setSelection([selection]);\r\n            _this._tree.setFocus([selection]);\r\n        });\r\n    };\r\n    ReferenceWidget.prototype.setModel = function (newModel) {\r\n        // clean up\r\n        this._disposeOnNewModel.clear();\r\n        this._model = newModel;\r\n        if (this._model) {\r\n            return this._onNewModel();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    ReferenceWidget.prototype._onNewModel = function () {\r\n        var _this = this;\r\n        if (!this._model) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        if (this._model.isEmpty) {\r\n            this.setTitle('');\r\n            this._messageContainer.innerHTML = nls.localize('noResults', \"No results\");\r\n            dom.show(this._messageContainer);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        dom.hide(this._messageContainer);\r\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\r\n        this._disposeOnNewModel.add(this._decorationsManager);\r\n        // listen on model changes\r\n        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function (reference) { return _this._tree.rerender(reference); }));\r\n        // listen on editor\r\n        this._disposeOnNewModel.add(this._preview.onMouseDown(function (e) {\r\n            var event = e.event, target = e.target;\r\n            if (event.detail !== 2) {\r\n                return;\r\n            }\r\n            var element = _this._getFocusedReference();\r\n            if (!element) {\r\n                return;\r\n            }\r\n            _this._onDidSelectReference.fire({\r\n                element: { uri: element.uri, range: target.range },\r\n                kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\r\n                source: 'editor'\r\n            });\r\n        }));\r\n        // make sure things are rendered\r\n        dom.addClass(this.container, 'results-loaded');\r\n        dom.show(this._treeContainer);\r\n        dom.show(this._previewContainer);\r\n        this._splitView.layout(this._dim.width);\r\n        this.focusOnReferenceTree();\r\n        // pick input and a reference to begin with\r\n        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\r\n    };\r\n    ReferenceWidget.prototype._getFocusedReference = function () {\r\n        var element = this._tree.getFocus()[0];\r\n        if (element instanceof OneReference) {\r\n            return element;\r\n        }\r\n        else if (element instanceof FileReferences) {\r\n            if (element.children.length > 0) {\r\n                return element.children[0];\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    ReferenceWidget.prototype._revealReference = function (reference, revealParent) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promise, ref, model, scrollType, sel;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // check if there is anything to do...\r\n                        if (this._revealedReference === reference) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        this._revealedReference = reference;\r\n                        // Update widget header\r\n                        if (reference.uri.scheme !== Schemas.inMemory) {\r\n                            this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\r\n                        }\r\n                        else {\r\n                            this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\r\n                        }\r\n                        promise = this._textModelResolverService.createModelReference(reference.uri);\r\n                        if (!(this._tree.getInput() === reference.parent)) return [3 /*break*/, 1];\r\n                        this._tree.reveal(reference);\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        if (revealParent) {\r\n                            this._tree.reveal(reference.parent);\r\n                        }\r\n                        return [4 /*yield*/, this._tree.expand(reference.parent)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this._tree.reveal(reference);\r\n                        _a.label = 3;\r\n                    case 3: return [4 /*yield*/, promise];\r\n                    case 4:\r\n                        ref = _a.sent();\r\n                        if (!this._model) {\r\n                            // disposed\r\n                            ref.dispose();\r\n                            return [2 /*return*/];\r\n                        }\r\n                        dispose(this._previewModelReference);\r\n                        model = ref.object;\r\n                        if (model) {\r\n                            scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* Smooth */ : 1 /* Immediate */;\r\n                            sel = Range.lift(reference.range).collapseToStart();\r\n                            this._previewModelReference = ref;\r\n                            this._preview.setModel(model.textEditorModel);\r\n                            this._preview.setSelection(sel);\r\n                            this._preview.revealRangeInCenter(sel, scrollType);\r\n                        }\r\n                        else {\r\n                            this._preview.setModel(this._previewNotAvailableMessage);\r\n                            ref.dispose();\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ReferenceWidget = __decorate([\r\n        __param(3, IThemeService),\r\n        __param(4, ITextModelService),\r\n        __param(5, IInstantiationService),\r\n        __param(6, peekView.IPeekViewService),\r\n        __param(7, ILabelService)\r\n    ], ReferenceWidget);\r\n    return ReferenceWidget;\r\n}(peekView.PeekViewWidget));\r\nexport { ReferenceWidget };\r\n// theming\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var findMatchHighlightColor = theme.getColor(peekView.peekViewResultsMatchHighlight);\r\n    if (findMatchHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: \" + findMatchHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightColor = theme.getColor(peekView.peekViewEditorMatchHighlight);\r\n    if (referenceHighlightColor) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: \" + referenceHighlightColor + \"; }\");\r\n    }\r\n    var referenceHighlightBorder = theme.getColor(peekView.peekViewEditorMatchHighlightBorder);\r\n    if (referenceHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid \" + referenceHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var hcOutline = theme.getColor(activeContrastBorder);\r\n    if (hcOutline) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted \" + hcOutline + \"; box-sizing: border-box; }\");\r\n    }\r\n    var resultsBackground = theme.getColor(peekView.peekViewResultsBackground);\r\n    if (resultsBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { background-color: \" + resultsBackground + \"; }\");\r\n    }\r\n    var resultsMatchForeground = theme.getColor(peekView.peekViewResultsMatchForeground);\r\n    if (resultsMatchForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree { color: \" + resultsMatchForeground + \"; }\");\r\n    }\r\n    var resultsFileForeground = theme.getColor(peekView.peekViewResultsFileForeground);\r\n    if (resultsFileForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: \" + resultsFileForeground + \"; }\");\r\n    }\r\n    var resultsSelectedBackground = theme.getColor(peekView.peekViewResultsSelectionBackground);\r\n    if (resultsSelectedBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: \" + resultsSelectedBackground + \"; }\");\r\n    }\r\n    var resultsSelectedForeground = theme.getColor(peekView.peekViewResultsSelectionForeground);\r\n    if (resultsSelectedForeground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: \" + resultsSelectedForeground + \" !important; }\");\r\n    }\r\n    var editorBackground = theme.getColor(peekView.peekViewEditorBackground);\r\n    if (editorBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\" +\r\n            \".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\" +\r\n            (\"\\tbackground-color: \" + editorBackground + \";\") +\r\n            \"}\");\r\n    }\r\n    var editorGutterBackground = theme.getColor(peekView.peekViewEditorGutterBackground);\r\n    if (editorGutterBackground) {\r\n        collector.addRule(\".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\" +\r\n            (\"\\tbackground-color: \" + editorGutterBackground + \";\") +\r\n            \"}\");\r\n    }\r\n});\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,cAAa,GAAG,uBAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,cAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC;QAAE,IAAIA,CAAC,CAACM,cAAc,CAACD,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;MAAC;IAAC,CAAC;IAC9E,OAAOP,cAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,cAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASO,EAAE,GAAG;MAAE,IAAI,CAACC,WAAW,GAAGT,CAAC;IAAE;IACtCA,CAAC,CAACU,SAAS,GAAGT,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACS,MAAM,CAACV,CAAC,CAAC,IAAIO,EAAE,CAACE,SAAS,GAAGT,CAAC,CAACS,SAAS,EAAE,IAAIF,EAAE,EAAE,CAAC;EACxF,CAAC;AACL,CAAC,EAAG;AACJ,IAAII,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGd,MAAM,CAACmB,wBAAwB,CAACP,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEhB,CAAC;EAC5H,IAAI,OAAOsB,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEH,CAAC,GAAGE,OAAO,CAACC,QAAQ,CAACV,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIQ,CAAC,GAAGX,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEK,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE;IAAE,IAAIxB,CAAC,GAAGa,UAAU,CAACW,CAAC,CAAC,EAAEJ,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACoB,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGjB,CAAC,CAACc,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGpB,CAAC,CAACc,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EAAC;EAClJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIlB,MAAM,CAACuB,cAAc,CAACX,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,IAAIM,OAAO,GAAI,IAAI,IAAI,IAAI,CAACA,OAAO,IAAK,UAAUC,UAAU,EAAEC,SAAS,EAAE;EACrE,OAAO,UAAUd,MAAM,EAAEC,GAAG,EAAE;IAAEa,SAAS,CAACd,MAAM,EAAEC,GAAG,EAAEY,UAAU,CAAC;EAAE,CAAC;AACzE,CAAC;AACD,IAAIE,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAK,CAACC,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYH,CAAC,GAAGG,KAAK,GAAG,IAAIH,CAAC,CAAC,UAAUI,OAAO,EAAE;MAAEA,OAAO,CAACD,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAAS,CAACJ,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACN,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQ,CAACR,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAO,CAAC,CAACE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAI,CAACI,MAAM,EAAE;MAAEA,MAAM,CAACC,IAAI,GAAGT,OAAO,CAACQ,MAAM,CAACT,KAAK,CAAC,GAAGD,KAAK,CAACU,MAAM,CAACT,KAAK,CAAC,CAACW,IAAI,CAACP,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAK,CAACjB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAEU,IAAI,EAAE,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,IAAIO,WAAW,GAAI,IAAI,IAAI,IAAI,CAACA,WAAW,IAAK,UAAUlB,OAAO,EAAEmB,IAAI,EAAE;EACrE,IAAIC,CAAC,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,gBAAW;QAAE,IAAIC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,CAAC,CAAC,CAAC,CAAC;QAAE,OAAOA,CAAC,CAAC,CAAC,CAAC;MAAE,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC;IAAEC,CAAC;IAAEC,CAAC;IAAEJ,CAAC;IAAEK,CAAC;EAChH,OAAOA,CAAC,GAAG;IAAEjB,IAAI,EAAEkB,IAAI,CAAC,CAAC,CAAC;IAAE,OAAO,EAAEA,IAAI,CAAC,CAAC,CAAC;IAAE,QAAQ,EAAEA,IAAI,CAAC,CAAC;EAAE,CAAC,EAAE,OAAOC,MAAM,KAAK,UAAU,KAAKF,CAAC,CAACE,MAAM,CAACC,QAAQ,CAAC,GAAG,YAAW;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,EAAEH,CAAC;EACxJ,SAASC,IAAI,CAACG,CAAC,EAAE;IAAE,OAAO,UAAUC,CAAC,EAAE;MAAE,OAAOvB,IAAI,CAAC,CAACsB,CAAC,EAAEC,CAAC,CAAC,CAAC;IAAE,CAAC;EAAE;EACjE,SAASvB,IAAI,CAACwB,EAAE,EAAE;IACd,IAAIR,CAAC,EAAE,MAAM,IAAIS,SAAS,CAAC,iCAAiC,CAAC;IAC7D,OAAOf,CAAC;MAAE,IAAI;QACV,IAAIM,CAAC,GAAG,CAAC,EAAEC,CAAC,KAAKJ,CAAC,GAAGW,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGP,CAAC,CAAC,QAAQ,CAAC,GAAGO,EAAE,CAAC,CAAC,CAAC,GAAGP,CAAC,CAAC,OAAO,CAAC,KAAK,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAQ,CAAC,KAAKJ,CAAC,CAACa,IAAI,CAACT,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGA,CAAC,CAAChB,IAAI,CAAC,IAAI,CAAC,CAACY,CAAC,GAAGA,CAAC,CAACa,IAAI,CAACT,CAAC,EAAEO,EAAE,CAAC,CAAC,CAAC,CAAC,EAAEnB,IAAI,EAAE,OAAOQ,CAAC;QAC5J,IAAII,CAAC,GAAG,CAAC,EAAEJ,CAAC,EAAEW,EAAE,GAAG,CAACA,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEX,CAAC,CAAClB,KAAK,CAAC;QACvC,QAAQ6B,EAAE,CAAC,CAAC,CAAC;UACT,KAAK,CAAC;UAAE,KAAK,CAAC;YAAEX,CAAC,GAAGW,EAAE;YAAE;UACxB,KAAK,CAAC;YAAEd,CAAC,CAACC,KAAK,EAAE;YAAE,OAAO;cAAEhB,KAAK,EAAE6B,EAAE,CAAC,CAAC,CAAC;cAAEnB,IAAI,EAAE;YAAM,CAAC;UACvD,KAAK,CAAC;YAAEK,CAAC,CAACC,KAAK,EAAE;YAAEM,CAAC,GAAGO,EAAE,CAAC,CAAC,CAAC;YAAEA,EAAE,GAAG,CAAC,CAAC,CAAC;YAAE;UACxC,KAAK,CAAC;YAAEA,EAAE,GAAGd,CAAC,CAACK,GAAG,CAACY,GAAG,EAAE;YAAEjB,CAAC,CAACI,IAAI,CAACa,GAAG,EAAE;YAAE;UACxC;YACI,IAAI,EAAEd,CAAC,GAAGH,CAAC,CAACI,IAAI,EAAED,CAAC,GAAGA,CAAC,CAAClC,MAAM,GAAG,CAAC,IAAIkC,CAAC,CAACA,CAAC,CAAClC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK6C,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;cAAEd,CAAC,GAAG,CAAC;cAAE;YAAU;YAC3G,IAAIc,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAACX,CAAC,IAAKW,EAAE,CAAC,CAAC,CAAC,GAAGX,CAAC,CAAC,CAAC,CAAC,IAAIW,EAAE,CAAC,CAAC,CAAC,GAAGX,CAAC,CAAC,CAAC,CAAE,CAAC,EAAE;cAAEH,CAAC,CAACC,KAAK,GAAGa,EAAE,CAAC,CAAC,CAAC;cAAE;YAAO;YACrF,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAId,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC,EAAE;cAAEH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC;cAAEA,CAAC,GAAGW,EAAE;cAAE;YAAO;YACpE,IAAIX,CAAC,IAAIH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC,EAAE;cAAEH,CAAC,CAACC,KAAK,GAAGE,CAAC,CAAC,CAAC,CAAC;cAAEH,CAAC,CAACK,GAAG,CAACa,IAAI,CAACJ,EAAE,CAAC;cAAE;YAAO;YAClE,IAAIX,CAAC,CAAC,CAAC,CAAC,EAAEH,CAAC,CAACK,GAAG,CAACY,GAAG,EAAE;YACrBjB,CAAC,CAACI,IAAI,CAACa,GAAG,EAAE;YAAE;QAAS;QAE/BH,EAAE,GAAGf,IAAI,CAACiB,IAAI,CAACpC,OAAO,EAAEoB,CAAC,CAAC;MAC9B,CAAC,CAAC,OAAOR,CAAC,EAAE;QAAEsB,EAAE,GAAG,CAAC,CAAC,EAAEtB,CAAC,CAAC;QAAEe,CAAC,GAAG,CAAC;MAAE,CAAC,SAAS;QAAED,CAAC,GAAGH,CAAC,GAAG,CAAC;MAAE;IAAC;IAC1D,IAAIW,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,EAAE,CAAC,CAAC,CAAC;IAAE,OAAO;MAAE7B,KAAK,EAAE6B,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;MAAEnB,IAAI,EAAE;IAAK,CAAC;EACpF;AACJ,CAAC;AACD,OAAO,wBAAwB;AAC/B,OAAO,KAAKwB,GAAG,MAAM,iCAAiC;AACtD,SAASC,KAAK,QAAQ,kCAAkC;AACxD,SAASC,OAAO,EAAEC,KAAK,QAAQ,kCAAkC;AACjE,SAASC,OAAO,EAAEC,eAAe,QAAQ,sCAAsC;AAC/E,SAASC,OAAO,QAAQ,oCAAoC;AAC5D,SAASC,mBAAmB,EAAEC,OAAO,EAAEC,OAAO,QAAQ,sCAAsC;AAC5F,SAASC,wBAAwB,QAAQ,qDAAqD;AAC9F,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,sBAAsB,EAAEC,SAAS,QAAQ,oCAAoC;AACtF,SAASC,iBAAiB,QAAQ,6CAA6C;AAC/E,SAASC,YAAY,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,sBAAsB,EAAEC,oBAAoB,EAAEC,4BAA4B,EAAEC,gBAAgB,QAAQ,qBAAqB;AACtK,OAAO,KAAKC,GAAG,MAAM,oBAAoB;AACzC,SAASC,qBAAqB,QAAQ,4DAA4D;AAClG,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,sBAAsB,QAAQ,kDAAkD;AACzF,SAASC,oBAAoB,QAAQ,oDAAoD;AACzF,SAASC,aAAa,EAAEC,0BAA0B,QAAQ,mDAAmD;AAC7G,OAAO,KAAKC,QAAQ,MAAM,4BAA4B;AACtD,SAASC,cAAc,EAAEC,YAAY,QAAQ,uBAAuB;AACpE,SAASC,SAAS,EAAEC,MAAM,QAAQ,oDAAoD;AACtF,IAAIC,kBAAkB,GAAG,aAAe,YAAY;EAChD,SAASA,kBAAkB,CAACC,OAAO,EAAEC,MAAM,EAAE;IACzC,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACF,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,YAAY,GAAG,IAAIC,GAAG,EAAE;IAC7B,IAAI,CAACC,oBAAoB,GAAG,IAAIC,GAAG,EAAE;IACrC,IAAI,CAACC,cAAc,GAAG,IAAIrC,eAAe,EAAE;IAC3C,IAAI,CAACsC,kBAAkB,GAAG,IAAItC,eAAe,EAAE;IAC/C,IAAI,CAACqC,cAAc,CAACE,GAAG,CAAC,IAAI,CAACT,OAAO,CAACU,gBAAgB,CAAC,YAAY;MAAE,OAAOR,KAAK,CAACS,eAAe,EAAE;IAAE,CAAC,CAAC,CAAC;IACvG,IAAI,CAACA,eAAe,EAAE;EAC1B;EACAZ,kBAAkB,CAAC7F,SAAS,CAAC+D,OAAO,GAAG,YAAY;IAC/C,IAAI,CAACuC,kBAAkB,CAACvC,OAAO,EAAE;IACjC,IAAI,CAACsC,cAAc,CAACtC,OAAO,EAAE;IAC7B,IAAI,CAAC2C,iBAAiB,EAAE;EAC5B,CAAC;EACDb,kBAAkB,CAAC7F,SAAS,CAACyG,eAAe,GAAG,YAAY;IACvD,IAAI,CAACH,kBAAkB,CAACK,KAAK,EAAE;IAC/B,IAAIC,KAAK,GAAG,IAAI,CAACd,OAAO,CAACe,QAAQ,EAAE;IACnC,IAAID,KAAK,EAAE;MACP,KAAK,IAAIE,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,IAAI,CAAChB,MAAM,CAACiB,MAAM,EAAEF,EAAE,GAAGC,EAAE,CAACtG,MAAM,EAAEqG,EAAE,EAAE,EAAE;QAC5D,IAAIG,GAAG,GAAGF,EAAE,CAACD,EAAE,CAAC;QAChB,IAAI1C,OAAO,CAAC6C,GAAG,CAACC,GAAG,EAAEN,KAAK,CAACM,GAAG,CAAC,EAAE;UAC7B,IAAI,CAACC,eAAe,CAACF,GAAG,CAAC;UACzB;QACJ;MACJ;IACJ;EACJ,CAAC;EACDpB,kBAAkB,CAAC7F,SAAS,CAACmH,eAAe,GAAG,UAAUC,SAAS,EAAE;IAChE,IAAIpB,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACF,OAAO,CAACuB,QAAQ,EAAE,EAAE;MAC1B;IACJ;IACA,IAAI,CAACf,kBAAkB,CAACC,GAAG,CAAC,IAAI,CAACT,OAAO,CAACe,QAAQ,EAAE,CAACS,sBAAsB,CAAC,UAAUC,KAAK,EAAE;MAAE,OAAOvB,KAAK,CAACwB,oBAAoB,EAAE;IAAE,CAAC,CAAC,CAAC;IACtI,IAAIC,cAAc,GAAG,EAAE;IACvB,IAAIC,yBAAyB,GAAG,EAAE;IAClC,KAAK,IAAI5G,CAAC,GAAG,CAAC,EAAE6G,GAAG,GAAGP,SAAS,CAACQ,QAAQ,CAACnH,MAAM,EAAEK,CAAC,GAAG6G,GAAG,EAAE7G,CAAC,EAAE,EAAE;MAC3D,IAAI+G,YAAY,GAAGT,SAAS,CAACQ,QAAQ,CAAC9G,CAAC,CAAC;MACxC,IAAI,IAAI,CAACqF,oBAAoB,CAAC2B,GAAG,CAACD,YAAY,CAACE,EAAE,CAAC,EAAE;QAChD;MACJ;MACAN,cAAc,CAAC/D,IAAI,CAAC;QAChBsE,KAAK,EAAEH,YAAY,CAACG,KAAK;QACzBC,OAAO,EAAEpC,kBAAkB,CAACqC;MAChC,CAAC,CAAC;MACFR,yBAAyB,CAAChE,IAAI,CAAC5C,CAAC,CAAC;IACrC;IACA,IAAIqH,WAAW,GAAG,IAAI,CAACrC,OAAO,CAACsC,gBAAgB,CAAC,EAAE,EAAEX,cAAc,CAAC;IACnE,KAAK,IAAI3G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqH,WAAW,CAAC1H,MAAM,EAAEK,CAAC,EAAE,EAAE;MACzC,IAAI,CAACmF,YAAY,CAACoC,GAAG,CAACF,WAAW,CAACrH,CAAC,CAAC,EAAEsG,SAAS,CAACQ,QAAQ,CAACF,yBAAyB,CAAC5G,CAAC,CAAC,CAAC,CAAC;IAC3F;EACJ,CAAC;EACD+E,kBAAkB,CAAC7F,SAAS,CAACwH,oBAAoB,GAAG,YAAY;IAC5D,IAAIxB,KAAK,GAAG,IAAI;IAChB,IAAIsC,QAAQ,GAAG,EAAE;IACjB,IAAI1B,KAAK,GAAG,IAAI,CAACd,OAAO,CAACe,QAAQ,EAAE;IACnC,IAAI,CAACD,KAAK,EAAE;MACR;IACJ;IACA,IAAI,CAACX,YAAY,CAACsC,OAAO,CAAC,UAAUnB,SAAS,EAAEoB,YAAY,EAAE;MACzD,IAAIC,QAAQ,GAAG7B,KAAK,CAAC8B,kBAAkB,CAACF,YAAY,CAAC;MACrD,IAAI,CAACC,QAAQ,EAAE;QACX;MACJ;MACA,IAAIE,MAAM,GAAG,KAAK;MAClB,IAAIrE,KAAK,CAACsE,WAAW,CAACH,QAAQ,EAAErB,SAAS,CAACY,KAAK,CAAC,EAAE;QAC9C;MACJ,CAAC,MACI,IAAI1D,KAAK,CAACuE,kBAAkB,CAACJ,QAAQ,CAAC,EAAE;QACzCE,MAAM,GAAG,IAAI;MACjB,CAAC,MACI;QACD,IAAIG,UAAU,GAAG1B,SAAS,CAACY,KAAK,CAACe,SAAS,GAAG3B,SAAS,CAACY,KAAK,CAACgB,WAAW;QACxE,IAAIC,aAAa,GAAGR,QAAQ,CAACM,SAAS,GAAGN,QAAQ,CAACO,WAAW;QAC7D,IAAIF,UAAU,KAAKG,aAAa,EAAE;UAC9BN,MAAM,GAAG,IAAI;QACjB;MACJ;MACA,IAAIA,MAAM,EAAE;QACR3C,KAAK,CAACG,oBAAoB,CAACI,GAAG,CAACa,SAAS,CAACW,EAAE,CAAC;QAC5CO,QAAQ,CAAC5E,IAAI,CAAC8E,YAAY,CAAC;MAC/B,CAAC,MACI;QACDpB,SAAS,CAACY,KAAK,GAAGS,QAAQ;MAC9B;IACJ,CAAC,CAAC;IACF,KAAK,IAAI3H,CAAC,GAAG,CAAC,EAAE6G,GAAG,GAAGW,QAAQ,CAAC7H,MAAM,EAAEK,CAAC,GAAG6G,GAAG,EAAE7G,CAAC,EAAE,EAAE;MACjD,IAAI,CAACmF,YAAY,CAACiD,MAAM,CAACZ,QAAQ,CAACxH,CAAC,CAAC,CAAC;IACzC;IACA,IAAI,CAACgF,OAAO,CAACsC,gBAAgB,CAACE,QAAQ,EAAE,EAAE,CAAC;EAC/C,CAAC;EACDzC,kBAAkB,CAAC7F,SAAS,CAAC0G,iBAAiB,GAAG,YAAY;IACzD,IAAI4B,QAAQ,GAAG,EAAE;IACjB,IAAI,CAACrC,YAAY,CAACsC,OAAO,CAAC,UAAU9G,KAAK,EAAEpB,GAAG,EAAE;MAC5CiI,QAAQ,CAAC5E,IAAI,CAACrD,GAAG,CAAC;IACtB,CAAC,CAAC;IACF,IAAI,CAACyF,OAAO,CAACsC,gBAAgB,CAACE,QAAQ,EAAE,EAAE,CAAC;IAC3C,IAAI,CAACrC,YAAY,CAACU,KAAK,EAAE;EAC7B,CAAC;EACDd,kBAAkB,CAACqC,iBAAiB,GAAG3D,sBAAsB,CAAC4E,QAAQ,CAAC;IACnEC,UAAU,EAAE,CAAC,CAAC;IACdC,SAAS,EAAE;EACf,CAAC,CAAC;EACF,OAAOxD,kBAAkB;AAC7B,CAAC,EAAG;AACJ,IAAIyD,UAAU,GAAG,aAAe,YAAY;EACxC,SAASA,UAAU,GAAG;IAClB,IAAI,CAACC,KAAK,GAAG,GAAG;IAChB,IAAI,CAACC,aAAa,GAAG,EAAE;EAC3B;EACAF,UAAU,CAACG,QAAQ,GAAG,UAAUC,GAAG,EAAE;IACjC,IAAIH,KAAK;IACT,IAAIC,aAAa;IACjB,IAAI;MACA,IAAIG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC;MAC1BH,KAAK,GAAGI,IAAI,CAACJ,KAAK;MAClBC,aAAa,GAAGG,IAAI,CAACH,aAAa;IACtC,CAAC,CACD,OAAOzC,EAAE,EAAE;MACP;IAAA;IAEJ,OAAO;MACHwC,KAAK,EAAEA,KAAK,IAAI,GAAG;MACnBC,aAAa,EAAEA,aAAa,IAAI;IACpC,CAAC;EACL,CAAC;EACD,OAAOF,UAAU;AACrB,CAAC,EAAG;AACJ,SAASA,UAAU;AACnB;AACA;AACA;AACA,IAAIQ,eAAe,GAAG,aAAe,UAAUC,MAAM,EAAE;EACnD3K,SAAS,CAAC0K,eAAe,EAAEC,MAAM,CAAC;EAClC,SAASD,eAAe,CAACE,MAAM,EAAEC,2BAA2B,EAAEC,UAAU,EAAEC,YAAY,EAAEC,yBAAyB,EAAEC,qBAAqB,EAAEC,gBAAgB,EAAEC,SAAS,EAAE;IACnK,IAAIvE,KAAK,GAAG+D,MAAM,CAACvG,IAAI,CAAC,IAAI,EAAEwG,MAAM,EAAE;MAAEQ,SAAS,EAAE,KAAK;MAAEC,SAAS,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,YAAY,EAAE;IAAK,CAAC,CAAC,IAAI,IAAI;IAC5H3E,KAAK,CAACiE,2BAA2B,GAAGA,2BAA2B;IAC/DjE,KAAK,CAACkE,UAAU,GAAGA,UAAU;IAC7BlE,KAAK,CAACoE,yBAAyB,GAAGA,yBAAyB;IAC3DpE,KAAK,CAACqE,qBAAqB,GAAGA,qBAAqB;IACnDrE,KAAK,CAACsE,gBAAgB,GAAGA,gBAAgB;IACzCtE,KAAK,CAACuE,SAAS,GAAGA,SAAS;IAC3BvE,KAAK,CAAC4E,kBAAkB,GAAG,IAAI5G,eAAe,EAAE;IAChDgC,KAAK,CAACK,cAAc,GAAG,IAAIrC,eAAe,EAAE;IAC5CgC,KAAK,CAAC6E,qBAAqB,GAAG,IAAIhH,OAAO,EAAE;IAC3CmC,KAAK,CAAC8E,oBAAoB,GAAG9E,KAAK,CAAC6E,qBAAqB,CAACtD,KAAK;IAC9DvB,KAAK,CAAC+E,IAAI,GAAG;MAAEC,MAAM,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAE,CAAC;IACpCjF,KAAK,CAACkF,WAAW,CAACf,YAAY,CAACgB,QAAQ,EAAE,CAAC;IAC1CnF,KAAK,CAACK,cAAc,CAACE,GAAG,CAAC4D,YAAY,CAACiB,aAAa,CAACpF,KAAK,CAACkF,WAAW,CAACG,IAAI,CAACrF,KAAK,CAAC,CAAC,CAAC;IACnFA,KAAK,CAACsE,gBAAgB,CAACgB,kBAAkB,CAACtB,MAAM,EAAEhE,KAAK,CAAC;IACxDA,KAAK,CAAC/F,MAAM,EAAE;IACd,OAAO+F,KAAK;EAChB;EACA8D,eAAe,CAAC9J,SAAS,CAAC+D,OAAO,GAAG,YAAY;IAC5C,IAAI,CAACwH,QAAQ,CAACC,SAAS,CAAC;IACxB,IAAI,CAACnF,cAAc,CAACtC,OAAO,EAAE;IAC7B,IAAI,CAAC6G,kBAAkB,CAAC7G,OAAO,EAAE;IACjCA,OAAO,CAAC,IAAI,CAAC0H,QAAQ,CAAC;IACtB1H,OAAO,CAAC,IAAI,CAAC2H,2BAA2B,CAAC;IACzC3H,OAAO,CAAC,IAAI,CAAC4H,KAAK,CAAC;IACnB5H,OAAO,CAAC,IAAI,CAAC6H,sBAAsB,CAAC;IACpC,IAAI,CAACC,UAAU,CAAC9H,OAAO,EAAE;IACzBgG,MAAM,CAAC/J,SAAS,CAAC+D,OAAO,CAACP,IAAI,CAAC,IAAI,CAAC;EACvC,CAAC;EACDsG,eAAe,CAAC9J,SAAS,CAACkL,WAAW,GAAG,UAAUY,KAAK,EAAE;IACrD,IAAIC,WAAW,GAAGD,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACyG,cAAc,CAAC,IAAIrI,KAAK,CAACsI,WAAW;IAC9E,IAAI,CAACC,KAAK,CAAC;MACPC,UAAU,EAAEL,WAAW;MACvBM,UAAU,EAAEN,WAAW;MACvBO,qBAAqB,EAAER,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC+G,uBAAuB,CAAC,IAAI3I,KAAK,CAACsI,WAAW;MAC5FM,mBAAmB,EAAEV,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACiH,uBAAuB,CAAC;MACrEC,qBAAqB,EAAEZ,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACmH,2BAA2B;IAC9E,CAAC,CAAC;EACN,CAAC;EACD7C,eAAe,CAAC9J,SAAS,CAAC4M,IAAI,GAAG,UAAUC,KAAK,EAAE;IAC9C,IAAI,CAAC7C,MAAM,CAAC8C,oCAAoC,CAACD,KAAK,EAAE,CAAC,CAAC,aAAa;IACvE9C,MAAM,CAAC/J,SAAS,CAAC4M,IAAI,CAACpJ,IAAI,CAAC,IAAI,EAAEqJ,KAAK,EAAE,IAAI,CAAC3C,UAAU,CAACV,aAAa,IAAI,EAAE,CAAC;EAChF,CAAC;EACDM,eAAe,CAAC9J,SAAS,CAAC+M,oBAAoB,GAAG,YAAY;IACzD,IAAI,CAACpB,KAAK,CAACqB,QAAQ,EAAE;EACzB,CAAC;EACDlD,eAAe,CAAC9J,SAAS,CAACiN,oBAAoB,GAAG,YAAY;IACzD,IAAI,CAACxB,QAAQ,CAACyB,KAAK,EAAE;EACzB,CAAC;EACDpD,eAAe,CAAC9J,SAAS,CAACmN,sBAAsB,GAAG,YAAY;IAC3D,OAAO,IAAI,CAAC1B,QAAQ,CAAC2B,YAAY,EAAE;EACvC,CAAC;EACDtD,eAAe,CAAC9J,SAAS,CAACqN,aAAa,GAAG,UAAUrL,CAAC,EAAE;IACnD,IAAI,IAAI,CAACyJ,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAAC5E,QAAQ,EAAE,EAAE;MAC3C,IAAI,CAACgE,qBAAqB,CAACyC,IAAI,CAAC;QAC5BC,OAAO,EAAE,IAAI,CAACC,oBAAoB,EAAE;QACpCC,IAAI,EAAEzL,CAAC,CAAC0L,OAAO,IAAI1L,CAAC,CAAC2L,OAAO,IAAI3L,CAAC,CAAC4L,MAAM,GAAG,MAAM,GAAG,MAAM;QAC1DC,MAAM,EAAE;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACD/D,eAAe,CAAC9J,SAAS,CAAC8N,SAAS,GAAG,UAAUC,gBAAgB,EAAE;IAC9D,IAAI/H,KAAK,GAAG,IAAI;IAChB,IAAI,CAACgI,WAAW,CAAC,uBAAuB,CAAC;IACzC;IACA,IAAI,CAACC,iBAAiB,GAAGtK,GAAG,CAACuK,MAAM,CAACH,gBAAgB,EAAEpK,GAAG,CAACwK,CAAC,CAAC,cAAc,CAAC,CAAC;IAC5ExK,GAAG,CAACyK,IAAI,CAAC,IAAI,CAACH,iBAAiB,CAAC;IAChC,IAAI,CAACpC,UAAU,GAAG,IAAIlG,SAAS,CAACoI,gBAAgB,EAAE;MAAEM,WAAW,EAAE,CAAC,CAAC;IAAiB,CAAC,CAAC;IACtF;IACA,IAAI,CAACC,iBAAiB,GAAG3K,GAAG,CAACuK,MAAM,CAACH,gBAAgB,EAAEpK,GAAG,CAACwK,CAAC,CAAC,oBAAoB,CAAC,CAAC;IAClF,IAAIlG,OAAO,GAAG;MACVsG,oBAAoB,EAAE,KAAK;MAC3BC,SAAS,EAAE;QACPC,qBAAqB,EAAE,EAAE;QACzBC,UAAU,EAAE,MAAM;QAClBC,UAAU,EAAE,IAAI;QAChBC,iBAAiB,EAAE,KAAK;QACxBC,mBAAmB,EAAE,KAAK;QAC1BC,uBAAuB,EAAE;MAC7B,CAAC;MACDC,kBAAkB,EAAE,CAAC;MACrBC,oBAAoB,EAAE,IAAI;MAC1BC,OAAO,EAAE;QACLC,OAAO,EAAE;MACb;IACJ,CAAC;IACD,IAAI,CAACzD,QAAQ,GAAG,IAAI,CAACpB,qBAAqB,CAAC8E,cAAc,CAAC9K,wBAAwB,EAAE,IAAI,CAACiK,iBAAiB,EAAErG,OAAO,EAAE,IAAI,CAAC+B,MAAM,CAAC;IACjIrG,GAAG,CAACyK,IAAI,CAAC,IAAI,CAACE,iBAAiB,CAAC;IAChC,IAAI,CAAC5C,2BAA2B,GAAGlH,SAAS,CAAC4K,gBAAgB,CAACnK,GAAG,CAACoK,QAAQ,CAAC,uBAAuB,EAAE,sBAAsB,CAAC,CAAC;IAC5H;IACA,IAAI,CAACC,cAAc,GAAG3L,GAAG,CAACuK,MAAM,CAACH,gBAAgB,EAAEpK,GAAG,CAACwK,CAAC,CAAC,qBAAqB,CAAC,CAAC;IAChF,IAAIoB,WAAW,GAAG;MACdC,SAAS,EAAEvK,GAAG,CAACoK,QAAQ,CAAC,eAAe,EAAE,YAAY,CAAC;MACtDI,eAAe,EAAE,IAAI,CAACxF,2BAA2B;MACjDyF,qBAAqB,EAAE,IAAIhL,YAAY,EAAE;MACzCiL,+BAA+B,EAAE,IAAI,CAACtF,qBAAqB,CAAC8E,cAAc,CAACpK,4BAA4B,CAAC;MACxG6K,gBAAgB,EAAE,IAAI5K,gBAAgB,EAAE;MACxC6K,cAAc,EAAE;QACZC,cAAc,EAAEtK,QAAQ,CAACuK;MAC7B;IACJ,CAAC;IACD,IAAI,CAACpE,KAAK,GAAG,IAAI,CAACtB,qBAAqB,CAAC8E,cAAc,CAAC/J,sBAAsB,EAAE,kBAAkB,EAAE,IAAI,CAACkK,cAAc,EAAE,IAAI1K,QAAQ,EAAE,EAAE,CACpI,IAAI,CAACyF,qBAAqB,CAAC8E,cAAc,CAACtK,sBAAsB,CAAC,EACjE,IAAI,CAACwF,qBAAqB,CAAC8E,cAAc,CAACrK,oBAAoB,CAAC,CAClE,EAAE,IAAI,CAACuF,qBAAqB,CAAC8E,cAAc,CAACxK,UAAU,CAAC,EAAE4K,WAAW,CAAC;IACtE;IACA,IAAI,CAAC1D,UAAU,CAACmE,OAAO,CAAC;MACpBC,WAAW,EAAEnM,KAAK,CAACoM,IAAI;MACvB3C,OAAO,EAAE,IAAI,CAACe,iBAAiB;MAC/B6B,WAAW,EAAE,GAAG;MAChBC,WAAW,EAAEC,MAAM,CAACC,SAAS;MAC7BC,MAAM,EAAE,gBAAUtF,KAAK,EAAE;QACrBjF,KAAK,CAACyF,QAAQ,CAAC8E,MAAM,CAAC;UAAEvF,MAAM,EAAEhF,KAAK,CAAC+E,IAAI,CAACC,MAAM;UAAEC,KAAK,EAAEA;QAAM,CAAC,CAAC;MACtE;IACJ,CAAC,EAAErF,MAAM,CAAC4K,UAAU,CAAC;IACrB,IAAI,CAAC3E,UAAU,CAACmE,OAAO,CAAC;MACpBC,WAAW,EAAEnM,KAAK,CAACoM,IAAI;MACvB3C,OAAO,EAAE,IAAI,CAAC+B,cAAc;MAC5Ba,WAAW,EAAE,GAAG;MAChBC,WAAW,EAAEC,MAAM,CAACC,SAAS;MAC7BC,MAAM,EAAE,gBAAUtF,KAAK,EAAE;QACrBjF,KAAK,CAACsJ,cAAc,CAACnD,KAAK,CAACnB,MAAM,GAAGhF,KAAK,CAAC+E,IAAI,CAACC,MAAM,GAAG,IAAI;QAC5DhF,KAAK,CAACsJ,cAAc,CAACnD,KAAK,CAAClB,KAAK,GAAGA,KAAK,GAAG,IAAI;QAC/CjF,KAAK,CAAC2F,KAAK,CAAC4E,MAAM,CAACvK,KAAK,CAAC+E,IAAI,CAACC,MAAM,EAAEC,KAAK,CAAC;MAChD;IACJ,CAAC,EAAErF,MAAM,CAAC4K,UAAU,CAAC;IACrB,IAAI,CAACC,YAAY,CAAClK,GAAG,CAAC,IAAI,CAACsF,UAAU,CAAC6E,eAAe,CAAC,YAAY;MAC9D,IAAI1K,KAAK,CAAC+E,IAAI,CAACE,KAAK,EAAE;QAClBjF,KAAK,CAACkE,UAAU,CAACX,KAAK,GAAGvD,KAAK,CAAC6F,UAAU,CAAC8E,WAAW,CAAC,CAAC,CAAC,GAAG3K,KAAK,CAAC+E,IAAI,CAACE,KAAK;MAC/E;IACJ,CAAC,EAAEO,SAAS,CAAC,CAAC;IACd;IACA,IAAIoF,OAAO,GAAG,SAAVA,OAAO,CAAarD,OAAO,EAAEE,IAAI,EAAE;MACnC,IAAIF,OAAO,YAAY7H,YAAY,EAAE;QACjC,IAAI+H,IAAI,KAAK,MAAM,EAAE;UACjBzH,KAAK,CAAC6K,gBAAgB,CAACtD,OAAO,EAAE,KAAK,CAAC;QAC1C;QACAvH,KAAK,CAAC6E,qBAAqB,CAACyC,IAAI,CAAC;UAAEC,OAAO,EAAEA,OAAO;UAAEE,IAAI,EAAEA,IAAI;UAAEI,MAAM,EAAE;QAAO,CAAC,CAAC;MACtF;IACJ,CAAC;IACD,IAAI,CAAClC,KAAK,CAACmF,gBAAgB,CAAC,UAAU9O,CAAC,EAAE;MACrC4O,OAAO,CAAC5O,CAAC,CAAC+O,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;IAClC,CAAC,CAAC;IACF,IAAI,CAACpF,KAAK,CAACqF,SAAS,CAAC,UAAUhP,CAAC,EAAE;MAC9B,IAAIA,CAAC,CAACiP,YAAY,YAAYC,UAAU,KAAKlP,CAAC,CAACiP,YAAY,CAACvD,OAAO,IAAI1L,CAAC,CAACiP,YAAY,CAACtD,OAAO,IAAI3L,CAAC,CAACiP,YAAY,CAACrD,MAAM,CAAC,EAAE;QACrH;QACAgD,OAAO,CAAC5O,CAAC,CAAC+O,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;MAClC,CAAC,MACI,IAAI/O,CAAC,CAACiP,YAAY,YAAYE,aAAa,IAAKnP,CAAC,CAACiP,YAAY,YAAYC,UAAU,IAAIlP,CAAC,CAACiP,YAAY,CAACG,MAAM,KAAK,CAAE,IAAIpP,CAAC,CAACiP,YAAY,CAACI,QAAQ,KAAK,CAAC,EAAE;QACxJ;QACA;QACA;QACA;QACAT,OAAO,CAAC5O,CAAC,CAAC+O,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;MAClC,CAAC,MACI;QACD;QACAH,OAAO,CAAC5O,CAAC,CAAC+O,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;MAClC;IACJ,CAAC,CAAC;IACFpN,GAAG,CAACyK,IAAI,CAAC,IAAI,CAACkB,cAAc,CAAC;EACjC,CAAC;EACDxF,eAAe,CAAC9J,SAAS,CAACsR,QAAQ,GAAG,UAAUrG,KAAK,EAAE;IAClD,IAAI,IAAI,CAACF,IAAI,EAAE;MACX,IAAI,CAACwG,aAAa,CAAC,IAAI,CAACxG,IAAI,CAACC,MAAM,EAAEC,KAAK,CAAC;IAC/C;EACJ,CAAC;EACDnB,eAAe,CAAC9J,SAAS,CAACuR,aAAa,GAAG,UAAUC,aAAa,EAAEC,YAAY,EAAE;IAC7E1H,MAAM,CAAC/J,SAAS,CAACuR,aAAa,CAAC/N,IAAI,CAAC,IAAI,EAAEgO,aAAa,EAAEC,YAAY,CAAC;IACtE,IAAI,CAAC1G,IAAI,GAAG;MAAEC,MAAM,EAAEwG,aAAa;MAAEvG,KAAK,EAAEwG;IAAa,CAAC;IAC1D,IAAI,CAACvH,UAAU,CAACV,aAAa,GAAG,IAAI,CAACkI,SAAS,GAAG,IAAI,CAACA,SAAS,CAAClI,aAAa,GAAG,IAAI,CAACU,UAAU,CAACV,aAAa;IAC7G,IAAI,CAACqC,UAAU,CAAC0E,MAAM,CAACkB,YAAY,CAAC;IACpC,IAAI,CAAC5F,UAAU,CAAC8F,UAAU,CAAC,CAAC,EAAEF,YAAY,GAAG,IAAI,CAACvH,UAAU,CAACX,KAAK,CAAC;EACvE,CAAC;EACDO,eAAe,CAAC9J,SAAS,CAAC4R,YAAY,GAAG,UAAUC,SAAS,EAAE;IAC1D,IAAI7L,KAAK,GAAG,IAAI;IAChB,OAAO,IAAI,CAAC6K,gBAAgB,CAACgB,SAAS,EAAE,IAAI,CAAC,CAACzP,IAAI,CAAC,YAAY;MAC3D,IAAI,CAAC4D,KAAK,CAACD,MAAM,EAAE;QACf;QACA;MACJ;MACA;MACAC,KAAK,CAAC2F,KAAK,CAACiG,YAAY,CAAC,CAACC,SAAS,CAAC,CAAC;MACrC7L,KAAK,CAAC2F,KAAK,CAACmG,QAAQ,CAAC,CAACD,SAAS,CAAC,CAAC;IACrC,CAAC,CAAC;EACN,CAAC;EACD/H,eAAe,CAAC9J,SAAS,CAACuL,QAAQ,GAAG,UAAUwG,QAAQ,EAAE;IACrD;IACA,IAAI,CAACnH,kBAAkB,CAACjE,KAAK,EAAE;IAC/B,IAAI,CAACZ,MAAM,GAAGgM,QAAQ;IACtB,IAAI,IAAI,CAAChM,MAAM,EAAE;MACb,OAAO,IAAI,CAACiM,WAAW,EAAE;IAC7B;IACA,OAAOrQ,OAAO,CAACD,OAAO,EAAE;EAC5B,CAAC;EACDoI,eAAe,CAAC9J,SAAS,CAACgS,WAAW,GAAG,YAAY;IAChD,IAAIhM,KAAK,GAAG,IAAI;IAChB,IAAI,CAAC,IAAI,CAACD,MAAM,EAAE;MACd,OAAOpE,OAAO,CAACD,OAAO,CAAC8J,SAAS,CAAC;IACrC;IACA,IAAI,IAAI,CAACzF,MAAM,CAACkM,OAAO,EAAE;MACrB,IAAI,CAACC,QAAQ,CAAC,EAAE,CAAC;MACjB,IAAI,CAACjE,iBAAiB,CAACkE,SAAS,GAAGlN,GAAG,CAACoK,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC;MAC1E1L,GAAG,CAACiJ,IAAI,CAAC,IAAI,CAACqB,iBAAiB,CAAC;MAChC,OAAOtM,OAAO,CAACD,OAAO,CAAC8J,SAAS,CAAC;IACrC;IACA7H,GAAG,CAACyK,IAAI,CAAC,IAAI,CAACH,iBAAiB,CAAC;IAChC,IAAI,CAACmE,mBAAmB,GAAG,IAAIvM,kBAAkB,CAAC,IAAI,CAAC4F,QAAQ,EAAE,IAAI,CAAC1F,MAAM,CAAC;IAC7E,IAAI,CAAC6E,kBAAkB,CAACrE,GAAG,CAAC,IAAI,CAAC6L,mBAAmB,CAAC;IACrD;IACA,IAAI,CAACxH,kBAAkB,CAACrE,GAAG,CAAC,IAAI,CAACR,MAAM,CAACsM,yBAAyB,CAAC,UAAUjL,SAAS,EAAE;MAAE,OAAOpB,KAAK,CAAC2F,KAAK,CAAC2G,QAAQ,CAAClL,SAAS,CAAC;IAAE,CAAC,CAAC,CAAC;IACpI;IACA,IAAI,CAACwD,kBAAkB,CAACrE,GAAG,CAAC,IAAI,CAACkF,QAAQ,CAAC8G,WAAW,CAAC,UAAUvQ,CAAC,EAAE;MAC/D,IAAIuF,KAAK,GAAGvF,CAAC,CAACuF,KAAK;QAAEnH,MAAM,GAAG4B,CAAC,CAAC5B,MAAM;MACtC,IAAImH,KAAK,CAAC6J,MAAM,KAAK,CAAC,EAAE;QACpB;MACJ;MACA,IAAI7D,OAAO,GAAGvH,KAAK,CAACwH,oBAAoB,EAAE;MAC1C,IAAI,CAACD,OAAO,EAAE;QACV;MACJ;MACAvH,KAAK,CAAC6E,qBAAqB,CAACyC,IAAI,CAAC;QAC7BC,OAAO,EAAE;UAAErG,GAAG,EAAEqG,OAAO,CAACrG,GAAG;UAAEc,KAAK,EAAE5H,MAAM,CAAC4H;QAAM,CAAC;QAClDyF,IAAI,EAAGlG,KAAK,CAACmG,OAAO,IAAInG,KAAK,CAACoG,OAAO,IAAIpG,KAAK,CAACqG,MAAM,GAAI,MAAM,GAAG,MAAM;QACxEC,MAAM,EAAE;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,CAAC;IACH;IACAlK,GAAG,CAAC6O,QAAQ,CAAC,IAAI,CAACC,SAAS,EAAE,gBAAgB,CAAC;IAC9C9O,GAAG,CAACiJ,IAAI,CAAC,IAAI,CAAC0C,cAAc,CAAC;IAC7B3L,GAAG,CAACiJ,IAAI,CAAC,IAAI,CAAC0B,iBAAiB,CAAC;IAChC,IAAI,CAACzC,UAAU,CAAC0E,MAAM,CAAC,IAAI,CAACxF,IAAI,CAACE,KAAK,CAAC;IACvC,IAAI,CAAC8B,oBAAoB,EAAE;IAC3B;IACA,OAAO,IAAI,CAACpB,KAAK,CAAC+G,QAAQ,CAAC,IAAI,CAAC3M,MAAM,CAACiB,MAAM,CAACvG,MAAM,KAAK,CAAC,GAAG,IAAI,CAACsF,MAAM,CAACiB,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAACjB,MAAM,CAAC;EACrG,CAAC;EACD+D,eAAe,CAAC9J,SAAS,CAACwN,oBAAoB,GAAG,YAAY;IACzD,IAAID,OAAO,GAAG,IAAI,CAAC5B,KAAK,CAACgH,QAAQ,EAAE,CAAC,CAAC,CAAC;IACtC,IAAIpF,OAAO,YAAY7H,YAAY,EAAE;MACjC,OAAO6H,OAAO;IAClB,CAAC,MACI,IAAIA,OAAO,YAAY9H,cAAc,EAAE;MACxC,IAAI8H,OAAO,CAAC3F,QAAQ,CAACnH,MAAM,GAAG,CAAC,EAAE;QAC7B,OAAO8M,OAAO,CAAC3F,QAAQ,CAAC,CAAC,CAAC;MAC9B;IACJ;IACA,OAAO4D,SAAS;EACpB,CAAC;EACD1B,eAAe,CAAC9J,SAAS,CAAC6Q,gBAAgB,GAAG,UAAUzJ,SAAS,EAAEwL,YAAY,EAAE;IAC5E,OAAOzR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;MAC/C,IAAI0R,OAAO,EAAE5L,GAAG,EAAEL,KAAK,EAAEkM,UAAU,EAAEC,GAAG;MACxC,OAAOzQ,WAAW,CAAC,IAAI,EAAE,UAAUyE,EAAE,EAAE;QACnC,QAAQA,EAAE,CAACtE,KAAK;UACZ,KAAK,CAAC;YACF;YACA,IAAI,IAAI,CAACuQ,kBAAkB,KAAK5L,SAAS,EAAE;cACvC,OAAO,CAAC,CAAC,CAAC,WAAW;YACzB;;YACA,IAAI,CAAC4L,kBAAkB,GAAG5L,SAAS;YACnC;YACA,IAAIA,SAAS,CAACF,GAAG,CAAC+L,MAAM,KAAKhP,OAAO,CAACiP,QAAQ,EAAE;cAC3C,IAAI,CAAChB,QAAQ,CAAChO,mBAAmB,CAACkD,SAAS,CAACF,GAAG,CAAC,EAAE,IAAI,CAACqD,SAAS,CAAC4I,WAAW,CAAChP,OAAO,CAACiD,SAAS,CAACF,GAAG,CAAC,CAAC,CAAC;YACzG,CAAC,MACI;cACD,IAAI,CAACgL,QAAQ,CAACjN,GAAG,CAACoK,QAAQ,CAAC,yBAAyB,EAAE,YAAY,CAAC,CAAC;YACxE;YACAwD,OAAO,GAAG,IAAI,CAACzI,yBAAyB,CAACgJ,oBAAoB,CAAChM,SAAS,CAACF,GAAG,CAAC;YAC5E,IAAI,EAAE,IAAI,CAACyE,KAAK,CAAC0H,QAAQ,EAAE,KAAKjM,SAAS,CAACkM,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YAC1E,IAAI,CAAC3H,KAAK,CAAC4H,MAAM,CAACnM,SAAS,CAAC;YAC5B,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC3B,KAAK,CAAC;YACF,IAAIwL,YAAY,EAAE;cACd,IAAI,CAACjH,KAAK,CAAC4H,MAAM,CAACnM,SAAS,CAACkM,MAAM,CAAC;YACvC;YACA,OAAO,CAAC,CAAC,CAAC,WAAW,IAAI,CAAC3H,KAAK,CAAC6H,MAAM,CAACpM,SAAS,CAACkM,MAAM,CAAC,CAAC;UAC7D,KAAK,CAAC;YACFvM,EAAE,CAACrE,IAAI,EAAE;YACT,IAAI,CAACiJ,KAAK,CAAC4H,MAAM,CAACnM,SAAS,CAAC;YAC5BL,EAAE,CAACtE,KAAK,GAAG,CAAC;UAChB,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC,WAAWoQ,OAAO,CAAC;UACrC,KAAK,CAAC;YACF5L,GAAG,GAAGF,EAAE,CAACrE,IAAI,EAAE;YACf,IAAI,CAAC,IAAI,CAACqD,MAAM,EAAE;cACd;cACAkB,GAAG,CAAClD,OAAO,EAAE;cACb,OAAO,CAAC,CAAC,CAAC,WAAW;YACzB;;YACAA,OAAO,CAAC,IAAI,CAAC6H,sBAAsB,CAAC;YACpChF,KAAK,GAAGK,GAAG,CAACwM,MAAM;YAClB,IAAI7M,KAAK,EAAE;cACPkM,UAAU,GAAG,IAAI,CAACrH,QAAQ,CAAC5E,QAAQ,EAAE,KAAKD,KAAK,CAAC8M,eAAe,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC;cACrFX,GAAG,GAAGzO,KAAK,CAACqP,IAAI,CAACvM,SAAS,CAACY,KAAK,CAAC,CAAC4L,eAAe,EAAE;cACnD,IAAI,CAAChI,sBAAsB,GAAG3E,GAAG;cACjC,IAAI,CAACwE,QAAQ,CAACF,QAAQ,CAAC3E,KAAK,CAAC8M,eAAe,CAAC;cAC7C,IAAI,CAACjI,QAAQ,CAACmG,YAAY,CAACmB,GAAG,CAAC;cAC/B,IAAI,CAACtH,QAAQ,CAACoI,mBAAmB,CAACd,GAAG,EAAED,UAAU,CAAC;YACtD,CAAC,MACI;cACD,IAAI,CAACrH,QAAQ,CAACF,QAAQ,CAAC,IAAI,CAACG,2BAA2B,CAAC;cACxDzE,GAAG,CAAClD,OAAO,EAAE;YACjB;YACA,OAAO,CAAC,CAAC,CAAC,WAAW;QAAC;MAElC,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;;EACD+F,eAAe,GAAG5J,UAAU,CAAC,CACzBc,OAAO,CAAC,CAAC,EAAEsE,aAAa,CAAC,EACzBtE,OAAO,CAAC,CAAC,EAAEyD,iBAAiB,CAAC,EAC7BzD,OAAO,CAAC,CAAC,EAAEkE,qBAAqB,CAAC,EACjClE,OAAO,CAAC,CAAC,EAAEwE,QAAQ,CAACsO,gBAAgB,CAAC,EACrC9S,OAAO,CAAC,CAAC,EAAEmE,aAAa,CAAC,CAC5B,EAAE2E,eAAe,CAAC;EACnB,OAAOA,eAAe;AAC1B,CAAC,CAACtE,QAAQ,CAACuO,cAAc,CAAE;AAC3B,SAASjK,eAAe;AACxB;AACAvE,0BAA0B,CAAC,UAAUuG,KAAK,EAAEkI,SAAS,EAAE;EACnD,IAAIC,uBAAuB,GAAGnI,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC0O,6BAA6B,CAAC;EACpF,IAAID,uBAAuB,EAAE;IACzBD,SAAS,CAACG,OAAO,CAAC,iGAAiG,GAAGF,uBAAuB,GAAG,KAAK,CAAC;EAC1J;EACA,IAAIG,uBAAuB,GAAGtI,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC6O,4BAA4B,CAAC;EACnF,IAAID,uBAAuB,EAAE;IACzBJ,SAAS,CAACG,OAAO,CAAC,2FAA2F,GAAGC,uBAAuB,GAAG,KAAK,CAAC;EACpJ;EACA,IAAIE,wBAAwB,GAAGxI,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC+O,kCAAkC,CAAC;EAC1F,IAAID,wBAAwB,EAAE;IAC1BN,SAAS,CAACG,OAAO,CAAC,2FAA2F,GAAGG,wBAAwB,GAAG,6BAA6B,CAAC;EAC7K;EACA,IAAIE,SAAS,GAAG1I,KAAK,CAACE,QAAQ,CAAC3G,oBAAoB,CAAC;EACpD,IAAImP,SAAS,EAAE;IACXR,SAAS,CAACG,OAAO,CAAC,kGAAkG,GAAGK,SAAS,GAAG,6BAA6B,CAAC;EACrK;EACA,IAAIC,iBAAiB,GAAG3I,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACuK,yBAAyB,CAAC;EAC1E,IAAI0E,iBAAiB,EAAE;IACnBT,SAAS,CAACG,OAAO,CAAC,sEAAsE,GAAGM,iBAAiB,GAAG,KAAK,CAAC;EACzH;EACA,IAAIC,sBAAsB,GAAG5I,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACmP,8BAA8B,CAAC;EACpF,IAAID,sBAAsB,EAAE;IACxBV,SAAS,CAACG,OAAO,CAAC,2DAA2D,GAAGO,sBAAsB,GAAG,KAAK,CAAC;EACnH;EACA,IAAIE,qBAAqB,GAAG9I,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACqP,6BAA6B,CAAC;EAClF,IAAID,qBAAqB,EAAE;IACvBZ,SAAS,CAACG,OAAO,CAAC,2EAA2E,GAAGS,qBAAqB,GAAG,KAAK,CAAC;EAClI;EACA,IAAIE,yBAAyB,GAAGhJ,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACuP,kCAAkC,CAAC;EAC3F,IAAID,yBAAyB,EAAE;IAC3Bd,SAAS,CAACG,OAAO,CAAC,yJAAyJ,GAAGW,yBAAyB,GAAG,KAAK,CAAC;EACpN;EACA,IAAIE,yBAAyB,GAAGlJ,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAACyP,kCAAkC,CAAC;EAC3F,IAAID,yBAAyB,EAAE;IAC3BhB,SAAS,CAACG,OAAO,CAAC,8IAA8I,GAAGa,yBAAyB,GAAG,gBAAgB,CAAC;EACpN;EACA,IAAIE,gBAAgB,GAAGpJ,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC2P,wBAAwB,CAAC;EACxE,IAAID,gBAAgB,EAAE;IAClBlB,SAAS,CAACG,OAAO,CAAC,0FAA0F,GACxG,sFAAsF,IACrF,sBAAsB,GAAGe,gBAAgB,GAAG,GAAG,CAAC,GACjD,GAAG,CAAC;EACZ;EACA,IAAIE,sBAAsB,GAAGtJ,KAAK,CAACE,QAAQ,CAACxG,QAAQ,CAAC6P,8BAA8B,CAAC;EACpF,IAAID,sBAAsB,EAAE;IACxBpB,SAAS,CAACG,OAAO,CAAC,yEAAyE,IACtF,sBAAsB,GAAGiB,sBAAsB,GAAG,GAAG,CAAC,GACvD,GAAG,CAAC;EACZ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}