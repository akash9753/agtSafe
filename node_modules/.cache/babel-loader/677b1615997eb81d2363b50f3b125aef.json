{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport * as nls from '../../../nls.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\nimport { Range } from '../../common/core/range.js';\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\nimport { compare } from '../../../base/common/strings.js';\nimport { binarySearch, find } from '../../../base/common/arrays.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { isEqual } from '../../../base/common/resources.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nvar MarkerModel = /** @class */function () {\n  function MarkerModel(editor, markers) {\n    var _this = this;\n    this._toUnbind = new DisposableStore();\n    this._editor = editor;\n    this._markers = [];\n    this._nextIdx = -1;\n    this._ignoreSelectionChange = false;\n    this._onCurrentMarkerChanged = new Emitter();\n    this._onMarkerSetChanged = new Emitter();\n    this.setMarkers(markers);\n    // listen on editor\n    this._toUnbind.add(this._editor.onDidDispose(function () {\n      return _this.dispose();\n    }));\n    this._toUnbind.add(this._editor.onDidChangeCursorPosition(function () {\n      if (_this._ignoreSelectionChange) {\n        return;\n      }\n      if (_this.currentMarker && _this._editor.getPosition() && Range.containsPosition(_this.currentMarker, _this._editor.getPosition())) {\n        return;\n      }\n      _this._nextIdx = -1;\n    }));\n  }\n  Object.defineProperty(MarkerModel.prototype, \"onCurrentMarkerChanged\", {\n    get: function get() {\n      return this._onCurrentMarkerChanged.event;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MarkerModel.prototype, \"onMarkerSetChanged\", {\n    get: function get() {\n      return this._onMarkerSetChanged.event;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MarkerModel.prototype.setMarkers = function (markers) {\n    var oldMarker = this._nextIdx >= 0 ? this._markers[this._nextIdx] : undefined;\n    this._markers = markers || [];\n    this._markers.sort(MarkerNavigationAction.compareMarker);\n    if (!oldMarker) {\n      this._nextIdx = -1;\n    } else {\n      this._nextIdx = Math.max(-1, binarySearch(this._markers, oldMarker, MarkerNavigationAction.compareMarker));\n    }\n    this._onMarkerSetChanged.fire(this);\n  };\n  MarkerModel.prototype.withoutWatchingEditorPosition = function (callback) {\n    this._ignoreSelectionChange = true;\n    try {\n      callback();\n    } finally {\n      this._ignoreSelectionChange = false;\n    }\n  };\n  MarkerModel.prototype._initIdx = function (fwd) {\n    var found = false;\n    var position = this._editor.getPosition();\n    for (var i = 0; i < this._markers.length; i++) {\n      var range = Range.lift(this._markers[i]);\n      if (range.isEmpty() && this._editor.getModel()) {\n        var word = this._editor.getModel().getWordAtPosition(range.getStartPosition());\n        if (word) {\n          range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\n        }\n      }\n      if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\n        this._nextIdx = i;\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      // after the last change\n      this._nextIdx = fwd ? 0 : this._markers.length - 1;\n    }\n    if (this._nextIdx < 0) {\n      this._nextIdx = this._markers.length - 1;\n    }\n  };\n  Object.defineProperty(MarkerModel.prototype, \"currentMarker\", {\n    get: function get() {\n      return this.canNavigate() ? this._markers[this._nextIdx] : undefined;\n    },\n    set: function set(marker) {\n      var idx = this._nextIdx;\n      this._nextIdx = -1;\n      if (marker) {\n        this._nextIdx = this.indexOf(marker);\n      }\n      if (this._nextIdx !== idx) {\n        this._onCurrentMarkerChanged.fire(marker);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MarkerModel.prototype.move = function (fwd, inCircles) {\n    if (!this.canNavigate()) {\n      this._onCurrentMarkerChanged.fire(undefined);\n      return !inCircles;\n    }\n    var oldIdx = this._nextIdx;\n    var atEdge = false;\n    if (this._nextIdx === -1) {\n      this._initIdx(fwd);\n    } else if (fwd) {\n      if (inCircles || this._nextIdx + 1 < this._markers.length) {\n        this._nextIdx = (this._nextIdx + 1) % this._markers.length;\n      } else {\n        atEdge = true;\n      }\n    } else if (!fwd) {\n      if (inCircles || this._nextIdx > 0) {\n        this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\n      } else {\n        atEdge = true;\n      }\n    }\n    if (oldIdx !== this._nextIdx) {\n      var marker = this._markers[this._nextIdx];\n      this._onCurrentMarkerChanged.fire(marker);\n    }\n    return atEdge;\n  };\n  MarkerModel.prototype.canNavigate = function () {\n    return this._markers.length > 0;\n  };\n  MarkerModel.prototype.findMarkerAtPosition = function (pos) {\n    return find(this._markers, function (marker) {\n      return Range.containsPosition(marker, pos);\n    });\n  };\n  Object.defineProperty(MarkerModel.prototype, \"total\", {\n    get: function get() {\n      return this._markers.length;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  MarkerModel.prototype.indexOf = function (marker) {\n    return 1 + this._markers.indexOf(marker);\n  };\n  MarkerModel.prototype.dispose = function () {\n    this._toUnbind.dispose();\n  };\n  return MarkerModel;\n}();\nvar MarkerController = /** @class */function () {\n  function MarkerController(editor, _markerService, _contextKeyService, _themeService, _editorService, _keybindingService, _openerService) {\n    this._markerService = _markerService;\n    this._contextKeyService = _contextKeyService;\n    this._themeService = _themeService;\n    this._editorService = _editorService;\n    this._keybindingService = _keybindingService;\n    this._openerService = _openerService;\n    this._model = null;\n    this._widget = null;\n    this._disposeOnClose = new DisposableStore();\n    this._editor = editor;\n    this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\n  }\n  MarkerController.get = function (editor) {\n    return editor.getContribution(MarkerController.ID);\n  };\n  MarkerController.prototype.dispose = function () {\n    this._cleanUp();\n    this._disposeOnClose.dispose();\n  };\n  MarkerController.prototype._cleanUp = function () {\n    this._widgetVisible.reset();\n    this._disposeOnClose.clear();\n    this._widget = null;\n    this._model = null;\n  };\n  MarkerController.prototype.getOrCreateModel = function () {\n    var _this = this;\n    if (this._model) {\n      return this._model;\n    }\n    var markers = this._getMarkers();\n    this._model = new MarkerModel(this._editor, markers);\n    this._markerService.onMarkerChanged(this._onMarkerChanged, this, this._disposeOnClose);\n    var prevMarkerKeybinding = this._keybindingService.lookupKeybinding(PrevMarkerAction.ID);\n    var nextMarkerKeybinding = this._keybindingService.lookupKeybinding(NextMarkerAction.ID);\n    var actions = [new Action(NextMarkerAction.ID, NextMarkerAction.LABEL + (nextMarkerKeybinding ? \" (\" + nextMarkerKeybinding.getLabel() + \")\" : ''), 'show-next-problem codicon-chevron-down', this._model.canNavigate(), function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          if (this._model) {\n            this._model.move(true, true);\n          }\n          return [2 /*return*/];\n        });\n      });\n    }), new Action(PrevMarkerAction.ID, PrevMarkerAction.LABEL + (prevMarkerKeybinding ? \" (\" + prevMarkerKeybinding.getLabel() + \")\" : ''), 'show-previous-problem codicon-chevron-up', this._model.canNavigate(), function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          if (this._model) {\n            this._model.move(false, true);\n          }\n          return [2 /*return*/];\n        });\n      });\n    })];\n\n    this._widget = new MarkerNavigationWidget(this._editor, actions, this._themeService, this._openerService);\n    this._widgetVisible.set(true);\n    this._widget.onDidClose(function () {\n      return _this.closeMarkersNavigation();\n    }, this, this._disposeOnClose);\n    this._disposeOnClose.add(this._model);\n    this._disposeOnClose.add(this._widget);\n    for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\n      var action = actions_1[_i];\n      this._disposeOnClose.add(action);\n    }\n    this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function (related) {\n      _this._editorService.openCodeEditor({\n        resource: related.resource,\n        options: {\n          pinned: true,\n          revealIfOpened: true,\n          selection: Range.lift(related).collapseToStart()\n        }\n      }, _this._editor).then(undefined, onUnexpectedError);\n      _this.closeMarkersNavigation(false);\n    }));\n    this._disposeOnClose.add(this._editor.onDidChangeModel(function () {\n      return _this._cleanUp();\n    }));\n    this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function (marker) {\n      if (!marker || !_this._model) {\n        _this._cleanUp();\n      } else {\n        _this._model.withoutWatchingEditorPosition(function () {\n          if (!_this._widget || !_this._model) {\n            return;\n          }\n          _this._widget.showAtMarker(marker, _this._model.indexOf(marker), _this._model.total);\n        });\n      }\n    }));\n    this._disposeOnClose.add(this._model.onMarkerSetChanged(function () {\n      if (!_this._widget || !_this._widget.position || !_this._model) {\n        return;\n      }\n      var marker = _this._model.findMarkerAtPosition(_this._widget.position);\n      if (marker) {\n        _this._widget.updateMarker(marker);\n      } else {\n        _this._widget.showStale();\n      }\n    }));\n    return this._model;\n  };\n  MarkerController.prototype.closeMarkersNavigation = function (focusEditor) {\n    if (focusEditor === void 0) {\n      focusEditor = true;\n    }\n    this._cleanUp();\n    if (focusEditor) {\n      this._editor.focus();\n    }\n  };\n  MarkerController.prototype.show = function (marker) {\n    var model = this.getOrCreateModel();\n    model.currentMarker = marker;\n  };\n  MarkerController.prototype._onMarkerChanged = function (changedResources) {\n    var editorModel = this._editor.getModel();\n    if (!editorModel) {\n      return;\n    }\n    if (!this._model) {\n      return;\n    }\n    if (!changedResources.some(function (r) {\n      return isEqual(editorModel.uri, r);\n    })) {\n      return;\n    }\n    this._model.setMarkers(this._getMarkers());\n  };\n  MarkerController.prototype._getMarkers = function () {\n    var model = this._editor.getModel();\n    if (!model) {\n      return [];\n    }\n    return this._markerService.read({\n      resource: model.uri,\n      severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n    });\n  };\n  MarkerController.ID = 'editor.contrib.markerController';\n  MarkerController = __decorate([__param(1, IMarkerService), __param(2, IContextKeyService), __param(3, IThemeService), __param(4, ICodeEditorService), __param(5, IKeybindingService), __param(6, IOpenerService)], MarkerController);\n  return MarkerController;\n}();\nexport { MarkerController };\nvar MarkerNavigationAction = /** @class */function (_super) {\n  __extends(MarkerNavigationAction, _super);\n  function MarkerNavigationAction(next, multiFile, opts) {\n    var _this = _super.call(this, opts) || this;\n    _this._isNext = next;\n    _this._multiFile = multiFile;\n    return _this;\n  }\n  MarkerNavigationAction.prototype.run = function (accessor, editor) {\n    var _this = this;\n    var markerService = accessor.get(IMarkerService);\n    var editorService = accessor.get(ICodeEditorService);\n    var controller = MarkerController.get(editor);\n    if (!controller) {\n      return Promise.resolve(undefined);\n    }\n    var model = controller.getOrCreateModel();\n    var atEdge = model.move(this._isNext, !this._multiFile);\n    if (!atEdge || !this._multiFile) {\n      return Promise.resolve(undefined);\n    }\n    // try with the next/prev file\n    var markers = markerService.read({\n      severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n    }).sort(MarkerNavigationAction.compareMarker);\n    if (markers.length === 0) {\n      return Promise.resolve(undefined);\n    }\n    var editorModel = editor.getModel();\n    if (!editorModel) {\n      return Promise.resolve(undefined);\n    }\n    var oldMarker = model.currentMarker || {\n      resource: editorModel.uri,\n      severity: MarkerSeverity.Error,\n      startLineNumber: 1,\n      startColumn: 1,\n      endLineNumber: 1,\n      endColumn: 1\n    };\n    var idx = binarySearch(markers, oldMarker, MarkerNavigationAction.compareMarker);\n    if (idx < 0) {\n      // find best match...\n      idx = ~idx;\n      idx %= markers.length;\n    } else if (this._isNext) {\n      idx = (idx + 1) % markers.length;\n    } else {\n      idx = (idx + markers.length - 1) % markers.length;\n    }\n    var newMarker = markers[idx];\n    if (isEqual(newMarker.resource, editorModel.uri)) {\n      // the next `resource` is this resource which\n      // means we cycle within this file\n      model.move(this._isNext, true);\n      return Promise.resolve(undefined);\n    }\n    // close the widget for this editor-instance, open the resource\n    // for the next marker and re-start marker navigation in there\n    controller.closeMarkersNavigation();\n    return editorService.openCodeEditor({\n      resource: newMarker.resource,\n      options: {\n        pinned: false,\n        revealIfOpened: true,\n        revealInCenterIfOutsideViewport: true,\n        selection: newMarker\n      }\n    }, editor).then(function (editor) {\n      if (!editor) {\n        return undefined;\n      }\n      return editor.getAction(_this.id).run();\n    });\n  };\n  MarkerNavigationAction.compareMarker = function (a, b) {\n    var res = compare(a.resource.toString(), b.resource.toString());\n    if (res === 0) {\n      res = MarkerSeverity.compare(a.severity, b.severity);\n    }\n    if (res === 0) {\n      res = Range.compareRangesUsingStarts(a, b);\n    }\n    return res;\n  };\n  return MarkerNavigationAction;\n}(EditorAction);\nvar NextMarkerAction = /** @class */function (_super) {\n  __extends(NextMarkerAction, _super);\n  function NextMarkerAction() {\n    return _super.call(this, true, false, {\n      id: NextMarkerAction.ID,\n      label: NextMarkerAction.LABEL,\n      alias: 'Go to Next Problem (Error, Warning, Info)',\n      precondition: EditorContextKeys.writable,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 512 /* Alt */ | 66 /* F8 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  NextMarkerAction.ID = 'editor.action.marker.next';\n  NextMarkerAction.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\");\n  return NextMarkerAction;\n}(MarkerNavigationAction);\nexport { NextMarkerAction };\nvar PrevMarkerAction = /** @class */function (_super) {\n  __extends(PrevMarkerAction, _super);\n  function PrevMarkerAction() {\n    return _super.call(this, false, false, {\n      id: PrevMarkerAction.ID,\n      label: PrevMarkerAction.LABEL,\n      alias: 'Go to Previous Problem (Error, Warning, Info)',\n      precondition: EditorContextKeys.writable,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 1024 /* Shift */ | 512 /* Alt */ | 66 /* F8 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  PrevMarkerAction.ID = 'editor.action.marker.prev';\n  PrevMarkerAction.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\");\n  return PrevMarkerAction;\n}(MarkerNavigationAction);\nvar NextMarkerInFilesAction = /** @class */function (_super) {\n  __extends(NextMarkerInFilesAction, _super);\n  function NextMarkerInFilesAction() {\n    return _super.call(this, true, true, {\n      id: 'editor.action.marker.nextInFiles',\n      label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\n      alias: 'Go to Next Problem in Files (Error, Warning, Info)',\n      precondition: EditorContextKeys.writable,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 66 /* F8 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  return NextMarkerInFilesAction;\n}(MarkerNavigationAction);\nvar PrevMarkerInFilesAction = /** @class */function (_super) {\n  __extends(PrevMarkerInFilesAction, _super);\n  function PrevMarkerInFilesAction() {\n    return _super.call(this, false, true, {\n      id: 'editor.action.marker.prevInFiles',\n      label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\n      alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\n      precondition: EditorContextKeys.writable,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 1024 /* Shift */ | 66 /* F8 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  return PrevMarkerInFilesAction;\n}(MarkerNavigationAction);\nregisterEditorContribution(MarkerController.ID, MarkerController);\nregisterEditorAction(NextMarkerAction);\nregisterEditorAction(PrevMarkerAction);\nregisterEditorAction(NextMarkerInFilesAction);\nregisterEditorAction(PrevMarkerInFilesAction);\nvar CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\nvar MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\nregisterEditorCommand(new MarkerCommand({\n  id: 'closeMarkersNavigation',\n  precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\n  handler: function handler(x) {\n    return x.closeMarkersNavigation();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 50,\n    kbExpr: EditorContextKeys.focus,\n    primary: 9 /* Escape */,\n    secondary: [1024 /* Shift */ | 9 /* Escape */]\n  }\n}));\n// Go to menu\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\n  group: '6_problem_nav',\n  command: {\n    id: 'editor.action.marker.nextInFiles',\n    title: nls.localize({\n      key: 'miGotoNextProblem',\n      comment: ['&& denotes a mnemonic']\n    }, \"Next &&Problem\")\n  },\n  order: 1\n});\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\n  group: '6_problem_nav',\n  command: {\n    id: 'editor.action.marker.prevInFiles',\n    title: nls.localize({\n      key: 'miGotoPreviousProblem',\n      comment: ['&& denotes a mnemonic']\n    }, \"Previous &&Problem\")\n  },\n  order: 2\n});","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","push","nls","Emitter","DisposableStore","RawContextKey","IContextKeyService","IMarkerService","MarkerSeverity","Range","registerEditorAction","registerEditorContribution","EditorAction","EditorCommand","registerEditorCommand","IThemeService","EditorContextKeys","MarkerNavigationWidget","compare","binarySearch","find","ICodeEditorService","onUnexpectedError","MenuRegistry","Action","IKeybindingService","isEqual","IOpenerService","MarkerModel","editor","markers","_this","_toUnbind","_editor","_markers","_nextIdx","_ignoreSelectionChange","_onCurrentMarkerChanged","_onMarkerSetChanged","setMarkers","add","onDidDispose","dispose","onDidChangeCursorPosition","currentMarker","getPosition","containsPosition","get","event","enumerable","configurable","oldMarker","undefined","sort","MarkerNavigationAction","compareMarker","Math","max","fire","withoutWatchingEditorPosition","callback","_initIdx","fwd","found","position","range","lift","isEmpty","getModel","word","getWordAtPosition","getStartPosition","startLineNumber","startColumn","endColumn","isBeforeOrEqual","canNavigate","set","marker","idx","indexOf","move","inCircles","oldIdx","atEdge","findMarkerAtPosition","pos","MarkerController","_markerService","_contextKeyService","_themeService","_editorService","_keybindingService","_openerService","_model","_widget","_disposeOnClose","_widgetVisible","CONTEXT_MARKERS_NAVIGATION_VISIBLE","bindTo","getContribution","ID","_cleanUp","reset","clear","getOrCreateModel","_getMarkers","onMarkerChanged","_onMarkerChanged","prevMarkerKeybinding","lookupKeybinding","PrevMarkerAction","nextMarkerKeybinding","NextMarkerAction","actions","LABEL","getLabel","_a","onDidClose","closeMarkersNavigation","_i","actions_1","action","onDidSelectRelatedInformation","related","openCodeEditor","resource","options","pinned","revealIfOpened","selection","collapseToStart","onDidChangeModel","onCurrentMarkerChanged","showAtMarker","total","onMarkerSetChanged","updateMarker","showStale","focusEditor","focus","show","model","changedResources","editorModel","some","uri","read","severities","Error","Warning","Info","_super","multiFile","opts","_isNext","_multiFile","run","accessor","markerService","editorService","controller","severity","endLineNumber","newMarker","revealInCenterIfOutsideViewport","getAction","id","a","res","toString","compareRangesUsingStarts","alias","precondition","writable","kbOpts","kbExpr","primary","weight","localize","NextMarkerInFilesAction","PrevMarkerInFilesAction","MarkerCommand","bindToContribution","handler","x","secondary","appendMenuItem","group","command","title","comment","order"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/gotoError.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { RawContextKey, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { registerEditorAction, registerEditorContribution, EditorAction, EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\r\nimport { compare } from '../../../base/common/strings.js';\r\nimport { binarySearch, find } from '../../../base/common/arrays.js';\r\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\r\nimport { onUnexpectedError } from '../../../base/common/errors.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { isEqual } from '../../../base/common/resources.js';\r\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\r\nvar MarkerModel = /** @class */ (function () {\r\n    function MarkerModel(editor, markers) {\r\n        var _this = this;\r\n        this._toUnbind = new DisposableStore();\r\n        this._editor = editor;\r\n        this._markers = [];\r\n        this._nextIdx = -1;\r\n        this._ignoreSelectionChange = false;\r\n        this._onCurrentMarkerChanged = new Emitter();\r\n        this._onMarkerSetChanged = new Emitter();\r\n        this.setMarkers(markers);\r\n        // listen on editor\r\n        this._toUnbind.add(this._editor.onDidDispose(function () { return _this.dispose(); }));\r\n        this._toUnbind.add(this._editor.onDidChangeCursorPosition(function () {\r\n            if (_this._ignoreSelectionChange) {\r\n                return;\r\n            }\r\n            if (_this.currentMarker && _this._editor.getPosition() && Range.containsPosition(_this.currentMarker, _this._editor.getPosition())) {\r\n                return;\r\n            }\r\n            _this._nextIdx = -1;\r\n        }));\r\n    }\r\n    Object.defineProperty(MarkerModel.prototype, \"onCurrentMarkerChanged\", {\r\n        get: function () {\r\n            return this._onCurrentMarkerChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MarkerModel.prototype, \"onMarkerSetChanged\", {\r\n        get: function () {\r\n            return this._onMarkerSetChanged.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.setMarkers = function (markers) {\r\n        var oldMarker = this._nextIdx >= 0 ? this._markers[this._nextIdx] : undefined;\r\n        this._markers = markers || [];\r\n        this._markers.sort(MarkerNavigationAction.compareMarker);\r\n        if (!oldMarker) {\r\n            this._nextIdx = -1;\r\n        }\r\n        else {\r\n            this._nextIdx = Math.max(-1, binarySearch(this._markers, oldMarker, MarkerNavigationAction.compareMarker));\r\n        }\r\n        this._onMarkerSetChanged.fire(this);\r\n    };\r\n    MarkerModel.prototype.withoutWatchingEditorPosition = function (callback) {\r\n        this._ignoreSelectionChange = true;\r\n        try {\r\n            callback();\r\n        }\r\n        finally {\r\n            this._ignoreSelectionChange = false;\r\n        }\r\n    };\r\n    MarkerModel.prototype._initIdx = function (fwd) {\r\n        var found = false;\r\n        var position = this._editor.getPosition();\r\n        for (var i = 0; i < this._markers.length; i++) {\r\n            var range = Range.lift(this._markers[i]);\r\n            if (range.isEmpty() && this._editor.getModel()) {\r\n                var word = this._editor.getModel().getWordAtPosition(range.getStartPosition());\r\n                if (word) {\r\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\r\n                }\r\n            }\r\n            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\r\n                this._nextIdx = i;\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!found) {\r\n            // after the last change\r\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\r\n        }\r\n        if (this._nextIdx < 0) {\r\n            this._nextIdx = this._markers.length - 1;\r\n        }\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"currentMarker\", {\r\n        get: function () {\r\n            return this.canNavigate() ? this._markers[this._nextIdx] : undefined;\r\n        },\r\n        set: function (marker) {\r\n            var idx = this._nextIdx;\r\n            this._nextIdx = -1;\r\n            if (marker) {\r\n                this._nextIdx = this.indexOf(marker);\r\n            }\r\n            if (this._nextIdx !== idx) {\r\n                this._onCurrentMarkerChanged.fire(marker);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.move = function (fwd, inCircles) {\r\n        if (!this.canNavigate()) {\r\n            this._onCurrentMarkerChanged.fire(undefined);\r\n            return !inCircles;\r\n        }\r\n        var oldIdx = this._nextIdx;\r\n        var atEdge = false;\r\n        if (this._nextIdx === -1) {\r\n            this._initIdx(fwd);\r\n        }\r\n        else if (fwd) {\r\n            if (inCircles || this._nextIdx + 1 < this._markers.length) {\r\n                this._nextIdx = (this._nextIdx + 1) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        else if (!fwd) {\r\n            if (inCircles || this._nextIdx > 0) {\r\n                this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\r\n            }\r\n            else {\r\n                atEdge = true;\r\n            }\r\n        }\r\n        if (oldIdx !== this._nextIdx) {\r\n            var marker = this._markers[this._nextIdx];\r\n            this._onCurrentMarkerChanged.fire(marker);\r\n        }\r\n        return atEdge;\r\n    };\r\n    MarkerModel.prototype.canNavigate = function () {\r\n        return this._markers.length > 0;\r\n    };\r\n    MarkerModel.prototype.findMarkerAtPosition = function (pos) {\r\n        return find(this._markers, function (marker) { return Range.containsPosition(marker, pos); });\r\n    };\r\n    Object.defineProperty(MarkerModel.prototype, \"total\", {\r\n        get: function () {\r\n            return this._markers.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MarkerModel.prototype.indexOf = function (marker) {\r\n        return 1 + this._markers.indexOf(marker);\r\n    };\r\n    MarkerModel.prototype.dispose = function () {\r\n        this._toUnbind.dispose();\r\n    };\r\n    return MarkerModel;\r\n}());\r\nvar MarkerController = /** @class */ (function () {\r\n    function MarkerController(editor, _markerService, _contextKeyService, _themeService, _editorService, _keybindingService, _openerService) {\r\n        this._markerService = _markerService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._themeService = _themeService;\r\n        this._editorService = _editorService;\r\n        this._keybindingService = _keybindingService;\r\n        this._openerService = _openerService;\r\n        this._model = null;\r\n        this._widget = null;\r\n        this._disposeOnClose = new DisposableStore();\r\n        this._editor = editor;\r\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\r\n    }\r\n    MarkerController.get = function (editor) {\r\n        return editor.getContribution(MarkerController.ID);\r\n    };\r\n    MarkerController.prototype.dispose = function () {\r\n        this._cleanUp();\r\n        this._disposeOnClose.dispose();\r\n    };\r\n    MarkerController.prototype._cleanUp = function () {\r\n        this._widgetVisible.reset();\r\n        this._disposeOnClose.clear();\r\n        this._widget = null;\r\n        this._model = null;\r\n    };\r\n    MarkerController.prototype.getOrCreateModel = function () {\r\n        var _this = this;\r\n        if (this._model) {\r\n            return this._model;\r\n        }\r\n        var markers = this._getMarkers();\r\n        this._model = new MarkerModel(this._editor, markers);\r\n        this._markerService.onMarkerChanged(this._onMarkerChanged, this, this._disposeOnClose);\r\n        var prevMarkerKeybinding = this._keybindingService.lookupKeybinding(PrevMarkerAction.ID);\r\n        var nextMarkerKeybinding = this._keybindingService.lookupKeybinding(NextMarkerAction.ID);\r\n        var actions = [\r\n            new Action(NextMarkerAction.ID, NextMarkerAction.LABEL + (nextMarkerKeybinding ? \" (\" + nextMarkerKeybinding.getLabel() + \")\" : ''), 'show-next-problem codicon-chevron-down', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(true, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); }),\r\n            new Action(PrevMarkerAction.ID, PrevMarkerAction.LABEL + (prevMarkerKeybinding ? \" (\" + prevMarkerKeybinding.getLabel() + \")\" : ''), 'show-previous-problem codicon-chevron-up', this._model.canNavigate(), function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\r\n                if (this._model) {\r\n                    this._model.move(false, true);\r\n                }\r\n                return [2 /*return*/];\r\n            }); }); })\r\n        ];\r\n        this._widget = new MarkerNavigationWidget(this._editor, actions, this._themeService, this._openerService);\r\n        this._widgetVisible.set(true);\r\n        this._widget.onDidClose(function () { return _this.closeMarkersNavigation(); }, this, this._disposeOnClose);\r\n        this._disposeOnClose.add(this._model);\r\n        this._disposeOnClose.add(this._widget);\r\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\r\n            var action = actions_1[_i];\r\n            this._disposeOnClose.add(action);\r\n        }\r\n        this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation(function (related) {\r\n            _this._editorService.openCodeEditor({\r\n                resource: related.resource,\r\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\r\n            }, _this._editor).then(undefined, onUnexpectedError);\r\n            _this.closeMarkersNavigation(false);\r\n        }));\r\n        this._disposeOnClose.add(this._editor.onDidChangeModel(function () { return _this._cleanUp(); }));\r\n        this._disposeOnClose.add(this._model.onCurrentMarkerChanged(function (marker) {\r\n            if (!marker || !_this._model) {\r\n                _this._cleanUp();\r\n            }\r\n            else {\r\n                _this._model.withoutWatchingEditorPosition(function () {\r\n                    if (!_this._widget || !_this._model) {\r\n                        return;\r\n                    }\r\n                    _this._widget.showAtMarker(marker, _this._model.indexOf(marker), _this._model.total);\r\n                });\r\n            }\r\n        }));\r\n        this._disposeOnClose.add(this._model.onMarkerSetChanged(function () {\r\n            if (!_this._widget || !_this._widget.position || !_this._model) {\r\n                return;\r\n            }\r\n            var marker = _this._model.findMarkerAtPosition(_this._widget.position);\r\n            if (marker) {\r\n                _this._widget.updateMarker(marker);\r\n            }\r\n            else {\r\n                _this._widget.showStale();\r\n            }\r\n        }));\r\n        return this._model;\r\n    };\r\n    MarkerController.prototype.closeMarkersNavigation = function (focusEditor) {\r\n        if (focusEditor === void 0) { focusEditor = true; }\r\n        this._cleanUp();\r\n        if (focusEditor) {\r\n            this._editor.focus();\r\n        }\r\n    };\r\n    MarkerController.prototype.show = function (marker) {\r\n        var model = this.getOrCreateModel();\r\n        model.currentMarker = marker;\r\n    };\r\n    MarkerController.prototype._onMarkerChanged = function (changedResources) {\r\n        var editorModel = this._editor.getModel();\r\n        if (!editorModel) {\r\n            return;\r\n        }\r\n        if (!this._model) {\r\n            return;\r\n        }\r\n        if (!changedResources.some(function (r) { return isEqual(editorModel.uri, r); })) {\r\n            return;\r\n        }\r\n        this._model.setMarkers(this._getMarkers());\r\n    };\r\n    MarkerController.prototype._getMarkers = function () {\r\n        var model = this._editor.getModel();\r\n        if (!model) {\r\n            return [];\r\n        }\r\n        return this._markerService.read({\r\n            resource: model.uri,\r\n            severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\r\n        });\r\n    };\r\n    MarkerController.ID = 'editor.contrib.markerController';\r\n    MarkerController = __decorate([\r\n        __param(1, IMarkerService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IThemeService),\r\n        __param(4, ICodeEditorService),\r\n        __param(5, IKeybindingService),\r\n        __param(6, IOpenerService)\r\n    ], MarkerController);\r\n    return MarkerController;\r\n}());\r\nexport { MarkerController };\r\nvar MarkerNavigationAction = /** @class */ (function (_super) {\r\n    __extends(MarkerNavigationAction, _super);\r\n    function MarkerNavigationAction(next, multiFile, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        _this._multiFile = multiFile;\r\n        return _this;\r\n    }\r\n    MarkerNavigationAction.prototype.run = function (accessor, editor) {\r\n        var _this = this;\r\n        var markerService = accessor.get(IMarkerService);\r\n        var editorService = accessor.get(ICodeEditorService);\r\n        var controller = MarkerController.get(editor);\r\n        if (!controller) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var model = controller.getOrCreateModel();\r\n        var atEdge = model.move(this._isNext, !this._multiFile);\r\n        if (!atEdge || !this._multiFile) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // try with the next/prev file\r\n        var markers = markerService.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info }).sort(MarkerNavigationAction.compareMarker);\r\n        if (markers.length === 0) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var editorModel = editor.getModel();\r\n        if (!editorModel) {\r\n            return Promise.resolve(undefined);\r\n        }\r\n        var oldMarker = model.currentMarker || { resource: editorModel.uri, severity: MarkerSeverity.Error, startLineNumber: 1, startColumn: 1, endLineNumber: 1, endColumn: 1 };\r\n        var idx = binarySearch(markers, oldMarker, MarkerNavigationAction.compareMarker);\r\n        if (idx < 0) {\r\n            // find best match...\r\n            idx = ~idx;\r\n            idx %= markers.length;\r\n        }\r\n        else if (this._isNext) {\r\n            idx = (idx + 1) % markers.length;\r\n        }\r\n        else {\r\n            idx = (idx + markers.length - 1) % markers.length;\r\n        }\r\n        var newMarker = markers[idx];\r\n        if (isEqual(newMarker.resource, editorModel.uri)) {\r\n            // the next `resource` is this resource which\r\n            // means we cycle within this file\r\n            model.move(this._isNext, true);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        // close the widget for this editor-instance, open the resource\r\n        // for the next marker and re-start marker navigation in there\r\n        controller.closeMarkersNavigation();\r\n        return editorService.openCodeEditor({\r\n            resource: newMarker.resource,\r\n            options: { pinned: false, revealIfOpened: true, revealInCenterIfOutsideViewport: true, selection: newMarker }\r\n        }, editor).then(function (editor) {\r\n            if (!editor) {\r\n                return undefined;\r\n            }\r\n            return editor.getAction(_this.id).run();\r\n        });\r\n    };\r\n    MarkerNavigationAction.compareMarker = function (a, b) {\r\n        var res = compare(a.resource.toString(), b.resource.toString());\r\n        if (res === 0) {\r\n            res = MarkerSeverity.compare(a.severity, b.severity);\r\n        }\r\n        if (res === 0) {\r\n            res = Range.compareRangesUsingStarts(a, b);\r\n        }\r\n        return res;\r\n    };\r\n    return MarkerNavigationAction;\r\n}(EditorAction));\r\nvar NextMarkerAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerAction, _super);\r\n    function NextMarkerAction() {\r\n        return _super.call(this, true, false, {\r\n            id: NextMarkerAction.ID,\r\n            label: NextMarkerAction.LABEL,\r\n            alias: 'Go to Next Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.focus, primary: 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    NextMarkerAction.ID = 'editor.action.marker.next';\r\n    NextMarkerAction.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\");\r\n    return NextMarkerAction;\r\n}(MarkerNavigationAction));\r\nexport { NextMarkerAction };\r\nvar PrevMarkerAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerAction, _super);\r\n    function PrevMarkerAction() {\r\n        return _super.call(this, false, false, {\r\n            id: PrevMarkerAction.ID,\r\n            label: PrevMarkerAction.LABEL,\r\n            alias: 'Go to Previous Problem (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: { kbExpr: EditorContextKeys.focus, primary: 1024 /* Shift */ | 512 /* Alt */ | 66 /* F8 */, weight: 100 /* EditorContrib */ }\r\n        }) || this;\r\n    }\r\n    PrevMarkerAction.ID = 'editor.action.marker.prev';\r\n    PrevMarkerAction.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\");\r\n    return PrevMarkerAction;\r\n}(MarkerNavigationAction));\r\nvar NextMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(NextMarkerInFilesAction, _super);\r\n    function NextMarkerInFilesAction() {\r\n        return _super.call(this, true, true, {\r\n            id: 'editor.action.marker.nextInFiles',\r\n            label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Next Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nvar PrevMarkerInFilesAction = /** @class */ (function (_super) {\r\n    __extends(PrevMarkerInFilesAction, _super);\r\n    function PrevMarkerInFilesAction() {\r\n        return _super.call(this, false, true, {\r\n            id: 'editor.action.marker.prevInFiles',\r\n            label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\r\n            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 66 /* F8 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevMarkerInFilesAction;\r\n}(MarkerNavigationAction));\r\nregisterEditorContribution(MarkerController.ID, MarkerController);\r\nregisterEditorAction(NextMarkerAction);\r\nregisterEditorAction(PrevMarkerAction);\r\nregisterEditorAction(NextMarkerInFilesAction);\r\nregisterEditorAction(PrevMarkerInFilesAction);\r\nvar CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\r\nvar MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\r\nregisterEditorCommand(new MarkerCommand({\r\n    id: 'closeMarkersNavigation',\r\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\r\n    handler: function (x) { return x.closeMarkersNavigation(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 50,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.nextInFiles',\r\n        title: nls.localize({ key: 'miGotoNextProblem', comment: ['&& denotes a mnemonic'] }, \"Next &&Problem\")\r\n    },\r\n    order: 1\r\n});\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '6_problem_nav',\r\n    command: {\r\n        id: 'editor.action.marker.prevInFiles',\r\n        title: nls.localize({ key: 'miGotoPreviousProblem', comment: ['&& denotes a mnemonic'] }, \"Previous &&Problem\")\r\n    },\r\n    order: 2\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}