{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport * as nls from '../../../nls.js';\nimport { Delayer } from '../../../base/common/async.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding, CONTEXT_REPLACE_INPUT_FOCUSED } from './findModel.js';\nimport { FindOptionsWidget } from './findOptionsWidget.js';\nimport { FindReplaceState } from './findState.js';\nimport { FindWidget } from './findWidget.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../../platform/contextview/browser/contextView.js';\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nvar SEARCH_STRING_MAX_LENGTH = 524288;\nexport function getSelectionSearchString(editor) {\n  if (!editor.hasModel()) {\n    return null;\n  }\n  var selection = editor.getSelection();\n  // if selection spans multiple lines, default search string to empty\n  if (selection.startLineNumber === selection.endLineNumber) {\n    if (selection.isEmpty()) {\n      var wordAtPosition = editor.getModel().getWordAtPosition(selection.getStartPosition());\n      if (wordAtPosition) {\n        return wordAtPosition.word;\n      }\n    } else {\n      if (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\n        return editor.getModel().getValueInRange(selection);\n      }\n    }\n  }\n  return null;\n}\nvar CommonFindController = /** @class */function (_super) {\n  __extends(CommonFindController, _super);\n  function CommonFindController(editor, contextKeyService, storageService, clipboardService) {\n    var _this = _super.call(this) || this;\n    _this._editor = editor;\n    _this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\n    _this._contextKeyService = contextKeyService;\n    _this._storageService = storageService;\n    _this._clipboardService = clipboardService;\n    _this._updateHistoryDelayer = new Delayer(500);\n    _this._state = _this._register(new FindReplaceState());\n    _this.loadQueryState();\n    _this._register(_this._state.onFindReplaceStateChange(function (e) {\n      return _this._onStateChanged(e);\n    }));\n    _this._model = null;\n    _this._register(_this._editor.onDidChangeModel(function () {\n      var shouldRestartFind = _this._editor.getModel() && _this._state.isRevealed;\n      _this.disposeModel();\n      _this._state.change({\n        searchScope: null,\n        matchCase: _this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, false),\n        wholeWord: _this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, false),\n        isRegex: _this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, false),\n        preserveCase: _this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, false)\n      }, false);\n      if (shouldRestartFind) {\n        _this._start({\n          forceRevealReplace: false,\n          seedSearchStringFromSelection: false && _this._editor.getOption(28 /* find */).seedSearchStringFromSelection,\n          seedSearchStringFromGlobalClipboard: false,\n          shouldFocus: 0 /* NoFocusChange */,\n          shouldAnimate: false,\n          updateSearchScope: false\n        });\n      }\n    }));\n    return _this;\n  }\n  CommonFindController.get = function (editor) {\n    return editor.getContribution(CommonFindController.ID);\n  };\n  CommonFindController.prototype.dispose = function () {\n    this.disposeModel();\n    _super.prototype.dispose.call(this);\n  };\n  CommonFindController.prototype.disposeModel = function () {\n    if (this._model) {\n      this._model.dispose();\n      this._model = null;\n    }\n  };\n  CommonFindController.prototype._onStateChanged = function (e) {\n    this.saveQueryState(e);\n    if (e.isRevealed) {\n      if (this._state.isRevealed) {\n        this._findWidgetVisible.set(true);\n      } else {\n        this._findWidgetVisible.reset();\n        this.disposeModel();\n      }\n    }\n    if (e.searchString) {\n      this.setGlobalBufferTerm(this._state.searchString);\n    }\n  };\n  CommonFindController.prototype.saveQueryState = function (e) {\n    if (e.isRegex) {\n      this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* WORKSPACE */);\n    }\n\n    if (e.wholeWord) {\n      this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* WORKSPACE */);\n    }\n\n    if (e.matchCase) {\n      this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* WORKSPACE */);\n    }\n\n    if (e.preserveCase) {\n      this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* WORKSPACE */);\n    }\n  };\n\n  CommonFindController.prototype.loadQueryState = function () {\n    this._state.change({\n      matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, this._state.matchCase),\n      wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, this._state.wholeWord),\n      isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, this._state.isRegex),\n      preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, this._state.preserveCase)\n    }, false);\n  };\n  CommonFindController.prototype.isFindInputFocused = function () {\n    return !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\n  };\n  CommonFindController.prototype.getState = function () {\n    return this._state;\n  };\n  CommonFindController.prototype.closeFindWidget = function () {\n    this._state.change({\n      isRevealed: false,\n      searchScope: null\n    }, false);\n    this._editor.focus();\n  };\n  CommonFindController.prototype.toggleCaseSensitive = function () {\n    this._state.change({\n      matchCase: !this._state.matchCase\n    }, false);\n    if (!this._state.isRevealed) {\n      this.highlightFindOptions();\n    }\n  };\n  CommonFindController.prototype.toggleWholeWords = function () {\n    this._state.change({\n      wholeWord: !this._state.wholeWord\n    }, false);\n    if (!this._state.isRevealed) {\n      this.highlightFindOptions();\n    }\n  };\n  CommonFindController.prototype.toggleRegex = function () {\n    this._state.change({\n      isRegex: !this._state.isRegex\n    }, false);\n    if (!this._state.isRevealed) {\n      this.highlightFindOptions();\n    }\n  };\n  CommonFindController.prototype.toggleSearchScope = function () {\n    if (this._state.searchScope) {\n      this._state.change({\n        searchScope: null\n      }, true);\n    } else {\n      if (this._editor.hasModel()) {\n        var selection = this._editor.getSelection();\n        if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n          selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\n        }\n        if (!selection.isEmpty()) {\n          this._state.change({\n            searchScope: selection\n          }, true);\n        }\n      }\n    }\n  };\n  CommonFindController.prototype.setSearchString = function (searchString) {\n    if (this._state.isRegex) {\n      searchString = strings.escapeRegExpCharacters(searchString);\n    }\n    this._state.change({\n      searchString: searchString\n    }, false);\n  };\n  CommonFindController.prototype.highlightFindOptions = function () {\n    // overwritten in subclass\n  };\n  CommonFindController.prototype._start = function (opts) {\n    this.disposeModel();\n    if (!this._editor.hasModel()) {\n      // cannot do anything with an editor that doesn't have a model...\n      return;\n    }\n    var stateChanges = {\n      isRevealed: true\n    };\n    if (opts.seedSearchStringFromSelection) {\n      var selectionSearchString = getSelectionSearchString(this._editor);\n      if (selectionSearchString) {\n        if (this._state.isRegex) {\n          stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\n        } else {\n          stateChanges.searchString = selectionSearchString;\n        }\n      }\n    }\n    if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\n      var selectionSearchString = this.getGlobalBufferTerm();\n      if (selectionSearchString) {\n        stateChanges.searchString = selectionSearchString;\n      }\n    }\n    // Overwrite isReplaceRevealed\n    if (opts.forceRevealReplace) {\n      stateChanges.isReplaceRevealed = true;\n    } else if (!this._findWidgetVisible.get()) {\n      stateChanges.isReplaceRevealed = false;\n    }\n    if (opts.updateSearchScope) {\n      var currentSelection = this._editor.getSelection();\n      if (!currentSelection.isEmpty()) {\n        stateChanges.searchScope = currentSelection;\n      }\n    }\n    this._state.change(stateChanges, false);\n    if (!this._model) {\n      this._model = new FindModelBoundToEditorModel(this._editor, this._state);\n    }\n  };\n  CommonFindController.prototype.start = function (opts) {\n    this._start(opts);\n  };\n  CommonFindController.prototype.moveToNextMatch = function () {\n    if (this._model) {\n      this._model.moveToNextMatch();\n      return true;\n    }\n    return false;\n  };\n  CommonFindController.prototype.moveToPrevMatch = function () {\n    if (this._model) {\n      this._model.moveToPrevMatch();\n      return true;\n    }\n    return false;\n  };\n  CommonFindController.prototype.replace = function () {\n    if (this._model) {\n      this._model.replace();\n      return true;\n    }\n    return false;\n  };\n  CommonFindController.prototype.replaceAll = function () {\n    if (this._model) {\n      this._model.replaceAll();\n      return true;\n    }\n    return false;\n  };\n  CommonFindController.prototype.selectAllMatches = function () {\n    if (this._model) {\n      this._model.selectAllMatches();\n      this._editor.focus();\n      return true;\n    }\n    return false;\n  };\n  CommonFindController.prototype.getGlobalBufferTerm = function () {\n    if (this._editor.getOption(28 /* find */).globalFindClipboard && this._clipboardService && this._editor.hasModel() && !this._editor.getModel().isTooLargeForSyncing()) {\n      return this._clipboardService.readFindText();\n    }\n    return '';\n  };\n  CommonFindController.prototype.setGlobalBufferTerm = function (text) {\n    if (this._editor.getOption(28 /* find */).globalFindClipboard && this._clipboardService && this._editor.hasModel() && !this._editor.getModel().isTooLargeForSyncing()) {\n      this._clipboardService.writeFindText(text);\n    }\n  };\n  CommonFindController.ID = 'editor.contrib.findController';\n  CommonFindController = __decorate([__param(1, IContextKeyService), __param(2, IStorageService), __param(3, IClipboardService)], CommonFindController);\n  return CommonFindController;\n}(Disposable);\nexport { CommonFindController };\nvar FindController = /** @class */function (_super) {\n  __extends(FindController, _super);\n  function FindController(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService) {\n    var _this = _super.call(this, editor, _contextKeyService, _storageService, clipboardService) || this;\n    _this._contextViewService = _contextViewService;\n    _this._keybindingService = _keybindingService;\n    _this._themeService = _themeService;\n    _this._notificationService = _notificationService;\n    _this._widget = null;\n    _this._findOptionsWidget = null;\n    return _this;\n  }\n  FindController.prototype._start = function (opts) {\n    if (!this._widget) {\n      this._createFindWidget();\n    }\n    var selection = this._editor.getSelection();\n    var updateSearchScope = false;\n    switch (this._editor.getOption(28 /* find */).autoFindInSelection) {\n      case 'always':\n        updateSearchScope = true;\n        break;\n      case 'never':\n        updateSearchScope = false;\n        break;\n      case 'multiline':\n        var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\n        updateSearchScope = isSelectionMultipleLine;\n        break;\n      default:\n        break;\n    }\n    opts.updateSearchScope = updateSearchScope;\n    _super.prototype._start.call(this, opts);\n    if (opts.shouldFocus === 2 /* FocusReplaceInput */) {\n      this._widget.focusReplaceInput();\n    } else if (opts.shouldFocus === 1 /* FocusFindInput */) {\n      this._widget.focusFindInput();\n    }\n  };\n  FindController.prototype.highlightFindOptions = function () {\n    if (!this._widget) {\n      this._createFindWidget();\n    }\n    if (this._state.isRevealed) {\n      this._widget.highlightFindOptions();\n    } else {\n      this._findOptionsWidget.highlightFindOptions();\n    }\n  };\n  FindController.prototype._createFindWidget = function () {\n    this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\n    this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\n  };\n  FindController = __decorate([__param(1, IContextViewService), __param(2, IContextKeyService), __param(3, IKeybindingService), __param(4, IThemeService), __param(5, INotificationService), __param(6, IStorageService), __param(7, optional(IClipboardService))], FindController);\n  return FindController;\n}(CommonFindController);\nexport { FindController };\nvar StartFindAction = /** @class */function (_super) {\n  __extends(StartFindAction, _super);\n  function StartFindAction() {\n    return _super.call(this, {\n      id: FIND_IDS.StartFindAction,\n      label: nls.localize('startFindAction', \"Find\"),\n      alias: 'Find',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: null,\n        primary: 2048 /* CtrlCmd */ | 36 /* KEY_F */,\n        weight: 100 /* EditorContrib */\n      },\n\n      menuOpts: {\n        menuId: 17 /* MenubarEditMenu */,\n        group: '3_find',\n        title: nls.localize({\n          key: 'miFind',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Find\"),\n        order: 1\n      }\n    }) || this;\n  }\n  StartFindAction.prototype.run = function (accessor, editor) {\n    var controller = CommonFindController.get(editor);\n    if (controller) {\n      controller.start({\n        forceRevealReplace: false,\n        seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\n        seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).globalFindClipboard,\n        shouldFocus: 1 /* FocusFindInput */,\n        shouldAnimate: true,\n        updateSearchScope: false\n      });\n    }\n  };\n  return StartFindAction;\n}(EditorAction);\nexport { StartFindAction };\nvar StartFindWithSelectionAction = /** @class */function (_super) {\n  __extends(StartFindWithSelectionAction, _super);\n  function StartFindWithSelectionAction() {\n    return _super.call(this, {\n      id: FIND_IDS.StartFindWithSelection,\n      label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\n      alias: 'Find With Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: null,\n        primary: 0,\n        mac: {\n          primary: 2048 /* CtrlCmd */ | 35 /* KEY_E */\n        },\n\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  StartFindWithSelectionAction.prototype.run = function (accessor, editor) {\n    var controller = CommonFindController.get(editor);\n    if (controller) {\n      controller.start({\n        forceRevealReplace: false,\n        seedSearchStringFromSelection: true,\n        seedSearchStringFromGlobalClipboard: false,\n        shouldFocus: 0 /* NoFocusChange */,\n        shouldAnimate: true,\n        updateSearchScope: false\n      });\n      controller.setGlobalBufferTerm(controller.getState().searchString);\n    }\n  };\n  return StartFindWithSelectionAction;\n}(EditorAction);\nexport { StartFindWithSelectionAction };\nvar MatchFindAction = /** @class */function (_super) {\n  __extends(MatchFindAction, _super);\n  function MatchFindAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MatchFindAction.prototype.run = function (accessor, editor) {\n    var controller = CommonFindController.get(editor);\n    if (controller && !this._run(controller)) {\n      controller.start({\n        forceRevealReplace: false,\n        seedSearchStringFromSelection: controller.getState().searchString.length === 0 && editor.getOption(28 /* find */).seedSearchStringFromSelection,\n        seedSearchStringFromGlobalClipboard: true,\n        shouldFocus: 0 /* NoFocusChange */,\n        shouldAnimate: true,\n        updateSearchScope: false\n      });\n      this._run(controller);\n    }\n  };\n  return MatchFindAction;\n}(EditorAction);\nexport { MatchFindAction };\nvar NextMatchFindAction = /** @class */function (_super) {\n  __extends(NextMatchFindAction, _super);\n  function NextMatchFindAction() {\n    return _super.call(this, {\n      id: FIND_IDS.NextMatchFindAction,\n      label: nls.localize('findNextMatchAction', \"Find Next\"),\n      alias: 'Find Next',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 61 /* F3 */,\n        mac: {\n          primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */,\n          secondary: [61 /* F3 */]\n        },\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  NextMatchFindAction.prototype._run = function (controller) {\n    return controller.moveToNextMatch();\n  };\n  return NextMatchFindAction;\n}(MatchFindAction);\nexport { NextMatchFindAction };\nvar NextMatchFindAction2 = /** @class */function (_super) {\n  __extends(NextMatchFindAction2, _super);\n  function NextMatchFindAction2() {\n    return _super.call(this, {\n      id: FIND_IDS.NextMatchFindAction,\n      label: nls.localize('findNextMatchAction', \"Find Next\"),\n      alias: 'Find Next',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n        primary: 3 /* Enter */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  NextMatchFindAction2.prototype._run = function (controller) {\n    return controller.moveToNextMatch();\n  };\n  return NextMatchFindAction2;\n}(MatchFindAction);\nexport { NextMatchFindAction2 };\nvar PreviousMatchFindAction = /** @class */function (_super) {\n  __extends(PreviousMatchFindAction, _super);\n  function PreviousMatchFindAction() {\n    return _super.call(this, {\n      id: FIND_IDS.PreviousMatchFindAction,\n      label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n      alias: 'Find Previous',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 1024 /* Shift */ | 61 /* F3 */,\n        mac: {\n          primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 37 /* KEY_G */,\n          secondary: [1024 /* Shift */ | 61 /* F3 */]\n        },\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  PreviousMatchFindAction.prototype._run = function (controller) {\n    return controller.moveToPrevMatch();\n  };\n  return PreviousMatchFindAction;\n}(MatchFindAction);\nexport { PreviousMatchFindAction };\nvar PreviousMatchFindAction2 = /** @class */function (_super) {\n  __extends(PreviousMatchFindAction2, _super);\n  function PreviousMatchFindAction2() {\n    return _super.call(this, {\n      id: FIND_IDS.PreviousMatchFindAction,\n      label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n      alias: 'Find Previous',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n        primary: 1024 /* Shift */ | 3 /* Enter */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  PreviousMatchFindAction2.prototype._run = function (controller) {\n    return controller.moveToPrevMatch();\n  };\n  return PreviousMatchFindAction2;\n}(MatchFindAction);\nexport { PreviousMatchFindAction2 };\nvar SelectionMatchFindAction = /** @class */function (_super) {\n  __extends(SelectionMatchFindAction, _super);\n  function SelectionMatchFindAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SelectionMatchFindAction.prototype.run = function (accessor, editor) {\n    var controller = CommonFindController.get(editor);\n    if (!controller) {\n      return;\n    }\n    var selectionSearchString = getSelectionSearchString(editor);\n    if (selectionSearchString) {\n      controller.setSearchString(selectionSearchString);\n    }\n    if (!this._run(controller)) {\n      controller.start({\n        forceRevealReplace: false,\n        seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\n        seedSearchStringFromGlobalClipboard: false,\n        shouldFocus: 0 /* NoFocusChange */,\n        shouldAnimate: true,\n        updateSearchScope: false\n      });\n      this._run(controller);\n    }\n  };\n  return SelectionMatchFindAction;\n}(EditorAction);\nexport { SelectionMatchFindAction };\nvar NextSelectionMatchFindAction = /** @class */function (_super) {\n  __extends(NextSelectionMatchFindAction, _super);\n  function NextSelectionMatchFindAction() {\n    return _super.call(this, {\n      id: FIND_IDS.NextSelectionMatchFindAction,\n      label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\n      alias: 'Find Next Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* CtrlCmd */ | 61 /* F3 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  NextSelectionMatchFindAction.prototype._run = function (controller) {\n    return controller.moveToNextMatch();\n  };\n  return NextSelectionMatchFindAction;\n}(SelectionMatchFindAction);\nexport { NextSelectionMatchFindAction };\nvar PreviousSelectionMatchFindAction = /** @class */function (_super) {\n  __extends(PreviousSelectionMatchFindAction, _super);\n  function PreviousSelectionMatchFindAction() {\n    return _super.call(this, {\n      id: FIND_IDS.PreviousSelectionMatchFindAction,\n      label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\n      alias: 'Find Previous Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 61 /* F3 */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  PreviousSelectionMatchFindAction.prototype._run = function (controller) {\n    return controller.moveToPrevMatch();\n  };\n  return PreviousSelectionMatchFindAction;\n}(SelectionMatchFindAction);\nexport { PreviousSelectionMatchFindAction };\nvar StartFindReplaceAction = /** @class */function (_super) {\n  __extends(StartFindReplaceAction, _super);\n  function StartFindReplaceAction() {\n    return _super.call(this, {\n      id: FIND_IDS.StartFindReplaceAction,\n      label: nls.localize('startReplace', \"Replace\"),\n      alias: 'Replace',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: null,\n        primary: 2048 /* CtrlCmd */ | 38 /* KEY_H */,\n        mac: {\n          primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 36 /* KEY_F */\n        },\n        weight: 100 /* EditorContrib */\n      },\n\n      menuOpts: {\n        menuId: 17 /* MenubarEditMenu */,\n        group: '3_find',\n        title: nls.localize({\n          key: 'miReplace',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Replace\"),\n        order: 2\n      }\n    }) || this;\n  }\n  StartFindReplaceAction.prototype.run = function (accessor, editor) {\n    if (!editor.hasModel() || editor.getOption(68 /* readOnly */)) {\n      return;\n    }\n    var controller = CommonFindController.get(editor);\n    var currentSelection = editor.getSelection();\n    var findInputFocused = controller.isFindInputFocused();\n    // we only seed search string from selection when the current selection is single line and not empty,\n    // + the find input is not focused\n    var seedSearchStringFromSelection = !currentSelection.isEmpty() && currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(28 /* find */).seedSearchStringFromSelection && !findInputFocused;\n    /*\r\n     * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\r\n       * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\r\n     * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\r\n     * findInputFocused false seedSearchStringFromSelection false FocusFindInput\r\n     */\n    var shouldFocus = findInputFocused || seedSearchStringFromSelection ? 2 /* FocusReplaceInput */ : 1 /* FocusFindInput */;\n    if (controller) {\n      controller.start({\n        forceRevealReplace: true,\n        seedSearchStringFromSelection: seedSearchStringFromSelection,\n        seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).seedSearchStringFromSelection,\n        shouldFocus: shouldFocus,\n        shouldAnimate: true,\n        updateSearchScope: false\n      });\n    }\n  };\n  return StartFindReplaceAction;\n}(EditorAction);\nexport { StartFindReplaceAction };\nregisterEditorContribution(CommonFindController.ID, FindController);\nregisterEditorAction(StartFindAction);\nregisterEditorAction(StartFindWithSelectionAction);\nregisterEditorAction(NextMatchFindAction);\nregisterEditorAction(NextMatchFindAction2);\nregisterEditorAction(PreviousMatchFindAction);\nregisterEditorAction(PreviousMatchFindAction2);\nregisterEditorAction(NextSelectionMatchFindAction);\nregisterEditorAction(PreviousSelectionMatchFindAction);\nregisterEditorAction(StartFindReplaceAction);\nvar FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.CloseFindWidgetCommand,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.closeFindWidget();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: 9 /* Escape */,\n    secondary: [1024 /* Shift */ | 9 /* Escape */]\n  }\n}));\n\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ToggleCaseSensitiveCommand,\n  precondition: undefined,\n  handler: function handler(x) {\n    return x.toggleCaseSensitive();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: ToggleCaseSensitiveKeybinding.primary,\n    mac: ToggleCaseSensitiveKeybinding.mac,\n    win: ToggleCaseSensitiveKeybinding.win,\n    linux: ToggleCaseSensitiveKeybinding.linux\n  }\n}));\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ToggleWholeWordCommand,\n  precondition: undefined,\n  handler: function handler(x) {\n    return x.toggleWholeWords();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: ToggleWholeWordKeybinding.primary,\n    mac: ToggleWholeWordKeybinding.mac,\n    win: ToggleWholeWordKeybinding.win,\n    linux: ToggleWholeWordKeybinding.linux\n  }\n}));\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ToggleRegexCommand,\n  precondition: undefined,\n  handler: function handler(x) {\n    return x.toggleRegex();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: ToggleRegexKeybinding.primary,\n    mac: ToggleRegexKeybinding.mac,\n    win: ToggleRegexKeybinding.win,\n    linux: ToggleRegexKeybinding.linux\n  }\n}));\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ToggleSearchScopeCommand,\n  precondition: undefined,\n  handler: function handler(x) {\n    return x.toggleSearchScope();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: ToggleSearchScopeKeybinding.primary,\n    mac: ToggleSearchScopeKeybinding.mac,\n    win: ToggleSearchScopeKeybinding.win,\n    linux: ToggleSearchScopeKeybinding.linux\n  }\n}));\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ReplaceOneAction,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.replace();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 22 /* KEY_1 */\n  }\n}));\n\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ReplaceOneAction,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.replace();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n    primary: 3 /* Enter */\n  }\n}));\n\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ReplaceAllAction,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.replaceAll();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 3 /* Enter */\n  }\n}));\n\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.ReplaceAllAction,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.replaceAll();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n    primary: undefined,\n    mac: {\n      primary: 2048 /* CtrlCmd */ | 3 /* Enter */\n    }\n  }\n}));\n\nregisterEditorCommand(new FindCommand({\n  id: FIND_IDS.SelectAllMatchesAction,\n  precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n  handler: function handler(x) {\n    return x.selectAllMatches();\n  },\n  kbOpts: {\n    weight: 100 /* EditorContrib */ + 5,\n    kbExpr: EditorContextKeys.focus,\n    primary: 512 /* Alt */ | 3 /* Enter */\n  }\n}));","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","nls","Delayer","Disposable","strings","EditorAction","EditorCommand","registerEditorAction","registerEditorCommand","registerEditorContribution","EditorContextKeys","CONTEXT_FIND_INPUT_FOCUSED","CONTEXT_FIND_WIDGET_VISIBLE","FIND_IDS","FindModelBoundToEditorModel","ToggleCaseSensitiveKeybinding","ToggleRegexKeybinding","ToggleSearchScopeKeybinding","ToggleWholeWordKeybinding","CONTEXT_REPLACE_INPUT_FOCUSED","FindOptionsWidget","FindReplaceState","FindWidget","IClipboardService","IContextKeyService","ContextKeyExpr","IContextViewService","optional","IKeybindingService","IStorageService","IThemeService","INotificationService","SEARCH_STRING_MAX_LENGTH","getSelectionSearchString","editor","hasModel","selection","getSelection","startLineNumber","endLineNumber","isEmpty","wordAtPosition","getModel","getWordAtPosition","getStartPosition","word","getValueLengthInRange","getValueInRange","CommonFindController","_super","contextKeyService","storageService","clipboardService","_this","call","_editor","_findWidgetVisible","bindTo","_contextKeyService","_storageService","_clipboardService","_updateHistoryDelayer","_state","_register","loadQueryState","onFindReplaceStateChange","e","_onStateChanged","_model","onDidChangeModel","shouldRestartFind","isRevealed","disposeModel","change","searchScope","matchCase","getBoolean","wholeWord","isRegex","preserveCase","_start","forceRevealReplace","seedSearchStringFromSelection","getOption","seedSearchStringFromGlobalClipboard","shouldFocus","shouldAnimate","updateSearchScope","get","getContribution","ID","dispose","saveQueryState","set","reset","searchString","setGlobalBufferTerm","store","actualIsRegex","actualWholeWord","actualMatchCase","actualPreserveCase","isFindInputFocused","getValue","getState","closeFindWidget","focus","toggleCaseSensitive","highlightFindOptions","toggleWholeWords","toggleRegex","toggleSearchScope","endColumn","setEndPosition","getLineMaxColumn","setSearchString","escapeRegExpCharacters","opts","stateChanges","selectionSearchString","getGlobalBufferTerm","isReplaceRevealed","currentSelection","start","moveToNextMatch","moveToPrevMatch","replace","replaceAll","selectAllMatches","globalFindClipboard","isTooLargeForSyncing","readFindText","text","writeFindText","FindController","_contextViewService","_keybindingService","_themeService","_notificationService","_widget","_findOptionsWidget","_createFindWidget","autoFindInSelection","isSelectionMultipleLine","focusReplaceInput","focusFindInput","StartFindAction","id","label","localize","alias","precondition","undefined","kbOpts","kbExpr","primary","weight","menuOpts","menuId","group","title","comment","order","run","accessor","controller","StartFindWithSelectionAction","StartFindWithSelection","mac","MatchFindAction","apply","_run","NextMatchFindAction","secondary","NextMatchFindAction2","and","PreviousMatchFindAction","PreviousMatchFindAction2","SelectionMatchFindAction","NextSelectionMatchFindAction","PreviousSelectionMatchFindAction","StartFindReplaceAction","findInputFocused","FindCommand","bindToContribution","CloseFindWidgetCommand","handler","x","ToggleCaseSensitiveCommand","win","linux","ToggleWholeWordCommand","ToggleRegexCommand","ToggleSearchScopeCommand","ReplaceOneAction","ReplaceAllAction","SelectAllMatchesAction"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/find/findController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport { Delayer } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport * as strings from '../../../base/common/strings.js';\r\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, FIND_IDS, FindModelBoundToEditorModel, ToggleCaseSensitiveKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding, CONTEXT_REPLACE_INPUT_FOCUSED } from './findModel.js';\r\nimport { FindOptionsWidget } from './findOptionsWidget.js';\r\nimport { FindReplaceState } from './findState.js';\r\nimport { FindWidget } from './findWidget.js';\r\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\r\nimport { IContextKeyService, ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { IContextViewService } from '../../../platform/contextview/browser/contextView.js';\r\nimport { optional } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\r\nimport { IStorageService } from '../../../platform/storage/common/storage.js';\r\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\r\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\r\nvar SEARCH_STRING_MAX_LENGTH = 524288;\r\nexport function getSelectionSearchString(editor) {\r\n    if (!editor.hasModel()) {\r\n        return null;\r\n    }\r\n    var selection = editor.getSelection();\r\n    // if selection spans multiple lines, default search string to empty\r\n    if (selection.startLineNumber === selection.endLineNumber) {\r\n        if (selection.isEmpty()) {\r\n            var wordAtPosition = editor.getModel().getWordAtPosition(selection.getStartPosition());\r\n            if (wordAtPosition) {\r\n                return wordAtPosition.word;\r\n            }\r\n        }\r\n        else {\r\n            if (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\r\n                return editor.getModel().getValueInRange(selection);\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nvar CommonFindController = /** @class */ (function (_super) {\r\n    __extends(CommonFindController, _super);\r\n    function CommonFindController(editor, contextKeyService, storageService, clipboardService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\r\n        _this._contextKeyService = contextKeyService;\r\n        _this._storageService = storageService;\r\n        _this._clipboardService = clipboardService;\r\n        _this._updateHistoryDelayer = new Delayer(500);\r\n        _this._state = _this._register(new FindReplaceState());\r\n        _this.loadQueryState();\r\n        _this._register(_this._state.onFindReplaceStateChange(function (e) { return _this._onStateChanged(e); }));\r\n        _this._model = null;\r\n        _this._register(_this._editor.onDidChangeModel(function () {\r\n            var shouldRestartFind = (_this._editor.getModel() && _this._state.isRevealed);\r\n            _this.disposeModel();\r\n            _this._state.change({\r\n                searchScope: null,\r\n                matchCase: _this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, false),\r\n                wholeWord: _this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, false),\r\n                isRegex: _this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, false),\r\n                preserveCase: _this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, false)\r\n            }, false);\r\n            if (shouldRestartFind) {\r\n                _this._start({\r\n                    forceRevealReplace: false,\r\n                    seedSearchStringFromSelection: false && _this._editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                    seedSearchStringFromGlobalClipboard: false,\r\n                    shouldFocus: 0 /* NoFocusChange */,\r\n                    shouldAnimate: false,\r\n                    updateSearchScope: false\r\n                });\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    CommonFindController.get = function (editor) {\r\n        return editor.getContribution(CommonFindController.ID);\r\n    };\r\n    CommonFindController.prototype.dispose = function () {\r\n        this.disposeModel();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    CommonFindController.prototype.disposeModel = function () {\r\n        if (this._model) {\r\n            this._model.dispose();\r\n            this._model = null;\r\n        }\r\n    };\r\n    CommonFindController.prototype._onStateChanged = function (e) {\r\n        this.saveQueryState(e);\r\n        if (e.isRevealed) {\r\n            if (this._state.isRevealed) {\r\n                this._findWidgetVisible.set(true);\r\n            }\r\n            else {\r\n                this._findWidgetVisible.reset();\r\n                this.disposeModel();\r\n            }\r\n        }\r\n        if (e.searchString) {\r\n            this.setGlobalBufferTerm(this._state.searchString);\r\n        }\r\n    };\r\n    CommonFindController.prototype.saveQueryState = function (e) {\r\n        if (e.isRegex) {\r\n            this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.wholeWord) {\r\n            this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.matchCase) {\r\n            this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* WORKSPACE */);\r\n        }\r\n        if (e.preserveCase) {\r\n            this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* WORKSPACE */);\r\n        }\r\n    };\r\n    CommonFindController.prototype.loadQueryState = function () {\r\n        this._state.change({\r\n            matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* WORKSPACE */, this._state.matchCase),\r\n            wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* WORKSPACE */, this._state.wholeWord),\r\n            isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* WORKSPACE */, this._state.isRegex),\r\n            preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* WORKSPACE */, this._state.preserveCase)\r\n        }, false);\r\n    };\r\n    CommonFindController.prototype.isFindInputFocused = function () {\r\n        return !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\r\n    };\r\n    CommonFindController.prototype.getState = function () {\r\n        return this._state;\r\n    };\r\n    CommonFindController.prototype.closeFindWidget = function () {\r\n        this._state.change({\r\n            isRevealed: false,\r\n            searchScope: null\r\n        }, false);\r\n        this._editor.focus();\r\n    };\r\n    CommonFindController.prototype.toggleCaseSensitive = function () {\r\n        this._state.change({ matchCase: !this._state.matchCase }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleWholeWords = function () {\r\n        this._state.change({ wholeWord: !this._state.wholeWord }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleRegex = function () {\r\n        this._state.change({ isRegex: !this._state.isRegex }, false);\r\n        if (!this._state.isRevealed) {\r\n            this.highlightFindOptions();\r\n        }\r\n    };\r\n    CommonFindController.prototype.toggleSearchScope = function () {\r\n        if (this._state.searchScope) {\r\n            this._state.change({ searchScope: null }, true);\r\n        }\r\n        else {\r\n            if (this._editor.hasModel()) {\r\n                var selection = this._editor.getSelection();\r\n                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\r\n                    selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\r\n                }\r\n                if (!selection.isEmpty()) {\r\n                    this._state.change({ searchScope: selection }, true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CommonFindController.prototype.setSearchString = function (searchString) {\r\n        if (this._state.isRegex) {\r\n            searchString = strings.escapeRegExpCharacters(searchString);\r\n        }\r\n        this._state.change({ searchString: searchString }, false);\r\n    };\r\n    CommonFindController.prototype.highlightFindOptions = function () {\r\n        // overwritten in subclass\r\n    };\r\n    CommonFindController.prototype._start = function (opts) {\r\n        this.disposeModel();\r\n        if (!this._editor.hasModel()) {\r\n            // cannot do anything with an editor that doesn't have a model...\r\n            return;\r\n        }\r\n        var stateChanges = {\r\n            isRevealed: true\r\n        };\r\n        if (opts.seedSearchStringFromSelection) {\r\n            var selectionSearchString = getSelectionSearchString(this._editor);\r\n            if (selectionSearchString) {\r\n                if (this._state.isRegex) {\r\n                    stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\r\n                }\r\n                else {\r\n                    stateChanges.searchString = selectionSearchString;\r\n                }\r\n            }\r\n        }\r\n        if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\r\n            var selectionSearchString = this.getGlobalBufferTerm();\r\n            if (selectionSearchString) {\r\n                stateChanges.searchString = selectionSearchString;\r\n            }\r\n        }\r\n        // Overwrite isReplaceRevealed\r\n        if (opts.forceRevealReplace) {\r\n            stateChanges.isReplaceRevealed = true;\r\n        }\r\n        else if (!this._findWidgetVisible.get()) {\r\n            stateChanges.isReplaceRevealed = false;\r\n        }\r\n        if (opts.updateSearchScope) {\r\n            var currentSelection = this._editor.getSelection();\r\n            if (!currentSelection.isEmpty()) {\r\n                stateChanges.searchScope = currentSelection;\r\n            }\r\n        }\r\n        this._state.change(stateChanges, false);\r\n        if (!this._model) {\r\n            this._model = new FindModelBoundToEditorModel(this._editor, this._state);\r\n        }\r\n    };\r\n    CommonFindController.prototype.start = function (opts) {\r\n        this._start(opts);\r\n    };\r\n    CommonFindController.prototype.moveToNextMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToNextMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.moveToPrevMatch = function () {\r\n        if (this._model) {\r\n            this._model.moveToPrevMatch();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replace = function () {\r\n        if (this._model) {\r\n            this._model.replace();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.replaceAll = function () {\r\n        if (this._model) {\r\n            this._model.replaceAll();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.selectAllMatches = function () {\r\n        if (this._model) {\r\n            this._model.selectAllMatches();\r\n            this._editor.focus();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CommonFindController.prototype.getGlobalBufferTerm = function () {\r\n        if (this._editor.getOption(28 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            return this._clipboardService.readFindText();\r\n        }\r\n        return '';\r\n    };\r\n    CommonFindController.prototype.setGlobalBufferTerm = function (text) {\r\n        if (this._editor.getOption(28 /* find */).globalFindClipboard\r\n            && this._clipboardService\r\n            && this._editor.hasModel()\r\n            && !this._editor.getModel().isTooLargeForSyncing()) {\r\n            this._clipboardService.writeFindText(text);\r\n        }\r\n    };\r\n    CommonFindController.ID = 'editor.contrib.findController';\r\n    CommonFindController = __decorate([\r\n        __param(1, IContextKeyService),\r\n        __param(2, IStorageService),\r\n        __param(3, IClipboardService)\r\n    ], CommonFindController);\r\n    return CommonFindController;\r\n}(Disposable));\r\nexport { CommonFindController };\r\nvar FindController = /** @class */ (function (_super) {\r\n    __extends(FindController, _super);\r\n    function FindController(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService) {\r\n        var _this = _super.call(this, editor, _contextKeyService, _storageService, clipboardService) || this;\r\n        _this._contextViewService = _contextViewService;\r\n        _this._keybindingService = _keybindingService;\r\n        _this._themeService = _themeService;\r\n        _this._notificationService = _notificationService;\r\n        _this._widget = null;\r\n        _this._findOptionsWidget = null;\r\n        return _this;\r\n    }\r\n    FindController.prototype._start = function (opts) {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        var selection = this._editor.getSelection();\r\n        var updateSearchScope = false;\r\n        switch (this._editor.getOption(28 /* find */).autoFindInSelection) {\r\n            case 'always':\r\n                updateSearchScope = true;\r\n                break;\r\n            case 'never':\r\n                updateSearchScope = false;\r\n                break;\r\n            case 'multiline':\r\n                var isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\r\n                updateSearchScope = isSelectionMultipleLine;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        opts.updateSearchScope = updateSearchScope;\r\n        _super.prototype._start.call(this, opts);\r\n        if (opts.shouldFocus === 2 /* FocusReplaceInput */) {\r\n            this._widget.focusReplaceInput();\r\n        }\r\n        else if (opts.shouldFocus === 1 /* FocusFindInput */) {\r\n            this._widget.focusFindInput();\r\n        }\r\n    };\r\n    FindController.prototype.highlightFindOptions = function () {\r\n        if (!this._widget) {\r\n            this._createFindWidget();\r\n        }\r\n        if (this._state.isRevealed) {\r\n            this._widget.highlightFindOptions();\r\n        }\r\n        else {\r\n            this._findOptionsWidget.highlightFindOptions();\r\n        }\r\n    };\r\n    FindController.prototype._createFindWidget = function () {\r\n        this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\r\n        this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService, this._themeService));\r\n    };\r\n    FindController = __decorate([\r\n        __param(1, IContextViewService),\r\n        __param(2, IContextKeyService),\r\n        __param(3, IKeybindingService),\r\n        __param(4, IThemeService),\r\n        __param(5, INotificationService),\r\n        __param(6, IStorageService),\r\n        __param(7, optional(IClipboardService))\r\n    ], FindController);\r\n    return FindController;\r\n}(CommonFindController));\r\nexport { FindController };\r\nvar StartFindAction = /** @class */ (function (_super) {\r\n    __extends(StartFindAction, _super);\r\n    function StartFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindAction,\r\n            label: nls.localize('startFindAction', \"Find\"),\r\n            alias: 'Find',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 36 /* KEY_F */,\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"),\r\n                order: 1\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).globalFindClipboard,\r\n                shouldFocus: 1 /* FocusFindInput */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindAction;\r\n}(EditorAction));\r\nexport { StartFindAction };\r\nvar StartFindWithSelectionAction = /** @class */ (function (_super) {\r\n    __extends(StartFindWithSelectionAction, _super);\r\n    function StartFindWithSelectionAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindWithSelection,\r\n            label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\r\n            alias: 'Find With Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 2048 /* CtrlCmd */ | 35 /* KEY_E */,\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindWithSelectionAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: true,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            controller.setGlobalBufferTerm(controller.getState().searchString);\r\n        }\r\n    };\r\n    return StartFindWithSelectionAction;\r\n}(EditorAction));\r\nexport { StartFindWithSelectionAction };\r\nvar MatchFindAction = /** @class */ (function (_super) {\r\n    __extends(MatchFindAction, _super);\r\n    function MatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    MatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (controller && !this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: true,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return MatchFindAction;\r\n}(EditorAction));\r\nexport { MatchFindAction };\r\nvar NextMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction, _super);\r\n    function NextMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 37 /* KEY_G */, secondary: [61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction };\r\nvar NextMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(NextMatchFindAction2, _super);\r\n    function NextMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextMatchFindAction,\r\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\r\n            alias: 'Find Next',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { NextMatchFindAction2 };\r\nvar PreviousMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction, _super);\r\n    function PreviousMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 1024 /* Shift */ | 61 /* F3 */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 37 /* KEY_G */, secondary: [1024 /* Shift */ | 61 /* F3 */] },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction };\r\nvar PreviousMatchFindAction2 = /** @class */ (function (_super) {\r\n    __extends(PreviousMatchFindAction2, _super);\r\n    function PreviousMatchFindAction2() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousMatchFindAction,\r\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\r\n            alias: 'Find Previous',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\r\n                primary: 1024 /* Shift */ | 3 /* Enter */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousMatchFindAction2.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousMatchFindAction2;\r\n}(MatchFindAction));\r\nexport { PreviousMatchFindAction2 };\r\nvar SelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(SelectionMatchFindAction, _super);\r\n    function SelectionMatchFindAction() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SelectionMatchFindAction.prototype.run = function (accessor, editor) {\r\n        var controller = CommonFindController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectionSearchString = getSelectionSearchString(editor);\r\n        if (selectionSearchString) {\r\n            controller.setSearchString(selectionSearchString);\r\n        }\r\n        if (!this._run(controller)) {\r\n            controller.start({\r\n                forceRevealReplace: false,\r\n                seedSearchStringFromSelection: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: false,\r\n                shouldFocus: 0 /* NoFocusChange */,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n            this._run(controller);\r\n        }\r\n    };\r\n    return SelectionMatchFindAction;\r\n}(EditorAction));\r\nexport { SelectionMatchFindAction };\r\nvar NextSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(NextSelectionMatchFindAction, _super);\r\n    function NextSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.NextSelectionMatchFindAction,\r\n            label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\r\n            alias: 'Find Next Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    NextSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToNextMatch();\r\n    };\r\n    return NextSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { NextSelectionMatchFindAction };\r\nvar PreviousSelectionMatchFindAction = /** @class */ (function (_super) {\r\n    __extends(PreviousSelectionMatchFindAction, _super);\r\n    function PreviousSelectionMatchFindAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.PreviousSelectionMatchFindAction,\r\n            label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\r\n            alias: 'Find Previous Selection',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.focus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 61 /* F3 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    PreviousSelectionMatchFindAction.prototype._run = function (controller) {\r\n        return controller.moveToPrevMatch();\r\n    };\r\n    return PreviousSelectionMatchFindAction;\r\n}(SelectionMatchFindAction));\r\nexport { PreviousSelectionMatchFindAction };\r\nvar StartFindReplaceAction = /** @class */ (function (_super) {\r\n    __extends(StartFindReplaceAction, _super);\r\n    function StartFindReplaceAction() {\r\n        return _super.call(this, {\r\n            id: FIND_IDS.StartFindReplaceAction,\r\n            label: nls.localize('startReplace', \"Replace\"),\r\n            alias: 'Replace',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 38 /* KEY_H */,\r\n                mac: { primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 36 /* KEY_F */ },\r\n                weight: 100 /* EditorContrib */\r\n            },\r\n            menuOpts: {\r\n                menuId: 17 /* MenubarEditMenu */,\r\n                group: '3_find',\r\n                title: nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"),\r\n                order: 2\r\n            }\r\n        }) || this;\r\n    }\r\n    StartFindReplaceAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel() || editor.getOption(68 /* readOnly */)) {\r\n            return;\r\n        }\r\n        var controller = CommonFindController.get(editor);\r\n        var currentSelection = editor.getSelection();\r\n        var findInputFocused = controller.isFindInputFocused();\r\n        // we only seed search string from selection when the current selection is single line and not empty,\r\n        // + the find input is not focused\r\n        var seedSearchStringFromSelection = !currentSelection.isEmpty()\r\n            && currentSelection.startLineNumber === currentSelection.endLineNumber && editor.getOption(28 /* find */).seedSearchStringFromSelection\r\n            && !findInputFocused;\r\n        /*\r\n         * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\r\n\r\n         * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\r\n         * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\r\n         * findInputFocused false seedSearchStringFromSelection false FocusFindInput\r\n         */\r\n        var shouldFocus = (findInputFocused || seedSearchStringFromSelection) ?\r\n            2 /* FocusReplaceInput */ : 1 /* FocusFindInput */;\r\n        if (controller) {\r\n            controller.start({\r\n                forceRevealReplace: true,\r\n                seedSearchStringFromSelection: seedSearchStringFromSelection,\r\n                seedSearchStringFromGlobalClipboard: editor.getOption(28 /* find */).seedSearchStringFromSelection,\r\n                shouldFocus: shouldFocus,\r\n                shouldAnimate: true,\r\n                updateSearchScope: false\r\n            });\r\n        }\r\n    };\r\n    return StartFindReplaceAction;\r\n}(EditorAction));\r\nexport { StartFindReplaceAction };\r\nregisterEditorContribution(CommonFindController.ID, FindController);\r\nregisterEditorAction(StartFindAction);\r\nregisterEditorAction(StartFindWithSelectionAction);\r\nregisterEditorAction(NextMatchFindAction);\r\nregisterEditorAction(NextMatchFindAction2);\r\nregisterEditorAction(PreviousMatchFindAction);\r\nregisterEditorAction(PreviousMatchFindAction2);\r\nregisterEditorAction(NextSelectionMatchFindAction);\r\nregisterEditorAction(PreviousSelectionMatchFindAction);\r\nregisterEditorAction(StartFindReplaceAction);\r\nvar FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.CloseFindWidgetCommand,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.closeFindWidget(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 9 /* Escape */,\r\n        secondary: [1024 /* Shift */ | 9 /* Escape */]\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleCaseSensitiveCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleCaseSensitive(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleCaseSensitiveKeybinding.primary,\r\n        mac: ToggleCaseSensitiveKeybinding.mac,\r\n        win: ToggleCaseSensitiveKeybinding.win,\r\n        linux: ToggleCaseSensitiveKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleWholeWordCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleWholeWords(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleWholeWordKeybinding.primary,\r\n        mac: ToggleWholeWordKeybinding.mac,\r\n        win: ToggleWholeWordKeybinding.win,\r\n        linux: ToggleWholeWordKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleRegexCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleRegex(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleRegexKeybinding.primary,\r\n        mac: ToggleRegexKeybinding.mac,\r\n        win: ToggleRegexKeybinding.win,\r\n        linux: ToggleRegexKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ToggleSearchScopeCommand,\r\n    precondition: undefined,\r\n    handler: function (x) { return x.toggleSearchScope(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: ToggleSearchScopeKeybinding.primary,\r\n        mac: ToggleSearchScopeKeybinding.mac,\r\n        win: ToggleSearchScopeKeybinding.win,\r\n        linux: ToggleSearchScopeKeybinding.linux\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 22 /* KEY_1 */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceOneAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replace(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 2048 /* CtrlCmd */ | 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.ReplaceAllAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.replaceAll(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\r\n        primary: undefined,\r\n        mac: {\r\n            primary: 2048 /* CtrlCmd */ | 3 /* Enter */,\r\n        }\r\n    }\r\n}));\r\nregisterEditorCommand(new FindCommand({\r\n    id: FIND_IDS.SelectAllMatchesAction,\r\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\r\n    handler: function (x) { return x.selectAllMatches(); },\r\n    kbOpts: {\r\n        weight: 100 /* EditorContrib */ + 5,\r\n        kbExpr: EditorContextKeys.focus,\r\n        primary: 512 /* Alt */ | 3 /* Enter */\r\n    }\r\n}));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}