{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport './bracketMatching.css';\nimport * as nls from '../../../nls.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { Selection } from '../../common/core/selection.js';\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\nimport { OverviewRulerLane } from '../../common/model.js';\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', {\n  dark: '#A0A0A0',\n  light: '#A0A0A0',\n  hc: '#A0A0A0'\n}, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\nvar JumpToBracketAction = /** @class */function (_super) {\n  __extends(JumpToBracketAction, _super);\n  function JumpToBracketAction() {\n    return _super.call(this, {\n      id: 'editor.action.jumpToBracket',\n      label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\n      alias: 'Go to Bracket',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */,\n        weight: 100 /* EditorContrib */\n      }\n    }) || this;\n  }\n  JumpToBracketAction.prototype.run = function (accessor, editor) {\n    var controller = BracketMatchingController.get(editor);\n    if (!controller) {\n      return;\n    }\n    controller.jumpToBracket();\n  };\n  return JumpToBracketAction;\n}(EditorAction);\nvar SelectToBracketAction = /** @class */function (_super) {\n  __extends(SelectToBracketAction, _super);\n  function SelectToBracketAction() {\n    return _super.call(this, {\n      id: 'editor.action.selectToBracket',\n      label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\n      alias: 'Select to Bracket',\n      precondition: undefined,\n      description: {\n        description: \"Select to Bracket\",\n        args: [{\n          name: 'args',\n          schema: {\n            type: 'object',\n            properties: {\n              'selectBrackets': {\n                type: 'boolean',\n                default: true\n              }\n            }\n          }\n        }]\n      }\n    }) || this;\n  }\n  SelectToBracketAction.prototype.run = function (accessor, editor, args) {\n    var controller = BracketMatchingController.get(editor);\n    if (!controller) {\n      return;\n    }\n    var selectBrackets = true;\n    if (args && args.selectBrackets === false) {\n      selectBrackets = false;\n    }\n    controller.selectToBracket(selectBrackets);\n  };\n  return SelectToBracketAction;\n}(EditorAction);\nvar BracketsData = /** @class */function () {\n  function BracketsData(position, brackets, options) {\n    this.position = position;\n    this.brackets = brackets;\n    this.options = options;\n  }\n  return BracketsData;\n}();\nvar BracketMatchingController = /** @class */function (_super) {\n  __extends(BracketMatchingController, _super);\n  function BracketMatchingController(editor) {\n    var _this = _super.call(this) || this;\n    _this._editor = editor;\n    _this._lastBracketsData = [];\n    _this._lastVersionId = 0;\n    _this._decorations = [];\n    _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () {\n      return _this._updateBrackets();\n    }, 50));\n    _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\n    _this._updateBracketsSoon.schedule();\n    _this._register(editor.onDidChangeCursorPosition(function (e) {\n      if (_this._matchBrackets === 'never') {\n        // Early exit if nothing needs to be done!\n        // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n        return;\n      }\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModelContent(function (e) {\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModel(function (e) {\n      _this._lastBracketsData = [];\n      _this._decorations = [];\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\n      _this._lastBracketsData = [];\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeConfiguration(function (e) {\n      if (e.hasChanged(53 /* matchBrackets */)) {\n        _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\n        _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\n        _this._lastBracketsData = [];\n        _this._lastVersionId = 0;\n        _this._updateBracketsSoon.schedule();\n      }\n    }));\n    return _this;\n  }\n  BracketMatchingController.get = function (editor) {\n    return editor.getContribution(BracketMatchingController.ID);\n  };\n  BracketMatchingController.prototype.jumpToBracket = function () {\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    var model = this._editor.getModel();\n    var newSelections = this._editor.getSelections().map(function (selection) {\n      var position = selection.getStartPosition();\n      // find matching brackets if position is on a bracket\n      var brackets = model.matchBracket(position);\n      var newCursorPosition = null;\n      if (brackets) {\n        if (brackets[0].containsPosition(position)) {\n          newCursorPosition = brackets[1].getStartPosition();\n        } else if (brackets[1].containsPosition(position)) {\n          newCursorPosition = brackets[0].getStartPosition();\n        }\n      } else {\n        // find the enclosing brackets if the position isn't on a matching bracket\n        var enclosingBrackets = model.findEnclosingBrackets(position);\n        if (enclosingBrackets) {\n          newCursorPosition = enclosingBrackets[0].getStartPosition();\n        } else {\n          // no enclosing brackets, try the very first next bracket\n          var nextBracket = model.findNextBracket(position);\n          if (nextBracket && nextBracket.range) {\n            newCursorPosition = nextBracket.range.getStartPosition();\n          }\n        }\n      }\n      if (newCursorPosition) {\n        return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n      }\n      return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\n    });\n    this._editor.setSelections(newSelections);\n    this._editor.revealRange(newSelections[0]);\n  };\n  BracketMatchingController.prototype.selectToBracket = function (selectBrackets) {\n    if (!this._editor.hasModel()) {\n      return;\n    }\n    var model = this._editor.getModel();\n    var newSelections = [];\n    this._editor.getSelections().forEach(function (selection) {\n      var position = selection.getStartPosition();\n      var brackets = model.matchBracket(position);\n      if (!brackets) {\n        brackets = model.findEnclosingBrackets(position);\n        if (!brackets) {\n          var nextBracket = model.findNextBracket(position);\n          if (nextBracket && nextBracket.range) {\n            brackets = model.matchBracket(nextBracket.range.getStartPosition());\n          }\n        }\n      }\n      var selectFrom = null;\n      var selectTo = null;\n      if (brackets) {\n        brackets.sort(Range.compareRangesUsingStarts);\n        var open_1 = brackets[0],\n          close_1 = brackets[1];\n        selectFrom = selectBrackets ? open_1.getStartPosition() : open_1.getEndPosition();\n        selectTo = selectBrackets ? close_1.getEndPosition() : close_1.getStartPosition();\n      }\n      if (selectFrom && selectTo) {\n        newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\n      }\n    });\n    if (newSelections.length > 0) {\n      this._editor.setSelections(newSelections);\n      this._editor.revealRange(newSelections[0]);\n    }\n  };\n  BracketMatchingController.prototype._updateBrackets = function () {\n    if (this._matchBrackets === 'never') {\n      return;\n    }\n    this._recomputeBrackets();\n    var newDecorations = [],\n      newDecorationsLen = 0;\n    for (var _i = 0, _a = this._lastBracketsData; _i < _a.length; _i++) {\n      var bracketData = _a[_i];\n      var brackets = bracketData.brackets;\n      if (brackets) {\n        newDecorations[newDecorationsLen++] = {\n          range: brackets[0],\n          options: bracketData.options\n        };\n        newDecorations[newDecorationsLen++] = {\n          range: brackets[1],\n          options: bracketData.options\n        };\n      }\n    }\n    this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\n  };\n  BracketMatchingController.prototype._recomputeBrackets = function () {\n    if (!this._editor.hasModel()) {\n      // no model => no brackets!\n      this._lastBracketsData = [];\n      this._lastVersionId = 0;\n      return;\n    }\n    var selections = this._editor.getSelections();\n    if (selections.length > 100) {\n      // no bracket matching for high numbers of selections\n      this._lastBracketsData = [];\n      this._lastVersionId = 0;\n      return;\n    }\n    var model = this._editor.getModel();\n    var versionId = model.getVersionId();\n    var previousData = [];\n    if (this._lastVersionId === versionId) {\n      // use the previous data only if the model is at the same version id\n      previousData = this._lastBracketsData;\n    }\n    var positions = [],\n      positionsLen = 0;\n    for (var i = 0, len = selections.length; i < len; i++) {\n      var selection = selections[i];\n      if (selection.isEmpty()) {\n        // will bracket match a cursor only if the selection is collapsed\n        positions[positionsLen++] = selection.getStartPosition();\n      }\n    }\n    // sort positions for `previousData` cache hits\n    if (positions.length > 1) {\n      positions.sort(Position.compare);\n    }\n    var newData = [],\n      newDataLen = 0;\n    var previousIndex = 0,\n      previousLen = previousData.length;\n    for (var i = 0, len = positions.length; i < len; i++) {\n      var position = positions[i];\n      while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\n        previousIndex++;\n      }\n      if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\n        newData[newDataLen++] = previousData[previousIndex];\n      } else {\n        var brackets = model.matchBracket(position);\n        var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\n        if (!brackets && this._matchBrackets === 'always') {\n          brackets = model.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\n          options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\n        }\n        newData[newDataLen++] = new BracketsData(position, brackets, options);\n      }\n    }\n    this._lastBracketsData = newData;\n    this._lastVersionId = versionId;\n  };\n  BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\n  BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'bracket-match',\n    overviewRuler: {\n      color: themeColorFromId(overviewRulerBracketMatchForeground),\n      position: OverviewRulerLane.Center\n    }\n  });\n  BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'bracket-match'\n  });\n  return BracketMatchingController;\n}(Disposable);\nexport { BracketMatchingController };\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController);\nregisterEditorAction(SelectToBracketAction);\nregisterEditorAction(JumpToBracketAction);\nregisterThemingParticipant(function (theme, collector) {\n  var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\n  if (bracketMatchBackground) {\n    collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\n  }\n  var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\n  if (bracketMatchBorder) {\n    collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\n  }\n});\n// Go to menu\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\n  group: '5_infile_nav',\n  command: {\n    id: 'editor.action.jumpToBracket',\n    title: nls.localize({\n      key: 'miGoToBracket',\n      comment: ['&& denotes a mnemonic']\n    }, \"Go to &&Bracket\")\n  },\n  order: 2\n});","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","nls","RunOnceScheduler","Disposable","EditorAction","registerEditorAction","registerEditorContribution","Position","Range","Selection","EditorContextKeys","OverviewRulerLane","ModelDecorationOptions","editorBracketMatchBackground","editorBracketMatchBorder","registerColor","registerThemingParticipant","themeColorFromId","MenuRegistry","overviewRulerBracketMatchForeground","dark","light","hc","localize","JumpToBracketAction","_super","call","id","label","alias","precondition","undefined","kbOpts","kbExpr","editorTextFocus","primary","weight","run","accessor","editor","controller","BracketMatchingController","get","jumpToBracket","SelectToBracketAction","description","args","name","schema","type","properties","default","selectBrackets","selectToBracket","BracketsData","position","brackets","options","_this","_editor","_lastBracketsData","_lastVersionId","_decorations","_updateBracketsSoon","_register","_updateBrackets","_matchBrackets","getOption","schedule","onDidChangeCursorPosition","e","onDidChangeModelContent","onDidChangeModel","onDidChangeModelLanguageConfiguration","onDidChangeConfiguration","hasChanged","deltaDecorations","getContribution","ID","hasModel","model","getModel","newSelections","getSelections","map","selection","getStartPosition","matchBracket","newCursorPosition","containsPosition","enclosingBrackets","findEnclosingBrackets","nextBracket","findNextBracket","range","lineNumber","column","setSelections","revealRange","forEach","selectFrom","selectTo","sort","compareRangesUsingStarts","open_1","close_1","getEndPosition","push","length","_recomputeBrackets","newDecorations","newDecorationsLen","_i","_a","bracketData","selections","versionId","getVersionId","previousData","positions","positionsLen","i","len","isEmpty","compare","newData","newDataLen","previousIndex","previousLen","isBefore","equals","_DECORATION_OPTIONS_WITH_OVERVIEW_RULER","_DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER","register","stickiness","className","overviewRuler","color","Center","theme","collector","bracketMatchBackground","getColor","addRule","bracketMatchBorder","appendMenuItem","group","command","title","key","comment","order"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './bracketMatching.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hc: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\r\nvar JumpToBracketAction = /** @class */ (function (_super) {\r\n    __extends(JumpToBracketAction, _super);\r\n    function JumpToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.jumpToBracket',\r\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\r\n            alias: 'Go to Bracket',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JumpToBracketAction.prototype.run = function (accessor, editor) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.jumpToBracket();\r\n    };\r\n    return JumpToBracketAction;\r\n}(EditorAction));\r\nvar SelectToBracketAction = /** @class */ (function (_super) {\r\n    __extends(SelectToBracketAction, _super);\r\n    function SelectToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectToBracket',\r\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\r\n            alias: 'Select to Bracket',\r\n            precondition: undefined,\r\n            description: {\r\n                description: \"Select to Bracket\",\r\n                args: [{\r\n                        name: 'args',\r\n                        schema: {\r\n                            type: 'object',\r\n                            properties: {\r\n                                'selectBrackets': {\r\n                                    type: 'boolean',\r\n                                    default: true\r\n                                }\r\n                            },\r\n                        }\r\n                    }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectToBracketAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectBrackets = true;\r\n        if (args && args.selectBrackets === false) {\r\n            selectBrackets = false;\r\n        }\r\n        controller.selectToBracket(selectBrackets);\r\n    };\r\n    return SelectToBracketAction;\r\n}(EditorAction));\r\nvar BracketsData = /** @class */ (function () {\r\n    function BracketsData(position, brackets, options) {\r\n        this.position = position;\r\n        this.brackets = brackets;\r\n        this.options = options;\r\n    }\r\n    return BracketsData;\r\n}());\r\nvar BracketMatchingController = /** @class */ (function (_super) {\r\n    __extends(BracketMatchingController, _super);\r\n    function BracketMatchingController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._lastBracketsData = [];\r\n        _this._lastVersionId = 0;\r\n        _this._decorations = [];\r\n        _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () { return _this._updateBrackets(); }, 50));\r\n        _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n        _this._updateBracketsSoon.schedule();\r\n        _this._register(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._matchBrackets === 'never') {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._decorations = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(53 /* matchBrackets */)) {\r\n                _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n                _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\r\n                _this._lastBracketsData = [];\r\n                _this._lastVersionId = 0;\r\n                _this._updateBracketsSoon.schedule();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    BracketMatchingController.get = function (editor) {\r\n        return editor.getContribution(BracketMatchingController.ID);\r\n    };\r\n    BracketMatchingController.prototype.jumpToBracket = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = this._editor.getSelections().map(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            // find matching brackets if position is on a bracket\r\n            var brackets = model.matchBracket(position);\r\n            var newCursorPosition = null;\r\n            if (brackets) {\r\n                if (brackets[0].containsPosition(position)) {\r\n                    newCursorPosition = brackets[1].getStartPosition();\r\n                }\r\n                else if (brackets[1].containsPosition(position)) {\r\n                    newCursorPosition = brackets[0].getStartPosition();\r\n                }\r\n            }\r\n            else {\r\n                // find the enclosing brackets if the position isn't on a matching bracket\r\n                var enclosingBrackets = model.findEnclosingBrackets(position);\r\n                if (enclosingBrackets) {\r\n                    newCursorPosition = enclosingBrackets[0].getStartPosition();\r\n                }\r\n                else {\r\n                    // no enclosing brackets, try the very first next bracket\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        newCursorPosition = nextBracket.range.getStartPosition();\r\n                    }\r\n                }\r\n            }\r\n            if (newCursorPosition) {\r\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\r\n            }\r\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        });\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealRange(newSelections[0]);\r\n    };\r\n    BracketMatchingController.prototype.selectToBracket = function (selectBrackets) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = [];\r\n        this._editor.getSelections().forEach(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            var brackets = model.matchBracket(position);\r\n            if (!brackets) {\r\n                brackets = model.findEnclosingBrackets(position);\r\n                if (!brackets) {\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        brackets = model.matchBracket(nextBracket.range.getStartPosition());\r\n                    }\r\n                }\r\n            }\r\n            var selectFrom = null;\r\n            var selectTo = null;\r\n            if (brackets) {\r\n                brackets.sort(Range.compareRangesUsingStarts);\r\n                var open_1 = brackets[0], close_1 = brackets[1];\r\n                selectFrom = selectBrackets ? open_1.getStartPosition() : open_1.getEndPosition();\r\n                selectTo = selectBrackets ? close_1.getEndPosition() : close_1.getStartPosition();\r\n            }\r\n            if (selectFrom && selectTo) {\r\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\r\n            }\r\n        });\r\n        if (newSelections.length > 0) {\r\n            this._editor.setSelections(newSelections);\r\n            this._editor.revealRange(newSelections[0]);\r\n        }\r\n    };\r\n    BracketMatchingController.prototype._updateBrackets = function () {\r\n        if (this._matchBrackets === 'never') {\r\n            return;\r\n        }\r\n        this._recomputeBrackets();\r\n        var newDecorations = [], newDecorationsLen = 0;\r\n        for (var _i = 0, _a = this._lastBracketsData; _i < _a.length; _i++) {\r\n            var bracketData = _a[_i];\r\n            var brackets = bracketData.brackets;\r\n            if (brackets) {\r\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\r\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\r\n            }\r\n        }\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\r\n    };\r\n    BracketMatchingController.prototype._recomputeBrackets = function () {\r\n        if (!this._editor.hasModel()) {\r\n            // no model => no brackets!\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length > 100) {\r\n            // no bracket matching for high numbers of selections\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var versionId = model.getVersionId();\r\n        var previousData = [];\r\n        if (this._lastVersionId === versionId) {\r\n            // use the previous data only if the model is at the same version id\r\n            previousData = this._lastBracketsData;\r\n        }\r\n        var positions = [], positionsLen = 0;\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                // will bracket match a cursor only if the selection is collapsed\r\n                positions[positionsLen++] = selection.getStartPosition();\r\n            }\r\n        }\r\n        // sort positions for `previousData` cache hits\r\n        if (positions.length > 1) {\r\n            positions.sort(Position.compare);\r\n        }\r\n        var newData = [], newDataLen = 0;\r\n        var previousIndex = 0, previousLen = previousData.length;\r\n        for (var i = 0, len = positions.length; i < len; i++) {\r\n            var position = positions[i];\r\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\r\n                previousIndex++;\r\n            }\r\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\r\n                newData[newDataLen++] = previousData[previousIndex];\r\n            }\r\n            else {\r\n                var brackets = model.matchBracket(position);\r\n                var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\r\n                if (!brackets && this._matchBrackets === 'always') {\r\n                    brackets = model.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\r\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\r\n                }\r\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\r\n            }\r\n        }\r\n        this._lastBracketsData = newData;\r\n        this._lastVersionId = versionId;\r\n    };\r\n    BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\r\n    BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match'\r\n    });\r\n    return BracketMatchingController;\r\n}(Disposable));\r\nexport { BracketMatchingController };\r\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController);\r\nregisterEditorAction(SelectToBracketAction);\r\nregisterEditorAction(JumpToBracketAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\r\n    if (bracketMatchBackground) {\r\n        collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\r\n    }\r\n    var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\r\n    if (bracketMatchBorder) {\r\n        collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\r\n    }\r\n});\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '5_infile_nav',\r\n    command: {\r\n        id: 'editor.action.jumpToBracket',\r\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\r\n    },\r\n    order: 2\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}