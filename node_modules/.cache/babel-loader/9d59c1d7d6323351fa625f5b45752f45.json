{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akash\\\\Desktop\\\\agat project\\\\CLientapp\\\\src\\\\containers\\\\Study\\\\ActivityConfig\\\\WorkflowStatus.js\";\nimport React from 'react';\nimport { Form, Menu, Row, Divider, Dropdown, Icon, Col, Select } from 'antd';\nimport '../../Utility/browse.css';\nimport LayoutContent from '../../../components/utility/layoutContent';\nimport { ANNOTATION, METADATA_ANNOT } from '../../Utility/appConstants';\nimport \"./WorkflowStatus.css\";\nimport { checkPermission } from '../../Utility/sharedUtility';\nvar FormItem = Form.Item;\nvar splitClass = 24;\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nexport default function WorkflowStatus(props) {\n  var _this = this;\n  var study = props.study;\n  var annotationRequired = study.annotationRequired,\n    mappingRequried = study.mappingRequried,\n    defineRequired = study.defineRequired,\n    workflowActivityStatusID = study.workflowActivityStatusID;\n  var getFieldDecorator = props.form.getFieldDecorator;\n  var status = props.status,\n    updateData = props.updateData,\n    annotationWorkFlows = props.annotationWorkFlows,\n    defineWorkFlows = props.defineWorkFlows,\n    transFormationWorkFlows = props.transFormationWorkFlows;\n  var activity = [{\n    name: \"Annotation Status\",\n    required: annotationRequired\n  }, {\n    name: \"Transformation Status\",\n    required: mappingRequried\n  }, {\n    name: \"Define Status\",\n    required: defineRequired\n  }];\n\n  //Check Is Workflow Field should be disable ?\n  var checkIsDisable = function checkIsDisable(activityname) {\n    var activityObj = getActivityObjByName(activityname);\n    var study = props.study,\n      isProjectInActive = props.isProjectInActive;\n    var Define = status.Define,\n      Trans = status.Trans;\n    //console.log(checkPermission(props.permissions, [\"StudyWorkSpace\",\"Annotation\"]))\n\n    return !activityObj || study.locked || workflowActivityStatusID === 15 || isProjectInActive || activityObj.length === 0 || activityname === \"Define Status\" && (Define.id === 10 || Define.id === 20) &&\n    //Not allow define until mapping get completed\n    study.mappingRequried && Trans.id !== 9;\n  };\n\n  //get Activity Obj By Activity Name\n  var getActivityObjByName = function getActivityObjByName(activityname) {\n    switch (activityname.toLowerCase().replaceAll(/ /g, \"\")) {\n      case \"annotationstatus\":\n        return annotationWorkFlows;\n      case \"transformationstatus\":\n        return transFormationWorkFlows;\n      case \"definestatus\":\n        return defineWorkFlows;\n    }\n  };\n  var getSubmitForReview = function getSubmitForReview(wStatus) {\n    return \"Submit \" + wStatus.replace(\"UnderReview\", \"\") + \" for Review\";\n  };\n  var getStatusListByActivityName = function getStatusListByActivityName(activityname) {\n    var data = getActivityObjByName(activityname);\n    return /*#__PURE__*/React.createElement(Menu, {\n      onClick: function onClick(e) {\n        props.beforeUpdateTheWorkFlow(parseInt(e.key), data);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 16\n      }\n    }, (data || []).map(function (wfstatus) {\n      return /*#__PURE__*/React.createElement(Menu.Item, {\n        key: wfstatus.targetStatusID,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 24\n        }\n      }, wfstatus.targetStatusText.indexOf(\"UnderReview\") >= 0 ? getSubmitForReview(wfstatus.targetStatusText) : wfstatus.targetStatusText);\n    }));\n  };\n  var getCurrentStatus = function getCurrentStatus(activityname) {\n    switch (activityname.toLowerCase().replaceAll(/ /g, \"\")) {\n      case \"annotationstatus\":\n        return status.Annot.text;\n      case \"transformationstatus\":\n        return status.Trans.text;\n      case \"definestatus\":\n        return status.Define.text;\n    }\n  };\n  return /*#__PURE__*/React.createElement(LayoutContent, {\n    style: {\n      wordBreak: 'break-all'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Form, Object.assign({}, formItemLayout, {\n    layout: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, activity.map(function (activi) {\n    return activi.required && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n      md: splitClass,\n      sm: 24,\n      xs: 24,\n      style: {\n        paddingBottom: \"10px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      label: activi.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      overlay: getStatusListByActivityName(activi.name),\n      disabled: checkIsDisable(activi.name),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"ant-dropdown-link\",\n      onClick: function onClick(e) {\n        return e.preventDefault();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 45\n      }\n    }, getCurrentStatus(activi.name), \" \", /*#__PURE__*/React.createElement(Icon, {\n      type: \"down\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 77\n      }\n    }))))), /*#__PURE__*/React.createElement(Divider, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }));\n  }))));\n}","map":{"version":3,"names":["React","Form","Menu","Row","Divider","Dropdown","Icon","Col","Select","LayoutContent","ANNOTATION","METADATA_ANNOT","checkPermission","FormItem","Item","splitClass","formItemLayout","labelCol","xs","span","sm","wrapperCol","WorkflowStatus","props","study","annotationRequired","mappingRequried","defineRequired","workflowActivityStatusID","getFieldDecorator","form","status","updateData","annotationWorkFlows","defineWorkFlows","transFormationWorkFlows","activity","name","required","checkIsDisable","activityname","activityObj","getActivityObjByName","isProjectInActive","Define","Trans","locked","length","id","toLowerCase","replaceAll","getSubmitForReview","wStatus","replace","getStatusListByActivityName","data","e","beforeUpdateTheWorkFlow","parseInt","key","map","wfstatus","targetStatusID","targetStatusText","indexOf","getCurrentStatus","Annot","text","wordBreak","width","activi","paddingBottom","preventDefault"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/src/containers/Study/ActivityConfig/WorkflowStatus.js"],"sourcesContent":["import React from 'react';\r\nimport { Form, Menu, Row, Divider, Dropdown, Icon, Col, Select } from 'antd';\r\nimport '../../Utility/browse.css';\r\nimport LayoutContent from '../../../components/utility/layoutContent';\r\nimport { ANNOTATION, METADATA_ANNOT } from '../../Utility/appConstants';\r\nimport \"./WorkflowStatus.css\";\r\nimport { checkPermission } from '../../Utility/sharedUtility';\r\n\r\nconst FormItem = Form.Item;\r\nconst splitClass = 24;\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 }\r\n    },\r\n};\r\n\r\nexport default function WorkflowStatus(props)\r\n{\r\n    let { study } = props;\r\n\r\n    let {\r\n        annotationRequired,\r\n        mappingRequried,\r\n        defineRequired,\r\n        workflowActivityStatusID\r\n    } = study;\r\n    const { getFieldDecorator } = props.form;\r\n\r\n    const {\r\n        status,\r\n        updateData,\r\n        annotationWorkFlows,\r\n        defineWorkFlows,\r\n        transFormationWorkFlows,\r\n    } = props;\r\n\r\n    let activity =\r\n    [\r\n        {\r\n            name: \"Annotation Status\",\r\n            required: annotationRequired\r\n        },\r\n        {\r\n            name: \"Transformation Status\",\r\n            required: mappingRequried\r\n        },\r\n        {\r\n            name: \"Define Status\",\r\n            required: defineRequired\r\n        }\r\n     ];\r\n\r\n    //Check Is Workflow Field should be disable ?\r\n    let checkIsDisable = (activityname) =>\r\n    {\r\n        let activityObj = getActivityObjByName(activityname);\r\n        let { study, isProjectInActive} = props;\r\n        let { Define, Trans } = status;\r\n        //console.log(checkPermission(props.permissions, [\"StudyWorkSpace\",\"Annotation\"]))\r\n\r\n        return !activityObj ||\r\n            study.locked ||\r\n            workflowActivityStatusID === 15 ||\r\n            isProjectInActive ||\r\n            activityObj.length === 0 ||\r\n            (activityname === \"Define Status\" && ((Define.id === 10 || Define.id === 20) &&           //Not allow define until mapping get completed\r\n             (study.mappingRequried && Trans.id !== 9)));\r\n\r\n    }\r\n\r\n    //get Activity Obj By Activity Name\r\n    let getActivityObjByName = (activityname) => {\r\n        switch (activityname.toLowerCase().replaceAll(/ /g, \"\")) {\r\n            case \"annotationstatus\":\r\n                return annotationWorkFlows;\r\n            case \"transformationstatus\":\r\n               return transFormationWorkFlows;\r\n            case \"definestatus\":\r\n                return  defineWorkFlows;\r\n        }\r\n    }\r\n\r\n    let getSubmitForReview = (wStatus) =>  \"Submit \" + wStatus.replace(\"UnderReview\", \"\") + \" for Review\";\r\n\r\n    let getStatusListByActivityName = (activityname) => {\r\n        let data = getActivityObjByName(activityname);\r\n\r\n        return <Menu onClick={(e) => { props.beforeUpdateTheWorkFlow(parseInt(e.key), data) }}>\r\n            {(data || []).map(wfstatus => {\r\n                return <Menu.Item key={wfstatus.targetStatusID}>\r\n                    {wfstatus.targetStatusText.indexOf(\"UnderReview\") >= 0 ? getSubmitForReview(wfstatus.targetStatusText) : wfstatus.targetStatusText}\r\n                </Menu.Item>\r\n            })\r\n            }\r\n        </Menu>\r\n    }\r\n\r\n    let getCurrentStatus = (activityname) => {\r\n        switch (activityname.toLowerCase().replaceAll(/ /g, \"\")) {\r\n            case \"annotationstatus\":\r\n                return status.Annot.text;\r\n            case \"transformationstatus\":\r\n                return status.Trans.text;\r\n            case \"definestatus\":\r\n                return status.Define.text;\r\n                \r\n        }\r\n    }\r\n    return <LayoutContent style={{ wordBreak: 'break-all' }}>\r\n        <Form {...formItemLayout} layout=\"vertical\">\r\n            <Row style={{ width: \"100%\" }}>\r\n                {\r\n                activity.map((activi) =>\r\n                {\r\n                    return activi.required && <>\r\n                            <Col md={splitClass} sm={24} xs={24} style={{ paddingBottom: \"10px\" }}>\r\n                            <FormItem label={activi.name}>\r\n                                    {\r\n                                        <Dropdown\r\n                                            overlay={getStatusListByActivityName(activi.name)}\r\n                                            disabled={checkIsDisable(activi.name)}\r\n                                        >\r\n                                            <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\r\n                                            {getCurrentStatus(activi.name)} <Icon type=\"down\" />\r\n                                            </a>\r\n                                        </Dropdown>\r\n                                    }\r\n                                </FormItem>\r\n                            </Col>\r\n                            <Divider />\r\n                        </>\r\n                    \r\n                })}\r\n            </Row>\r\n        </Form>\r\n\r\n    </LayoutContent>\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}