{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createScanner } from './../../jsonc-parser/main.js';\nimport { FoldingRangeKind, Position } from '../jsonLanguageTypes.js';\nexport function getFoldingRanges(document, context) {\n  var ranges = [];\n  var nestingLevels = [];\n  var stack = [];\n  var prevStart = -1;\n  var scanner = createScanner(document.getText(), false);\n  var token = scanner.scan();\n  function addRange(range) {\n    ranges.push(range);\n    nestingLevels.push(stack.length);\n  }\n  while (token !== 17 /* EOF */) {\n    switch (token) {\n      case 1 /* OpenBraceToken */:\n      case 3 /* OpenBracketToken */:\n        {\n          var startLine = document.positionAt(scanner.getTokenOffset()).line;\n          var range = {\n            startLine: startLine,\n            endLine: startLine,\n            kind: token === 1 /* OpenBraceToken */ ? 'object' : 'array'\n          };\n          stack.push(range);\n          break;\n        }\n      case 2 /* CloseBraceToken */:\n      case 4 /* CloseBracketToken */:\n        {\n          var kind = token === 2 /* CloseBraceToken */ ? 'object' : 'array';\n          if (stack.length > 0 && stack[stack.length - 1].kind === kind) {\n            var range = stack.pop();\n            var line = document.positionAt(scanner.getTokenOffset()).line;\n            if (range && line > range.startLine + 1 && prevStart !== range.startLine) {\n              range.endLine = line - 1;\n              addRange(range);\n              prevStart = range.startLine;\n            }\n          }\n          break;\n        }\n      case 13 /* BlockCommentTrivia */:\n        {\n          var startLine = document.positionAt(scanner.getTokenOffset()).line;\n          var endLine = document.positionAt(scanner.getTokenOffset() + scanner.getTokenLength()).line;\n          if (scanner.getTokenError() === 1 /* UnexpectedEndOfComment */ && startLine + 1 < document.lineCount) {\n            scanner.setPosition(document.offsetAt(Position.create(startLine + 1, 0)));\n          } else {\n            if (startLine < endLine) {\n              addRange({\n                startLine: startLine,\n                endLine: endLine,\n                kind: FoldingRangeKind.Comment\n              });\n              prevStart = startLine;\n            }\n          }\n          break;\n        }\n      case 12 /* LineCommentTrivia */:\n        {\n          var text = document.getText().substr(scanner.getTokenOffset(), scanner.getTokenLength());\n          var m = text.match(/^\\/\\/\\s*#(region\\b)|(endregion\\b)/);\n          if (m) {\n            var line = document.positionAt(scanner.getTokenOffset()).line;\n            if (m[1]) {\n              // start pattern match\n              var range = {\n                startLine: line,\n                endLine: line,\n                kind: FoldingRangeKind.Region\n              };\n              stack.push(range);\n            } else {\n              var i = stack.length - 1;\n              while (i >= 0 && stack[i].kind !== FoldingRangeKind.Region) {\n                i--;\n              }\n              if (i >= 0) {\n                var range = stack[i];\n                stack.length = i;\n                if (line > range.startLine && prevStart !== range.startLine) {\n                  range.endLine = line;\n                  addRange(range);\n                  prevStart = range.startLine;\n                }\n              }\n            }\n          }\n          break;\n        }\n    }\n    token = scanner.scan();\n  }\n  var rangeLimit = context && context.rangeLimit;\n  if (typeof rangeLimit !== 'number' || ranges.length <= rangeLimit) {\n    return ranges;\n  }\n  if (context && context.onRangeLimitExceeded) {\n    context.onRangeLimitExceeded(document.uri);\n  }\n  var counts = [];\n  for (var _i = 0, nestingLevels_1 = nestingLevels; _i < nestingLevels_1.length; _i++) {\n    var level = nestingLevels_1[_i];\n    if (level < 30) {\n      counts[level] = (counts[level] || 0) + 1;\n    }\n  }\n  var entries = 0;\n  var maxLevel = 0;\n  for (var i = 0; i < counts.length; i++) {\n    var n = counts[i];\n    if (n) {\n      if (n + entries > rangeLimit) {\n        maxLevel = i;\n        break;\n      }\n      entries += n;\n    }\n  }\n  var result = [];\n  for (var i = 0; i < ranges.length; i++) {\n    var level = nestingLevels[i];\n    if (typeof level === 'number') {\n      if (level < maxLevel || level === maxLevel && entries++ < rangeLimit) {\n        result.push(ranges[i]);\n      }\n    }\n  }\n  return result;\n}","map":{"version":3,"names":["createScanner","FoldingRangeKind","Position","getFoldingRanges","document","context","ranges","nestingLevels","stack","prevStart","scanner","getText","token","scan","addRange","range","push","length","startLine","positionAt","getTokenOffset","line","endLine","kind","pop","getTokenLength","getTokenError","lineCount","setPosition","offsetAt","create","Comment","text","substr","m","match","Region","i","rangeLimit","onRangeLimitExceeded","uri","counts","_i","nestingLevels_1","level","entries","maxLevel","n","result"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonFolding.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createScanner } from './../../jsonc-parser/main.js';\nimport { FoldingRangeKind, Position } from '../jsonLanguageTypes.js';\nexport function getFoldingRanges(document, context) {\n    var ranges = [];\n    var nestingLevels = [];\n    var stack = [];\n    var prevStart = -1;\n    var scanner = createScanner(document.getText(), false);\n    var token = scanner.scan();\n    function addRange(range) {\n        ranges.push(range);\n        nestingLevels.push(stack.length);\n    }\n    while (token !== 17 /* EOF */) {\n        switch (token) {\n            case 1 /* OpenBraceToken */:\n            case 3 /* OpenBracketToken */: {\n                var startLine = document.positionAt(scanner.getTokenOffset()).line;\n                var range = { startLine: startLine, endLine: startLine, kind: token === 1 /* OpenBraceToken */ ? 'object' : 'array' };\n                stack.push(range);\n                break;\n            }\n            case 2 /* CloseBraceToken */:\n            case 4 /* CloseBracketToken */: {\n                var kind = token === 2 /* CloseBraceToken */ ? 'object' : 'array';\n                if (stack.length > 0 && stack[stack.length - 1].kind === kind) {\n                    var range = stack.pop();\n                    var line = document.positionAt(scanner.getTokenOffset()).line;\n                    if (range && line > range.startLine + 1 && prevStart !== range.startLine) {\n                        range.endLine = line - 1;\n                        addRange(range);\n                        prevStart = range.startLine;\n                    }\n                }\n                break;\n            }\n            case 13 /* BlockCommentTrivia */: {\n                var startLine = document.positionAt(scanner.getTokenOffset()).line;\n                var endLine = document.positionAt(scanner.getTokenOffset() + scanner.getTokenLength()).line;\n                if (scanner.getTokenError() === 1 /* UnexpectedEndOfComment */ && startLine + 1 < document.lineCount) {\n                    scanner.setPosition(document.offsetAt(Position.create(startLine + 1, 0)));\n                }\n                else {\n                    if (startLine < endLine) {\n                        addRange({ startLine: startLine, endLine: endLine, kind: FoldingRangeKind.Comment });\n                        prevStart = startLine;\n                    }\n                }\n                break;\n            }\n            case 12 /* LineCommentTrivia */: {\n                var text = document.getText().substr(scanner.getTokenOffset(), scanner.getTokenLength());\n                var m = text.match(/^\\/\\/\\s*#(region\\b)|(endregion\\b)/);\n                if (m) {\n                    var line = document.positionAt(scanner.getTokenOffset()).line;\n                    if (m[1]) { // start pattern match\n                        var range = { startLine: line, endLine: line, kind: FoldingRangeKind.Region };\n                        stack.push(range);\n                    }\n                    else {\n                        var i = stack.length - 1;\n                        while (i >= 0 && stack[i].kind !== FoldingRangeKind.Region) {\n                            i--;\n                        }\n                        if (i >= 0) {\n                            var range = stack[i];\n                            stack.length = i;\n                            if (line > range.startLine && prevStart !== range.startLine) {\n                                range.endLine = line;\n                                addRange(range);\n                                prevStart = range.startLine;\n                            }\n                        }\n                    }\n                }\n                break;\n            }\n        }\n        token = scanner.scan();\n    }\n    var rangeLimit = context && context.rangeLimit;\n    if (typeof rangeLimit !== 'number' || ranges.length <= rangeLimit) {\n        return ranges;\n    }\n    if (context && context.onRangeLimitExceeded) {\n        context.onRangeLimitExceeded(document.uri);\n    }\n    var counts = [];\n    for (var _i = 0, nestingLevels_1 = nestingLevels; _i < nestingLevels_1.length; _i++) {\n        var level = nestingLevels_1[_i];\n        if (level < 30) {\n            counts[level] = (counts[level] || 0) + 1;\n        }\n    }\n    var entries = 0;\n    var maxLevel = 0;\n    for (var i = 0; i < counts.length; i++) {\n        var n = counts[i];\n        if (n) {\n            if (n + entries > rangeLimit) {\n                maxLevel = i;\n                break;\n            }\n            entries += n;\n        }\n    }\n    var result = [];\n    for (var i = 0; i < ranges.length; i++) {\n        var level = nestingLevels[i];\n        if (typeof level === 'number') {\n            if (level < maxLevel || (level === maxLevel && entries++ < rangeLimit)) {\n                result.push(ranges[i]);\n            }\n        }\n    }\n    return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}