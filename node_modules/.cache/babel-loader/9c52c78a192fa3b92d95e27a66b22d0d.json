{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { Position } from '../../../common/core/position.js';\nvar invalidFunc = function invalidFunc() {\n  throw new Error(\"Invalid change accessor\");\n};\nvar ViewZones = /** @class */function (_super) {\n  __extends(ViewZones, _super);\n  function ViewZones(context) {\n    var _this = _super.call(this, context) || this;\n    var options = _this._context.configuration.options;\n    var layoutInfo = options.get(107 /* layoutInfo */);\n    _this._lineHeight = options.get(49 /* lineHeight */);\n    _this._contentWidth = layoutInfo.contentWidth;\n    _this._contentLeft = layoutInfo.contentLeft;\n    _this.domNode = createFastDomNode(document.createElement('div'));\n    _this.domNode.setClassName('view-zones');\n    _this.domNode.setPosition('absolute');\n    _this.domNode.setAttribute('role', 'presentation');\n    _this.domNode.setAttribute('aria-hidden', 'true');\n    _this.marginDomNode = createFastDomNode(document.createElement('div'));\n    _this.marginDomNode.setClassName('margin-view-zones');\n    _this.marginDomNode.setPosition('absolute');\n    _this.marginDomNode.setAttribute('role', 'presentation');\n    _this.marginDomNode.setAttribute('aria-hidden', 'true');\n    _this._zones = {};\n    return _this;\n  }\n  ViewZones.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n    this._zones = {};\n  };\n  // ---- begin view event handlers\n  ViewZones.prototype._recomputeWhitespacesProps = function () {\n    var _this = this;\n    var whitespaces = this._context.viewLayout.getWhitespaces();\n    var oldWhitespaces = new Map();\n    for (var _i = 0, whitespaces_1 = whitespaces; _i < whitespaces_1.length; _i++) {\n      var whitespace = whitespaces_1[_i];\n      oldWhitespaces.set(whitespace.id, whitespace);\n    }\n    return this._context.viewLayout.changeWhitespace(function (whitespaceAccessor) {\n      var hadAChange = false;\n      var keys = Object.keys(_this._zones);\n      for (var i = 0, len = keys.length; i < len; i++) {\n        var id = keys[i];\n        var zone = _this._zones[id];\n        var props = _this._computeWhitespaceProps(zone.delegate);\n        var oldWhitespace = oldWhitespaces.get(id);\n        if (oldWhitespace && (oldWhitespace.afterLineNumber !== props.afterViewLineNumber || oldWhitespace.height !== props.heightInPx)) {\n          whitespaceAccessor.changeOneWhitespace(id, props.afterViewLineNumber, props.heightInPx);\n          _this._safeCallOnComputedHeight(zone.delegate, props.heightInPx);\n          hadAChange = true;\n        }\n      }\n      return hadAChange;\n    });\n  };\n  ViewZones.prototype.onConfigurationChanged = function (e) {\n    var options = this._context.configuration.options;\n    var layoutInfo = options.get(107 /* layoutInfo */);\n    this._lineHeight = options.get(49 /* lineHeight */);\n    this._contentWidth = layoutInfo.contentWidth;\n    this._contentLeft = layoutInfo.contentLeft;\n    if (e.hasChanged(49 /* lineHeight */)) {\n      this._recomputeWhitespacesProps();\n    }\n    return true;\n  };\n  ViewZones.prototype.onLineMappingChanged = function (e) {\n    var hadAChange = this._recomputeWhitespacesProps();\n    if (hadAChange) {\n      this._context.viewLayout.onHeightMaybeChanged();\n    }\n    return hadAChange;\n  };\n  ViewZones.prototype.onLinesDeleted = function (e) {\n    return true;\n  };\n  ViewZones.prototype.onScrollChanged = function (e) {\n    return e.scrollTopChanged || e.scrollWidthChanged;\n  };\n  ViewZones.prototype.onZonesChanged = function (e) {\n    return true;\n  };\n  ViewZones.prototype.onLinesInserted = function (e) {\n    return true;\n  };\n  // ---- end view event handlers\n  ViewZones.prototype._getZoneOrdinal = function (zone) {\n    if (typeof zone.afterColumn !== 'undefined') {\n      return zone.afterColumn;\n    }\n    return 10000;\n  };\n  ViewZones.prototype._computeWhitespaceProps = function (zone) {\n    if (zone.afterLineNumber === 0) {\n      return {\n        afterViewLineNumber: 0,\n        heightInPx: this._heightInPixels(zone),\n        minWidthInPx: this._minWidthInPixels(zone)\n      };\n    }\n    var zoneAfterModelPosition;\n    if (typeof zone.afterColumn !== 'undefined') {\n      zoneAfterModelPosition = this._context.model.validateModelPosition({\n        lineNumber: zone.afterLineNumber,\n        column: zone.afterColumn\n      });\n    } else {\n      var validAfterLineNumber = this._context.model.validateModelPosition({\n        lineNumber: zone.afterLineNumber,\n        column: 1\n      }).lineNumber;\n      zoneAfterModelPosition = new Position(validAfterLineNumber, this._context.model.getModelLineMaxColumn(validAfterLineNumber));\n    }\n    var zoneBeforeModelPosition;\n    if (zoneAfterModelPosition.column === this._context.model.getModelLineMaxColumn(zoneAfterModelPosition.lineNumber)) {\n      zoneBeforeModelPosition = this._context.model.validateModelPosition({\n        lineNumber: zoneAfterModelPosition.lineNumber + 1,\n        column: 1\n      });\n    } else {\n      zoneBeforeModelPosition = this._context.model.validateModelPosition({\n        lineNumber: zoneAfterModelPosition.lineNumber,\n        column: zoneAfterModelPosition.column + 1\n      });\n    }\n    var viewPosition = this._context.model.coordinatesConverter.convertModelPositionToViewPosition(zoneAfterModelPosition);\n    var isVisible = this._context.model.coordinatesConverter.modelPositionIsVisible(zoneBeforeModelPosition);\n    return {\n      afterViewLineNumber: viewPosition.lineNumber,\n      heightInPx: isVisible ? this._heightInPixels(zone) : 0,\n      minWidthInPx: this._minWidthInPixels(zone)\n    };\n  };\n  ViewZones.prototype.changeViewZones = function (callback) {\n    var _this = this;\n    return this._context.viewLayout.changeWhitespace(function (whitespaceAccessor) {\n      var zonesHaveChanged = false;\n      var changeAccessor = {\n        addZone: function addZone(zone) {\n          zonesHaveChanged = true;\n          return _this._addZone(whitespaceAccessor, zone);\n        },\n        removeZone: function removeZone(id) {\n          if (!id) {\n            return;\n          }\n          zonesHaveChanged = _this._removeZone(whitespaceAccessor, id) || zonesHaveChanged;\n        },\n        layoutZone: function layoutZone(id) {\n          if (!id) {\n            return;\n          }\n          zonesHaveChanged = _this._layoutZone(whitespaceAccessor, id) || zonesHaveChanged;\n        }\n      };\n      safeInvoke1Arg(callback, changeAccessor);\n      // Invalidate changeAccessor\n      changeAccessor.addZone = invalidFunc;\n      changeAccessor.removeZone = invalidFunc;\n      changeAccessor.layoutZone = invalidFunc;\n      return zonesHaveChanged;\n    });\n  };\n  ViewZones.prototype._addZone = function (whitespaceAccessor, zone) {\n    var props = this._computeWhitespaceProps(zone);\n    var whitespaceId = whitespaceAccessor.insertWhitespace(props.afterViewLineNumber, this._getZoneOrdinal(zone), props.heightInPx, props.minWidthInPx);\n    var myZone = {\n      whitespaceId: whitespaceId,\n      delegate: zone,\n      isVisible: false,\n      domNode: createFastDomNode(zone.domNode),\n      marginDomNode: zone.marginDomNode ? createFastDomNode(zone.marginDomNode) : null\n    };\n    this._safeCallOnComputedHeight(myZone.delegate, props.heightInPx);\n    myZone.domNode.setPosition('absolute');\n    myZone.domNode.domNode.style.width = '100%';\n    myZone.domNode.setDisplay('none');\n    myZone.domNode.setAttribute('monaco-view-zone', myZone.whitespaceId);\n    this.domNode.appendChild(myZone.domNode);\n    if (myZone.marginDomNode) {\n      myZone.marginDomNode.setPosition('absolute');\n      myZone.marginDomNode.domNode.style.width = '100%';\n      myZone.marginDomNode.setDisplay('none');\n      myZone.marginDomNode.setAttribute('monaco-view-zone', myZone.whitespaceId);\n      this.marginDomNode.appendChild(myZone.marginDomNode);\n    }\n    this._zones[myZone.whitespaceId] = myZone;\n    this.setShouldRender();\n    return myZone.whitespaceId;\n  };\n  ViewZones.prototype._removeZone = function (whitespaceAccessor, id) {\n    if (this._zones.hasOwnProperty(id)) {\n      var zone = this._zones[id];\n      delete this._zones[id];\n      whitespaceAccessor.removeWhitespace(zone.whitespaceId);\n      zone.domNode.removeAttribute('monaco-visible-view-zone');\n      zone.domNode.removeAttribute('monaco-view-zone');\n      zone.domNode.domNode.parentNode.removeChild(zone.domNode.domNode);\n      if (zone.marginDomNode) {\n        zone.marginDomNode.removeAttribute('monaco-visible-view-zone');\n        zone.marginDomNode.removeAttribute('monaco-view-zone');\n        zone.marginDomNode.domNode.parentNode.removeChild(zone.marginDomNode.domNode);\n      }\n      this.setShouldRender();\n      return true;\n    }\n    return false;\n  };\n  ViewZones.prototype._layoutZone = function (whitespaceAccessor, id) {\n    if (this._zones.hasOwnProperty(id)) {\n      var zone = this._zones[id];\n      var props = this._computeWhitespaceProps(zone.delegate);\n      // const newOrdinal = this._getZoneOrdinal(zone.delegate);\n      whitespaceAccessor.changeOneWhitespace(zone.whitespaceId, props.afterViewLineNumber, props.heightInPx);\n      // TODO@Alex: change `newOrdinal` too\n      this._safeCallOnComputedHeight(zone.delegate, props.heightInPx);\n      this.setShouldRender();\n      return true;\n    }\n    return false;\n  };\n  ViewZones.prototype.shouldSuppressMouseDownOnViewZone = function (id) {\n    if (this._zones.hasOwnProperty(id)) {\n      var zone = this._zones[id];\n      return Boolean(zone.delegate.suppressMouseDown);\n    }\n    return false;\n  };\n  ViewZones.prototype._heightInPixels = function (zone) {\n    if (typeof zone.heightInPx === 'number') {\n      return zone.heightInPx;\n    }\n    if (typeof zone.heightInLines === 'number') {\n      return this._lineHeight * zone.heightInLines;\n    }\n    return this._lineHeight;\n  };\n  ViewZones.prototype._minWidthInPixels = function (zone) {\n    if (typeof zone.minWidthInPx === 'number') {\n      return zone.minWidthInPx;\n    }\n    return 0;\n  };\n  ViewZones.prototype._safeCallOnComputedHeight = function (zone, height) {\n    if (typeof zone.onComputedHeight === 'function') {\n      try {\n        zone.onComputedHeight(height);\n      } catch (e) {\n        onUnexpectedError(e);\n      }\n    }\n  };\n  ViewZones.prototype._safeCallOnDomNodeTop = function (zone, top) {\n    if (typeof zone.onDomNodeTop === 'function') {\n      try {\n        zone.onDomNodeTop(top);\n      } catch (e) {\n        onUnexpectedError(e);\n      }\n    }\n  };\n  ViewZones.prototype.prepareRender = function (ctx) {\n    // Nothing to read\n  };\n  ViewZones.prototype.render = function (ctx) {\n    var visibleWhitespaces = ctx.viewportData.whitespaceViewportData;\n    var visibleZones = {};\n    var hasVisibleZone = false;\n    for (var i = 0, len = visibleWhitespaces.length; i < len; i++) {\n      visibleZones[visibleWhitespaces[i].id] = visibleWhitespaces[i];\n      hasVisibleZone = true;\n    }\n    var keys = Object.keys(this._zones);\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var id = keys[i];\n      var zone = this._zones[id];\n      var newTop = 0;\n      var newHeight = 0;\n      var newDisplay = 'none';\n      if (visibleZones.hasOwnProperty(id)) {\n        newTop = visibleZones[id].verticalOffset - ctx.bigNumbersDelta;\n        newHeight = visibleZones[id].height;\n        newDisplay = 'block';\n        // zone is visible\n        if (!zone.isVisible) {\n          zone.domNode.setAttribute('monaco-visible-view-zone', 'true');\n          zone.isVisible = true;\n        }\n        this._safeCallOnDomNodeTop(zone.delegate, ctx.getScrolledTopFromAbsoluteTop(visibleZones[id].verticalOffset));\n      } else {\n        if (zone.isVisible) {\n          zone.domNode.removeAttribute('monaco-visible-view-zone');\n          zone.isVisible = false;\n        }\n        this._safeCallOnDomNodeTop(zone.delegate, ctx.getScrolledTopFromAbsoluteTop(-1000000));\n      }\n      zone.domNode.setTop(newTop);\n      zone.domNode.setHeight(newHeight);\n      zone.domNode.setDisplay(newDisplay);\n      if (zone.marginDomNode) {\n        zone.marginDomNode.setTop(newTop);\n        zone.marginDomNode.setHeight(newHeight);\n        zone.marginDomNode.setDisplay(newDisplay);\n      }\n    }\n    if (hasVisibleZone) {\n      this.domNode.setWidth(Math.max(ctx.scrollWidth, this._contentWidth));\n      this.marginDomNode.setWidth(this._contentLeft);\n    }\n  };\n  return ViewZones;\n}(ViewPart);\nexport { ViewZones };\nfunction safeInvoke1Arg(func, arg1) {\n  try {\n    return func(arg1);\n  } catch (e) {\n    onUnexpectedError(e);\n  }\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","createFastDomNode","onUnexpectedError","ViewPart","Position","invalidFunc","Error","ViewZones","_super","context","_this","call","options","_context","configuration","layoutInfo","get","_lineHeight","_contentWidth","contentWidth","_contentLeft","contentLeft","domNode","document","createElement","setClassName","setPosition","setAttribute","marginDomNode","_zones","dispose","_recomputeWhitespacesProps","whitespaces","viewLayout","getWhitespaces","oldWhitespaces","Map","_i","whitespaces_1","length","whitespace","set","id","changeWhitespace","whitespaceAccessor","hadAChange","keys","i","len","zone","props","_computeWhitespaceProps","delegate","oldWhitespace","afterLineNumber","afterViewLineNumber","height","heightInPx","changeOneWhitespace","_safeCallOnComputedHeight","onConfigurationChanged","e","hasChanged","onLineMappingChanged","onHeightMaybeChanged","onLinesDeleted","onScrollChanged","scrollTopChanged","scrollWidthChanged","onZonesChanged","onLinesInserted","_getZoneOrdinal","afterColumn","_heightInPixels","minWidthInPx","_minWidthInPixels","zoneAfterModelPosition","model","validateModelPosition","lineNumber","column","validAfterLineNumber","getModelLineMaxColumn","zoneBeforeModelPosition","viewPosition","coordinatesConverter","convertModelPositionToViewPosition","isVisible","modelPositionIsVisible","changeViewZones","callback","zonesHaveChanged","changeAccessor","addZone","_addZone","removeZone","_removeZone","layoutZone","_layoutZone","safeInvoke1Arg","whitespaceId","insertWhitespace","myZone","style","width","setDisplay","appendChild","setShouldRender","removeWhitespace","removeAttribute","parentNode","removeChild","shouldSuppressMouseDownOnViewZone","Boolean","suppressMouseDown","heightInLines","onComputedHeight","_safeCallOnDomNodeTop","top","onDomNodeTop","prepareRender","ctx","render","visibleWhitespaces","viewportData","whitespaceViewportData","visibleZones","hasVisibleZone","newTop","newHeight","newDisplay","verticalOffset","bigNumbersDelta","getScrolledTopFromAbsoluteTop","setTop","setHeight","setWidth","Math","max","scrollWidth","func","arg1"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/viewZones/viewZones.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\r\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\r\nimport { ViewPart } from '../../view/viewPart.js';\r\nimport { Position } from '../../../common/core/position.js';\r\nvar invalidFunc = function () { throw new Error(\"Invalid change accessor\"); };\r\nvar ViewZones = /** @class */ (function (_super) {\r\n    __extends(ViewZones, _super);\r\n    function ViewZones(context) {\r\n        var _this = _super.call(this, context) || this;\r\n        var options = _this._context.configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        _this._lineHeight = options.get(49 /* lineHeight */);\r\n        _this._contentWidth = layoutInfo.contentWidth;\r\n        _this._contentLeft = layoutInfo.contentLeft;\r\n        _this.domNode = createFastDomNode(document.createElement('div'));\r\n        _this.domNode.setClassName('view-zones');\r\n        _this.domNode.setPosition('absolute');\r\n        _this.domNode.setAttribute('role', 'presentation');\r\n        _this.domNode.setAttribute('aria-hidden', 'true');\r\n        _this.marginDomNode = createFastDomNode(document.createElement('div'));\r\n        _this.marginDomNode.setClassName('margin-view-zones');\r\n        _this.marginDomNode.setPosition('absolute');\r\n        _this.marginDomNode.setAttribute('role', 'presentation');\r\n        _this.marginDomNode.setAttribute('aria-hidden', 'true');\r\n        _this._zones = {};\r\n        return _this;\r\n    }\r\n    ViewZones.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this._zones = {};\r\n    };\r\n    // ---- begin view event handlers\r\n    ViewZones.prototype._recomputeWhitespacesProps = function () {\r\n        var _this = this;\r\n        var whitespaces = this._context.viewLayout.getWhitespaces();\r\n        var oldWhitespaces = new Map();\r\n        for (var _i = 0, whitespaces_1 = whitespaces; _i < whitespaces_1.length; _i++) {\r\n            var whitespace = whitespaces_1[_i];\r\n            oldWhitespaces.set(whitespace.id, whitespace);\r\n        }\r\n        return this._context.viewLayout.changeWhitespace(function (whitespaceAccessor) {\r\n            var hadAChange = false;\r\n            var keys = Object.keys(_this._zones);\r\n            for (var i = 0, len = keys.length; i < len; i++) {\r\n                var id = keys[i];\r\n                var zone = _this._zones[id];\r\n                var props = _this._computeWhitespaceProps(zone.delegate);\r\n                var oldWhitespace = oldWhitespaces.get(id);\r\n                if (oldWhitespace && (oldWhitespace.afterLineNumber !== props.afterViewLineNumber || oldWhitespace.height !== props.heightInPx)) {\r\n                    whitespaceAccessor.changeOneWhitespace(id, props.afterViewLineNumber, props.heightInPx);\r\n                    _this._safeCallOnComputedHeight(zone.delegate, props.heightInPx);\r\n                    hadAChange = true;\r\n                }\r\n            }\r\n            return hadAChange;\r\n        });\r\n    };\r\n    ViewZones.prototype.onConfigurationChanged = function (e) {\r\n        var options = this._context.configuration.options;\r\n        var layoutInfo = options.get(107 /* layoutInfo */);\r\n        this._lineHeight = options.get(49 /* lineHeight */);\r\n        this._contentWidth = layoutInfo.contentWidth;\r\n        this._contentLeft = layoutInfo.contentLeft;\r\n        if (e.hasChanged(49 /* lineHeight */)) {\r\n            this._recomputeWhitespacesProps();\r\n        }\r\n        return true;\r\n    };\r\n    ViewZones.prototype.onLineMappingChanged = function (e) {\r\n        var hadAChange = this._recomputeWhitespacesProps();\r\n        if (hadAChange) {\r\n            this._context.viewLayout.onHeightMaybeChanged();\r\n        }\r\n        return hadAChange;\r\n    };\r\n    ViewZones.prototype.onLinesDeleted = function (e) {\r\n        return true;\r\n    };\r\n    ViewZones.prototype.onScrollChanged = function (e) {\r\n        return e.scrollTopChanged || e.scrollWidthChanged;\r\n    };\r\n    ViewZones.prototype.onZonesChanged = function (e) {\r\n        return true;\r\n    };\r\n    ViewZones.prototype.onLinesInserted = function (e) {\r\n        return true;\r\n    };\r\n    // ---- end view event handlers\r\n    ViewZones.prototype._getZoneOrdinal = function (zone) {\r\n        if (typeof zone.afterColumn !== 'undefined') {\r\n            return zone.afterColumn;\r\n        }\r\n        return 10000;\r\n    };\r\n    ViewZones.prototype._computeWhitespaceProps = function (zone) {\r\n        if (zone.afterLineNumber === 0) {\r\n            return {\r\n                afterViewLineNumber: 0,\r\n                heightInPx: this._heightInPixels(zone),\r\n                minWidthInPx: this._minWidthInPixels(zone)\r\n            };\r\n        }\r\n        var zoneAfterModelPosition;\r\n        if (typeof zone.afterColumn !== 'undefined') {\r\n            zoneAfterModelPosition = this._context.model.validateModelPosition({\r\n                lineNumber: zone.afterLineNumber,\r\n                column: zone.afterColumn\r\n            });\r\n        }\r\n        else {\r\n            var validAfterLineNumber = this._context.model.validateModelPosition({\r\n                lineNumber: zone.afterLineNumber,\r\n                column: 1\r\n            }).lineNumber;\r\n            zoneAfterModelPosition = new Position(validAfterLineNumber, this._context.model.getModelLineMaxColumn(validAfterLineNumber));\r\n        }\r\n        var zoneBeforeModelPosition;\r\n        if (zoneAfterModelPosition.column === this._context.model.getModelLineMaxColumn(zoneAfterModelPosition.lineNumber)) {\r\n            zoneBeforeModelPosition = this._context.model.validateModelPosition({\r\n                lineNumber: zoneAfterModelPosition.lineNumber + 1,\r\n                column: 1\r\n            });\r\n        }\r\n        else {\r\n            zoneBeforeModelPosition = this._context.model.validateModelPosition({\r\n                lineNumber: zoneAfterModelPosition.lineNumber,\r\n                column: zoneAfterModelPosition.column + 1\r\n            });\r\n        }\r\n        var viewPosition = this._context.model.coordinatesConverter.convertModelPositionToViewPosition(zoneAfterModelPosition);\r\n        var isVisible = this._context.model.coordinatesConverter.modelPositionIsVisible(zoneBeforeModelPosition);\r\n        return {\r\n            afterViewLineNumber: viewPosition.lineNumber,\r\n            heightInPx: (isVisible ? this._heightInPixels(zone) : 0),\r\n            minWidthInPx: this._minWidthInPixels(zone)\r\n        };\r\n    };\r\n    ViewZones.prototype.changeViewZones = function (callback) {\r\n        var _this = this;\r\n        return this._context.viewLayout.changeWhitespace(function (whitespaceAccessor) {\r\n            var zonesHaveChanged = false;\r\n            var changeAccessor = {\r\n                addZone: function (zone) {\r\n                    zonesHaveChanged = true;\r\n                    return _this._addZone(whitespaceAccessor, zone);\r\n                },\r\n                removeZone: function (id) {\r\n                    if (!id) {\r\n                        return;\r\n                    }\r\n                    zonesHaveChanged = _this._removeZone(whitespaceAccessor, id) || zonesHaveChanged;\r\n                },\r\n                layoutZone: function (id) {\r\n                    if (!id) {\r\n                        return;\r\n                    }\r\n                    zonesHaveChanged = _this._layoutZone(whitespaceAccessor, id) || zonesHaveChanged;\r\n                }\r\n            };\r\n            safeInvoke1Arg(callback, changeAccessor);\r\n            // Invalidate changeAccessor\r\n            changeAccessor.addZone = invalidFunc;\r\n            changeAccessor.removeZone = invalidFunc;\r\n            changeAccessor.layoutZone = invalidFunc;\r\n            return zonesHaveChanged;\r\n        });\r\n    };\r\n    ViewZones.prototype._addZone = function (whitespaceAccessor, zone) {\r\n        var props = this._computeWhitespaceProps(zone);\r\n        var whitespaceId = whitespaceAccessor.insertWhitespace(props.afterViewLineNumber, this._getZoneOrdinal(zone), props.heightInPx, props.minWidthInPx);\r\n        var myZone = {\r\n            whitespaceId: whitespaceId,\r\n            delegate: zone,\r\n            isVisible: false,\r\n            domNode: createFastDomNode(zone.domNode),\r\n            marginDomNode: zone.marginDomNode ? createFastDomNode(zone.marginDomNode) : null\r\n        };\r\n        this._safeCallOnComputedHeight(myZone.delegate, props.heightInPx);\r\n        myZone.domNode.setPosition('absolute');\r\n        myZone.domNode.domNode.style.width = '100%';\r\n        myZone.domNode.setDisplay('none');\r\n        myZone.domNode.setAttribute('monaco-view-zone', myZone.whitespaceId);\r\n        this.domNode.appendChild(myZone.domNode);\r\n        if (myZone.marginDomNode) {\r\n            myZone.marginDomNode.setPosition('absolute');\r\n            myZone.marginDomNode.domNode.style.width = '100%';\r\n            myZone.marginDomNode.setDisplay('none');\r\n            myZone.marginDomNode.setAttribute('monaco-view-zone', myZone.whitespaceId);\r\n            this.marginDomNode.appendChild(myZone.marginDomNode);\r\n        }\r\n        this._zones[myZone.whitespaceId] = myZone;\r\n        this.setShouldRender();\r\n        return myZone.whitespaceId;\r\n    };\r\n    ViewZones.prototype._removeZone = function (whitespaceAccessor, id) {\r\n        if (this._zones.hasOwnProperty(id)) {\r\n            var zone = this._zones[id];\r\n            delete this._zones[id];\r\n            whitespaceAccessor.removeWhitespace(zone.whitespaceId);\r\n            zone.domNode.removeAttribute('monaco-visible-view-zone');\r\n            zone.domNode.removeAttribute('monaco-view-zone');\r\n            zone.domNode.domNode.parentNode.removeChild(zone.domNode.domNode);\r\n            if (zone.marginDomNode) {\r\n                zone.marginDomNode.removeAttribute('monaco-visible-view-zone');\r\n                zone.marginDomNode.removeAttribute('monaco-view-zone');\r\n                zone.marginDomNode.domNode.parentNode.removeChild(zone.marginDomNode.domNode);\r\n            }\r\n            this.setShouldRender();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ViewZones.prototype._layoutZone = function (whitespaceAccessor, id) {\r\n        if (this._zones.hasOwnProperty(id)) {\r\n            var zone = this._zones[id];\r\n            var props = this._computeWhitespaceProps(zone.delegate);\r\n            // const newOrdinal = this._getZoneOrdinal(zone.delegate);\r\n            whitespaceAccessor.changeOneWhitespace(zone.whitespaceId, props.afterViewLineNumber, props.heightInPx);\r\n            // TODO@Alex: change `newOrdinal` too\r\n            this._safeCallOnComputedHeight(zone.delegate, props.heightInPx);\r\n            this.setShouldRender();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ViewZones.prototype.shouldSuppressMouseDownOnViewZone = function (id) {\r\n        if (this._zones.hasOwnProperty(id)) {\r\n            var zone = this._zones[id];\r\n            return Boolean(zone.delegate.suppressMouseDown);\r\n        }\r\n        return false;\r\n    };\r\n    ViewZones.prototype._heightInPixels = function (zone) {\r\n        if (typeof zone.heightInPx === 'number') {\r\n            return zone.heightInPx;\r\n        }\r\n        if (typeof zone.heightInLines === 'number') {\r\n            return this._lineHeight * zone.heightInLines;\r\n        }\r\n        return this._lineHeight;\r\n    };\r\n    ViewZones.prototype._minWidthInPixels = function (zone) {\r\n        if (typeof zone.minWidthInPx === 'number') {\r\n            return zone.minWidthInPx;\r\n        }\r\n        return 0;\r\n    };\r\n    ViewZones.prototype._safeCallOnComputedHeight = function (zone, height) {\r\n        if (typeof zone.onComputedHeight === 'function') {\r\n            try {\r\n                zone.onComputedHeight(height);\r\n            }\r\n            catch (e) {\r\n                onUnexpectedError(e);\r\n            }\r\n        }\r\n    };\r\n    ViewZones.prototype._safeCallOnDomNodeTop = function (zone, top) {\r\n        if (typeof zone.onDomNodeTop === 'function') {\r\n            try {\r\n                zone.onDomNodeTop(top);\r\n            }\r\n            catch (e) {\r\n                onUnexpectedError(e);\r\n            }\r\n        }\r\n    };\r\n    ViewZones.prototype.prepareRender = function (ctx) {\r\n        // Nothing to read\r\n    };\r\n    ViewZones.prototype.render = function (ctx) {\r\n        var visibleWhitespaces = ctx.viewportData.whitespaceViewportData;\r\n        var visibleZones = {};\r\n        var hasVisibleZone = false;\r\n        for (var i = 0, len = visibleWhitespaces.length; i < len; i++) {\r\n            visibleZones[visibleWhitespaces[i].id] = visibleWhitespaces[i];\r\n            hasVisibleZone = true;\r\n        }\r\n        var keys = Object.keys(this._zones);\r\n        for (var i = 0, len = keys.length; i < len; i++) {\r\n            var id = keys[i];\r\n            var zone = this._zones[id];\r\n            var newTop = 0;\r\n            var newHeight = 0;\r\n            var newDisplay = 'none';\r\n            if (visibleZones.hasOwnProperty(id)) {\r\n                newTop = visibleZones[id].verticalOffset - ctx.bigNumbersDelta;\r\n                newHeight = visibleZones[id].height;\r\n                newDisplay = 'block';\r\n                // zone is visible\r\n                if (!zone.isVisible) {\r\n                    zone.domNode.setAttribute('monaco-visible-view-zone', 'true');\r\n                    zone.isVisible = true;\r\n                }\r\n                this._safeCallOnDomNodeTop(zone.delegate, ctx.getScrolledTopFromAbsoluteTop(visibleZones[id].verticalOffset));\r\n            }\r\n            else {\r\n                if (zone.isVisible) {\r\n                    zone.domNode.removeAttribute('monaco-visible-view-zone');\r\n                    zone.isVisible = false;\r\n                }\r\n                this._safeCallOnDomNodeTop(zone.delegate, ctx.getScrolledTopFromAbsoluteTop(-1000000));\r\n            }\r\n            zone.domNode.setTop(newTop);\r\n            zone.domNode.setHeight(newHeight);\r\n            zone.domNode.setDisplay(newDisplay);\r\n            if (zone.marginDomNode) {\r\n                zone.marginDomNode.setTop(newTop);\r\n                zone.marginDomNode.setHeight(newHeight);\r\n                zone.marginDomNode.setDisplay(newDisplay);\r\n            }\r\n        }\r\n        if (hasVisibleZone) {\r\n            this.domNode.setWidth(Math.max(ctx.scrollWidth, this._contentWidth));\r\n            this.marginDomNode.setWidth(this._contentLeft);\r\n        }\r\n    };\r\n    return ViewZones;\r\n}(ViewPart));\r\nexport { ViewZones };\r\nfunction safeInvoke1Arg(func, arg1) {\r\n    try {\r\n        return func(arg1);\r\n    }\r\n    catch (e) {\r\n        onUnexpectedError(e);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}