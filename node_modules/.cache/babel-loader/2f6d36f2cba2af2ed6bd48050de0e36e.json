{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as browser from '../../../base/browser/browser.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\nimport { ElementSizeObserver } from './elementSizeObserver.js';\nimport { CommonEditorConfiguration } from '../../common/config/commonEditorConfig.js';\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\nimport { FontInfo } from '../../common/config/fontInfo.js';\nvar CSSBasedConfigurationCache = /** @class */function () {\n  function CSSBasedConfigurationCache() {\n    this._keys = Object.create(null);\n    this._values = Object.create(null);\n  }\n  CSSBasedConfigurationCache.prototype.has = function (item) {\n    var itemId = item.getId();\n    return !!this._values[itemId];\n  };\n  CSSBasedConfigurationCache.prototype.get = function (item) {\n    var itemId = item.getId();\n    return this._values[itemId];\n  };\n  CSSBasedConfigurationCache.prototype.put = function (item, value) {\n    var itemId = item.getId();\n    this._keys[itemId] = item;\n    this._values[itemId] = value;\n  };\n  CSSBasedConfigurationCache.prototype.remove = function (item) {\n    var itemId = item.getId();\n    delete this._keys[itemId];\n    delete this._values[itemId];\n  };\n  CSSBasedConfigurationCache.prototype.getValues = function () {\n    var _this = this;\n    return Object.keys(this._keys).map(function (id) {\n      return _this._values[id];\n    });\n  };\n  return CSSBasedConfigurationCache;\n}();\nexport function clearAllFontInfos() {\n  CSSBasedConfiguration.INSTANCE.clearCache();\n}\nvar CSSBasedConfiguration = /** @class */function (_super) {\n  __extends(CSSBasedConfiguration, _super);\n  function CSSBasedConfiguration() {\n    var _this = _super.call(this) || this;\n    _this._onDidChange = _this._register(new Emitter());\n    _this.onDidChange = _this._onDidChange.event;\n    _this._cache = new CSSBasedConfigurationCache();\n    _this._evictUntrustedReadingsTimeout = -1;\n    return _this;\n  }\n  CSSBasedConfiguration.prototype.dispose = function () {\n    if (this._evictUntrustedReadingsTimeout !== -1) {\n      clearTimeout(this._evictUntrustedReadingsTimeout);\n      this._evictUntrustedReadingsTimeout = -1;\n    }\n    _super.prototype.dispose.call(this);\n  };\n  CSSBasedConfiguration.prototype.clearCache = function () {\n    this._cache = new CSSBasedConfigurationCache();\n    this._onDidChange.fire();\n  };\n  CSSBasedConfiguration.prototype._writeToCache = function (item, value) {\n    var _this = this;\n    this._cache.put(item, value);\n    if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\n      // Try reading again after some time\n      this._evictUntrustedReadingsTimeout = setTimeout(function () {\n        _this._evictUntrustedReadingsTimeout = -1;\n        _this._evictUntrustedReadings();\n      }, 5000);\n    }\n  };\n  CSSBasedConfiguration.prototype._evictUntrustedReadings = function () {\n    var values = this._cache.getValues();\n    var somethingRemoved = false;\n    for (var i = 0, len = values.length; i < len; i++) {\n      var item = values[i];\n      if (!item.isTrusted) {\n        somethingRemoved = true;\n        this._cache.remove(item);\n      }\n    }\n    if (somethingRemoved) {\n      this._onDidChange.fire();\n    }\n  };\n  CSSBasedConfiguration.prototype.readConfiguration = function (bareFontInfo) {\n    if (!this._cache.has(bareFontInfo)) {\n      var readConfig = CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);\n      if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\n        // Hey, it's Bug 14341 ... we couldn't read\n        readConfig = new FontInfo({\n          zoomLevel: browser.getZoomLevel(),\n          fontFamily: readConfig.fontFamily,\n          fontWeight: readConfig.fontWeight,\n          fontSize: readConfig.fontSize,\n          fontFeatureSettings: readConfig.fontFeatureSettings,\n          lineHeight: readConfig.lineHeight,\n          letterSpacing: readConfig.letterSpacing,\n          isMonospace: readConfig.isMonospace,\n          typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\n          typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\n          canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\n          spaceWidth: Math.max(readConfig.spaceWidth, 5),\n          middotWidth: Math.max(readConfig.middotWidth, 5),\n          maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5)\n        }, false);\n      }\n      this._writeToCache(bareFontInfo, readConfig);\n    }\n    return this._cache.get(bareFontInfo);\n  };\n  CSSBasedConfiguration.createRequest = function (chr, type, all, monospace) {\n    var result = new CharWidthRequest(chr, type);\n    all.push(result);\n    if (monospace) {\n      monospace.push(result);\n    }\n    return result;\n  };\n  CSSBasedConfiguration._actualReadConfiguration = function (bareFontInfo) {\n    var all = [];\n    var monospace = [];\n    var typicalHalfwidthCharacter = this.createRequest('n', 0 /* Regular */, all, monospace);\n    var typicalFullwidthCharacter = this.createRequest(\"\\uFF4D\", 0 /* Regular */, all, null);\n    var space = this.createRequest(' ', 0 /* Regular */, all, monospace);\n    var digit0 = this.createRequest('0', 0 /* Regular */, all, monospace);\n    var digit1 = this.createRequest('1', 0 /* Regular */, all, monospace);\n    var digit2 = this.createRequest('2', 0 /* Regular */, all, monospace);\n    var digit3 = this.createRequest('3', 0 /* Regular */, all, monospace);\n    var digit4 = this.createRequest('4', 0 /* Regular */, all, monospace);\n    var digit5 = this.createRequest('5', 0 /* Regular */, all, monospace);\n    var digit6 = this.createRequest('6', 0 /* Regular */, all, monospace);\n    var digit7 = this.createRequest('7', 0 /* Regular */, all, monospace);\n    var digit8 = this.createRequest('8', 0 /* Regular */, all, monospace);\n    var digit9 = this.createRequest('9', 0 /* Regular */, all, monospace);\n    // monospace test: used for whitespace rendering\n    var rightwardsArrow = this.createRequest('→', 0 /* Regular */, all, monospace);\n    var halfwidthRightwardsArrow = this.createRequest('￫', 0 /* Regular */, all, null);\n    // middle dot character\n    var middot = this.createRequest('·', 0 /* Regular */, all, monospace);\n    // monospace test: some characters\n    this.createRequest('|', 0 /* Regular */, all, monospace);\n    this.createRequest('/', 0 /* Regular */, all, monospace);\n    this.createRequest('-', 0 /* Regular */, all, monospace);\n    this.createRequest('_', 0 /* Regular */, all, monospace);\n    this.createRequest('i', 0 /* Regular */, all, monospace);\n    this.createRequest('l', 0 /* Regular */, all, monospace);\n    this.createRequest('m', 0 /* Regular */, all, monospace);\n    // monospace italic test\n    this.createRequest('|', 1 /* Italic */, all, monospace);\n    this.createRequest('_', 1 /* Italic */, all, monospace);\n    this.createRequest('i', 1 /* Italic */, all, monospace);\n    this.createRequest('l', 1 /* Italic */, all, monospace);\n    this.createRequest('m', 1 /* Italic */, all, monospace);\n    this.createRequest('n', 1 /* Italic */, all, monospace);\n    // monospace bold test\n    this.createRequest('|', 2 /* Bold */, all, monospace);\n    this.createRequest('_', 2 /* Bold */, all, monospace);\n    this.createRequest('i', 2 /* Bold */, all, monospace);\n    this.createRequest('l', 2 /* Bold */, all, monospace);\n    this.createRequest('m', 2 /* Bold */, all, monospace);\n    this.createRequest('n', 2 /* Bold */, all, monospace);\n    readCharWidths(bareFontInfo, all);\n    var maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\n    var isMonospace = bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF;\n    var referenceWidth = monospace[0].width;\n    for (var i = 1, len = monospace.length; isMonospace && i < len; i++) {\n      var diff = referenceWidth - monospace[i].width;\n      if (diff < -0.001 || diff > 0.001) {\n        isMonospace = false;\n        break;\n      }\n    }\n    var canUseHalfwidthRightwardsArrow = true;\n    if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\n      // using a halfwidth rightwards arrow would break monospace...\n      canUseHalfwidthRightwardsArrow = false;\n    }\n    if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\n      // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\n      canUseHalfwidthRightwardsArrow = false;\n    }\n    // let's trust the zoom level only 2s after it was changed.\n    var canTrustBrowserZoomLevel = browser.getTimeSinceLastZoomLevelChanged() > 2000;\n    return new FontInfo({\n      zoomLevel: browser.getZoomLevel(),\n      fontFamily: bareFontInfo.fontFamily,\n      fontWeight: bareFontInfo.fontWeight,\n      fontSize: bareFontInfo.fontSize,\n      fontFeatureSettings: bareFontInfo.fontFeatureSettings,\n      lineHeight: bareFontInfo.lineHeight,\n      letterSpacing: bareFontInfo.letterSpacing,\n      isMonospace: isMonospace,\n      typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\n      typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\n      canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\n      spaceWidth: space.width,\n      middotWidth: middot.width,\n      maxDigitWidth: maxDigitWidth\n    }, canTrustBrowserZoomLevel);\n  };\n  CSSBasedConfiguration.INSTANCE = new CSSBasedConfiguration();\n  return CSSBasedConfiguration;\n}(Disposable);\nvar Configuration = /** @class */function (_super) {\n  __extends(Configuration, _super);\n  function Configuration(isSimpleWidget, options, referenceDomElement, accessibilityService) {\n    if (referenceDomElement === void 0) {\n      referenceDomElement = null;\n    }\n    var _this = _super.call(this, isSimpleWidget, options) || this;\n    _this.accessibilityService = accessibilityService;\n    _this._elementSizeObserver = _this._register(new ElementSizeObserver(referenceDomElement, options.dimension, function () {\n      return _this._onReferenceDomElementSizeChanged();\n    }));\n    _this._register(CSSBasedConfiguration.INSTANCE.onDidChange(function () {\n      return _this._onCSSBasedConfigurationChanged();\n    }));\n    if (_this._validatedOptions.get(9 /* automaticLayout */)) {\n      _this._elementSizeObserver.startObserving();\n    }\n    _this._register(browser.onDidChangeZoomLevel(function (_) {\n      return _this._recomputeOptions();\n    }));\n    _this._register(_this.accessibilityService.onDidChangeScreenReaderOptimized(function () {\n      return _this._recomputeOptions();\n    }));\n    _this._recomputeOptions();\n    return _this;\n  }\n  Configuration.applyFontInfoSlow = function (domNode, fontInfo) {\n    domNode.style.fontFamily = fontInfo.getMassagedFontFamily();\n    domNode.style.fontWeight = fontInfo.fontWeight;\n    domNode.style.fontSize = fontInfo.fontSize + 'px';\n    domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n    domNode.style.lineHeight = fontInfo.lineHeight + 'px';\n    domNode.style.letterSpacing = fontInfo.letterSpacing + 'px';\n  };\n  Configuration.applyFontInfo = function (domNode, fontInfo) {\n    domNode.setFontFamily(fontInfo.getMassagedFontFamily());\n    domNode.setFontWeight(fontInfo.fontWeight);\n    domNode.setFontSize(fontInfo.fontSize);\n    domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings);\n    domNode.setLineHeight(fontInfo.lineHeight);\n    domNode.setLetterSpacing(fontInfo.letterSpacing);\n  };\n  Configuration.prototype._onReferenceDomElementSizeChanged = function () {\n    this._recomputeOptions();\n  };\n  Configuration.prototype._onCSSBasedConfigurationChanged = function () {\n    this._recomputeOptions();\n  };\n  Configuration.prototype.observeReferenceElement = function (dimension) {\n    this._elementSizeObserver.observe(dimension);\n  };\n  Configuration.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n  };\n  Configuration.prototype._getExtraEditorClassName = function () {\n    var extra = '';\n    if (!browser.isSafari && !browser.isWebkitWebView) {\n      // Use user-select: none in all browsers except Safari and native macOS WebView\n      extra += 'no-user-select ';\n    }\n    if (platform.isMacintosh) {\n      extra += 'mac ';\n    }\n    return extra;\n  };\n  Configuration.prototype._getEnvConfiguration = function () {\n    return {\n      extraEditorClassName: this._getExtraEditorClassName(),\n      outerWidth: this._elementSizeObserver.getWidth(),\n      outerHeight: this._elementSizeObserver.getHeight(),\n      emptySelectionClipboard: browser.isWebKit || browser.isFirefox,\n      pixelRatio: browser.getPixelRatio(),\n      zoomLevel: browser.getZoomLevel(),\n      accessibilitySupport: this.accessibilityService.isScreenReaderOptimized() ? 2 /* Enabled */ : this.accessibilityService.getAccessibilitySupport()\n    };\n  };\n  Configuration.prototype.readConfiguration = function (bareFontInfo) {\n    return CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo);\n  };\n  return Configuration;\n}(CommonEditorConfiguration);\nexport { Configuration };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","browser","Emitter","Disposable","platform","CharWidthRequest","readCharWidths","ElementSizeObserver","CommonEditorConfiguration","EditorFontLigatures","FontInfo","CSSBasedConfigurationCache","_keys","_values","has","item","itemId","getId","get","put","value","remove","getValues","_this","keys","map","id","clearAllFontInfos","CSSBasedConfiguration","INSTANCE","clearCache","_super","call","_onDidChange","_register","onDidChange","event","_cache","_evictUntrustedReadingsTimeout","dispose","clearTimeout","fire","_writeToCache","isTrusted","setTimeout","_evictUntrustedReadings","values","somethingRemoved","i","len","length","readConfiguration","bareFontInfo","readConfig","_actualReadConfiguration","typicalHalfwidthCharacterWidth","typicalFullwidthCharacterWidth","spaceWidth","maxDigitWidth","zoomLevel","getZoomLevel","fontFamily","fontWeight","fontSize","fontFeatureSettings","lineHeight","letterSpacing","isMonospace","Math","max","canUseHalfwidthRightwardsArrow","middotWidth","createRequest","chr","type","all","monospace","result","push","typicalHalfwidthCharacter","typicalFullwidthCharacter","space","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","rightwardsArrow","halfwidthRightwardsArrow","middot","width","OFF","referenceWidth","diff","canTrustBrowserZoomLevel","getTimeSinceLastZoomLevelChanged","Configuration","isSimpleWidget","options","referenceDomElement","accessibilityService","_elementSizeObserver","dimension","_onReferenceDomElementSizeChanged","_onCSSBasedConfigurationChanged","_validatedOptions","startObserving","onDidChangeZoomLevel","_","_recomputeOptions","onDidChangeScreenReaderOptimized","applyFontInfoSlow","domNode","fontInfo","style","getMassagedFontFamily","applyFontInfo","setFontFamily","setFontWeight","setFontSize","setFontFeatureSettings","setLineHeight","setLetterSpacing","observeReferenceElement","observe","_getExtraEditorClassName","extra","isSafari","isWebkitWebView","isMacintosh","_getEnvConfiguration","extraEditorClassName","outerWidth","getWidth","outerHeight","getHeight","emptySelectionClipboard","isWebKit","isFirefox","pixelRatio","getPixelRatio","accessibilitySupport","isScreenReaderOptimized","getAccessibilitySupport"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/browser/config/configuration.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as browser from '../../../base/browser/browser.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport * as platform from '../../../base/common/platform.js';\r\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\r\nimport { ElementSizeObserver } from './elementSizeObserver.js';\r\nimport { CommonEditorConfiguration } from '../../common/config/commonEditorConfig.js';\r\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\r\nimport { FontInfo } from '../../common/config/fontInfo.js';\r\nvar CSSBasedConfigurationCache = /** @class */ (function () {\r\n    function CSSBasedConfigurationCache() {\r\n        this._keys = Object.create(null);\r\n        this._values = Object.create(null);\r\n    }\r\n    CSSBasedConfigurationCache.prototype.has = function (item) {\r\n        var itemId = item.getId();\r\n        return !!this._values[itemId];\r\n    };\r\n    CSSBasedConfigurationCache.prototype.get = function (item) {\r\n        var itemId = item.getId();\r\n        return this._values[itemId];\r\n    };\r\n    CSSBasedConfigurationCache.prototype.put = function (item, value) {\r\n        var itemId = item.getId();\r\n        this._keys[itemId] = item;\r\n        this._values[itemId] = value;\r\n    };\r\n    CSSBasedConfigurationCache.prototype.remove = function (item) {\r\n        var itemId = item.getId();\r\n        delete this._keys[itemId];\r\n        delete this._values[itemId];\r\n    };\r\n    CSSBasedConfigurationCache.prototype.getValues = function () {\r\n        var _this = this;\r\n        return Object.keys(this._keys).map(function (id) { return _this._values[id]; });\r\n    };\r\n    return CSSBasedConfigurationCache;\r\n}());\r\nexport function clearAllFontInfos() {\r\n    CSSBasedConfiguration.INSTANCE.clearCache();\r\n}\r\nvar CSSBasedConfiguration = /** @class */ (function (_super) {\r\n    __extends(CSSBasedConfiguration, _super);\r\n    function CSSBasedConfiguration() {\r\n        var _this = _super.call(this) || this;\r\n        _this._onDidChange = _this._register(new Emitter());\r\n        _this.onDidChange = _this._onDidChange.event;\r\n        _this._cache = new CSSBasedConfigurationCache();\r\n        _this._evictUntrustedReadingsTimeout = -1;\r\n        return _this;\r\n    }\r\n    CSSBasedConfiguration.prototype.dispose = function () {\r\n        if (this._evictUntrustedReadingsTimeout !== -1) {\r\n            clearTimeout(this._evictUntrustedReadingsTimeout);\r\n            this._evictUntrustedReadingsTimeout = -1;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    CSSBasedConfiguration.prototype.clearCache = function () {\r\n        this._cache = new CSSBasedConfigurationCache();\r\n        this._onDidChange.fire();\r\n    };\r\n    CSSBasedConfiguration.prototype._writeToCache = function (item, value) {\r\n        var _this = this;\r\n        this._cache.put(item, value);\r\n        if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\r\n            // Try reading again after some time\r\n            this._evictUntrustedReadingsTimeout = setTimeout(function () {\r\n                _this._evictUntrustedReadingsTimeout = -1;\r\n                _this._evictUntrustedReadings();\r\n            }, 5000);\r\n        }\r\n    };\r\n    CSSBasedConfiguration.prototype._evictUntrustedReadings = function () {\r\n        var values = this._cache.getValues();\r\n        var somethingRemoved = false;\r\n        for (var i = 0, len = values.length; i < len; i++) {\r\n            var item = values[i];\r\n            if (!item.isTrusted) {\r\n                somethingRemoved = true;\r\n                this._cache.remove(item);\r\n            }\r\n        }\r\n        if (somethingRemoved) {\r\n            this._onDidChange.fire();\r\n        }\r\n    };\r\n    CSSBasedConfiguration.prototype.readConfiguration = function (bareFontInfo) {\r\n        if (!this._cache.has(bareFontInfo)) {\r\n            var readConfig = CSSBasedConfiguration._actualReadConfiguration(bareFontInfo);\r\n            if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\r\n                // Hey, it's Bug 14341 ... we couldn't read\r\n                readConfig = new FontInfo({\r\n                    zoomLevel: browser.getZoomLevel(),\r\n                    fontFamily: readConfig.fontFamily,\r\n                    fontWeight: readConfig.fontWeight,\r\n                    fontSize: readConfig.fontSize,\r\n                    fontFeatureSettings: readConfig.fontFeatureSettings,\r\n                    lineHeight: readConfig.lineHeight,\r\n                    letterSpacing: readConfig.letterSpacing,\r\n                    isMonospace: readConfig.isMonospace,\r\n                    typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\r\n                    typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\r\n                    canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\r\n                    spaceWidth: Math.max(readConfig.spaceWidth, 5),\r\n                    middotWidth: Math.max(readConfig.middotWidth, 5),\r\n                    maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5),\r\n                }, false);\r\n            }\r\n            this._writeToCache(bareFontInfo, readConfig);\r\n        }\r\n        return this._cache.get(bareFontInfo);\r\n    };\r\n    CSSBasedConfiguration.createRequest = function (chr, type, all, monospace) {\r\n        var result = new CharWidthRequest(chr, type);\r\n        all.push(result);\r\n        if (monospace) {\r\n            monospace.push(result);\r\n        }\r\n        return result;\r\n    };\r\n    CSSBasedConfiguration._actualReadConfiguration = function (bareFontInfo) {\r\n        var all = [];\r\n        var monospace = [];\r\n        var typicalHalfwidthCharacter = this.createRequest('n', 0 /* Regular */, all, monospace);\r\n        var typicalFullwidthCharacter = this.createRequest('\\uff4d', 0 /* Regular */, all, null);\r\n        var space = this.createRequest(' ', 0 /* Regular */, all, monospace);\r\n        var digit0 = this.createRequest('0', 0 /* Regular */, all, monospace);\r\n        var digit1 = this.createRequest('1', 0 /* Regular */, all, monospace);\r\n        var digit2 = this.createRequest('2', 0 /* Regular */, all, monospace);\r\n        var digit3 = this.createRequest('3', 0 /* Regular */, all, monospace);\r\n        var digit4 = this.createRequest('4', 0 /* Regular */, all, monospace);\r\n        var digit5 = this.createRequest('5', 0 /* Regular */, all, monospace);\r\n        var digit6 = this.createRequest('6', 0 /* Regular */, all, monospace);\r\n        var digit7 = this.createRequest('7', 0 /* Regular */, all, monospace);\r\n        var digit8 = this.createRequest('8', 0 /* Regular */, all, monospace);\r\n        var digit9 = this.createRequest('9', 0 /* Regular */, all, monospace);\r\n        // monospace test: used for whitespace rendering\r\n        var rightwardsArrow = this.createRequest('→', 0 /* Regular */, all, monospace);\r\n        var halfwidthRightwardsArrow = this.createRequest('￫', 0 /* Regular */, all, null);\r\n        // middle dot character\r\n        var middot = this.createRequest('·', 0 /* Regular */, all, monospace);\r\n        // monospace test: some characters\r\n        this.createRequest('|', 0 /* Regular */, all, monospace);\r\n        this.createRequest('/', 0 /* Regular */, all, monospace);\r\n        this.createRequest('-', 0 /* Regular */, all, monospace);\r\n        this.createRequest('_', 0 /* Regular */, all, monospace);\r\n        this.createRequest('i', 0 /* Regular */, all, monospace);\r\n        this.createRequest('l', 0 /* Regular */, all, monospace);\r\n        this.createRequest('m', 0 /* Regular */, all, monospace);\r\n        // monospace italic test\r\n        this.createRequest('|', 1 /* Italic */, all, monospace);\r\n        this.createRequest('_', 1 /* Italic */, all, monospace);\r\n        this.createRequest('i', 1 /* Italic */, all, monospace);\r\n        this.createRequest('l', 1 /* Italic */, all, monospace);\r\n        this.createRequest('m', 1 /* Italic */, all, monospace);\r\n        this.createRequest('n', 1 /* Italic */, all, monospace);\r\n        // monospace bold test\r\n        this.createRequest('|', 2 /* Bold */, all, monospace);\r\n        this.createRequest('_', 2 /* Bold */, all, monospace);\r\n        this.createRequest('i', 2 /* Bold */, all, monospace);\r\n        this.createRequest('l', 2 /* Bold */, all, monospace);\r\n        this.createRequest('m', 2 /* Bold */, all, monospace);\r\n        this.createRequest('n', 2 /* Bold */, all, monospace);\r\n        readCharWidths(bareFontInfo, all);\r\n        var maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\r\n        var isMonospace = (bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF);\r\n        var referenceWidth = monospace[0].width;\r\n        for (var i = 1, len = monospace.length; isMonospace && i < len; i++) {\r\n            var diff = referenceWidth - monospace[i].width;\r\n            if (diff < -0.001 || diff > 0.001) {\r\n                isMonospace = false;\r\n                break;\r\n            }\r\n        }\r\n        var canUseHalfwidthRightwardsArrow = true;\r\n        if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\r\n            // using a halfwidth rightwards arrow would break monospace...\r\n            canUseHalfwidthRightwardsArrow = false;\r\n        }\r\n        if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\r\n            // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\r\n            canUseHalfwidthRightwardsArrow = false;\r\n        }\r\n        // let's trust the zoom level only 2s after it was changed.\r\n        var canTrustBrowserZoomLevel = (browser.getTimeSinceLastZoomLevelChanged() > 2000);\r\n        return new FontInfo({\r\n            zoomLevel: browser.getZoomLevel(),\r\n            fontFamily: bareFontInfo.fontFamily,\r\n            fontWeight: bareFontInfo.fontWeight,\r\n            fontSize: bareFontInfo.fontSize,\r\n            fontFeatureSettings: bareFontInfo.fontFeatureSettings,\r\n            lineHeight: bareFontInfo.lineHeight,\r\n            letterSpacing: bareFontInfo.letterSpacing,\r\n            isMonospace: isMonospace,\r\n            typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\r\n            typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\r\n            canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\r\n            spaceWidth: space.width,\r\n            middotWidth: middot.width,\r\n            maxDigitWidth: maxDigitWidth\r\n        }, canTrustBrowserZoomLevel);\r\n    };\r\n    CSSBasedConfiguration.INSTANCE = new CSSBasedConfiguration();\r\n    return CSSBasedConfiguration;\r\n}(Disposable));\r\nvar Configuration = /** @class */ (function (_super) {\r\n    __extends(Configuration, _super);\r\n    function Configuration(isSimpleWidget, options, referenceDomElement, accessibilityService) {\r\n        if (referenceDomElement === void 0) { referenceDomElement = null; }\r\n        var _this = _super.call(this, isSimpleWidget, options) || this;\r\n        _this.accessibilityService = accessibilityService;\r\n        _this._elementSizeObserver = _this._register(new ElementSizeObserver(referenceDomElement, options.dimension, function () { return _this._onReferenceDomElementSizeChanged(); }));\r\n        _this._register(CSSBasedConfiguration.INSTANCE.onDidChange(function () { return _this._onCSSBasedConfigurationChanged(); }));\r\n        if (_this._validatedOptions.get(9 /* automaticLayout */)) {\r\n            _this._elementSizeObserver.startObserving();\r\n        }\r\n        _this._register(browser.onDidChangeZoomLevel(function (_) { return _this._recomputeOptions(); }));\r\n        _this._register(_this.accessibilityService.onDidChangeScreenReaderOptimized(function () { return _this._recomputeOptions(); }));\r\n        _this._recomputeOptions();\r\n        return _this;\r\n    }\r\n    Configuration.applyFontInfoSlow = function (domNode, fontInfo) {\r\n        domNode.style.fontFamily = fontInfo.getMassagedFontFamily();\r\n        domNode.style.fontWeight = fontInfo.fontWeight;\r\n        domNode.style.fontSize = fontInfo.fontSize + 'px';\r\n        domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\r\n        domNode.style.lineHeight = fontInfo.lineHeight + 'px';\r\n        domNode.style.letterSpacing = fontInfo.letterSpacing + 'px';\r\n    };\r\n    Configuration.applyFontInfo = function (domNode, fontInfo) {\r\n        domNode.setFontFamily(fontInfo.getMassagedFontFamily());\r\n        domNode.setFontWeight(fontInfo.fontWeight);\r\n        domNode.setFontSize(fontInfo.fontSize);\r\n        domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings);\r\n        domNode.setLineHeight(fontInfo.lineHeight);\r\n        domNode.setLetterSpacing(fontInfo.letterSpacing);\r\n    };\r\n    Configuration.prototype._onReferenceDomElementSizeChanged = function () {\r\n        this._recomputeOptions();\r\n    };\r\n    Configuration.prototype._onCSSBasedConfigurationChanged = function () {\r\n        this._recomputeOptions();\r\n    };\r\n    Configuration.prototype.observeReferenceElement = function (dimension) {\r\n        this._elementSizeObserver.observe(dimension);\r\n    };\r\n    Configuration.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    Configuration.prototype._getExtraEditorClassName = function () {\r\n        var extra = '';\r\n        if (!browser.isSafari && !browser.isWebkitWebView) {\r\n            // Use user-select: none in all browsers except Safari and native macOS WebView\r\n            extra += 'no-user-select ';\r\n        }\r\n        if (platform.isMacintosh) {\r\n            extra += 'mac ';\r\n        }\r\n        return extra;\r\n    };\r\n    Configuration.prototype._getEnvConfiguration = function () {\r\n        return {\r\n            extraEditorClassName: this._getExtraEditorClassName(),\r\n            outerWidth: this._elementSizeObserver.getWidth(),\r\n            outerHeight: this._elementSizeObserver.getHeight(),\r\n            emptySelectionClipboard: browser.isWebKit || browser.isFirefox,\r\n            pixelRatio: browser.getPixelRatio(),\r\n            zoomLevel: browser.getZoomLevel(),\r\n            accessibilitySupport: (this.accessibilityService.isScreenReaderOptimized()\r\n                ? 2 /* Enabled */\r\n                : this.accessibilityService.getAccessibilitySupport())\r\n        };\r\n    };\r\n    Configuration.prototype.readConfiguration = function (bareFontInfo) {\r\n        return CSSBasedConfiguration.INSTANCE.readConfiguration(bareFontInfo);\r\n    };\r\n    return Configuration;\r\n}(CommonEditorConfiguration));\r\nexport { Configuration };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}