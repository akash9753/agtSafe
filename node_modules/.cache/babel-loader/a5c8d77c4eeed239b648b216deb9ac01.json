{"ast":null,"code":"import { Map } from 'immutable';\nimport actions from './actions';\nimport { getToken } from '../../helpers/utility';\nvar initState = new Map({\n  idToken: null,\n  permissions: []\n});\nexport default function authReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState.merge(getToken());\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case actions.LOGIN_SUCCESS:\n      return state.set('idToken', action.token).set('permissions', action.permissions);\n    case actions.PERMISSION_REFRESH:\n      return state.set('idToken', sessionStorage.getItem(\"id_token\")).set('permissions', action.permissions);\n    case actions.LOGOUT:\n      return initState;\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["Map","actions","getToken","initState","idToken","permissions","authReducer","state","merge","action","type","LOGIN_SUCCESS","set","token","PERMISSION_REFRESH","sessionStorage","getItem","LOGOUT"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/src/redux/auth/reducer.js"],"sourcesContent":["import { Map } from 'immutable';\r\nimport actions from './actions';\r\nimport { getToken } from '../../helpers/utility';\r\n\r\nconst initState = new Map({\r\n    idToken: null,\r\n    permissions: []\r\n});\r\n\r\nexport default function authReducer(state = initState.merge(getToken()), action) {\r\n  switch (action.type) {\r\n    case actions.LOGIN_SUCCESS:\r\n      return state\r\n              .set('idToken', action.token)\r\n          .set('permissions', action.permissions);\r\n     case actions.PERMISSION_REFRESH:\r\n          return state\r\n            .set('idToken', sessionStorage.getItem(\"id_token\"))\r\n            .set('permissions', action.permissions);\r\n    case actions.LOGOUT:\r\n      return initState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,WAAW;AAC/B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,QAAQ,QAAQ,uBAAuB;AAEhD,IAAMC,SAAS,GAAG,IAAIH,GAAG,CAAC;EACtBI,OAAO,EAAE,IAAI;EACbC,WAAW,EAAE;AACjB,CAAC,CAAC;AAEF,eAAe,SAASC,WAAW,GAA8C;EAAA,IAA7CC,KAAK,uEAAGJ,SAAS,CAACK,KAAK,CAACN,QAAQ,EAAE,CAAC;EAAA,IAAEO,MAAM;EAC7E,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKT,OAAO,CAACU,aAAa;MACxB,OAAOJ,KAAK,CACHK,GAAG,CAAC,SAAS,EAAEH,MAAM,CAACI,KAAK,CAAC,CAChCD,GAAG,CAAC,aAAa,EAAEH,MAAM,CAACJ,WAAW,CAAC;IAC5C,KAAKJ,OAAO,CAACa,kBAAkB;MAC1B,OAAOP,KAAK,CACTK,GAAG,CAAC,SAAS,EAAEG,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAClDJ,GAAG,CAAC,aAAa,EAAEH,MAAM,CAACJ,WAAW,CAAC;IAC/C,KAAKJ,OAAO,CAACgB,MAAM;MACjB,OAAOd,SAAS;IAClB;MACE,OAAOI,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module"}