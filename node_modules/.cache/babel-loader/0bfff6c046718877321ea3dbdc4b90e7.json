{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { LRUCache, TernarySearchTree } from '../../../base/common/map.js';\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\nimport { completionKindFromString } from '../../common/modes.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nvar Memory = /** @class */function () {\n  function Memory() {}\n  Memory.prototype.select = function (model, pos, items) {\n    if (items.length === 0) {\n      return 0;\n    }\n    var topScore = items[0].score[0];\n    for (var i = 1; i < items.length; i++) {\n      var _a = items[i],\n        score = _a.score,\n        suggestion = _a.completion;\n      if (score[0] !== topScore) {\n        // stop when leaving the group of top matches\n        break;\n      }\n      if (suggestion.preselect) {\n        // stop when seeing an auto-select-item\n        return i;\n      }\n    }\n    return 0;\n  };\n  return Memory;\n}();\nexport { Memory };\nvar NoMemory = /** @class */function (_super) {\n  __extends(NoMemory, _super);\n  function NoMemory() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  NoMemory.prototype.memorize = function (model, pos, item) {\n    // no-op\n  };\n  NoMemory.prototype.toJSON = function () {\n    return undefined;\n  };\n  NoMemory.prototype.fromJSON = function () {\n    //\n  };\n  return NoMemory;\n}(Memory);\nexport { NoMemory };\nvar LRUMemory = /** @class */function (_super) {\n  __extends(LRUMemory, _super);\n  function LRUMemory() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._cache = new LRUCache(300, 0.66);\n    _this._seq = 0;\n    return _this;\n  }\n  LRUMemory.prototype.memorize = function (model, pos, item) {\n    var label = item.completion.label;\n    var key = model.getLanguageIdentifier().language + \"/\" + label;\n    this._cache.set(key, {\n      touch: this._seq++,\n      type: item.completion.kind,\n      insertText: item.completion.insertText\n    });\n  };\n  LRUMemory.prototype.select = function (model, pos, items) {\n    if (items.length === 0) {\n      return 0;\n    }\n    var lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\n    if (/\\s$/.test(lineSuffix)) {\n      return _super.prototype.select.call(this, model, pos, items);\n    }\n    var topScore = items[0].score[0];\n    var indexPreselect = -1;\n    var indexRecency = -1;\n    var seq = -1;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].score[0] !== topScore) {\n        // consider only top items\n        break;\n      }\n      var key = model.getLanguageIdentifier().language + \"/\" + items[i].completion.label;\n      var item = this._cache.peek(key);\n      if (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\n        seq = item.touch;\n        indexRecency = i;\n      }\n      if (items[i].completion.preselect && indexPreselect === -1) {\n        // stop when seeing an auto-select-item\n        return indexPreselect = i;\n      }\n    }\n    if (indexRecency !== -1) {\n      return indexRecency;\n    } else if (indexPreselect !== -1) {\n      return indexPreselect;\n    } else {\n      return 0;\n    }\n  };\n  LRUMemory.prototype.toJSON = function () {\n    var data = [];\n    this._cache.forEach(function (value, key) {\n      data.push([key, value]);\n    });\n    return data;\n  };\n  LRUMemory.prototype.fromJSON = function (data) {\n    this._cache.clear();\n    var seq = 0;\n    for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n      var _a = data_1[_i],\n        key = _a[0],\n        value = _a[1];\n      value.touch = seq;\n      value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\n      this._cache.set(key, value);\n    }\n    this._seq = this._cache.size;\n  };\n  return LRUMemory;\n}(Memory);\nexport { LRUMemory };\nvar PrefixMemory = /** @class */function (_super) {\n  __extends(PrefixMemory, _super);\n  function PrefixMemory() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._trie = TernarySearchTree.forStrings();\n    _this._seq = 0;\n    return _this;\n  }\n  PrefixMemory.prototype.memorize = function (model, pos, item) {\n    var word = model.getWordUntilPosition(pos).word;\n    var key = model.getLanguageIdentifier().language + \"/\" + word;\n    this._trie.set(key, {\n      type: item.completion.kind,\n      insertText: item.completion.insertText,\n      touch: this._seq++\n    });\n  };\n  PrefixMemory.prototype.select = function (model, pos, items) {\n    var word = model.getWordUntilPosition(pos).word;\n    if (!word) {\n      return _super.prototype.select.call(this, model, pos, items);\n    }\n    var key = model.getLanguageIdentifier().language + \"/\" + word;\n    var item = this._trie.get(key);\n    if (!item) {\n      item = this._trie.findSubstr(key);\n    }\n    if (item) {\n      for (var i = 0; i < items.length; i++) {\n        var _a = items[i].completion,\n          kind = _a.kind,\n          insertText = _a.insertText;\n        if (kind === item.type && insertText === item.insertText) {\n          return i;\n        }\n      }\n    }\n    return _super.prototype.select.call(this, model, pos, items);\n  };\n  PrefixMemory.prototype.toJSON = function () {\n    var entries = [];\n    this._trie.forEach(function (value, key) {\n      return entries.push([key, value]);\n    });\n    // sort by last recently used (touch), then\n    // take the top 200 item and normalize their\n    // touch\n    entries.sort(function (a, b) {\n      return -(a[1].touch - b[1].touch);\n    }).forEach(function (value, i) {\n      return value[1].touch = i;\n    });\n    return entries.slice(0, 200);\n  };\n  PrefixMemory.prototype.fromJSON = function (data) {\n    this._trie.clear();\n    if (data.length > 0) {\n      this._seq = data[0][1].touch + 1;\n      for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\n        var _a = data_2[_i],\n          key = _a[0],\n          value = _a[1];\n        value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\n        this._trie.set(key, value);\n      }\n    }\n  };\n  return PrefixMemory;\n}(Memory);\nexport { PrefixMemory };\nvar SuggestMemoryService = /** @class */function (_super) {\n  __extends(SuggestMemoryService, _super);\n  function SuggestMemoryService(_storageService, _configService) {\n    var _this = _super.call(this) || this;\n    _this._storageService = _storageService;\n    _this._configService = _configService;\n    _this._storagePrefix = 'suggest/memories';\n    var update = function update() {\n      var mode = _this._configService.getValue('editor.suggestSelection');\n      var share = _this._configService.getValue('editor.suggest.shareSuggestSelections');\n      _this._update(mode, share, false);\n    };\n    _this._persistSoon = _this._register(new RunOnceScheduler(function () {\n      return _this._saveState();\n    }, 500));\n    _this._register(_storageService.onWillSaveState(function (e) {\n      if (e.reason === WillSaveStateReason.SHUTDOWN) {\n        _this._saveState();\n      }\n    }));\n    _this._register(_this._configService.onDidChangeConfiguration(function (e) {\n      if (e.affectsConfiguration('editor.suggestSelection') || e.affectsConfiguration('editor.suggest.shareSuggestSelections')) {\n        update();\n      }\n    }));\n    _this._register(_this._storageService.onDidChangeStorage(function (e) {\n      if (e.scope === 0 /* GLOBAL */ && e.key.indexOf(_this._storagePrefix) === 0) {\n        if (!document.hasFocus()) {\n          // windows that aren't focused have to drop their current\n          // storage value and accept what's stored now\n          _this._update(_this._mode, _this._shareMem, true);\n        }\n      }\n    }));\n    update();\n    return _this;\n  }\n  SuggestMemoryService.prototype._update = function (mode, shareMem, force) {\n    if (!force && this._mode === mode && this._shareMem === shareMem) {\n      return;\n    }\n    this._shareMem = shareMem;\n    this._mode = mode;\n    this._strategy = mode === 'recentlyUsedByPrefix' ? new PrefixMemory() : mode === 'recentlyUsed' ? new LRUMemory() : new NoMemory();\n    try {\n      var scope = shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\n      var raw = this._storageService.get(this._storagePrefix + \"/\" + this._mode, scope);\n      if (raw) {\n        this._strategy.fromJSON(JSON.parse(raw));\n      }\n    } catch (e) {\n      // things can go wrong with JSON...\n    }\n  };\n  SuggestMemoryService.prototype.memorize = function (model, pos, item) {\n    this._strategy.memorize(model, pos, item);\n    this._persistSoon.schedule();\n  };\n  SuggestMemoryService.prototype.select = function (model, pos, items) {\n    return this._strategy.select(model, pos, items);\n  };\n  SuggestMemoryService.prototype._saveState = function () {\n    var raw = JSON.stringify(this._strategy);\n    var scope = this._shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\n    this._storageService.store(this._storagePrefix + \"/\" + this._mode, raw, scope);\n  };\n  SuggestMemoryService = __decorate([__param(0, IStorageService), __param(1, IConfigurationService)], SuggestMemoryService);\n  return SuggestMemoryService;\n}(Disposable);\nexport { SuggestMemoryService };\nexport var ISuggestMemoryService = createDecorator('ISuggestMemories');\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, true);","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","LRUCache","TernarySearchTree","IStorageService","WillSaveStateReason","completionKindFromString","Disposable","RunOnceScheduler","createDecorator","IConfigurationService","registerSingleton","Memory","select","model","pos","items","topScore","score","_a","suggestion","completion","preselect","NoMemory","_super","apply","memorize","item","toJSON","undefined","fromJSON","LRUMemory","_this","_cache","_seq","label","getLanguageIdentifier","language","set","touch","type","kind","insertText","lineSuffix","getLineContent","lineNumber","substr","column","test","call","indexPreselect","indexRecency","seq","peek","data","forEach","value","push","clear","_i","data_1","size","PrefixMemory","_trie","forStrings","word","getWordUntilPosition","get","findSubstr","entries","sort","a","slice","data_2","SuggestMemoryService","_storageService","_configService","_storagePrefix","update","mode","getValue","share","_update","_persistSoon","_register","_saveState","onWillSaveState","e","reason","SHUTDOWN","onDidChangeConfiguration","affectsConfiguration","onDidChangeStorage","scope","indexOf","document","hasFocus","_mode","_shareMem","shareMem","force","_strategy","raw","JSON","parse","schedule","stringify","store","ISuggestMemoryService"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/suggestMemory.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { LRUCache, TernarySearchTree } from '../../../base/common/map.js';\r\nimport { IStorageService, WillSaveStateReason } from '../../../platform/storage/common/storage.js';\r\nimport { completionKindFromString } from '../../common/modes.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\r\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\r\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\r\nvar Memory = /** @class */ (function () {\r\n    function Memory() {\r\n    }\r\n    Memory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var topScore = items[0].score[0];\r\n        for (var i = 1; i < items.length; i++) {\r\n            var _a = items[i], score = _a.score, suggestion = _a.completion;\r\n            if (score[0] !== topScore) {\r\n                // stop when leaving the group of top matches\r\n                break;\r\n            }\r\n            if (suggestion.preselect) {\r\n                // stop when seeing an auto-select-item\r\n                return i;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    return Memory;\r\n}());\r\nexport { Memory };\r\nvar NoMemory = /** @class */ (function (_super) {\r\n    __extends(NoMemory, _super);\r\n    function NoMemory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    NoMemory.prototype.memorize = function (model, pos, item) {\r\n        // no-op\r\n    };\r\n    NoMemory.prototype.toJSON = function () {\r\n        return undefined;\r\n    };\r\n    NoMemory.prototype.fromJSON = function () {\r\n        //\r\n    };\r\n    return NoMemory;\r\n}(Memory));\r\nexport { NoMemory };\r\nvar LRUMemory = /** @class */ (function (_super) {\r\n    __extends(LRUMemory, _super);\r\n    function LRUMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._cache = new LRUCache(300, 0.66);\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    LRUMemory.prototype.memorize = function (model, pos, item) {\r\n        var label = item.completion.label;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + label;\r\n        this._cache.set(key, {\r\n            touch: this._seq++,\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText\r\n        });\r\n    };\r\n    LRUMemory.prototype.select = function (model, pos, items) {\r\n        if (items.length === 0) {\r\n            return 0;\r\n        }\r\n        var lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\r\n        if (/\\s$/.test(lineSuffix)) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var topScore = items[0].score[0];\r\n        var indexPreselect = -1;\r\n        var indexRecency = -1;\r\n        var seq = -1;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i].score[0] !== topScore) {\r\n                // consider only top items\r\n                break;\r\n            }\r\n            var key = model.getLanguageIdentifier().language + \"/\" + items[i].completion.label;\r\n            var item = this._cache.peek(key);\r\n            if (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\r\n                seq = item.touch;\r\n                indexRecency = i;\r\n            }\r\n            if (items[i].completion.preselect && indexPreselect === -1) {\r\n                // stop when seeing an auto-select-item\r\n                return indexPreselect = i;\r\n            }\r\n        }\r\n        if (indexRecency !== -1) {\r\n            return indexRecency;\r\n        }\r\n        else if (indexPreselect !== -1) {\r\n            return indexPreselect;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    };\r\n    LRUMemory.prototype.toJSON = function () {\r\n        var data = [];\r\n        this._cache.forEach(function (value, key) {\r\n            data.push([key, value]);\r\n        });\r\n        return data;\r\n    };\r\n    LRUMemory.prototype.fromJSON = function (data) {\r\n        this._cache.clear();\r\n        var seq = 0;\r\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n            var _a = data_1[_i], key = _a[0], value = _a[1];\r\n            value.touch = seq;\r\n            value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n            this._cache.set(key, value);\r\n        }\r\n        this._seq = this._cache.size;\r\n    };\r\n    return LRUMemory;\r\n}(Memory));\r\nexport { LRUMemory };\r\nvar PrefixMemory = /** @class */ (function (_super) {\r\n    __extends(PrefixMemory, _super);\r\n    function PrefixMemory() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._trie = TernarySearchTree.forStrings();\r\n        _this._seq = 0;\r\n        return _this;\r\n    }\r\n    PrefixMemory.prototype.memorize = function (model, pos, item) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        this._trie.set(key, {\r\n            type: item.completion.kind,\r\n            insertText: item.completion.insertText,\r\n            touch: this._seq++\r\n        });\r\n    };\r\n    PrefixMemory.prototype.select = function (model, pos, items) {\r\n        var word = model.getWordUntilPosition(pos).word;\r\n        if (!word) {\r\n            return _super.prototype.select.call(this, model, pos, items);\r\n        }\r\n        var key = model.getLanguageIdentifier().language + \"/\" + word;\r\n        var item = this._trie.get(key);\r\n        if (!item) {\r\n            item = this._trie.findSubstr(key);\r\n        }\r\n        if (item) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var _a = items[i].completion, kind = _a.kind, insertText = _a.insertText;\r\n                if (kind === item.type && insertText === item.insertText) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return _super.prototype.select.call(this, model, pos, items);\r\n    };\r\n    PrefixMemory.prototype.toJSON = function () {\r\n        var entries = [];\r\n        this._trie.forEach(function (value, key) { return entries.push([key, value]); });\r\n        // sort by last recently used (touch), then\r\n        // take the top 200 item and normalize their\r\n        // touch\r\n        entries\r\n            .sort(function (a, b) { return -(a[1].touch - b[1].touch); })\r\n            .forEach(function (value, i) { return value[1].touch = i; });\r\n        return entries.slice(0, 200);\r\n    };\r\n    PrefixMemory.prototype.fromJSON = function (data) {\r\n        this._trie.clear();\r\n        if (data.length > 0) {\r\n            this._seq = data[0][1].touch + 1;\r\n            for (var _i = 0, data_2 = data; _i < data_2.length; _i++) {\r\n                var _a = data_2[_i], key = _a[0], value = _a[1];\r\n                value.type = typeof value.type === 'number' ? value.type : completionKindFromString(value.type);\r\n                this._trie.set(key, value);\r\n            }\r\n        }\r\n    };\r\n    return PrefixMemory;\r\n}(Memory));\r\nexport { PrefixMemory };\r\nvar SuggestMemoryService = /** @class */ (function (_super) {\r\n    __extends(SuggestMemoryService, _super);\r\n    function SuggestMemoryService(_storageService, _configService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._storageService = _storageService;\r\n        _this._configService = _configService;\r\n        _this._storagePrefix = 'suggest/memories';\r\n        var update = function () {\r\n            var mode = _this._configService.getValue('editor.suggestSelection');\r\n            var share = _this._configService.getValue('editor.suggest.shareSuggestSelections');\r\n            _this._update(mode, share, false);\r\n        };\r\n        _this._persistSoon = _this._register(new RunOnceScheduler(function () { return _this._saveState(); }, 500));\r\n        _this._register(_storageService.onWillSaveState(function (e) {\r\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\r\n                _this._saveState();\r\n            }\r\n        }));\r\n        _this._register(_this._configService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration('editor.suggestSelection') || e.affectsConfiguration('editor.suggest.shareSuggestSelections')) {\r\n                update();\r\n            }\r\n        }));\r\n        _this._register(_this._storageService.onDidChangeStorage(function (e) {\r\n            if (e.scope === 0 /* GLOBAL */ && e.key.indexOf(_this._storagePrefix) === 0) {\r\n                if (!document.hasFocus()) {\r\n                    // windows that aren't focused have to drop their current\r\n                    // storage value and accept what's stored now\r\n                    _this._update(_this._mode, _this._shareMem, true);\r\n                }\r\n            }\r\n        }));\r\n        update();\r\n        return _this;\r\n    }\r\n    SuggestMemoryService.prototype._update = function (mode, shareMem, force) {\r\n        if (!force && this._mode === mode && this._shareMem === shareMem) {\r\n            return;\r\n        }\r\n        this._shareMem = shareMem;\r\n        this._mode = mode;\r\n        this._strategy = mode === 'recentlyUsedByPrefix' ? new PrefixMemory() : mode === 'recentlyUsed' ? new LRUMemory() : new NoMemory();\r\n        try {\r\n            var scope = shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n            var raw = this._storageService.get(this._storagePrefix + \"/\" + this._mode, scope);\r\n            if (raw) {\r\n                this._strategy.fromJSON(JSON.parse(raw));\r\n            }\r\n        }\r\n        catch (e) {\r\n            // things can go wrong with JSON...\r\n        }\r\n    };\r\n    SuggestMemoryService.prototype.memorize = function (model, pos, item) {\r\n        this._strategy.memorize(model, pos, item);\r\n        this._persistSoon.schedule();\r\n    };\r\n    SuggestMemoryService.prototype.select = function (model, pos, items) {\r\n        return this._strategy.select(model, pos, items);\r\n    };\r\n    SuggestMemoryService.prototype._saveState = function () {\r\n        var raw = JSON.stringify(this._strategy);\r\n        var scope = this._shareMem ? 0 /* GLOBAL */ : 1 /* WORKSPACE */;\r\n        this._storageService.store(this._storagePrefix + \"/\" + this._mode, raw, scope);\r\n    };\r\n    SuggestMemoryService = __decorate([\r\n        __param(0, IStorageService),\r\n        __param(1, IConfigurationService)\r\n    ], SuggestMemoryService);\r\n    return SuggestMemoryService;\r\n}(Disposable));\r\nexport { SuggestMemoryService };\r\nexport var ISuggestMemoryService = createDecorator('ISuggestMemories');\r\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, true);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}