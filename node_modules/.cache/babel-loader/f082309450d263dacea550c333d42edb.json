{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { mergeSort } from '../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\nimport { IModelService } from '../../common/services/modelService.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nvar CodeLensModel = /** @class */function () {\n  function CodeLensModel() {\n    this.lenses = [];\n    this._disposables = new DisposableStore();\n  }\n  CodeLensModel.prototype.dispose = function () {\n    this._disposables.dispose();\n  };\n  CodeLensModel.prototype.add = function (list, provider) {\n    this._disposables.add(list);\n    for (var _i = 0, _a = list.lenses; _i < _a.length; _i++) {\n      var symbol = _a[_i];\n      this.lenses.push({\n        symbol: symbol,\n        provider: provider\n      });\n    }\n  };\n  return CodeLensModel;\n}();\nexport { CodeLensModel };\nexport function getCodeLensData(model, token) {\n  var provider = CodeLensProviderRegistry.ordered(model);\n  var providerRanks = new Map();\n  var result = new CodeLensModel();\n  var promises = provider.map(function (provider, i) {\n    providerRanks.set(provider, i);\n    return Promise.resolve(provider.provideCodeLenses(model, token)).then(function (list) {\n      return list && result.add(list, provider);\n    }).catch(onUnexpectedExternalError);\n  });\n  return Promise.all(promises).then(function () {\n    result.lenses = mergeSort(result.lenses, function (a, b) {\n      // sort by lineNumber, provider-rank, and column\n      if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\n        return -1;\n      } else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\n        return 1;\n      } else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) {\n        return -1;\n      } else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) {\n        return 1;\n      } else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\n        return -1;\n      } else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    return result;\n  });\n}\nregisterLanguageCommand('_executeCodeLensProvider', function (accessor, args) {\n  var resource = args.resource,\n    itemResolveCount = args.itemResolveCount;\n  if (!(resource instanceof URI)) {\n    throw illegalArgument();\n  }\n  var model = accessor.get(IModelService).getModel(resource);\n  if (!model) {\n    throw illegalArgument();\n  }\n  var result = [];\n  var disposables = new DisposableStore();\n  return getCodeLensData(model, CancellationToken.None).then(function (value) {\n    disposables.add(value);\n    var resolve = [];\n    var _loop_1 = function _loop_1(item) {\n      if (typeof itemResolveCount === 'undefined' || Boolean(item.symbol.command)) {\n        result.push(item.symbol);\n      } else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\n        resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(function (symbol) {\n          return result.push(symbol || item.symbol);\n        }));\n      }\n    };\n    for (var _i = 0, _a = value.lenses; _i < _a.length; _i++) {\n      var item = _a[_i];\n      _loop_1(item);\n    }\n    return Promise.all(resolve);\n  }).then(function () {\n    return result;\n  }).finally(function () {\n    // make sure to return results, then (on next tick)\n    // dispose the results\n    setTimeout(function () {\n      return disposables.dispose();\n    }, 100);\n  });\n});","map":{"version":3,"names":["mergeSort","CancellationToken","illegalArgument","onUnexpectedExternalError","URI","registerLanguageCommand","CodeLensProviderRegistry","IModelService","DisposableStore","CodeLensModel","lenses","_disposables","prototype","dispose","add","list","provider","_i","_a","length","symbol","push","getCodeLensData","model","token","ordered","providerRanks","Map","result","promises","map","i","set","Promise","resolve","provideCodeLenses","then","catch","all","a","b","range","startLineNumber","get","startColumn","accessor","args","resource","itemResolveCount","getModel","disposables","None","value","_loop_1","item","Boolean","command","resolveCodeLens","finally","setTimeout"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/codelens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { mergeSort } from '../../../base/common/arrays.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { illegalArgument, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { URI } from '../../../base/common/uri.js';\r\nimport { registerLanguageCommand } from '../../browser/editorExtensions.js';\r\nimport { CodeLensProviderRegistry } from '../../common/modes.js';\r\nimport { IModelService } from '../../common/services/modelService.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nvar CodeLensModel = /** @class */ (function () {\r\n    function CodeLensModel() {\r\n        this.lenses = [];\r\n        this._disposables = new DisposableStore();\r\n    }\r\n    CodeLensModel.prototype.dispose = function () {\r\n        this._disposables.dispose();\r\n    };\r\n    CodeLensModel.prototype.add = function (list, provider) {\r\n        this._disposables.add(list);\r\n        for (var _i = 0, _a = list.lenses; _i < _a.length; _i++) {\r\n            var symbol = _a[_i];\r\n            this.lenses.push({ symbol: symbol, provider: provider });\r\n        }\r\n    };\r\n    return CodeLensModel;\r\n}());\r\nexport { CodeLensModel };\r\nexport function getCodeLensData(model, token) {\r\n    var provider = CodeLensProviderRegistry.ordered(model);\r\n    var providerRanks = new Map();\r\n    var result = new CodeLensModel();\r\n    var promises = provider.map(function (provider, i) {\r\n        providerRanks.set(provider, i);\r\n        return Promise.resolve(provider.provideCodeLenses(model, token))\r\n            .then(function (list) { return list && result.add(list, provider); })\r\n            .catch(onUnexpectedExternalError);\r\n    });\r\n    return Promise.all(promises).then(function () {\r\n        result.lenses = mergeSort(result.lenses, function (a, b) {\r\n            // sort by lineNumber, provider-rank, and column\r\n            if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\r\n                return 1;\r\n            }\r\n            else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) {\r\n                return -1;\r\n            }\r\n            else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) {\r\n                return 1;\r\n            }\r\n            else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\r\n                return -1;\r\n            }\r\n            else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        return result;\r\n    });\r\n}\r\nregisterLanguageCommand('_executeCodeLensProvider', function (accessor, args) {\r\n    var resource = args.resource, itemResolveCount = args.itemResolveCount;\r\n    if (!(resource instanceof URI)) {\r\n        throw illegalArgument();\r\n    }\r\n    var model = accessor.get(IModelService).getModel(resource);\r\n    if (!model) {\r\n        throw illegalArgument();\r\n    }\r\n    var result = [];\r\n    var disposables = new DisposableStore();\r\n    return getCodeLensData(model, CancellationToken.None).then(function (value) {\r\n        disposables.add(value);\r\n        var resolve = [];\r\n        var _loop_1 = function (item) {\r\n            if (typeof itemResolveCount === 'undefined' || Boolean(item.symbol.command)) {\r\n                result.push(item.symbol);\r\n            }\r\n            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\r\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(function (symbol) { return result.push(symbol || item.symbol); }));\r\n            }\r\n        };\r\n        for (var _i = 0, _a = value.lenses; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            _loop_1(item);\r\n        }\r\n        return Promise.all(resolve);\r\n    }).then(function () {\r\n        return result;\r\n    }).finally(function () {\r\n        // make sure to return results, then (on next tick)\r\n        // dispose the results\r\n        setTimeout(function () { return disposables.dispose(); }, 100);\r\n    });\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}