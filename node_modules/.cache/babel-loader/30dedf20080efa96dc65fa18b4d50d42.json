{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { withUndefinedAsNull } from '../../../base/common/types.js';\nimport { keys } from '../../../base/common/map.js';\nvar TokenizationRegistryImpl = /** @class */function () {\n  function TokenizationRegistryImpl() {\n    this._map = new Map();\n    this._promises = new Map();\n    this._onDidChange = new Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._colorMap = null;\n  }\n  TokenizationRegistryImpl.prototype.fire = function (languages) {\n    this._onDidChange.fire({\n      changedLanguages: languages,\n      changedColorMap: false\n    });\n  };\n  TokenizationRegistryImpl.prototype.register = function (language, support) {\n    var _this = this;\n    this._map.set(language, support);\n    this.fire([language]);\n    return toDisposable(function () {\n      if (_this._map.get(language) !== support) {\n        return;\n      }\n      _this._map.delete(language);\n      _this.fire([language]);\n    });\n  };\n  TokenizationRegistryImpl.prototype.registerPromise = function (language, supportPromise) {\n    var _this = this;\n    var registration = null;\n    var isDisposed = false;\n    this._promises.set(language, supportPromise.then(function (support) {\n      _this._promises.delete(language);\n      if (isDisposed || !support) {\n        return;\n      }\n      registration = _this.register(language, support);\n    }));\n    return toDisposable(function () {\n      isDisposed = true;\n      if (registration) {\n        registration.dispose();\n      }\n    });\n  };\n  TokenizationRegistryImpl.prototype.getPromise = function (language) {\n    var _this = this;\n    var support = this.get(language);\n    if (support) {\n      return Promise.resolve(support);\n    }\n    var promise = this._promises.get(language);\n    if (promise) {\n      return promise.then(function (_) {\n        return _this.get(language);\n      });\n    }\n    return null;\n  };\n  TokenizationRegistryImpl.prototype.get = function (language) {\n    return withUndefinedAsNull(this._map.get(language));\n  };\n  TokenizationRegistryImpl.prototype.setColorMap = function (colorMap) {\n    this._colorMap = colorMap;\n    this._onDidChange.fire({\n      changedLanguages: keys(this._map),\n      changedColorMap: true\n    });\n  };\n  TokenizationRegistryImpl.prototype.getColorMap = function () {\n    return this._colorMap;\n  };\n  TokenizationRegistryImpl.prototype.getDefaultBackground = function () {\n    if (this._colorMap && this._colorMap.length > 2 /* DefaultBackground */) {\n      return this._colorMap[2 /* DefaultBackground */];\n    }\n\n    return null;\n  };\n  return TokenizationRegistryImpl;\n}();\nexport { TokenizationRegistryImpl };","map":{"version":3,"names":["Emitter","toDisposable","withUndefinedAsNull","keys","TokenizationRegistryImpl","_map","Map","_promises","_onDidChange","onDidChange","event","_colorMap","prototype","fire","languages","changedLanguages","changedColorMap","register","language","support","_this","set","get","delete","registerPromise","supportPromise","registration","isDisposed","then","dispose","getPromise","Promise","resolve","promise","_","setColorMap","colorMap","getColorMap","getDefaultBackground","length"],"sources":["C:/Users/akash/Desktop/agat project/CLientapp/node_modules/monaco-editor/esm/vs/editor/common/modes/tokenizationRegistry.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nimport { withUndefinedAsNull } from '../../../base/common/types.js';\r\nimport { keys } from '../../../base/common/map.js';\r\nvar TokenizationRegistryImpl = /** @class */ (function () {\r\n    function TokenizationRegistryImpl() {\r\n        this._map = new Map();\r\n        this._promises = new Map();\r\n        this._onDidChange = new Emitter();\r\n        this.onDidChange = this._onDidChange.event;\r\n        this._colorMap = null;\r\n    }\r\n    TokenizationRegistryImpl.prototype.fire = function (languages) {\r\n        this._onDidChange.fire({\r\n            changedLanguages: languages,\r\n            changedColorMap: false\r\n        });\r\n    };\r\n    TokenizationRegistryImpl.prototype.register = function (language, support) {\r\n        var _this = this;\r\n        this._map.set(language, support);\r\n        this.fire([language]);\r\n        return toDisposable(function () {\r\n            if (_this._map.get(language) !== support) {\r\n                return;\r\n            }\r\n            _this._map.delete(language);\r\n            _this.fire([language]);\r\n        });\r\n    };\r\n    TokenizationRegistryImpl.prototype.registerPromise = function (language, supportPromise) {\r\n        var _this = this;\r\n        var registration = null;\r\n        var isDisposed = false;\r\n        this._promises.set(language, supportPromise.then(function (support) {\r\n            _this._promises.delete(language);\r\n            if (isDisposed || !support) {\r\n                return;\r\n            }\r\n            registration = _this.register(language, support);\r\n        }));\r\n        return toDisposable(function () {\r\n            isDisposed = true;\r\n            if (registration) {\r\n                registration.dispose();\r\n            }\r\n        });\r\n    };\r\n    TokenizationRegistryImpl.prototype.getPromise = function (language) {\r\n        var _this = this;\r\n        var support = this.get(language);\r\n        if (support) {\r\n            return Promise.resolve(support);\r\n        }\r\n        var promise = this._promises.get(language);\r\n        if (promise) {\r\n            return promise.then(function (_) { return _this.get(language); });\r\n        }\r\n        return null;\r\n    };\r\n    TokenizationRegistryImpl.prototype.get = function (language) {\r\n        return withUndefinedAsNull(this._map.get(language));\r\n    };\r\n    TokenizationRegistryImpl.prototype.setColorMap = function (colorMap) {\r\n        this._colorMap = colorMap;\r\n        this._onDidChange.fire({\r\n            changedLanguages: keys(this._map),\r\n            changedColorMap: true\r\n        });\r\n    };\r\n    TokenizationRegistryImpl.prototype.getColorMap = function () {\r\n        return this._colorMap;\r\n    };\r\n    TokenizationRegistryImpl.prototype.getDefaultBackground = function () {\r\n        if (this._colorMap && this._colorMap.length > 2 /* DefaultBackground */) {\r\n            return this._colorMap[2 /* DefaultBackground */];\r\n        }\r\n        return null;\r\n    };\r\n    return TokenizationRegistryImpl;\r\n}());\r\nexport { TokenizationRegistryImpl };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}